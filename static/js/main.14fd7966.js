/*! For license information please see main.14fd7966.js.LICENSE.txt */
!function(){var e={757:function(e,t,n){e.exports=n(727)},110:function(e,t,n){"use strict";var r=n(441),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},u={};function s(e){return r.isMemo(e)?o:u[e.$$typeof]||i}u[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},u[r.Memo]=o;var c=Object.defineProperty,l=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=d(n);i&&i!==p&&e(t,i,r)}var o=l(n);f&&(o=o.concat(f(n)));for(var u=s(t),v=s(n),y=0;y<o.length;++y){var m=o[y];if(!a[m]&&(!r||!r[m])&&(!v||!v[m])&&(!u||!u[m])){var g=h(n,m);try{c(t,m,g)}catch(k){}}}}return t}},151:function(e,t,n){var r=n(878);e.exports=d,e.exports.parse=a,e.exports.compile=function(e,t){return u(a(e,t),t)},e.exports.tokensToFunction=u,e.exports.tokensToRegExp=h;var i=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function a(e,t){for(var n,r=[],a=0,o=0,u="",l=t&&t.delimiter||"/";null!=(n=i.exec(e));){var f=n[0],h=n[1],d=n.index;if(u+=e.slice(o,d),o=d+f.length,h)u+=h[1];else{var p=e[o],v=n[2],y=n[3],m=n[4],g=n[5],k=n[6],b=n[7];u&&(r.push(u),u="");var w=null!=v&&null!=p&&p!==v,x="+"===k||"*"===k,S="?"===k||"*"===k,_=n[2]||l,E=m||g;r.push({name:y||a++,prefix:v||"",delimiter:_,optional:S,repeat:x,partial:w,asterisk:!!b,pattern:E?c(E):b?".*":"[^"+s(_)+"]+?"})}}return o<e.length&&(u+=e.substr(o)),u&&r.push(u),r}function o(e){return encodeURI(e).replace(/[\/?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}function u(e,t){for(var n=new Array(e.length),i=0;i<e.length;i++)"object"===typeof e[i]&&(n[i]=new RegExp("^(?:"+e[i].pattern+")$",f(t)));return function(t,i){for(var a="",u=t||{},s=(i||{}).pretty?o:encodeURIComponent,c=0;c<e.length;c++){var l=e[c];if("string"!==typeof l){var f,h=u[l.name];if(null==h){if(l.optional){l.partial&&(a+=l.prefix);continue}throw new TypeError('Expected "'+l.name+'" to be defined')}if(r(h)){if(!l.repeat)throw new TypeError('Expected "'+l.name+'" to not repeat, but received `'+JSON.stringify(h)+"`");if(0===h.length){if(l.optional)continue;throw new TypeError('Expected "'+l.name+'" to not be empty')}for(var d=0;d<h.length;d++){if(f=s(h[d]),!n[c].test(f))throw new TypeError('Expected all "'+l.name+'" to match "'+l.pattern+'", but received `'+JSON.stringify(f)+"`");a+=(0===d?l.prefix:l.delimiter)+f}}else{if(f=l.asterisk?encodeURI(h).replace(/[?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})):s(h),!n[c].test(f))throw new TypeError('Expected "'+l.name+'" to match "'+l.pattern+'", but received "'+f+'"');a+=l.prefix+f}}else a+=l}return a}}function s(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function c(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function l(e,t){return e.keys=t,e}function f(e){return e&&e.sensitive?"":"i"}function h(e,t,n){r(t)||(n=t||n,t=[]);for(var i=(n=n||{}).strict,a=!1!==n.end,o="",u=0;u<e.length;u++){var c=e[u];if("string"===typeof c)o+=s(c);else{var h=s(c.prefix),d="(?:"+c.pattern+")";t.push(c),c.repeat&&(d+="(?:"+h+d+")*"),o+=d=c.optional?c.partial?h+"("+d+")?":"(?:"+h+"("+d+"))?":h+"("+d+")"}}var p=s(n.delimiter||"/"),v=o.slice(-p.length)===p;return i||(o=(v?o.slice(0,-p.length):o)+"(?:"+p+"(?=$))?"),o+=a?"$":i&&v?"":"(?="+p+"|$)",l(new RegExp("^"+o,f(n)),t)}function d(e,t,n){return r(t)||(n=t||n,t=[]),n=n||{},e instanceof RegExp?function(e,t){var n=e.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)t.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return l(e,t)}(e,t):r(e)?function(e,t,n){for(var r=[],i=0;i<e.length;i++)r.push(d(e[i],t,n).source);return l(new RegExp("(?:"+r.join("|")+")",f(n)),t)}(e,t,n):function(e,t,n){return h(a(e,n),t,n)}(e,t,n)}},878:function(e){e.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},888:function(e,t,n){"use strict";var r=n(47);function i(){}function a(){}a.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,a,o){if(o!==r){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:i};return n.PropTypes=n,n}},7:function(e,t,n){e.exports=n(888)()},47:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},463:function(e,t,n){"use strict";var r=n(791),i=n(296);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,u={};function s(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(u[e]=t,e=0;e<t.length;e++)o.add(t[e])}var l=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),f=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},p={};function v(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var y={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){y[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];y[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){y[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){y[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){y[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){y[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){y[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){y[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){y[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var m=/[\-:]([a-z])/g;function g(e){return e[1].toUpperCase()}function k(e,t,n,r){var i=y.hasOwnProperty(t)?y[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!f.call(p,e)||!f.call(d,e)&&(h.test(e)?p[e]=!0:(d[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(m,g);y[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(m,g);y[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(m,g);y[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){y[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),y.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){y[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),x=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),_=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),I=Symbol.for("react.provider"),T=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),A=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),P=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var R=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var D=Symbol.iterator;function L(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=D&&e[D]||e["@@iterator"])?e:null}var M,F=Object.assign;function U(e){if(void 0===M)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);M=t&&t[1]||""}return"\n"+M+e}var j=!1;function V(e,t){if(!e||j)return"";j=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,u=a.length-1;1<=o&&0<=u&&i[o]!==a[u];)u--;for(;1<=o&&0<=u;o--,u--)if(i[o]!==a[u]){if(1!==o||1!==u)do{if(o--,0>--u||i[o]!==a[u]){var s="\n"+i[o].replace(" at new "," at ");return e.displayName&&s.includes("<anonymous>")&&(s=s.replace("<anonymous>",e.displayName)),s}}while(1<=o&&0<=u);break}}}finally{j=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?U(e):""}function B(e){switch(e.tag){case 5:return U(e.type);case 16:return U("Lazy");case 13:return U("Suspense");case 19:return U("SuspenseList");case 0:case 2:case 15:return e=V(e.type,!1);case 11:return e=V(e.type.render,!1);case 1:return e=V(e.type,!0);default:return""}}function z(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case S:return"Fragment";case x:return"Portal";case E:return"Profiler";case _:return"StrictMode";case N:return"Suspense";case A:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case T:return(e.displayName||"Context")+".Consumer";case I:return(e._context.displayName||"Context")+".Provider";case C:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case O:return null!==(t=e.displayName||null)?t:z(e.type)||"Memo";case P:t=e._payload,e=e._init;try{return z(e(t))}catch(n){}}return null}function q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return z(t);case 8:return t===_?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function G(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function K(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function H(e){e._valueTracker||(e._valueTracker=function(e){var t=K(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function W(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=K(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function $(e,t){var n=t.checked;return F({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Y(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=G(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function X(e,t){null!=(t=t.checked)&&k(e,"checked",t,!1)}function J(e,t){X(e,t);var n=G(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,G(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+G(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return F({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:G(n)}}function ae(e,t){var n=G(t.value),r=G(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ue(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function se(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ue(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,le,fe=(le=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return le(e,t)}))}:le);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var de={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ve(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||de.hasOwnProperty(e)&&de[e]?(""+t).trim():t+"px"}function ye(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ve(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(de).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),de[t]=de[e]}))}));var me=F({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ge(e,t){if(t){if(me[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function ke(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var xe=null,Se=null,_e=null;function Ee(e){if(e=ki(e)){if("function"!==typeof xe)throw Error(a(280));var t=e.stateNode;t&&(t=wi(t),xe(e.stateNode,e.type,t))}}function Ie(e){Se?_e?_e.push(e):_e=[e]:Se=e}function Te(){if(Se){var e=Se,t=_e;if(_e=Se=null,Ee(e),t)for(e=0;e<t.length;e++)Ee(t[e])}}function Ce(e,t){return e(t)}function Ne(){}var Ae=!1;function Oe(e,t,n){if(Ae)return e(t,n);Ae=!0;try{return Ce(e,t,n)}finally{Ae=!1,(null!==Se||null!==_e)&&(Ne(),Te())}}function Pe(e,t){var n=e.stateNode;if(null===n)return null;var r=wi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Re=!1;if(l)try{var De={};Object.defineProperty(De,"passive",{get:function(){Re=!0}}),window.addEventListener("test",De,De),window.removeEventListener("test",De,De)}catch(le){Re=!1}function Le(e,t,n,r,i,a,o,u,s){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var Me=!1,Fe=null,Ue=!1,je=null,Ve={onError:function(e){Me=!0,Fe=e}};function Be(e,t,n,r,i,a,o,u,s){Me=!1,Fe=null,Le.apply(Ve,arguments)}function ze(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ge(e){if(ze(e)!==e)throw Error(a(188))}function Ke(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=ze(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Ge(i),e;if(o===r)return Ge(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var u=!1,s=i.child;s;){if(s===n){u=!0,n=i,r=o;break}if(s===r){u=!0,r=i,n=o;break}s=s.sibling}if(!u){for(s=o.child;s;){if(s===n){u=!0,n=o,r=i;break}if(s===r){u=!0,r=o,n=i;break}s=s.sibling}if(!u)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?He(e):null}function He(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=He(e);if(null!==t)return t;e=e.sibling}return null}var We=i.unstable_scheduleCallback,Qe=i.unstable_cancelCallback,$e=i.unstable_shouldYield,Ye=i.unstable_requestPaint,Xe=i.unstable_now,Je=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,at=null;var ot=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(ut(e)/st|0)|0},ut=Math.log,st=Math.LN2;var ct=64,lt=4194304;function ft(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var u=o&~i;0!==u?r=ft(u):0!==(a&=o)&&(r=ft(a))}else 0!==(o=n&~i)?r=ft(o):0!==a&&(r=ft(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function dt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function vt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function yt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function mt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function gt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var kt=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,xt,St,_t,Et,It=!1,Tt=[],Ct=null,Nt=null,At=null,Ot=new Map,Pt=new Map,Rt=[],Dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lt(e,t){switch(e){case"focusin":case"focusout":Ct=null;break;case"dragenter":case"dragleave":Nt=null;break;case"mouseover":case"mouseout":At=null;break;case"pointerover":case"pointerout":Ot.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pt.delete(t.pointerId)}}function Mt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=ki(t))&&xt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Ft(e){var t=gi(e.target);if(null!==t){var n=ze(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=qe(n)))return e.blockedOn=t,void Et(e.priority,(function(){St(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ut(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=$t(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ki(n))&&xt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function jt(e,t,n){Ut(e)&&n.delete(t)}function Vt(){It=!1,null!==Ct&&Ut(Ct)&&(Ct=null),null!==Nt&&Ut(Nt)&&(Nt=null),null!==At&&Ut(At)&&(At=null),Ot.forEach(jt),Pt.forEach(jt)}function Bt(e,t){e.blockedOn===t&&(e.blockedOn=null,It||(It=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Vt)))}function zt(e){function t(t){return Bt(t,e)}if(0<Tt.length){Bt(Tt[0],e);for(var n=1;n<Tt.length;n++){var r=Tt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Ct&&Bt(Ct,e),null!==Nt&&Bt(Nt,e),null!==At&&Bt(At,e),Ot.forEach(t),Pt.forEach(t),n=0;n<Rt.length;n++)(r=Rt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Rt.length&&null===(n=Rt[0]).blockedOn;)Ft(n),null===n.blockedOn&&Rt.shift()}var qt=b.ReactCurrentBatchConfig,Gt=!0;function Kt(e,t,n,r){var i=kt,a=qt.transition;qt.transition=null;try{kt=1,Wt(e,t,n,r)}finally{kt=i,qt.transition=a}}function Ht(e,t,n,r){var i=kt,a=qt.transition;qt.transition=null;try{kt=4,Wt(e,t,n,r)}finally{kt=i,qt.transition=a}}function Wt(e,t,n,r){if(Gt){var i=$t(e,t,n,r);if(null===i)Gr(e,t,r,Qt,n),Lt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Ct=Mt(Ct,e,t,n,r,i),!0;case"dragenter":return Nt=Mt(Nt,e,t,n,r,i),!0;case"mouseover":return At=Mt(At,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return Ot.set(a,Mt(Ot.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Pt.set(a,Mt(Pt.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Lt(e,r),4&t&&-1<Dt.indexOf(e)){for(;null!==i;){var a=ki(i);if(null!==a&&wt(a),null===(a=$t(e,t,n,r))&&Gr(e,t,r,Qt,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else Gr(e,t,r,null,n)}}var Qt=null;function $t(e,t,n,r){if(Qt=null,null!==(e=gi(e=we(r))))if(null===(t=ze(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=qe(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qt=e,null}function Yt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Xt=null,Jt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Jt,r=n.length,i="value"in Xt?Xt.value:Xt.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return F(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,un,sn,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ln=an(cn),fn=F({},cn,{view:0,detail:0}),hn=an(fn),dn=F({},fn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:En,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==sn&&(sn&&"mousemove"===e.type?(on=e.screenX-sn.screenX,un=e.screenY-sn.screenY):un=on=0,sn=e),on)},movementY:function(e){return"movementY"in e?e.movementY:un}}),pn=an(dn),vn=an(F({},dn,{dataTransfer:0})),yn=an(F({},fn,{relatedTarget:0})),mn=an(F({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),gn=F({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),kn=an(gn),bn=an(F({},cn,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Sn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _n(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Sn[e])&&!!t[e]}function En(){return _n}var In=F({},fn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?xn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:En,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Tn=an(In),Cn=an(F({},dn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Nn=an(F({},fn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:En})),An=an(F({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),On=F({},dn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Pn=an(On),Rn=[9,13,27,32],Dn=l&&"CompositionEvent"in window,Ln=null;l&&"documentMode"in document&&(Ln=document.documentMode);var Mn=l&&"TextEvent"in window&&!Ln,Fn=l&&(!Dn||Ln&&8<Ln&&11>=Ln),Un=String.fromCharCode(32),jn=!1;function Vn(e,t){switch(e){case"keyup":return-1!==Rn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var zn=!1;var qn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!qn[e.type]:"textarea"===t}function Kn(e,t,n,r){Ie(r),0<(t=Hr(t,"onChange")).length&&(n=new ln("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Hn=null,Wn=null;function Qn(e){Ur(e,0)}function $n(e){if(W(bi(e)))return e}function Yn(e,t){if("change"===e)return t}var Xn=!1;if(l){var Jn;if(l){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Jn=Zn}else Jn=!1;Xn=Jn&&(!document.documentMode||9<document.documentMode)}function tr(){Hn&&(Hn.detachEvent("onpropertychange",nr),Wn=Hn=null)}function nr(e){if("value"===e.propertyName&&$n(Wn)){var t=[];Kn(t,Wn,e,we(e)),Oe(Qn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Wn=n,(Hn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return $n(Wn)}function ar(e,t){if("click"===e)return $n(t)}function or(e,t){if("input"===e||"change"===e)return $n(t)}var ur="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function sr(e,t){if(ur(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!f.call(t,i)||!ur(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function lr(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function fr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?fr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function dr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&fr(n.ownerDocument.documentElement,n)){if(null!==r&&dr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=lr(n,a);var o=lr(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var vr=l&&"documentMode"in document&&11>=document.documentMode,yr=null,mr=null,gr=null,kr=!1;function br(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;kr||null==yr||yr!==Q(r)||("selectionStart"in(r=yr)&&dr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},gr&&sr(gr,r)||(gr=r,0<(r=Hr(mr,"onSelect")).length&&(t=new ln("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=yr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var xr={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},Sr={},_r={};function Er(e){if(Sr[e])return Sr[e];if(!xr[e])return e;var t,n=xr[e];for(t in n)if(n.hasOwnProperty(t)&&t in _r)return Sr[e]=n[t];return e}l&&(_r=document.createElement("div").style,"AnimationEvent"in window||(delete xr.animationend.animation,delete xr.animationiteration.animation,delete xr.animationstart.animation),"TransitionEvent"in window||delete xr.transitionend.transition);var Ir=Er("animationend"),Tr=Er("animationiteration"),Cr=Er("animationstart"),Nr=Er("transitionend"),Ar=new Map,Or="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Pr(e,t){Ar.set(e,t),s(t,[e])}for(var Rr=0;Rr<Or.length;Rr++){var Dr=Or[Rr];Pr(Dr.toLowerCase(),"on"+(Dr[0].toUpperCase()+Dr.slice(1)))}Pr(Ir,"onAnimationEnd"),Pr(Tr,"onAnimationIteration"),Pr(Cr,"onAnimationStart"),Pr("dblclick","onDoubleClick"),Pr("focusin","onFocus"),Pr("focusout","onBlur"),Pr(Nr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Lr));function Fr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,u,s,c){if(Be.apply(this,arguments),Me){if(!Me)throw Error(a(198));var l=Fe;Me=!1,Fe=null,Ue||(Ue=!0,je=l)}}(r,t,void 0,e),e.currentTarget=null}function Ur(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var u=r[o],s=u.instance,c=u.currentTarget;if(u=u.listener,s!==a&&i.isPropagationStopped())break e;Fr(i,u,c),a=s}else for(o=0;o<r.length;o++){if(s=(u=r[o]).instance,c=u.currentTarget,u=u.listener,s!==a&&i.isPropagationStopped())break e;Fr(i,u,c),a=s}}}if(Ue)throw e=je,Ue=!1,je=null,e}function jr(e,t){var n=t[vi];void 0===n&&(n=t[vi]=new Set);var r=e+"__bubble";n.has(r)||(qr(t,e,2,!1),n.add(r))}function Vr(e,t,n){var r=0;t&&(r|=4),qr(n,e,r,t)}var Br="_reactListening"+Math.random().toString(36).slice(2);function zr(e){if(!e[Br]){e[Br]=!0,o.forEach((function(t){"selectionchange"!==t&&(Mr.has(t)||Vr(t,!1,e),Vr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Br]||(t[Br]=!0,Vr("selectionchange",!1,t))}}function qr(e,t,n,r){switch(Yt(t)){case 1:var i=Kt;break;case 4:i=Ht;break;default:i=Wt}n=i.bind(null,t,n,e),i=void 0,!Re||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Gr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var u=r.stateNode.containerInfo;if(u===i||8===u.nodeType&&u.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var s=o.tag;if((3===s||4===s)&&((s=o.stateNode.containerInfo)===i||8===s.nodeType&&s.parentNode===i))return;o=o.return}for(;null!==u;){if(null===(o=gi(u)))return;if(5===(s=o.tag)||6===s){r=a=o;continue e}u=u.parentNode}}r=r.return}Oe((function(){var r=a,i=we(n),o=[];e:{var u=Ar.get(e);if(void 0!==u){var s=ln,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":s=Tn;break;case"focusin":c="focus",s=yn;break;case"focusout":c="blur",s=yn;break;case"beforeblur":case"afterblur":s=yn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":s=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":s=vn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":s=Nn;break;case Ir:case Tr:case Cr:s=mn;break;case Nr:s=An;break;case"scroll":s=hn;break;case"wheel":s=Pn;break;case"copy":case"cut":case"paste":s=kn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":s=Cn}var l=0!==(4&t),f=!l&&"scroll"===e,h=l?null!==u?u+"Capture":null:u;l=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==h&&(null!=(v=Pe(p,h))&&l.push(Kr(p,v,d)))),f)break;p=p.return}0<l.length&&(u=new s(u,c,null,n,i),o.push({event:u,listeners:l}))}}if(0===(7&t)){if(s="mouseout"===e||"pointerout"===e,(!(u="mouseover"===e||"pointerover"===e)||n===be||!(c=n.relatedTarget||n.fromElement)||!gi(c)&&!c[pi])&&(s||u)&&(u=i.window===i?i:(u=i.ownerDocument)?u.defaultView||u.parentWindow:window,s?(s=r,null!==(c=(c=n.relatedTarget||n.toElement)?gi(c):null)&&(c!==(f=ze(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(s=null,c=r),s!==c)){if(l=pn,v="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=Cn,v="onPointerLeave",h="onPointerEnter",p="pointer"),f=null==s?u:bi(s),d=null==c?u:bi(c),(u=new l(v,p+"leave",s,n,i)).target=f,u.relatedTarget=d,v=null,gi(i)===r&&((l=new l(h,p+"enter",c,n,i)).target=d,l.relatedTarget=f,v=l),f=v,s&&c)e:{for(h=c,p=0,d=l=s;d;d=Wr(d))p++;for(d=0,v=h;v;v=Wr(v))d++;for(;0<p-d;)l=Wr(l),p--;for(;0<d-p;)h=Wr(h),d--;for(;p--;){if(l===h||null!==h&&l===h.alternate)break e;l=Wr(l),h=Wr(h)}l=null}else l=null;null!==s&&Qr(o,u,s,l,!1),null!==c&&null!==f&&Qr(o,f,c,l,!0)}if("select"===(s=(u=r?bi(r):window).nodeName&&u.nodeName.toLowerCase())||"input"===s&&"file"===u.type)var y=Yn;else if(Gn(u))if(Xn)y=or;else{y=ir;var m=rr}else(s=u.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===u.type||"radio"===u.type)&&(y=ar);switch(y&&(y=y(e,r))?Kn(o,y,n,i):(m&&m(e,u,r),"focusout"===e&&(m=u._wrapperState)&&m.controlled&&"number"===u.type&&ee(u,"number",u.value)),m=r?bi(r):window,e){case"focusin":(Gn(m)||"true"===m.contentEditable)&&(yr=m,mr=r,gr=null);break;case"focusout":gr=mr=yr=null;break;case"mousedown":kr=!0;break;case"contextmenu":case"mouseup":case"dragend":kr=!1,br(o,n,i);break;case"selectionchange":if(vr)break;case"keydown":case"keyup":br(o,n,i)}var g;if(Dn)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else zn?Vn(e,n)&&(k="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(k="onCompositionStart");k&&(Fn&&"ko"!==n.locale&&(zn||"onCompositionStart"!==k?"onCompositionEnd"===k&&zn&&(g=en()):(Jt="value"in(Xt=i)?Xt.value:Xt.textContent,zn=!0)),0<(m=Hr(r,k)).length&&(k=new bn(k,e,null,n,i),o.push({event:k,listeners:m}),g?k.data=g:null!==(g=Bn(n))&&(k.data=g))),(g=Mn?function(e,t){switch(e){case"compositionend":return Bn(t);case"keypress":return 32!==t.which?null:(jn=!0,Un);case"textInput":return(e=t.data)===Un&&jn?null:e;default:return null}}(e,n):function(e,t){if(zn)return"compositionend"===e||!Dn&&Vn(e,t)?(e=en(),Zt=Jt=Xt=null,zn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Fn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Hr(r,"onBeforeInput")).length&&(i=new bn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=g))}Ur(o,t)}))}function Kr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Hr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Pe(e,n))&&r.unshift(Kr(e,a,i)),null!=(a=Pe(e,t))&&r.push(Kr(e,a,i))),e=e.return}return r}function Wr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Qr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var u=n,s=u.alternate,c=u.stateNode;if(null!==s&&s===r)break;5===u.tag&&null!==c&&(u=c,i?null!=(s=Pe(n,a))&&o.unshift(Kr(n,s,u)):i||null!=(s=Pe(n,a))&&o.push(Kr(n,s,u))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var $r=/\r\n?/g,Yr=/\u0000|\uFFFD/g;function Xr(e){return("string"===typeof e?e:""+e).replace($r,"\n").replace(Yr,"")}function Jr(e,t,n){if(t=Xr(t),Xr(e)!==t&&n)throw Error(a(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,ai="function"===typeof Promise?Promise:void 0,oi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ai?function(e){return ai.resolve(null).then(e).catch(ui)}:ri;function ui(e){setTimeout((function(){throw e}))}function si(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void zt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);zt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function li(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var fi=Math.random().toString(36).slice(2),hi="__reactFiber$"+fi,di="__reactProps$"+fi,pi="__reactContainer$"+fi,vi="__reactEvents$"+fi,yi="__reactListeners$"+fi,mi="__reactHandles$"+fi;function gi(e){var t=e[hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[hi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=li(e);null!==e;){if(n=e[hi])return n;e=li(e)}return t}n=(e=n).parentNode}return null}function ki(e){return!(e=e[hi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function bi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function wi(e){return e[di]||null}var xi=[],Si=-1;function _i(e){return{current:e}}function Ei(e){0>Si||(e.current=xi[Si],xi[Si]=null,Si--)}function Ii(e,t){Si++,xi[Si]=e.current,e.current=t}var Ti={},Ci=_i(Ti),Ni=_i(!1),Ai=Ti;function Oi(e,t){var n=e.type.contextTypes;if(!n)return Ti;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Pi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ri(){Ei(Ni),Ei(Ci)}function Di(e,t,n){if(Ci.current!==Ti)throw Error(a(168));Ii(Ci,t),Ii(Ni,n)}function Li(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(a(108,q(e)||"Unknown",i));return F({},n,r)}function Mi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ti,Ai=Ci.current,Ii(Ci,e),Ii(Ni,Ni.current),!0}function Fi(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Li(e,t,Ai),r.__reactInternalMemoizedMergedChildContext=e,Ei(Ni),Ei(Ci),Ii(Ci,e)):Ei(Ni),Ii(Ni,n)}var Ui=null,ji=!1,Vi=!1;function Bi(e){null===Ui?Ui=[e]:Ui.push(e)}function zi(){if(!Vi&&null!==Ui){Vi=!0;var e=0,t=kt;try{var n=Ui;for(kt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Ui=null,ji=!1}catch(i){throw null!==Ui&&(Ui=Ui.slice(e+1)),We(Ze,zi),i}finally{kt=t,Vi=!1}}return null}var qi=b.ReactCurrentBatchConfig;function Gi(e,t){if(e&&e.defaultProps){for(var n in t=F({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var Ki=_i(null),Hi=null,Wi=null,Qi=null;function $i(){Qi=Wi=Hi=null}function Yi(e){var t=Ki.current;Ei(Ki),e._currentValue=t}function Xi(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ji(e,t){Hi=e,Qi=Wi=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(wu=!0),e.firstContext=null)}function Zi(e){var t=e._currentValue;if(Qi!==e)if(e={context:e,memoizedValue:t,next:null},null===Wi){if(null===Hi)throw Error(a(308));Wi=e,Hi.dependencies={lanes:0,firstContext:e}}else Wi=Wi.next=e;return t}var ea=null,ta=!1;function na(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ra(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ia(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function aa(e,t){var n=e.updateQueue;null!==n&&(n=n.shared,tc(e)?(null===(e=n.interleaved)?(t.next=t,null===ea?ea=[n]:ea.push(n)):(t.next=e.next,e.next=t),n.interleaved=t):(null===(e=n.pending)?t.next=t:(t.next=e.next,e.next=t),n.pending=t))}function oa(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}function ua(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function sa(e,t,n,r){var i=e.updateQueue;ta=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,u=i.shared.pending;if(null!==u){i.shared.pending=null;var s=u,c=s.next;s.next=null,null===o?a=c:o.next=c,o=s;var l=e.alternate;null!==l&&((u=(l=l.updateQueue).lastBaseUpdate)!==o&&(null===u?l.firstBaseUpdate=c:u.next=c,l.lastBaseUpdate=s))}if(null!==a){var f=i.baseState;for(o=0,l=c=s=null,u=a;;){var h=u.lane,d=u.eventTime;if((r&h)===h){null!==l&&(l=l.next={eventTime:d,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var p=e,v=u;switch(h=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){f=p.call(d,f,h);break e}f=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=v.payload)?p.call(d,f,h):p)||void 0===h)break e;f=F({},f,h);break e;case 2:ta=!0}}null!==u.callback&&0!==u.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[u]:h.push(u))}else d={eventTime:d,lane:h,tag:u.tag,payload:u.payload,callback:u.callback,next:null},null===l?(c=l=d,s=f):l=l.next=d,o|=h;if(null===(u=u.next)){if(null===(u=i.shared.pending))break;u=(h=u).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===l&&(s=f),i.baseState=s,i.firstBaseUpdate=c,i.lastBaseUpdate=l,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);Rs|=o,e.lanes=o,e.memoizedState=f}}function ca(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var la=(new r.Component).refs;function fa(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:F({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ha={isMounted:function(e){return!!(e=e._reactInternals)&&ze(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Xs(),i=Js(e),a=ia(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),aa(e,a),null!==(t=Zs(e,i,r))&&oa(t,e,i)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Xs(),i=Js(e),a=ia(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),aa(e,a),null!==(t=Zs(e,i,r))&&oa(t,e,i)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Xs(),r=Js(e),i=ia(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),aa(e,i),null!==(t=Zs(e,r,n))&&oa(t,e,r)}};function da(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!sr(n,r)||!sr(i,a))}function pa(e,t,n){var r=!1,i=Ti,a=t.contextType;return"object"===typeof a&&null!==a?a=Zi(a):(i=Pi(t)?Ai:Ci.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?Oi(e,i):Ti),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ha,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function va(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ha.enqueueReplaceState(t,t.state,null)}function ya(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=la,na(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=Zi(a):(a=Pi(t)?Ai:Ci.current,i.context=Oi(e,a)),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(fa(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&ha.enqueueReplaceState(i,i.state,null),sa(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}var ma=[],ga=0,ka=null,ba=0,wa=[],xa=0,Sa=null,_a=1,Ea="";function Ia(e,t){ma[ga++]=ba,ma[ga++]=ka,ka=e,ba=t}function Ta(e,t,n){wa[xa++]=_a,wa[xa++]=Ea,wa[xa++]=Sa,Sa=e;var r=_a;e=Ea;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var a=32-ot(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,_a=1<<32-ot(t)+i|n<<i|r,Ea=a+e}else _a=1<<a|n<<i|r,Ea=e}function Ca(e){null!==e.return&&(Ia(e,1),Ta(e,1,0))}function Na(e){for(;e===ka;)ka=ma[--ga],ma[ga]=null,ba=ma[--ga],ma[ga]=null;for(;e===Sa;)Sa=wa[--xa],wa[xa]=null,Ea=wa[--xa],wa[xa]=null,_a=wa[--xa],wa[xa]=null}var Aa=null,Oa=null,Pa=!1,Ra=null;function Da(e,t){var n=Ac(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function La(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,Aa=e,Oa=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,Aa=e,Oa=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Sa?{id:_a,overflow:Ea}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Ac(18,null,null,0)).stateNode=t,n.return=e,e.child=n,Aa=e,Oa=null,!0);default:return!1}}function Ma(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function Fa(e){if(Pa){var t=Oa;if(t){var n=t;if(!La(e,t)){if(Ma(e))throw Error(a(418));t=ci(n.nextSibling);var r=Aa;t&&La(e,t)?Da(r,n):(e.flags=-4097&e.flags|2,Pa=!1,Aa=e)}}else{if(Ma(e))throw Error(a(418));e.flags=-4097&e.flags|2,Pa=!1,Aa=e}}}function Ua(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Aa=e}function ja(e){if(e!==Aa)return!1;if(!Pa)return Ua(e),Pa=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=Oa)){if(Ma(e)){for(e=Oa;e;)e=ci(e.nextSibling);throw Error(a(418))}for(;t;)Da(e,t),t=ci(t.nextSibling)}if(Ua(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Oa=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Oa=null}}else Oa=Aa?ci(e.stateNode.nextSibling):null;return!0}function Va(){Oa=Aa=null,Pa=!1}function Ba(e){null===Ra?Ra=[e]:Ra.push(e)}function za(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;t===la&&(t=i.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function qa(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Ga(e){return(0,e._init)(e._payload)}function Ka(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Pc(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function u(t){return e&&null===t.alternate&&(t.flags|=2),t}function s(e,t,n,r){return null===t||6!==t.tag?((t=Mc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var a=n.type;return a===S?f(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===P&&Ga(a)===t.type)?((r=i(t,n.props)).ref=za(e,t,n),r.return=e,r):((r=Rc(n.type,n.key,n.props,null,e.mode,r)).ref=za(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Fc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=Dc(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Mc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Rc(t.type,t.key,t.props,null,e.mode,n)).ref=za(e,null,t),n.return=e,n;case x:return(t=Fc(t,e.mode,n)).return=e,t;case P:return h(e,(0,t._init)(t._payload),n)}if(te(t)||L(t))return(t=Dc(t,e.mode,n,null)).return=e,t;qa(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:s(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?c(e,t,n,r):null;case x:return n.key===i?l(e,t,n,r):null;case P:return d(e,t,(i=n._init)(n._payload),r)}if(te(n)||L(n))return null!==i?null:f(e,t,n,r,null);qa(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return s(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case x:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case P:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||L(r))return f(t,e=e.get(n)||null,r,i,null);qa(t,r)}return null}function v(i,a,u,s){for(var c=null,l=null,f=a,v=a=0,y=null;null!==f&&v<u.length;v++){f.index>v?(y=f,f=null):y=f.sibling;var m=d(i,f,u[v],s);if(null===m){null===f&&(f=y);break}e&&f&&null===m.alternate&&t(i,f),a=o(m,a,v),null===l?c=m:l.sibling=m,l=m,f=y}if(v===u.length)return n(i,f),Pa&&Ia(i,v),c;if(null===f){for(;v<u.length;v++)null!==(f=h(i,u[v],s))&&(a=o(f,a,v),null===l?c=f:l.sibling=f,l=f);return Pa&&Ia(i,v),c}for(f=r(i,f);v<u.length;v++)null!==(y=p(f,i,v,u[v],s))&&(e&&null!==y.alternate&&f.delete(null===y.key?v:y.key),a=o(y,a,v),null===l?c=y:l.sibling=y,l=y);return e&&f.forEach((function(e){return t(i,e)})),Pa&&Ia(i,v),c}function y(i,u,s,c){var l=L(s);if("function"!==typeof l)throw Error(a(150));if(null==(s=l.call(s)))throw Error(a(151));for(var f=l=null,v=u,y=u=0,m=null,g=s.next();null!==v&&!g.done;y++,g=s.next()){v.index>y?(m=v,v=null):m=v.sibling;var k=d(i,v,g.value,c);if(null===k){null===v&&(v=m);break}e&&v&&null===k.alternate&&t(i,v),u=o(k,u,y),null===f?l=k:f.sibling=k,f=k,v=m}if(g.done)return n(i,v),Pa&&Ia(i,y),l;if(null===v){for(;!g.done;y++,g=s.next())null!==(g=h(i,g.value,c))&&(u=o(g,u,y),null===f?l=g:f.sibling=g,f=g);return Pa&&Ia(i,y),l}for(v=r(i,v);!g.done;y++,g=s.next())null!==(g=p(v,i,y,g.value,c))&&(e&&null!==g.alternate&&v.delete(null===g.key?y:g.key),u=o(g,u,y),null===f?l=g:f.sibling=g,f=g);return e&&v.forEach((function(e){return t(i,e)})),Pa&&Ia(i,y),l}return function e(r,a,o,s){if("object"===typeof o&&null!==o&&o.type===S&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case w:e:{for(var c=o.key,l=a;null!==l;){if(l.key===c){if((c=o.type)===S){if(7===l.tag){n(r,l.sibling),(a=i(l,o.props.children)).return=r,r=a;break e}}else if(l.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===P&&Ga(c)===l.type){n(r,l.sibling),(a=i(l,o.props)).ref=za(r,l,o),a.return=r,r=a;break e}n(r,l);break}t(r,l),l=l.sibling}o.type===S?((a=Dc(o.props.children,r.mode,s,o.key)).return=r,r=a):((s=Rc(o.type,o.key,o.props,null,r.mode,s)).ref=za(r,a,o),s.return=r,r=s)}return u(r);case x:e:{for(l=o.key;null!==a;){if(a.key===l){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){n(r,a.sibling),(a=i(a,o.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=Fc(o,r.mode,s)).return=r,r=a}return u(r);case P:return e(r,a,(l=o._init)(o._payload),s)}if(te(o))return v(r,a,o,s);if(L(o))return y(r,a,o,s);qa(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,o)).return=r,r=a):(n(r,a),(a=Mc(o,r.mode,s)).return=r,r=a),u(r)):n(r,a)}}var Ha=Ka(!0),Wa=Ka(!1),Qa={},$a=_i(Qa),Ya=_i(Qa),Xa=_i(Qa);function Ja(e){if(e===Qa)throw Error(a(174));return e}function Za(e,t){switch(Ii(Xa,t),Ii(Ya,e),Ii($a,Qa),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:se(null,"");break;default:t=se(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ei($a),Ii($a,t)}function eo(){Ei($a),Ei(Ya),Ei(Xa)}function to(e){Ja(Xa.current);var t=Ja($a.current),n=se(t,e.type);t!==n&&(Ii(Ya,e),Ii($a,n))}function no(e){Ya.current===e&&(Ei($a),Ei(Ya))}var ro=_i(0);function io(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ao=[];function oo(){for(var e=0;e<ao.length;e++)ao[e]._workInProgressVersionPrimary=null;ao.length=0}var uo=b.ReactCurrentDispatcher,so=b.ReactCurrentBatchConfig,co=0,lo=null,fo=null,ho=null,po=!1,vo=!1,yo=0,mo=0;function go(){throw Error(a(321))}function ko(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ur(e[n],t[n]))return!1;return!0}function bo(e,t,n,r,i,o){if(co=o,lo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,uo.current=null===e||null===e.memoizedState?ru:iu,e=n(r,i),vo){o=0;do{if(vo=!1,yo=0,25<=o)throw Error(a(301));o+=1,ho=fo=null,t.updateQueue=null,uo.current=au,e=n(r,i)}while(vo)}if(uo.current=nu,t=null!==fo&&null!==fo.next,co=0,ho=fo=lo=null,po=!1,t)throw Error(a(300));return e}function wo(){var e=0!==yo;return yo=0,e}function xo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ho?lo.memoizedState=ho=e:ho=ho.next=e,ho}function So(){if(null===fo){var e=lo.alternate;e=null!==e?e.memoizedState:null}else e=fo.next;var t=null===ho?lo.memoizedState:ho.next;if(null!==t)ho=t,fo=e;else{if(null===e)throw Error(a(310));e={memoizedState:(fo=e).memoizedState,baseState:fo.baseState,baseQueue:fo.baseQueue,queue:fo.queue,next:null},null===ho?lo.memoizedState=ho=e:ho=ho.next=e}return ho}function _o(e,t){return"function"===typeof t?t(e):t}function Eo(e){var t=So(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=fo,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var u=i.next;i.next=o.next,o.next=u}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var s=u=null,c=null,l=o;do{var f=l.lane;if((co&f)===f)null!==c&&(c=c.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:e(r,l.action);else{var h={lane:f,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};null===c?(s=c=h,u=r):c=c.next=h,lo.lanes|=f,Rs|=f}l=l.next}while(null!==l&&l!==o);null===c?u=r:c.next=s,ur(r,t.memoizedState)||(wu=!0),t.memoizedState=r,t.baseState=u,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,lo.lanes|=o,Rs|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Io(e){var t=So(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var u=i=i.next;do{o=e(o,u.action),u=u.next}while(u!==i);ur(o,t.memoizedState)||(wu=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function To(){}function Co(e,t){var n=lo,r=So(),i=t(),o=!ur(r.memoizedState,i);if(o&&(r.memoizedState=i,wu=!0),r=r.queue,jo(Oo.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==ho&&1&ho.memoizedState.tag){if(n.flags|=2048,Do(9,Ao.bind(null,n,r,i,t),void 0,null),null===Is)throw Error(a(349));0!==(30&co)||No(n,t,i)}return i}function No(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=lo.updateQueue)?(t={lastEffect:null,stores:null},lo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Ao(e,t,n,r){t.value=n,t.getSnapshot=r,Po(t)&&Zs(e,1,-1)}function Oo(e,t,n){return n((function(){Po(t)&&Zs(e,1,-1)}))}function Po(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ur(e,n)}catch(r){return!0}}function Ro(e){var t=xo();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:_o,lastRenderedState:e},t.queue=e,e=e.dispatch=Xo.bind(null,lo,e),[t.memoizedState,e]}function Do(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=lo.updateQueue)?(t={lastEffect:null,stores:null},lo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Lo(){return So().memoizedState}function Mo(e,t,n,r){var i=xo();lo.flags|=e,i.memoizedState=Do(1|t,n,void 0,void 0===r?null:r)}function Fo(e,t,n,r){var i=So();r=void 0===r?null:r;var a=void 0;if(null!==fo){var o=fo.memoizedState;if(a=o.destroy,null!==r&&ko(r,o.deps))return void(i.memoizedState=Do(t,n,a,r))}lo.flags|=e,i.memoizedState=Do(1|t,n,a,r)}function Uo(e,t){return Mo(8390656,8,e,t)}function jo(e,t){return Fo(2048,8,e,t)}function Vo(e,t){return Fo(4,2,e,t)}function Bo(e,t){return Fo(4,4,e,t)}function zo(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function qo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Fo(4,4,zo.bind(null,t,e),n)}function Go(){}function Ko(e,t){var n=So();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ko(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ho(e,t){var n=So();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ko(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Wo(e,t,n){return 0===(21&co)?(e.baseState&&(e.baseState=!1,wu=!0),e.memoizedState=n):(ur(n,t)||(n=vt(),lo.lanes|=n,Rs|=n,e.baseState=!0),t)}function Qo(e,t){var n=kt;kt=0!==n&&4>n?n:4,e(!0);var r=so.transition;so.transition={};try{e(!1),t()}finally{kt=n,so.transition=r}}function $o(){return So().memoizedState}function Yo(e,t,n){var r=Js(e);n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Jo(e)?Zo(t,n):(eu(e,t,n),null!==(e=Zs(e,r,n=Xs()))&&tu(e,t,r))}function Xo(e,t,n){var r=Js(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Jo(e))Zo(t,i);else{eu(e,t,i);var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,u=a(o,n);if(i.hasEagerState=!0,i.eagerState=u,ur(u,o))return}catch(s){}null!==(e=Zs(e,r,n=Xs()))&&tu(e,t,r)}}function Jo(e){var t=e.alternate;return e===lo||null!==t&&t===lo}function Zo(e,t){vo=po=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function eu(e,t,n){tc(e)?(null===(e=t.interleaved)?(n.next=n,null===ea?ea=[t]:ea.push(t)):(n.next=e.next,e.next=n),t.interleaved=n):(null===(e=t.pending)?n.next=n:(n.next=e.next,e.next=n),t.pending=n)}function tu(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}var nu={readContext:Zi,useCallback:go,useContext:go,useEffect:go,useImperativeHandle:go,useInsertionEffect:go,useLayoutEffect:go,useMemo:go,useReducer:go,useRef:go,useState:go,useDebugValue:go,useDeferredValue:go,useTransition:go,useMutableSource:go,useSyncExternalStore:go,useId:go,unstable_isNewReconciler:!1},ru={readContext:Zi,useCallback:function(e,t){return xo().memoizedState=[e,void 0===t?null:t],e},useContext:Zi,useEffect:Uo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Mo(4194308,4,zo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Mo(4194308,4,e,t)},useInsertionEffect:function(e,t){return Mo(4,2,e,t)},useMemo:function(e,t){var n=xo();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=xo();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Yo.bind(null,lo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},xo().memoizedState=e},useState:Ro,useDebugValue:Go,useDeferredValue:function(e){return xo().memoizedState=e},useTransition:function(){var e=Ro(!1),t=e[0];return e=Qo.bind(null,e[1]),xo().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=lo,i=xo();if(Pa){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===Is)throw Error(a(349));0!==(30&co)||No(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,Uo(Oo.bind(null,r,o,e),[e]),r.flags|=2048,Do(9,Ao.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=xo(),t=Is.identifierPrefix;if(Pa){var n=Ea;t=":"+t+"R"+(n=(_a&~(1<<32-ot(_a)-1)).toString(32)+n),0<(n=yo++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=mo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},iu={readContext:Zi,useCallback:Ko,useContext:Zi,useEffect:jo,useImperativeHandle:qo,useInsertionEffect:Vo,useLayoutEffect:Bo,useMemo:Ho,useReducer:Eo,useRef:Lo,useState:function(){return Eo(_o)},useDebugValue:Go,useDeferredValue:function(e){return Wo(So(),fo.memoizedState,e)},useTransition:function(){return[Eo(_o)[0],So().memoizedState]},useMutableSource:To,useSyncExternalStore:Co,useId:$o,unstable_isNewReconciler:!1},au={readContext:Zi,useCallback:Ko,useContext:Zi,useEffect:jo,useImperativeHandle:qo,useInsertionEffect:Vo,useLayoutEffect:Bo,useMemo:Ho,useReducer:Io,useRef:Lo,useState:function(){return Io(_o)},useDebugValue:Go,useDeferredValue:function(e){var t=So();return null===fo?t.memoizedState=e:Wo(t,fo.memoizedState,e)},useTransition:function(){return[Io(_o)[0],So().memoizedState]},useMutableSource:To,useSyncExternalStore:Co,useId:$o,unstable_isNewReconciler:!1};function ou(e,t){try{var n="",r=t;do{n+=B(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i}}function uu(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var su,cu,lu,fu="function"===typeof WeakMap?WeakMap:Map;function hu(e,t,n){(n=ia(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Bs||(Bs=!0,zs=r),uu(0,t)},n}function du(e,t,n){(n=ia(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){uu(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){uu(0,t),"function"!==typeof r&&(null===qs?qs=new Set([this]):qs.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function pu(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new fu;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=_c.bind(null,e,t,n),t.then(e,e))}function vu(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function yu(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=ia(-1,1)).tag=2,aa(n,t))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}function mu(e,t){if(!Pa)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function gu(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function ku(e,t,n){var r=t.pendingProps;switch(Na(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return gu(t),null;case 1:case 17:return Pi(t.type)&&Ri(),gu(t),null;case 3:return r=t.stateNode,eo(),Ei(Ni),Ei(Ci),oo(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(ja(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==Ra&&(ac(Ra),Ra=null))),gu(t),null;case 5:no(t);var i=Ja(Xa.current);if(n=t.type,null!==e&&null!=t.stateNode)cu(e,t,n,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return gu(t),null}if(e=Ja($a.current),ja(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[hi]=t,r[di]=o,e=0!==(1&t.mode),n){case"dialog":jr("cancel",r),jr("close",r);break;case"iframe":case"object":case"embed":jr("load",r);break;case"video":case"audio":for(i=0;i<Lr.length;i++)jr(Lr[i],r);break;case"source":jr("error",r);break;case"img":case"image":case"link":jr("error",r),jr("load",r);break;case"details":jr("toggle",r);break;case"input":Y(r,o),jr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},jr("invalid",r);break;case"textarea":ie(r,o),jr("invalid",r)}for(var s in ge(n,o),i=null,o)if(o.hasOwnProperty(s)){var c=o[s];"children"===s?"string"===typeof c?r.textContent!==c&&(!0!==o.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==o.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",""+c]):u.hasOwnProperty(s)&&null!=c&&"onScroll"===s&&jr("scroll",r)}switch(n){case"input":H(r),Z(r,o,!0);break;case"textarea":H(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{s=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ue(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=s.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),"select"===n&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[hi]=t,e[di]=r,su(e,t),t.stateNode=e;e:{switch(s=ke(n,r),n){case"dialog":jr("cancel",e),jr("close",e),i=r;break;case"iframe":case"object":case"embed":jr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Lr.length;i++)jr(Lr[i],e);i=r;break;case"source":jr("error",e),i=r;break;case"img":case"image":case"link":jr("error",e),jr("load",e),i=r;break;case"details":jr("toggle",e),i=r;break;case"input":Y(e,r),i=$(e,r),jr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=F({},r,{value:void 0}),jr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),jr("invalid",e)}for(o in ge(n,i),c=i)if(c.hasOwnProperty(o)){var l=c[o];"style"===o?ye(e,l):"dangerouslySetInnerHTML"===o?null!=(l=l?l.__html:void 0)&&fe(e,l):"children"===o?"string"===typeof l?("textarea"!==n||""!==l)&&he(e,l):"number"===typeof l&&he(e,""+l):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(u.hasOwnProperty(o)?null!=l&&"onScroll"===o&&jr("scroll",e):null!=l&&k(e,o,l,s))}switch(n){case"input":H(e),Z(e,r,!1);break;case"textarea":H(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+G(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return gu(t),null;case 6:if(e&&null!=t.stateNode)lu(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(n=Ja(Xa.current),Ja($a.current),ja(t)){if(r=t.stateNode,n=t.memoizedProps,r[hi]=t,(o=r.nodeValue!==n)&&null!==(e=Aa))switch(e.tag){case 3:Jr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Jr(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hi]=t,t.stateNode=r}return gu(t),null;case 13:if(Ei(ro),r=t.memoizedState,Pa&&null!==Oa&&0!==(1&t.mode)&&0===(128&t.flags)){for(r=Oa;r;)r=ci(r.nextSibling);return Va(),t.flags|=98560,t}if(null!==r&&null!==r.dehydrated){if(r=ja(t),null===e){if(!r)throw Error(a(318));if(!(r=null!==(r=t.memoizedState)?r.dehydrated:null))throw Error(a(317));r[hi]=t}else Va(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;return gu(t),null}return null!==Ra&&(ac(Ra),Ra=null),0!==(128&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?ja(t):n=null!==e.memoizedState,r!==n&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&ro.current)?0===Os&&(Os=3):pc())),null!==t.updateQueue&&(t.flags|=4),gu(t),null);case 4:return eo(),null===e&&zr(t.stateNode.containerInfo),gu(t),null;case 10:return Yi(t.type._context),gu(t),null;case 19:if(Ei(ro),null===(o=t.memoizedState))return gu(t),null;if(r=0!==(128&t.flags),null===(s=o.rendering))if(r)mu(o,!1);else{if(0!==Os||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(s=io(e))){for(t.flags|=128,mu(o,!1),null!==(r=s.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(s=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,e=s.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ii(ro,1&ro.current|2),t.child}e=e.sibling}null!==o.tail&&Xe()>js&&(t.flags|=128,r=!0,mu(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=io(s))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),mu(o,!0),null===o.tail&&"hidden"===o.tailMode&&!s.alternate&&!Pa)return gu(t),null}else 2*Xe()-o.renderingStartTime>js&&1073741824!==n&&(t.flags|=128,r=!0,mu(o,!1),t.lanes=4194304);o.isBackwards?(s.sibling=t.child,t.child=s):(null!==(n=o.last)?n.sibling=s:t.child=s,o.last=s)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Xe(),t.sibling=null,n=ro.current,Ii(ro,r?1&n|2:1&n),t):(gu(t),null);case 22:case 23:return lc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Ns)&&(gu(t),6&t.subtreeFlags&&(t.flags|=8192)):gu(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}su=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},cu=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Ja($a.current);var a,o=null;switch(n){case"input":i=$(e,i),r=$(e,r),o=[];break;case"select":i=F({},i,{value:void 0}),r=F({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(l in ge(n,r),n=null,i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&null!=i[l])if("style"===l){var s=i[l];for(a in s)s.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==l&&"children"!==l&&"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(u.hasOwnProperty(l)?o||(o=[]):(o=o||[]).push(l,null));for(l in r){var c=r[l];if(s=null!=i?i[l]:void 0,r.hasOwnProperty(l)&&c!==s&&(null!=c||null!=s))if("style"===l)if(s){for(a in s)!s.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&s[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(o||(o=[]),o.push(l,n)),n=c;else"dangerouslySetInnerHTML"===l?(c=c?c.__html:void 0,s=s?s.__html:void 0,null!=c&&s!==c&&(o=o||[]).push(l,c)):"children"===l?"string"!==typeof c&&"number"!==typeof c||(o=o||[]).push(l,""+c):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&(u.hasOwnProperty(l)?(null!=c&&"onScroll"===l&&jr("scroll",e),o||s===c||(o=[])):(o=o||[]).push(l,c))}n&&(o=o||[]).push("style",n);var l=o;(t.updateQueue=l)&&(t.flags|=4)}},lu=function(e,t,n,r){n!==r&&(t.flags|=4)};var bu=b.ReactCurrentOwner,wu=!1;function xu(e,t,n,r){t.child=null===e?Wa(t,null,n,r):Ha(t,e.child,n,r)}function Su(e,t,n,r,i){n=n.render;var a=t.ref;return Ji(t,i),r=bo(e,t,n,r,a,i),n=wo(),null===e||wu?(Pa&&n&&Ca(t),t.flags|=1,xu(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Gu(e,t,i))}function _u(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||Oc(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Rc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Eu(e,t,a,r,i))}if(a=e.child,0===(e.lanes&i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:sr)(o,r)&&e.ref===t.ref)return Gu(e,t,i)}return t.flags|=1,(e=Pc(a,r)).ref=t.ref,e.return=t,t.child=e}function Eu(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(sr(a,r)&&e.ref===t.ref){if(wu=!1,t.pendingProps=r=a,0===(e.lanes&i))return t.lanes=e.lanes,Gu(e,t,i);0!==(131072&e.flags)&&(wu=!0)}}return Cu(e,t,n,r,i)}function Iu(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ii(As,Ns),Ns|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ii(As,Ns),Ns|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,Ii(As,Ns),Ns|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,Ii(As,Ns),Ns|=r;return xu(e,t,i,n),t.child}function Tu(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Cu(e,t,n,r,i){var a=Pi(n)?Ai:Ci.current;return a=Oi(t,a),Ji(t,i),n=bo(e,t,n,r,a,i),r=wo(),null===e||wu?(Pa&&r&&Ca(t),t.flags|=1,xu(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Gu(e,t,i))}function Nu(e,t,n,r,i){if(Pi(n)){var a=!0;Mi(t)}else a=!1;if(Ji(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),pa(t,n,r),ya(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,u=t.memoizedProps;o.props=u;var s=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=Zi(c):c=Oi(t,c=Pi(n)?Ai:Ci.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==r||s!==c)&&va(t,o,r,c),ta=!1;var h=t.memoizedState;o.state=h,sa(t,r,o,i),s=t.memoizedState,u!==r||h!==s||Ni.current||ta?("function"===typeof l&&(fa(t,n,l,r),s=t.memoizedState),(u=ta||da(t,n,u,r,h,s,c))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=s),o.props=r,o.state=s,o.context=c,r=u):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,ra(e,t),u=t.memoizedProps,c=t.type===t.elementType?u:Gi(t.type,u),o.props=c,f=t.pendingProps,h=o.context,"object"===typeof(s=n.contextType)&&null!==s?s=Zi(s):s=Oi(t,s=Pi(n)?Ai:Ci.current);var d=n.getDerivedStateFromProps;(l="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==f||h!==s)&&va(t,o,r,s),ta=!1,h=t.memoizedState,o.state=h,sa(t,r,o,i);var p=t.memoizedState;u!==f||h!==p||Ni.current||ta?("function"===typeof d&&(fa(t,n,d,r),p=t.memoizedState),(c=ta||da(t,n,c,r,h,p,s)||!1)?(l||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,s),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,s)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=s,r=c):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Au(e,t,n,r,a,i)}function Au(e,t,n,r,i,a){Tu(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&Fi(t,n,!1),Gu(e,t,a);r=t.stateNode,bu.current=t;var u=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Ha(t,e.child,null,a),t.child=Ha(t,null,u,a)):xu(e,t,u,a),t.memoizedState=r.state,i&&Fi(t,n,!0),t.child}function Ou(e){var t=e.stateNode;t.pendingContext?Di(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Di(0,t.context,!1),Za(e,t.containerInfo)}function Pu(e,t,n,r,i){return Va(),Ba(i),t.flags|=256,xu(e,t,n,r),t.child}var Ru={dehydrated:null,treeContext:null,retryLane:0};function Du(e){return{baseLanes:e,cachePool:null,transitions:null}}function Lu(e,t){return{baseLanes:e.baseLanes|t,cachePool:null,transitions:e.transitions}}function Mu(e,t,n){var r,i=t.pendingProps,o=ro.current,u=!1,s=0!==(128&t.flags);if((r=s)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(u=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Ii(ro,1&o),null===e)return Fa(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(o=i.children,e=i.fallback,u?(i=t.mode,u=t.child,o={mode:"hidden",children:o},0===(1&i)&&null!==u?(u.childLanes=0,u.pendingProps=o):u=Lc(o,i,0,null),e=Dc(e,i,n,null),u.return=t,e.return=t,u.sibling=e,t.child=u,t.child.memoizedState=Du(n),t.memoizedState=Ru,e):Fu(t,o));if(null!==(o=e.memoizedState)){if(null!==(r=o.dehydrated)){if(s)return 256&t.flags?(t.flags&=-257,Vu(e,t,n,Error(a(422)))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(u=i.fallback,o=t.mode,i=Lc({mode:"visible",children:i.children},o,0,null),(u=Dc(u,o,n,null)).flags|=2,i.return=t,u.return=t,i.sibling=u,t.child=i,0!==(1&t.mode)&&Ha(t,e.child,null,n),t.child.memoizedState=Du(n),t.memoizedState=Ru,u);if(0===(1&t.mode))t=Vu(e,t,n,null);else if("$!"===r.data)t=Vu(e,t,n,Error(a(419)));else if(i=0!==(n&e.childLanes),wu||i){if(null!==(i=Is)){switch(n&-n){case 4:u=2;break;case 16:u=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:u=32;break;case 536870912:u=268435456;break;default:u=0}0!==(i=0!==(u&(i.suspendedLanes|n))?0:u)&&i!==o.retryLane&&(o.retryLane=i,Zs(e,i,-1))}pc(),t=Vu(e,t,n,Error(a(421)))}else"$?"===r.data?(t.flags|=128,t.child=e.child,t=Ic.bind(null,e),r._reactRetry=t,t=null):(n=o.treeContext,Oa=ci(r.nextSibling),Aa=t,Pa=!0,Ra=null,null!==n&&(wa[xa++]=_a,wa[xa++]=Ea,wa[xa++]=Sa,_a=n.id,Ea=n.overflow,Sa=t),(t=Fu(t,t.pendingProps.children)).flags|=4096);return t}return u?(i=ju(e,t,i.children,i.fallback,n),u=t.child,o=e.child.memoizedState,u.memoizedState=null===o?Du(n):Lu(o,n),u.childLanes=e.childLanes&~n,t.memoizedState=Ru,i):(n=Uu(e,t,i.children,n),t.memoizedState=null,n)}return u?(i=ju(e,t,i.children,i.fallback,n),u=t.child,o=e.child.memoizedState,u.memoizedState=null===o?Du(n):Lu(o,n),u.childLanes=e.childLanes&~n,t.memoizedState=Ru,i):(n=Uu(e,t,i.children,n),t.memoizedState=null,n)}function Fu(e,t){return(t=Lc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Uu(e,t,n,r){var i=e.child;return e=i.sibling,n=Pc(i,{mode:"visible",children:n}),0===(1&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n}function ju(e,t,n,r,i){var a=t.mode,o=(e=e.child).sibling,u={mode:"hidden",children:n};return 0===(1&a)&&t.child!==e?((n=t.child).childLanes=0,n.pendingProps=u,t.deletions=null):(n=Pc(e,u)).subtreeFlags=14680064&e.subtreeFlags,null!==o?r=Pc(o,r):(r=Dc(r,a,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function Vu(e,t,n,r){return null!==r&&Ba(r),Ha(t,e.child,null,n),(e=Fu(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Bu(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Xi(e.return,t,n)}function zu(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function qu(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(xu(e,t,r.children,n),0!==(2&(r=ro.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Bu(e,n,t);else if(19===e.tag)Bu(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ii(ro,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===io(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),zu(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===io(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}zu(t,!0,n,null,a);break;case"together":zu(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Gu(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Rs|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Pc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Pc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ku(e,t){switch(Na(t),t.tag){case 1:return Pi(t.type)&&Ri(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return eo(),Ei(Ni),Ei(Ci),oo(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return no(t),null;case 13:if(Ei(ro),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));Va()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ei(ro),null;case 4:return eo(),null;case 10:return Yi(t.type._context),null;case 22:case 23:return lc(),null;default:return null}}var Hu=!1,Wu=!1,Qu="function"===typeof WeakSet?WeakSet:Set,$u=null;function Yu(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Sc(e,t,r)}else n.current=null}function Xu(e,t,n){try{n()}catch(r){Sc(e,t,r)}}var Ju=!1;function Zu(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&Xu(t,n,a)}i=i.next}while(i!==r)}}function es(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function ts(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function ns(e){var t=e.alternate;null!==t&&(e.alternate=null,ns(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hi],delete t[di],delete t[vi],delete t[yi],delete t[mi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function rs(e){return 5===e.tag||3===e.tag||4===e.tag}function is(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||rs(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function as(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(as(e,t,n),e=e.sibling;null!==e;)as(e,t,n),e=e.sibling}function os(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(os(e,t,n),e=e.sibling;null!==e;)os(e,t,n),e=e.sibling}var us=null,ss=!1;function cs(e,t,n){for(n=n.child;null!==n;)ls(e,t,n),n=n.sibling}function ls(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(it,n)}catch(u){}switch(n.tag){case 5:Wu||Yu(n,t);case 6:var r=us,i=ss;us=null,cs(e,t,n),ss=i,null!==(us=r)&&(ss?(e=us,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):us.removeChild(n.stateNode));break;case 18:null!==us&&(ss?(e=us,n=n.stateNode,8===e.nodeType?si(e.parentNode,n):1===e.nodeType&&si(e,n),zt(e)):si(us,n.stateNode));break;case 4:r=us,i=ss,us=n.stateNode.containerInfo,ss=!0,cs(e,t,n),us=r,ss=i;break;case 0:case 11:case 14:case 15:if(!Wu&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,void 0!==o&&(0!==(2&a)||0!==(4&a))&&Xu(n,t,o),i=i.next}while(i!==r)}cs(e,t,n);break;case 1:if(!Wu&&(Yu(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(u){Sc(n,t,u)}cs(e,t,n);break;case 21:cs(e,t,n);break;case 22:1&n.mode?(Wu=(r=Wu)||null!==n.memoizedState,cs(e,t,n),Wu=r):cs(e,t,n);break;default:cs(e,t,n)}}function fs(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Qu),t.forEach((function(t){var r=Tc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function hs(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,u=t,s=u;e:for(;null!==s;){switch(s.tag){case 5:us=s.stateNode,ss=!1;break e;case 3:case 4:us=s.stateNode.containerInfo,ss=!0;break e}s=s.return}if(null===us)throw Error(a(160));ls(o,u,i),us=null,ss=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(l){Sc(i,t,l)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)ds(t,e),t=t.sibling}function ds(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(hs(t,e),ps(e),4&r){try{Zu(3,e,e.return),es(3,e)}catch(v){Sc(e,e.return,v)}try{Zu(5,e,e.return)}catch(v){Sc(e,e.return,v)}}break;case 1:hs(t,e),ps(e),512&r&&null!==n&&Yu(n,n.return);break;case 5:if(hs(t,e),ps(e),512&r&&null!==n&&Yu(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(v){Sc(e,e.return,v)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,u=null!==n?n.memoizedProps:o,s=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===s&&"radio"===o.type&&null!=o.name&&X(i,o),ke(s,u);var l=ke(s,o);for(u=0;u<c.length;u+=2){var f=c[u],h=c[u+1];"style"===f?ye(i,h):"dangerouslySetInnerHTML"===f?fe(i,h):"children"===f?he(i,h):k(i,f,h,l)}switch(s){case"input":J(i,o);break;case"textarea":ae(i,o);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?ne(i,!!o.multiple,p,!1):d!==!!o.multiple&&(null!=o.defaultValue?ne(i,!!o.multiple,o.defaultValue,!0):ne(i,!!o.multiple,o.multiple?[]:"",!1))}i[di]=o}catch(v){Sc(e,e.return,v)}}break;case 6:if(hs(t,e),ps(e),4&r){if(null===e.stateNode)throw Error(a(162));l=e.stateNode,f=e.memoizedProps;try{l.nodeValue=f}catch(v){Sc(e,e.return,v)}}break;case 3:if(hs(t,e),ps(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{zt(t.containerInfo)}catch(v){Sc(e,e.return,v)}break;case 4:default:hs(t,e),ps(e);break;case 13:hs(t,e),ps(e),8192&(l=e.child).flags&&null!==l.memoizedState&&(null===l.alternate||null===l.alternate.memoizedState)&&(Us=Xe()),4&r&&fs(e);break;case 22:if(l=null!==n&&null!==n.memoizedState,1&e.mode?(Wu=(f=Wu)||l,hs(t,e),Wu=f):hs(t,e),ps(e),8192&r){f=null!==e.memoizedState;e:for(h=null,d=e;;){if(5===d.tag){if(null===h){h=d;try{i=d.stateNode,f?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(s=d.stateNode,u=void 0!==(c=d.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,s.style.display=ve("display",u))}catch(v){Sc(e,e.return,v)}}}else if(6===d.tag){if(null===h)try{d.stateNode.nodeValue=f?"":d.memoizedProps}catch(v){Sc(e,e.return,v)}}else if((22!==d.tag&&23!==d.tag||null===d.memoizedState||d===e)&&null!==d.child){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;null===d.sibling;){if(null===d.return||d.return===e)break e;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}if(f&&!l&&0!==(1&e.mode))for($u=e,e=e.child;null!==e;){for(l=$u=e;null!==$u;){switch(h=(f=$u).child,f.tag){case 0:case 11:case 14:case 15:Zu(4,f,f.return);break;case 1:if(Yu(f,f.return),"function"===typeof(o=f.stateNode).componentWillUnmount){d=f,p=f.return;try{i=d,o.props=i.memoizedProps,o.state=i.memoizedState,o.componentWillUnmount()}catch(v){Sc(d,p,v)}}break;case 5:Yu(f,f.return);break;case 22:if(null!==f.memoizedState){gs(l);continue}}null!==h?(h.return=f,$u=h):gs(l)}e=e.sibling}}break;case 19:hs(t,e),ps(e),4&r&&fs(e);case 21:}}function ps(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(rs(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),os(e,is(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;as(e,is(e),o);break;default:throw Error(a(161))}}catch(u){Sc(e,e.return,u)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function vs(e,t,n){$u=e,ys(e,t,n)}function ys(e,t,n){for(var r=0!==(1&e.mode);null!==$u;){var i=$u,a=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||Hu;if(!o){var u=i.alternate,s=null!==u&&null!==u.memoizedState||Wu;u=Hu;var c=Wu;if(Hu=o,(Wu=s)&&!c)for($u=i;null!==$u;)s=(o=$u).child,22===o.tag&&null!==o.memoizedState?ks(i):null!==s?(s.return=o,$u=s):ks(i);for(;null!==a;)$u=a,ys(a,t,n),a=a.sibling;$u=i,Hu=u,Wu=c}ms(e)}else 0!==(8772&i.subtreeFlags)&&null!==a?(a.return=i,$u=a):ms(e)}}function ms(e){for(;null!==$u;){var t=$u;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Wu||es(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Wu)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:Gi(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&ca(t,o,r);break;case 3:var u=t.updateQueue;if(null!==u){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}ca(t,u,n)}break;case 5:var s=t.stateNode;if(null===n&&4&t.flags){n=s;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:break;case 13:if(null===t.memoizedState){var l=t.alternate;if(null!==l){var f=l.memoizedState;if(null!==f){var h=f.dehydrated;null!==h&&zt(h)}}}break;default:throw Error(a(163))}Wu||512&t.flags&&ts(t)}catch(d){Sc(t,t.return,d)}}if(t===e){$u=null;break}if(null!==(n=t.sibling)){n.return=t.return,$u=n;break}$u=t.return}}function gs(e){for(;null!==$u;){var t=$u;if(t===e){$u=null;break}var n=t.sibling;if(null!==n){n.return=t.return,$u=n;break}$u=t.return}}function ks(e){for(;null!==$u;){var t=$u;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{es(4,t)}catch(s){Sc(t,n,s)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(s){Sc(t,i,s)}}var a=t.return;try{ts(t)}catch(s){Sc(t,a,s)}break;case 5:var o=t.return;try{ts(t)}catch(s){Sc(t,o,s)}}}catch(s){Sc(t,t.return,s)}if(t===e){$u=null;break}var u=t.sibling;if(null!==u){u.return=t.return,$u=u;break}$u=t.return}}var bs,ws=Math.ceil,xs=b.ReactCurrentDispatcher,Ss=b.ReactCurrentOwner,_s=b.ReactCurrentBatchConfig,Es=0,Is=null,Ts=null,Cs=0,Ns=0,As=_i(0),Os=0,Ps=null,Rs=0,Ds=0,Ls=0,Ms=null,Fs=null,Us=0,js=1/0,Vs=null,Bs=!1,zs=null,qs=null,Gs=!1,Ks=null,Hs=0,Ws=0,Qs=null,$s=-1,Ys=0;function Xs(){return 0!==(6&Es)?Xe():-1!==$s?$s:$s=Xe()}function Js(e){return 0===(1&e.mode)?1:0!==(2&Es)&&0!==Cs?Cs&-Cs:null!==qi.transition?(0===Ys&&(Ys=vt()),Ys):0!==(e=kt)?e:e=void 0===(e=window.event)?16:Yt(e.type)}function Zs(e,t,n){if(50<Ws)throw Ws=0,Qs=null,Error(a(185));var r=ec(e,t);return null===r?null:(mt(r,t,n),0!==(2&Es)&&r===Is||(r===Is&&(0===(2&Es)&&(Ds|=t),4===Os&&oc(r,Cs)),nc(r,n),1===t&&0===Es&&0===(1&e.mode)&&(js=Xe()+500,ji&&zi())),r)}function ec(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function tc(e){return(null!==Is||null!==ea)&&0!==(1&e.mode)&&0===(2&Es)}function nc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-ot(a),u=1<<o,s=i[o];-1===s?0!==(u&n)&&0===(u&r)||(i[o]=dt(u,t)):s<=t&&(e.expiredLanes|=u),a&=~u}}(e,t);var r=ht(e,e===Is?Cs:0);if(0===r)null!==n&&Qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Qe(n),1===t)0===e.tag?function(e){ji=!0,Bi(e)}(uc.bind(null,e)):Bi(uc.bind(null,e)),oi((function(){0===Es&&zi()})),n=null;else{switch(bt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Cc(n,rc.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function rc(e,t){if($s=-1,Ys=0,0!==(6&Es))throw Error(a(327));var n=e.callbackNode;if(wc()&&e.callbackNode!==n)return null;var r=ht(e,e===Is?Cs:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=vc(e,r);else{t=r;var i=Es;Es|=2;var o=dc();for(Is===e&&Cs===t||(Vs=null,js=Xe()+500,fc(e,t));;)try{mc();break}catch(s){hc(e,s)}$i(),xs.current=o,Es=i,null!==Ts?t=0:(Is=null,Cs=0,t=Os)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=ic(e,i))),1===t)throw n=Ps,fc(e,0),oc(e,r),nc(e,Xe()),n;if(6===t)oc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!ur(a(),i))return!1}catch(u){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=vc(e,r))&&(0!==(o=pt(e))&&(r=o,t=ic(e,o))),1===t))throw n=Ps,fc(e,0),oc(e,r),nc(e,Xe()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:bc(e,Fs,Vs);break;case 3:if(oc(e,r),(130023424&r)===r&&10<(t=Us+500-Xe())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){Xs(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(bc.bind(null,e,Fs,Vs),t);break}bc(e,Fs,Vs);break;case 4:if(oc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var u=31-ot(r);o=1<<u,(u=t[u])>i&&(i=u),r&=~o}if(r=i,10<(r=(120>(r=Xe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*ws(r/1960))-r)){e.timeoutHandle=ri(bc.bind(null,e,Fs,Vs),r);break}bc(e,Fs,Vs);break;default:throw Error(a(329))}}}return nc(e,Xe()),e.callbackNode===n?rc.bind(null,e):null}function ic(e,t){var n=Ms;return e.current.memoizedState.isDehydrated&&(fc(e,t).flags|=256),2!==(e=vc(e,t))&&(t=Fs,Fs=n,null!==t&&ac(t)),e}function ac(e){null===Fs?Fs=e:Fs.push.apply(Fs,e)}function oc(e,t){for(t&=~Ls,t&=~Ds,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function uc(e){if(0!==(6&Es))throw Error(a(327));wc();var t=ht(e,0);if(0===(1&t))return nc(e,Xe()),null;var n=vc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=ic(e,r))}if(1===n)throw n=Ps,fc(e,0),oc(e,t),nc(e,Xe()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,bc(e,Fs,Vs),nc(e,Xe()),null}function sc(e,t){var n=Es;Es|=1;try{return e(t)}finally{0===(Es=n)&&(js=Xe()+500,ji&&zi())}}function cc(e){null!==Ks&&0===Ks.tag&&0===(6&Es)&&wc();var t=Es;Es|=1;var n=_s.transition,r=kt;try{if(_s.transition=null,kt=1,e)return e()}finally{kt=r,_s.transition=n,0===(6&(Es=t))&&zi()}}function lc(){Ns=As.current,Ei(As)}function fc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Ts)for(n=Ts.return;null!==n;){var r=n;switch(Na(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Ri();break;case 3:eo(),Ei(Ni),Ei(Ci),oo();break;case 5:no(r);break;case 4:eo();break;case 13:case 19:Ei(ro);break;case 10:Yi(r.type._context);break;case 22:case 23:lc()}n=n.return}if(Is=e,Ts=e=Pc(e.current,null),Cs=Ns=t,Os=0,Ps=null,Ls=Ds=Rs=0,Fs=Ms=null,null!==ea){for(t=0;t<ea.length;t++)if(null!==(r=(n=ea[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var o=a.next;a.next=i,r.next=o}n.pending=r}ea=null}return e}function hc(e,t){for(;;){var n=Ts;try{if($i(),uo.current=nu,po){for(var r=lo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}po=!1}if(co=0,ho=fo=lo=null,vo=!1,yo=0,Ss.current=null,null===n||null===n.return){Os=1,Ps=t,Ts=null;break}e:{var o=e,u=n.return,s=n,c=t;if(t=Cs,s.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var l=c,f=s,h=f.tag;if(0===(1&f.mode)&&(0===h||11===h||15===h)){var d=f.alternate;d?(f.updateQueue=d.updateQueue,f.memoizedState=d.memoizedState,f.lanes=d.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=vu(u);if(null!==p){p.flags&=-257,yu(p,u,s,0,t),1&p.mode&&pu(o,l,t),c=l;var v=(t=p).updateQueue;if(null===v){var y=new Set;y.add(c),t.updateQueue=y}else v.add(c);break e}if(0===(1&t)){pu(o,l,t),pc();break e}c=Error(a(426))}else if(Pa&&1&s.mode){var m=vu(u);if(null!==m){0===(65536&m.flags)&&(m.flags|=256),yu(m,u,s,0,t),Ba(c);break e}}o=c,4!==Os&&(Os=2),null===Ms?Ms=[o]:Ms.push(o),c=ou(c,s),s=u;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t,ua(s,hu(0,c,t));break e;case 1:o=c;var g=s.type,k=s.stateNode;if(0===(128&s.flags)&&("function"===typeof g.getDerivedStateFromError||null!==k&&"function"===typeof k.componentDidCatch&&(null===qs||!qs.has(k)))){s.flags|=65536,t&=-t,s.lanes|=t,ua(s,du(s,o,t));break e}}s=s.return}while(null!==s)}kc(n)}catch(b){t=b,Ts===n&&null!==n&&(Ts=n=n.return);continue}break}}function dc(){var e=xs.current;return xs.current=nu,null===e?nu:e}function pc(){0!==Os&&3!==Os&&2!==Os||(Os=4),null===Is||0===(268435455&Rs)&&0===(268435455&Ds)||oc(Is,Cs)}function vc(e,t){var n=Es;Es|=2;var r=dc();for(Is===e&&Cs===t||(Vs=null,fc(e,t));;)try{yc();break}catch(i){hc(e,i)}if($i(),Es=n,xs.current=r,null!==Ts)throw Error(a(261));return Is=null,Cs=0,Os}function yc(){for(;null!==Ts;)gc(Ts)}function mc(){for(;null!==Ts&&!$e();)gc(Ts)}function gc(e){var t=bs(e.alternate,e,Ns);e.memoizedProps=e.pendingProps,null===t?kc(e):Ts=t,Ss.current=null}function kc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=ku(n,t,Ns)))return void(Ts=n)}else{if(null!==(n=Ku(n,t)))return n.flags&=32767,void(Ts=n);if(null===e)return Os=6,void(Ts=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Ts=t);Ts=t=e}while(null!==t);0===Os&&(Os=5)}function bc(e,t,n){var r=kt,i=_s.transition;try{_s.transition=null,kt=1,function(e,t,n,r){do{wc()}while(null!==Ks);if(0!==(6&Es))throw Error(a(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,o),e===Is&&(Ts=Is=null,Cs=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Gs||(Gs=!0,Cc(tt,(function(){return wc(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=_s.transition,_s.transition=null;var u=kt;kt=1;var s=Es;Es|=4,Ss.current=null,function(e,t){if(ei=Gt,dr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(x){n=null;break e}var u=0,s=-1,c=-1,l=0,f=0,h=e,d=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(s=u+i),h!==o||0!==r&&3!==h.nodeType||(c=u+r),3===h.nodeType&&(u+=h.nodeValue.length),null!==(p=h.firstChild);)d=h,h=p;for(;;){if(h===e)break t;if(d===n&&++l===i&&(s=u),d===o&&++f===r&&(c=u),null!==(p=h.nextSibling))break;d=(h=d).parentNode}h=p}n=-1===s||-1===c?null:{start:s,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Gt=!1,$u=t;null!==$u;)if(e=(t=$u).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,$u=e;else for(;null!==$u;){t=$u;try{var v=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==v){var y=v.memoizedProps,m=v.memoizedState,g=t.stateNode,k=g.getSnapshotBeforeUpdate(t.elementType===t.type?y:Gi(t.type,y),m);g.__reactInternalSnapshotBeforeUpdate=k}break;case 3:var b=t.stateNode.containerInfo;if(1===b.nodeType)b.textContent="";else if(9===b.nodeType){var w=b.body;null!=w&&(w.textContent="")}break;default:throw Error(a(163))}}catch(x){Sc(t,t.return,x)}if(null!==(e=t.sibling)){e.return=t.return,$u=e;break}$u=t.return}v=Ju,Ju=!1}(e,n),ds(n,e),pr(ti),Gt=!!ei,ti=ei=null,e.current=n,vs(n,e,i),Ye(),Es=s,kt=u,_s.transition=o}else e.current=n;if(Gs&&(Gs=!1,Ks=e,Hs=i),0===(o=e.pendingLanes)&&(qs=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),nc(e,Xe()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)r(t[n]);if(Bs)throw Bs=!1,e=zs,zs=null,e;0!==(1&Hs)&&0!==e.tag&&wc(),0!==(1&(o=e.pendingLanes))?e===Qs?Ws++:(Ws=0,Qs=e):Ws=0,zi()}(e,t,n,r)}finally{_s.transition=i,kt=r}return null}function wc(){if(null!==Ks){var e=bt(Hs),t=_s.transition,n=kt;try{if(_s.transition=null,kt=16>e?16:e,null===Ks)var r=!1;else{if(e=Ks,Ks=null,Hs=0,0!==(6&Es))throw Error(a(331));var i=Es;for(Es|=4,$u=e.current;null!==$u;){var o=$u,u=o.child;if(0!==(16&$u.flags)){var s=o.deletions;if(null!==s){for(var c=0;c<s.length;c++){var l=s[c];for($u=l;null!==$u;){var f=$u;switch(f.tag){case 0:case 11:case 15:Zu(8,f,o)}var h=f.child;if(null!==h)h.return=f,$u=h;else for(;null!==$u;){var d=(f=$u).sibling,p=f.return;if(ns(f),f===l){$u=null;break}if(null!==d){d.return=p,$u=d;break}$u=p}}}var v=o.alternate;if(null!==v){var y=v.child;if(null!==y){v.child=null;do{var m=y.sibling;y.sibling=null,y=m}while(null!==y)}}$u=o}}if(0!==(2064&o.subtreeFlags)&&null!==u)u.return=o,$u=u;else e:for(;null!==$u;){if(0!==(2048&(o=$u).flags))switch(o.tag){case 0:case 11:case 15:Zu(9,o,o.return)}var g=o.sibling;if(null!==g){g.return=o.return,$u=g;break e}$u=o.return}}var k=e.current;for($u=k;null!==$u;){var b=(u=$u).child;if(0!==(2064&u.subtreeFlags)&&null!==b)b.return=u,$u=b;else e:for(u=k;null!==$u;){if(0!==(2048&(s=$u).flags))try{switch(s.tag){case 0:case 11:case 15:es(9,s)}}catch(x){Sc(s,s.return,x)}if(s===u){$u=null;break e}var w=s.sibling;if(null!==w){w.return=s.return,$u=w;break e}$u=s.return}}if(Es=i,zi(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(it,e)}catch(x){}r=!0}return r}finally{kt=n,_s.transition=t}}return!1}function xc(e,t,n){aa(e,t=hu(0,t=ou(n,t),1)),t=Xs(),null!==(e=ec(e,1))&&(mt(e,1,t),nc(e,t))}function Sc(e,t,n){if(3===e.tag)xc(e,e,n);else for(;null!==t;){if(3===t.tag){xc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===qs||!qs.has(r))){aa(t,e=du(t,e=ou(n,e),1)),e=Xs(),null!==(t=ec(t,1))&&(mt(t,1,e),nc(t,e));break}}t=t.return}}function _c(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=Xs(),e.pingedLanes|=e.suspendedLanes&n,Is===e&&(Cs&n)===n&&(4===Os||3===Os&&(130023424&Cs)===Cs&&500>Xe()-Us?fc(e,0):Ls|=n),nc(e,t)}function Ec(e,t){0===t&&(0===(1&e.mode)?t=1:(t=lt,0===(130023424&(lt<<=1))&&(lt=4194304)));var n=Xs();null!==(e=ec(e,t))&&(mt(e,t,n),nc(e,n))}function Ic(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Ec(e,n)}function Tc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),Ec(e,n)}function Cc(e,t){return We(e,t)}function Nc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ac(e,t,n,r){return new Nc(e,t,n,r)}function Oc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Pc(e,t){var n=e.alternate;return null===n?((n=Ac(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Rc(e,t,n,r,i,o){var u=2;if(r=e,"function"===typeof e)Oc(e)&&(u=1);else if("string"===typeof e)u=5;else e:switch(e){case S:return Dc(n.children,i,o,t);case _:u=8,i|=8;break;case E:return(e=Ac(12,n,t,2|i)).elementType=E,e.lanes=o,e;case N:return(e=Ac(13,n,t,i)).elementType=N,e.lanes=o,e;case A:return(e=Ac(19,n,t,i)).elementType=A,e.lanes=o,e;case R:return Lc(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case I:u=10;break e;case T:u=9;break e;case C:u=11;break e;case O:u=14;break e;case P:u=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Ac(u,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Dc(e,t,n,r){return(e=Ac(7,e,r,t)).lanes=n,e}function Lc(e,t,n,r){return(e=Ac(22,e,r,t)).elementType=R,e.lanes=n,e.stateNode={},e}function Mc(e,t,n){return(e=Ac(6,e,null,t)).lanes=n,e}function Fc(e,t,n){return(t=Ac(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Uc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=yt(0),this.expirationTimes=yt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=yt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function jc(e,t,n,r,i,a,o,u,s){return e=new Uc(e,t,n,u,s),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Ac(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},na(a),e}function Vc(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:x,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function Bc(e){if(!e)return Ti;e:{if(ze(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Pi(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Pi(n))return Li(e,n,t)}return t}function zc(e,t,n,r,i,a,o,u,s){return(e=jc(n,r,!0,e,0,a,0,u,s)).context=Bc(null),n=e.current,(a=ia(r=Xs(),i=Js(n))).callback=void 0!==t&&null!==t?t:null,aa(n,a),e.current.lanes=i,mt(e,i,r),nc(e,r),e}function qc(e,t,n,r){var i=t.current,a=Xs(),o=Js(i);return n=Bc(n),null===t.context?t.context=n:t.pendingContext=n,(t=ia(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),aa(i,t),null!==(e=Zs(i,o,a))&&oa(e,i,o),o}function Gc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Kc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Hc(e,t){Kc(e,t),(e=e.alternate)&&Kc(e,t)}bs=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ni.current)wu=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return wu=!1,function(e,t,n){switch(t.tag){case 3:Ou(t),Va();break;case 5:to(t);break;case 1:Pi(t.type)&&Mi(t);break;case 4:Za(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ii(Ki,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ii(ro,1&ro.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Mu(e,t,n):(Ii(ro,1&ro.current),null!==(e=Gu(e,t,n))?e.sibling:null);Ii(ro,1&ro.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return qu(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ii(ro,ro.current),r)break;return null;case 22:case 23:return t.lanes=0,Iu(e,t,n)}return Gu(e,t,n)}(e,t,n);wu=0!==(131072&e.flags)}else wu=!1,Pa&&0!==(1048576&t.flags)&&Ta(t,ba,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps;var i=Oi(t,Ci.current);Ji(t,n),i=bo(null,t,r,e,i,n);var o=wo();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Pi(r)?(o=!0,Mi(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,na(t),i.updater=ha,t.stateNode=i,i._reactInternals=t,ya(t,r,e,n),t=Au(null,t,r,!0,o,n)):(t.tag=0,Pa&&o&&Ca(t),xu(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Oc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===C)return 11;if(e===O)return 14}return 2}(r),e=Gi(r,e),i){case 0:t=Cu(null,t,r,e,n);break e;case 1:t=Nu(null,t,r,e,n);break e;case 11:t=Su(null,t,r,e,n);break e;case 14:t=_u(null,t,r,Gi(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Cu(e,t,r,i=t.elementType===r?i:Gi(r,i),n);case 1:return r=t.type,i=t.pendingProps,Nu(e,t,r,i=t.elementType===r?i:Gi(r,i),n);case 3:e:{if(Ou(t),null===e)throw Error(a(387));r=t.pendingProps,i=(o=t.memoizedState).element,ra(e,t),sa(t,r,null,n);var u=t.memoizedState;if(r=u.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:u.cache,pendingSuspenseBoundaries:u.pendingSuspenseBoundaries,transitions:u.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Pu(e,t,r,n,i=Error(a(423)));break e}if(r!==i){t=Pu(e,t,r,n,i=Error(a(424)));break e}for(Oa=ci(t.stateNode.containerInfo.firstChild),Aa=t,Pa=!0,Ra=null,n=Wa(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(Va(),r===i){t=Gu(e,t,n);break e}xu(e,t,r,n)}t=t.child}return t;case 5:return to(t),null===e&&Fa(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,u=i.children,ni(r,i)?u=null:null!==o&&ni(r,o)&&(t.flags|=32),Tu(e,t),xu(e,t,u,n),t.child;case 6:return null===e&&Fa(t),null;case 13:return Mu(e,t,n);case 4:return Za(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Ha(t,null,r,n):xu(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Su(e,t,r,i=t.elementType===r?i:Gi(r,i),n);case 7:return xu(e,t,t.pendingProps,n),t.child;case 8:case 12:return xu(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,u=i.value,Ii(Ki,r._currentValue),r._currentValue=u,null!==o)if(ur(o.value,u)){if(o.children===i.children&&!Ni.current){t=Gu(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var s=o.dependencies;if(null!==s){u=o.child;for(var c=s.firstContext;null!==c;){if(c.context===r){if(1===o.tag){(c=ia(-1,n&-n)).tag=2;var l=o.updateQueue;if(null!==l){var f=(l=l.shared).pending;null===f?c.next=c:(c.next=f.next,f.next=c),l.pending=c}}o.lanes|=n,null!==(c=o.alternate)&&(c.lanes|=n),Xi(o.return,n,t),s.lanes|=n;break}c=c.next}}else if(10===o.tag)u=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(u=o.return))throw Error(a(341));u.lanes|=n,null!==(s=u.alternate)&&(s.lanes|=n),Xi(u,n,t),u=o.sibling}else u=o.child;if(null!==u)u.return=o;else for(u=o;null!==u;){if(u===t){u=null;break}if(null!==(o=u.sibling)){o.return=u.return,u=o;break}u=u.return}o=u}xu(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Ji(t,n),r=r(i=Zi(i)),t.flags|=1,xu(e,t,r,n),t.child;case 14:return i=Gi(r=t.type,t.pendingProps),_u(e,t,r,i=Gi(r.type,i),n);case 15:return Eu(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Gi(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,Pi(r)?(e=!0,Mi(t)):e=!1,Ji(t,n),pa(t,r,i),ya(t,r,i,n),Au(null,t,r,!0,e,n);case 19:return qu(e,t,n);case 22:return Iu(e,t,n)}throw Error(a(156,t.tag))};var Wc="function"===typeof reportError?reportError:function(e){console.error(e)};function Qc(e){this._internalRoot=e}function $c(e){this._internalRoot=e}function Yc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Xc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Jc(){}function Zc(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if("function"===typeof i){var u=i;i=function(){var e=Gc(o);u.call(e)}}qc(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var a=r;r=function(){var e=Gc(o);a.call(e)}}var o=zc(t,r,e,0,null,!1,0,"",Jc);return e._reactRootContainer=o,e[pi]=o.current,zr(8===e.nodeType?e.parentNode:e),cc(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var u=r;r=function(){var e=Gc(s);u.call(e)}}var s=jc(e,0,!1,null,0,!1,0,"",Jc);return e._reactRootContainer=s,e[pi]=s.current,zr(8===e.nodeType?e.parentNode:e),cc((function(){qc(t,s,n,r)})),s}(n,t,e,i,r);return Gc(o)}$c.prototype.render=Qc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));qc(e,t,null,null)},$c.prototype.unmount=Qc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;cc((function(){qc(null,e,null,null)})),t[pi]=null}},$c.prototype.unstable_scheduleHydration=function(e){if(e){var t=_t();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Rt.length&&0!==t&&t<Rt[n].priority;n++);Rt.splice(n,0,e),0===n&&Ft(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ft(t.pendingLanes);0!==n&&(gt(t,1|n),nc(t,Xe()),0===(6&Es)&&(js=Xe()+500,zi()))}break;case 13:var r=Xs();cc((function(){return Zs(e,1,r)})),Hc(e,1)}},xt=function(e){13===e.tag&&(Zs(e,134217728,Xs()),Hc(e,134217728))},St=function(e){if(13===e.tag){var t=Xs(),n=Js(e);Zs(e,n,t),Hc(e,n)}},_t=function(){return kt},Et=function(e,t){var n=kt;try{return kt=e,t()}finally{kt=n}},xe=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=wi(r);if(!i)throw Error(a(90));W(r),J(r,i)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ce=sc,Ne=cc;var el={usingClientEntryPoint:!1,Events:[ki,bi,wi,Ie,Te,sc]},tl={findFiberByHostInstance:gi,bundleType:0,version:"18.1.0",rendererPackageName:"react-dom"},nl={bundleType:tl.bundleType,version:tl.version,rendererPackageName:tl.rendererPackageName,rendererConfig:tl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ke(e))?null:e.stateNode},findFiberByHostInstance:tl.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.1.0-next-22edb9f77-20220426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var rl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rl.isDisabled&&rl.supportsFiber)try{it=rl.inject(nl),at=rl}catch(le){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=el,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Yc(t))throw Error(a(200));return Vc(e,t,null,n)},t.createRoot=function(e,t){if(!Yc(e))throw Error(a(299));var n=!1,r="",i=Wc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=jc(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,zr(8===e.nodeType?e.parentNode:e),new Qc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=Ke(t))?null:e.stateNode},t.flushSync=function(e){return cc(e)},t.hydrate=function(e,t,n){if(!Xc(t))throw Error(a(200));return Zc(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Yc(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",u=Wc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(u=n.onRecoverableError)),t=zc(t,null,e,1,null!=n?n:null,i,0,o,u),e[pi]=t.current,zr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new $c(t)},t.render=function(e,t,n){if(!Xc(t))throw Error(a(200));return Zc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Xc(e))throw Error(a(40));return!!e._reactRootContainer&&(cc((function(){Zc(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=sc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Xc(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return Zc(e,t,n,!1,r)},t.version="18.1.0-next-22edb9f77-20220426"},250:function(e,t,n){"use strict";var r=n(164);t.s=r.createRoot,r.hydrateRoot},164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},372:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,u=n?Symbol.for("react.profiler"):60114,s=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,d=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,v=n?Symbol.for("react.memo"):60115,y=n?Symbol.for("react.lazy"):60116,m=n?Symbol.for("react.block"):60121,g=n?Symbol.for("react.fundamental"):60117,k=n?Symbol.for("react.responder"):60118,b=n?Symbol.for("react.scope"):60119;function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case l:case f:case a:case u:case o:case d:return e;default:switch(e=e&&e.$$typeof){case c:case h:case y:case v:case s:return e;default:return t}}case i:return t}}}function x(e){return w(e)===f}t.AsyncMode=l,t.ConcurrentMode=f,t.ContextConsumer=c,t.ContextProvider=s,t.Element=r,t.ForwardRef=h,t.Fragment=a,t.Lazy=y,t.Memo=v,t.Portal=i,t.Profiler=u,t.StrictMode=o,t.Suspense=d,t.isAsyncMode=function(e){return x(e)||w(e)===l},t.isConcurrentMode=x,t.isContextConsumer=function(e){return w(e)===c},t.isContextProvider=function(e){return w(e)===s},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return w(e)===h},t.isFragment=function(e){return w(e)===a},t.isLazy=function(e){return w(e)===y},t.isMemo=function(e){return w(e)===v},t.isPortal=function(e){return w(e)===i},t.isProfiler=function(e){return w(e)===u},t.isStrictMode=function(e){return w(e)===o},t.isSuspense=function(e){return w(e)===d},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===a||e===f||e===u||e===o||e===d||e===p||"object"===typeof e&&null!==e&&(e.$$typeof===y||e.$$typeof===v||e.$$typeof===s||e.$$typeof===c||e.$$typeof===h||e.$$typeof===g||e.$$typeof===k||e.$$typeof===b||e.$$typeof===m)},t.typeOf=w},441:function(e,t,n){"use strict";e.exports=n(372)},459:function(e,t){"use strict";var n,r=Symbol.for("react.element"),i=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),c=Symbol.for("react.context"),l=Symbol.for("react.server_context"),f=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),y=Symbol.for("react.offscreen");function m(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case a:case u:case o:case h:case d:return e;default:switch(e=e&&e.$$typeof){case l:case c:case f:case v:case p:case s:return e;default:return t}}case i:return t}}}n=Symbol.for("react.module.reference"),t.isContextConsumer=function(e){return m(e)===c}},900:function(e,t,n){"use strict";e.exports=n(459)},210:function(e,t,n){"use strict";var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=u(n(791)),o=u(n(7));function u(e){return e&&e.__esModule?e:{default:e}}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var c=!1,l=!1,f=!1,h=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onScriptLoaded=function(){t.stripeHandler||(t.stripeHandler=StripeCheckout.configure({key:n.props.stripeKey}),n.hasPendingClick&&n.showStripeDialog())},n.onScriptError=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];n.hideLoadingDialog(),n.props.onScriptError&&n.props.onScriptError.apply(n,t)},n.onClosed=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];n._isMounted&&n.setState({open:!1}),n.props.closed&&n.props.closed.apply(n,t)},n.onOpened=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];n.setState({open:!0}),n.props.opened&&n.props.opened.apply(n,t)},n.getConfig=function(){return["token","image","name","description","amount","locale","currency","panelLabel","zipCode","shippingAddress","billingAddress","email","allowRememberMe","bitcoin","alipay","alipayReusable"].reduce((function(e,t){return r({},e,n.props.hasOwnProperty(t)&&s({},t,n.props[t]))}),{opened:n.onOpened,closed:n.onClosed})},n.onClick=function(){if(!n.props.disabled)if(f)try{throw new Error("Tried to call onClick, but StripeCheckout failed to load")}catch(e){}else t.stripeHandler?n.showStripeDialog():(n.showLoadingDialog(),n.hasPendingClick=!0)},n.handleOnMouseDown=function(){n.setState({buttonActive:!0})},n.handleOnMouseUp=function(){n.setState({buttonActive:!1})},n.state={open:!1,buttonActive:!1},n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"componentDidMount",value:function(){var e=this;if(this._isMounted=!0,!l&&!c){c=!0;var t=document.createElement("script");"function"===typeof this.props.onScriptTagCreated&&this.props.onScriptTagCreated(t),t.src="https://checkout.stripe.com/checkout.js",t.async=1,this.loadPromise=function(){var n=!1,r=new Promise((function(n,r){t.onload=function(){l=!0,c=!1,n(),e.onScriptLoaded()},t.onerror=function(t){f=!0,c=!1,r(t),e.onScriptError(t)}}));return{promise:new Promise((function(e,t){r.then((function(){return n?t({isCanceled:!0}):e()})),r.catch((function(e){return t(n?{isCanceled:!0}:e)}))})),cancel:function(){n=!0}}}(),this.loadPromise.promise.then(this.onScriptLoaded).catch(this.onScriptError),document.body.appendChild(t)}}},{key:"componentDidUpdate",value:function(){c||this.updateStripeHandler()}},{key:"componentWillUnmount",value:function(){this._isMounted=!1,this.loadPromise&&this.loadPromise.cancel(),t.stripeHandler&&this.state.open&&t.stripeHandler.close()}},{key:"updateStripeHandler",value:function(){t.stripeHandler&&!this.props.reconfigureOnUpdate||(t.stripeHandler=StripeCheckout.configure({key:this.props.stripeKey}))}},{key:"showLoadingDialog",value:function(){if(this.props.showLoadingDialog){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];this.props.showLoadingDialog.apply(this,t)}}},{key:"hideLoadingDialog",value:function(){if(this.props.hideLoadingDialog){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];this.props.hideLoadingDialog.apply(this,t)}}},{key:"showStripeDialog",value:function(){this.hideLoadingDialog(),t.stripeHandler.open(this.getConfig())}},{key:"renderDefaultStripeButton",value:function(){return a.default.createElement("button",r({},s({},this.props.triggerEvent,this.onClick),{className:this.props.className,onMouseDown:this.handleOnMouseDown,onFocus:this.handleOnMouseDown,onMouseUp:this.handleOnMouseUp,onMouseOut:this.handleOnMouseUp,onBlur:this.handleOnMouseUp,style:r({},{overflow:"hidden",display:"inline-block",background:"linear-gradient(#28a0e5,#015e94)",border:0,padding:1,textDecoration:"none",borderRadius:5,boxShadow:"0 1px 0 rgba(0,0,0,0.2)",cursor:"pointer",visibility:"visible",userSelect:"none"},this.state.buttonActive&&{background:"#005d93"},this.props.style)}),a.default.createElement("span",{style:r({},{backgroundImage:"linear-gradient(#7dc5ee,#008cdd 85%,#30a2e4)",fontFamily:'"Helvetica Neue",Helvetica,Arial,sans-serif',fontSize:14,position:"relative",padding:"0 12px",display:"block",height:30,lineHeight:"30px",color:"#fff",fontWeight:"bold",boxShadow:"inset 0 1px 0 rgba(255,255,255,0.25)",textShadow:"0 -1px 0 rgba(0,0,0,0.25)",borderRadius:4},this.state.buttonActive&&{color:"#eee",boxShadow:"inset 0 1px 0 rgba(0,0,0,0.1)",backgroundImage:"linear-gradient(#008cdd,#008cdd 85%,#239adf)"},this.props.textStyle)},this.props.label))}},{key:"renderDisabledButton",value:function(){return a.default.createElement("button",{disabled:!0,style:{background:"rgba(0,0,0,0.2)",overflow:"hidden",display:"inline-block",border:0,padding:1,textDecoration:"none",borderRadius:5,userSelect:"none"}},a.default.createElement("span",{style:{boxShadow:"inset 0 1px 0 rgba(255,255,255,0.25)",fontFamily:'"Helvetica Neue",Helvetica,Arial,sans-serif',fontSize:14,position:"relative",padding:"0 12px",display:"block",height:30,lineHeight:"30px",borderRadius:4,color:"#999",background:"#f8f9fa",textShadow:"0 1px 0 rgba(255,255,255,0.5)"}},this.props.label))}},{key:"render",value:function(){!0!==this.props.desktopShowModal||this.state.open?!1===this.props.desktopShowModal&&this.state.open&&t.stripeHandler.close():this.onClick();var e=this.props.ComponentClass;return this.props.children?a.default.createElement(e,r({},s({},this.props.triggerEvent,this.onClick),{children:this.props.children})):this.props.disabled?this.renderDisabledButton():this.renderDefaultStripeButton()}}]),t}(a.default.Component);h.defaultProps={className:"StripeCheckout",label:"Pay With Card",locale:"auto",ComponentClass:"span",reconfigureOnUpdate:!1,triggerEvent:"onClick"},h.propTypes={desktopShowModal:o.default.bool,triggerEvent:o.default.oneOf(["onClick","onTouchTap","onTouchStart"]),label:o.default.string,style:o.default.object,textStyle:o.default.object,disabled:o.default.bool,ComponentClass:o.default.string,showLoadingDialog:o.default.func,hideLoadingDialog:o.default.func,onScriptError:o.default.func,onScriptTagCreated:o.default.func,reconfigureOnUpdate:o.default.bool,stripeKey:o.default.string.isRequired,token:o.default.func.isRequired,name:o.default.string,description:o.default.string,image:o.default.string,amount:o.default.number,locale:o.default.oneOf(["auto","zh","da","nl","en","fr","de","it","ja","no","es","sv"]),currency:o.default.oneOf(["AED","AFN","ALL","AMD","ANG","AOA","ARS","AUD","AWG","AZN","BAM","BBD","BDT","BGN","BIF","BMD","BND","BOB","BRL","BSD","BWP","BZD","CAD","CDF","CHF","CLP","CNY","COP","CRC","CVE","CZK","DJF","DKK","DOP","DZD","EEK","EGP","ETB","EUR","FJD","FKP","GBP","GEL","GIP","GMD","GNF","GTQ","GYD","HKD","HNL","HRK","HTG","HUF","IDR","ILS","INR","ISK","JMD","JPY","KES","KGS","KHR","KMF","KRW","KYD","KZT","LAK","LBP","LKR","LRD","LSL","LTL","LVL","MAD","MDL","MGA","MKD","MNT","MOP","MRO","MUR","MVR","MWK","MXN","MYR","MZN","NAD","NGN","NIO","NOK","NPR","NZD","PAB","PEN","PGK","PHP","PKR","PLN","PYG","QAR","RON","RSD","RUB","RWF","SAR","SBD","SCR","SEK","SGD","SHP","SLL","SOS","SRD","STD","SVC","SZL","THB","TJS","TOP","TRY","TTD","TWD","TZS","UAH","UGX","USD","UYU","UZS","VND","VUV","WST","XAF","XCD","XOF","XPF","YER","ZAR","ZMW"]),panelLabel:o.default.string,zipCode:o.default.bool,billingAddress:o.default.bool,shippingAddress:o.default.bool,email:o.default.string,allowRememberMe:o.default.bool,bitcoin:o.default.bool,alipay:o.default.oneOf(["auto",!0,!1]),alipayReusable:o.default.bool,opened:o.default.func,closed:o.default.func},h._isMounted=!1,t.Z=h},374:function(e,t,n){"use strict";var r=n(791),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,u=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)o.call(t,r)&&!s.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:a,_owner:u.current}}t.Fragment=a,t.jsx=c,t.jsxs=c},117:function(e,t){"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),s=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),d=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,y={};function m(e,t,n){this.props=e,this.context=t,this.refs=y,this.updater=n||p}function g(){}function k(e,t,n){this.props=e,this.context=t,this.refs=y,this.updater=n||p}m.prototype.isReactComponent={},m.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},m.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},g.prototype=m.prototype;var b=k.prototype=new g;b.constructor=k,v(b,m.prototype),b.isPureReactComponent=!0;var w=Array.isArray,x=Object.prototype.hasOwnProperty,S={current:null},_={key:!0,ref:!0,__self:!0,__source:!0};function E(e,t,r){var i,a={},o=null,u=null;if(null!=t)for(i in void 0!==t.ref&&(u=t.ref),void 0!==t.key&&(o=""+t.key),t)x.call(t,i)&&!_.hasOwnProperty(i)&&(a[i]=t[i]);var s=arguments.length-2;if(1===s)a.children=r;else if(1<s){for(var c=Array(s),l=0;l<s;l++)c[l]=arguments[l+2];a.children=c}if(e&&e.defaultProps)for(i in s=e.defaultProps)void 0===a[i]&&(a[i]=s[i]);return{$$typeof:n,type:e,key:o,ref:u,props:a,_owner:S.current}}function I(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var T=/\/+/g;function C(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function N(e,t,i,a,o){var u=typeof e;"undefined"!==u&&"boolean"!==u||(e=null);var s=!1;if(null===e)s=!0;else switch(u){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case n:case r:s=!0}}if(s)return o=o(s=e),e=""===a?"."+C(s,0):a,w(o)?(i="",null!=e&&(i=e.replace(T,"$&/")+"/"),N(o,t,i,"",(function(e){return e}))):null!=o&&(I(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||s&&s.key===o.key?"":(""+o.key).replace(T,"$&/")+"/")+e)),t.push(o)),1;if(s=0,a=""===a?".":a+":",w(e))for(var c=0;c<e.length;c++){var l=a+C(u=e[c],c);s+=N(u,t,i,l,o)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(u=e.next()).done;)s+=N(u=u.value,t,i,l=a+C(u,c++),o);else if("object"===u)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function A(e,t,n){if(null==e)return e;var r=[],i=0;return N(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function O(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var P={current:null},R={transition:null},D={ReactCurrentDispatcher:P,ReactCurrentBatchConfig:R,ReactCurrentOwner:S};t.Children={map:A,forEach:function(e,t,n){A(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return A(e,(function(){t++})),t},toArray:function(e){return A(e,(function(e){return e}))||[]},only:function(e){if(!I(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=m,t.Fragment=i,t.Profiler=o,t.PureComponent=k,t.StrictMode=a,t.Suspense=l,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=v({},e.props),a=e.key,o=e.ref,u=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,u=S.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(c in t)x.call(t,c)&&!_.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==s?s[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){s=Array(c);for(var l=0;l<c;l++)s[l]=arguments[l+2];i.children=s}return{$$typeof:n,type:e.type,key:a,ref:o,props:i,_owner:u}},t.createContext=function(e){return(e={$$typeof:s,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:u,_context:e},e.Consumer=e},t.createElement=E,t.createFactory=function(e){var t=E.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=I,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:O}},t.memo=function(e,t){return{$$typeof:f,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=R.transition;R.transition={};try{e()}finally{R.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return P.current.useCallback(e,t)},t.useContext=function(e){return P.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return P.current.useDeferredValue(e)},t.useEffect=function(e,t){return P.current.useEffect(e,t)},t.useId=function(){return P.current.useId()},t.useImperativeHandle=function(e,t,n){return P.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return P.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return P.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return P.current.useMemo(e,t)},t.useReducer=function(e,t,n){return P.current.useReducer(e,t,n)},t.useRef=function(e){return P.current.useRef(e)},t.useState=function(e){return P.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return P.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return P.current.useTransition()},t.version="18.1.0"},791:function(e,t,n){"use strict";e.exports=n(117)},184:function(e,t,n){"use strict";e.exports=n(374)},896:function(e,t,n){!function(e){"use strict";function t(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}function r(e,t){Object.defineProperty(this,"kind",{value:e,enumerable:!0}),t&&t.length&&Object.defineProperty(this,"path",{value:t,enumerable:!0})}function i(e,t,n){i.super_.call(this,"E",e),Object.defineProperty(this,"lhs",{value:t,enumerable:!0}),Object.defineProperty(this,"rhs",{value:n,enumerable:!0})}function a(e,t){a.super_.call(this,"N",e),Object.defineProperty(this,"rhs",{value:t,enumerable:!0})}function o(e,t){o.super_.call(this,"D",e),Object.defineProperty(this,"lhs",{value:t,enumerable:!0})}function u(e,t,n){u.super_.call(this,"A",e),Object.defineProperty(this,"index",{value:t,enumerable:!0}),Object.defineProperty(this,"item",{value:n,enumerable:!0})}function s(e,t,n){var r=e.slice((n||t)+1||e.length);return e.length=t<0?e.length+t:t,e.push.apply(e,r),e}function c(e){var t="undefined"==typeof e?"undefined":A(e);return"object"!==t?t:e===Math?"math":null===e?"null":Array.isArray(e)?"array":"[object Date]"===Object.prototype.toString.call(e)?"date":"function"==typeof e.toString&&/^\/.*\//.test(e.toString())?"regexp":"object"}function l(e,t,n,r,f,h,d){d=d||[];var p=(f=f||[]).slice(0);if("undefined"!=typeof h){if(r){if("function"==typeof r&&r(p,h))return;if("object"===("undefined"==typeof r?"undefined":A(r))){if(r.prefilter&&r.prefilter(p,h))return;if(r.normalize){var v=r.normalize(p,h,e,t);v&&(e=v[0],t=v[1])}}}p.push(h)}"regexp"===c(e)&&"regexp"===c(t)&&(e=e.toString(),t=t.toString());var y="undefined"==typeof e?"undefined":A(e),m="undefined"==typeof t?"undefined":A(t),g="undefined"!==y||d&&d[d.length-1].lhs&&d[d.length-1].lhs.hasOwnProperty(h),k="undefined"!==m||d&&d[d.length-1].rhs&&d[d.length-1].rhs.hasOwnProperty(h);if(!g&&k)n(new a(p,t));else if(!k&&g)n(new o(p,e));else if(c(e)!==c(t))n(new i(p,e,t));else if("date"===c(e)&&e-t!==0)n(new i(p,e,t));else if("object"===y&&null!==e&&null!==t)if(d.filter((function(t){return t.lhs===e})).length)e!==t&&n(new i(p,e,t));else{if(d.push({lhs:e,rhs:t}),Array.isArray(e)){var b;for(e.length,b=0;b<e.length;b++)b>=t.length?n(new u(p,b,new o(void 0,e[b]))):l(e[b],t[b],n,r,p,b,d);for(;b<t.length;)n(new u(p,b,new a(void 0,t[b++])))}else{var w=Object.keys(e),x=Object.keys(t);w.forEach((function(i,a){var o=x.indexOf(i);o>=0?(l(e[i],t[i],n,r,p,i,d),x=s(x,o)):l(e[i],void 0,n,r,p,i,d)})),x.forEach((function(e){l(void 0,t[e],n,r,p,e,d)}))}d.length=d.length-1}else e!==t&&("number"===y&&isNaN(e)&&isNaN(t)||n(new i(p,e,t)))}function f(e,t,n,r){return r=r||[],l(e,t,(function(e){e&&r.push(e)}),n),r.length?r:void 0}function h(e,t,n){if(n.path&&n.path.length){var r,i=e[t],a=n.path.length-1;for(r=0;r<a;r++)i=i[n.path[r]];switch(n.kind){case"A":h(i[n.path[r]],n.index,n.item);break;case"D":delete i[n.path[r]];break;case"E":case"N":i[n.path[r]]=n.rhs}}else switch(n.kind){case"A":h(e[t],n.index,n.item);break;case"D":e=s(e,t);break;case"E":case"N":e[t]=n.rhs}return e}function d(e,t,n){if(e&&t&&n&&n.kind){for(var r=e,i=-1,a=n.path?n.path.length-1:0;++i<a;)"undefined"==typeof r[n.path[i]]&&(r[n.path[i]]="number"==typeof n.path[i]?[]:{}),r=r[n.path[i]];switch(n.kind){case"A":h(n.path?r[n.path[i]]:r,n.index,n.item);break;case"D":delete r[n.path[i]];break;case"E":case"N":r[n.path[i]]=n.rhs}}}function p(e,t,n){if(n.path&&n.path.length){var r,i=e[t],a=n.path.length-1;for(r=0;r<a;r++)i=i[n.path[r]];switch(n.kind){case"A":p(i[n.path[r]],n.index,n.item);break;case"D":case"E":i[n.path[r]]=n.lhs;break;case"N":delete i[n.path[r]]}}else switch(n.kind){case"A":p(e[t],n.index,n.item);break;case"D":case"E":e[t]=n.lhs;break;case"N":e=s(e,t)}return e}function v(e,t,n){if(e&&t&&n&&n.kind){var r,i,a=e;for(i=n.path.length-1,r=0;r<i;r++)"undefined"==typeof a[n.path[r]]&&(a[n.path[r]]={}),a=a[n.path[r]];switch(n.kind){case"A":p(a[n.path[r]],n.index,n.item);break;case"D":case"E":a[n.path[r]]=n.lhs;break;case"N":delete a[n.path[r]]}}}function y(e,t,n){e&&t&&l(e,t,(function(r){n&&!n(e,t,r)||d(e,t,r)}))}function m(e){return"color: "+R[e].color+"; font-weight: bold"}function g(e){var t=e.kind,n=e.path,r=e.lhs,i=e.rhs,a=e.index,o=e.item;switch(t){case"E":return[n.join("."),r,"\u2192",i];case"N":return[n.join("."),i];case"D":return[n.join(".")];case"A":return[n.join(".")+"["+a+"]",o];default:return[]}}function k(e,t,n,r){var i=f(e,t);try{r?n.groupCollapsed("diff"):n.group("diff")}catch(e){n.log("diff")}i?i.forEach((function(e){var t=e.kind,r=g(e);n.log.apply(n,["%c "+R[t].text,m(t)].concat(O(r)))})):n.log("\u2014\u2014 no diff \u2014\u2014");try{n.groupEnd()}catch(e){n.log("\u2014\u2014 diff end \u2014\u2014 ")}}function b(e,t,n,r){switch("undefined"==typeof e?"undefined":A(e)){case"object":return"function"==typeof e[r]?e[r].apply(e,O(n)):e[r];case"function":return e(t);default:return e}}function w(e){var t=e.timestamp,n=e.duration;return function(e,r,i){var a=["action"];return a.push("%c"+String(e.type)),t&&a.push("%c@ "+r),n&&a.push("%c(in "+i.toFixed(2)+" ms)"),a.join(" ")}}function x(e,t){var n=t.logger,r=t.actionTransformer,i=t.titleFormatter,a=void 0===i?w(t):i,o=t.collapsed,u=t.colors,s=t.level,c=t.diff,l="undefined"==typeof t.titleFormatter;e.forEach((function(i,f){var h=i.started,d=i.startedTime,p=i.action,v=i.prevState,y=i.error,m=i.took,g=i.nextState,w=e[f+1];w&&(g=w.prevState,m=w.started-h);var x=r(p),S="function"==typeof o?o((function(){return g}),p,i):o,_=C(d),E=u.title?"color: "+u.title(x)+";":"",I=["color: gray; font-weight: lighter;"];I.push(E),t.timestamp&&I.push("color: gray; font-weight: lighter;"),t.duration&&I.push("color: gray; font-weight: lighter;");var T=a(x,_,m);try{S?u.title&&l?n.groupCollapsed.apply(n,["%c "+T].concat(I)):n.groupCollapsed(T):u.title&&l?n.group.apply(n,["%c "+T].concat(I)):n.group(T)}catch(e){n.log(T)}var N=b(s,x,[v],"prevState"),A=b(s,x,[x],"action"),O=b(s,x,[y,v],"error"),P=b(s,x,[g],"nextState");if(N)if(u.prevState){var R="color: "+u.prevState(v)+"; font-weight: bold";n[N]("%c prev state",R,v)}else n[N]("prev state",v);if(A)if(u.action){var D="color: "+u.action(x)+"; font-weight: bold";n[A]("%c action    ",D,x)}else n[A]("action    ",x);if(y&&O)if(u.error){var L="color: "+u.error(y,v)+"; font-weight: bold;";n[O]("%c error     ",L,y)}else n[O]("error     ",y);if(P)if(u.nextState){var M="color: "+u.nextState(g)+"; font-weight: bold";n[P]("%c next state",M,g)}else n[P]("next state",g);c&&k(v,g,n,S);try{n.groupEnd()}catch(e){n.log("\u2014\u2014 log end \u2014\u2014")}}))}function S(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object.assign({},D,e),n=t.logger,r=t.stateTransformer,i=t.errorTransformer,a=t.predicate,o=t.logErrors,u=t.diffPredicate;if("undefined"==typeof n)return function(){return function(e){return function(t){return e(t)}}};if(e.getState&&e.dispatch)return console.error("[redux-logger] redux-logger not installed. Make sure to pass logger instance as middleware:\n// Logger with default options\nimport { logger } from 'redux-logger'\nconst store = createStore(\n  reducer,\n  applyMiddleware(logger)\n)\n// Or you can create your own logger with custom options http://bit.ly/redux-logger-options\nimport createLogger from 'redux-logger'\nconst logger = createLogger({\n  // ...options\n});\nconst store = createStore(\n  reducer,\n  applyMiddleware(logger)\n)\n"),function(){return function(e){return function(t){return e(t)}}};var s=[];return function(e){var n=e.getState;return function(e){return function(c){if("function"==typeof a&&!a(n,c))return e(c);var l={};s.push(l),l.started=N.now(),l.startedTime=new Date,l.prevState=r(n()),l.action=c;var f=void 0;if(o)try{f=e(c)}catch(e){l.error=i(e)}else f=e(c);l.took=N.now()-l.started,l.nextState=r(n());var h=t.diff&&"function"==typeof u?u(n,c):t.diff;if(x(s,Object.assign({},t,{diff:h})),s.length=0,l.error)throw l.error;return f}}}}var _,E,I=function(e,t){return new Array(t+1).join(e)},T=function(e,t){return I("0",t-e.toString().length)+e},C=function(e){return T(e.getHours(),2)+":"+T(e.getMinutes(),2)+":"+T(e.getSeconds(),2)+"."+T(e.getMilliseconds(),3)},N="undefined"!=typeof performance&&null!==performance&&"function"==typeof performance.now?performance:Date,A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},O=function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)},P=[];_="object"===("undefined"==typeof n.g?"undefined":A(n.g))&&n.g?n.g:"undefined"!=typeof window?window:{},(E=_.DeepDiff)&&P.push((function(){"undefined"!=typeof E&&_.DeepDiff===f&&(_.DeepDiff=E,E=void 0)})),t(i,r),t(a,r),t(o,r),t(u,r),Object.defineProperties(f,{diff:{value:f,enumerable:!0},observableDiff:{value:l,enumerable:!0},applyDiff:{value:y,enumerable:!0},applyChange:{value:d,enumerable:!0},revertChange:{value:v,enumerable:!0},isConflict:{value:function(){return"undefined"!=typeof E},enumerable:!0},noConflict:{value:function(){return P&&(P.forEach((function(e){e()})),P=null),f},enumerable:!0}});var R={E:{color:"#2196F3",text:"CHANGED:"},N:{color:"#4CAF50",text:"ADDED:"},D:{color:"#F44336",text:"DELETED:"},A:{color:"#2196F3",text:"ARRAY:"}},D={level:"log",logger:console,logErrors:!0,collapsed:void 0,predicate:void 0,duration:!1,timestamp:!0,stateTransformer:function(e){return e},actionTransformer:function(e){return e},errorTransformer:function(e){return e},colors:{title:function(){return"inherit"},prevState:function(){return"#9E9E9E"},action:function(){return"#03A9F4"},nextState:function(){return"#4CAF50"},error:function(){return"#F20404"}},diff:!1,diffPredicate:void 0,transformer:void 0},L=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.dispatch,n=e.getState;return"function"==typeof t||"function"==typeof n?S()({dispatch:t,getState:n}):void console.error("\n[redux-logger v3] BREAKING CHANGE\n[redux-logger v3] Since 3.0.0 redux-logger exports by default logger with default settings.\n[redux-logger v3] Change\n[redux-logger v3] import createLogger from 'redux-logger'\n[redux-logger v3] to\n[redux-logger v3] import { createLogger } from 'redux-logger'\n")};e.defaults=D,e.createLogger=S,e.logger=L,e.default=L,Object.defineProperty(e,"__esModule",{value:!0})}(t)},315:function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){var t=(0,i.default)(e);return{getItem:function(e){return new Promise((function(n,r){n(t.getItem(e))}))},setItem:function(e,n){return new Promise((function(r,i){r(t.setItem(e,n))}))},removeItem:function(e){return new Promise((function(n,r){n(t.removeItem(e))}))}}};var r,i=(r=n(53))&&r.__esModule?r:{default:r}},53:function(e,t){"use strict";function n(e){return n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function r(){}t.__esModule=!0,t.default=function(e){var t="".concat(e,"Storage");return function(e){if("object"!==("undefined"===typeof self?"undefined":n(self))||!(e in self))return!1;try{var t=self[e],r="redux-persist ".concat(e," test");t.setItem(r,"test"),t.getItem(r),t.removeItem(r)}catch(i){return!1}return!0}(t)?self[t]:i};var i={getItem:r,setItem:r,removeItem:r}},752:function(e,t,n){"use strict";var r;t.Z=void 0;var i=(0,((r=n(315))&&r.__esModule?r:{default:r}).default)("local");t.Z=i},727:function(e){var t=function(e){"use strict";var t,n=Object.prototype,r=n.hasOwnProperty,i="function"===typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(O){s=function(e,t,n){return e[t]=n}}function c(e,t,n,r){var i=t&&t.prototype instanceof y?t:y,a=Object.create(i.prototype),o=new C(r||[]);return a._invoke=function(e,t,n){var r=f;return function(i,a){if(r===d)throw new Error("Generator is already running");if(r===p){if("throw"===i)throw a;return A()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var u=E(o,n);if(u){if(u===v)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===f)throw r=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=d;var s=l(e,t,n);if("normal"===s.type){if(r=n.done?p:h,s.arg===v)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r=p,n.method="throw",n.arg=s.arg)}}}(e,n,o),a}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(O){return{type:"throw",arg:O}}}e.wrap=c;var f="suspendedStart",h="suspendedYield",d="executing",p="completed",v={};function y(){}function m(){}function g(){}var k={};s(k,a,(function(){return this}));var b=Object.getPrototypeOf,w=b&&b(b(N([])));w&&w!==n&&r.call(w,a)&&(k=w);var x=g.prototype=y.prototype=Object.create(k);function S(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function _(e,t){function n(i,a,o,u){var s=l(e[i],e,a);if("throw"!==s.type){var c=s.arg,f=c.value;return f&&"object"===typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,o,u)}),(function(e){n("throw",e,o,u)})):t.resolve(f).then((function(e){c.value=e,o(c)}),(function(e){return n("throw",e,o,u)}))}u(s.arg)}var i;this._invoke=function(e,r){function a(){return new t((function(t,i){n(e,r,t,i)}))}return i=i?i.then(a,a):a()}}function E(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,E(e,n),"throw"===n.method))return v;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var i=l(r,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,v):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function I(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(I,this),this.reset(!0)}function N(e){if(e){var n=e[a];if(n)return n.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}return{next:A}}function A(){return{value:t,done:!0}}return m.prototype=g,s(x,"constructor",g),s(g,"constructor",m),m.displayName=s(g,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,s(e,u,"GeneratorFunction")),e.prototype=Object.create(x),e},e.awrap=function(e){return{__await:e}},S(_.prototype),s(_.prototype,o,(function(){return this})),e.AsyncIterator=_,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new _(c(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},S(x),s(x,u,"Generator"),s(x,a,(function(){return this})),s(x,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=N,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(T),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return u.type="throw",u.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],u=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),c=r.call(o,"finallyLoc");if(s&&c){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,v):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),T(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;T(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:N(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),v}},e}(e.exports);try{regeneratorRuntime=t}catch(n){"object"===typeof globalThis?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}},813:function(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var u=2*(r+1)-1,s=e[u],c=u+1,l=e[c];if(0>a(s,n))c<i&&0>a(l,s)?(e[r]=l,e[c]=n,r=c):(e[r]=s,e[u]=n,r=u);else{if(!(c<i&&0>a(l,n)))break e;e[r]=l,e[c]=n,r=c}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var u=Date,s=u.now();t.unstable_now=function(){return u.now()-s}}var c=[],l=[],f=1,h=null,d=3,p=!1,v=!1,y=!1,m="function"===typeof setTimeout?setTimeout:null,g="function"===typeof clearTimeout?clearTimeout:null,k="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=r(l);null!==t;){if(null===t.callback)i(l);else{if(!(t.startTime<=e))break;i(l),t.sortIndex=t.expirationTime,n(c,t)}t=r(l)}}function w(e){if(y=!1,b(e),!v)if(null!==r(c))v=!0,R(x);else{var t=r(l);null!==t&&D(w,t.startTime-e)}}function x(e,n){v=!1,y&&(y=!1,g(I),I=-1),p=!0;var a=d;try{for(b(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!N());){var o=h.callback;if("function"===typeof o){h.callback=null,d=h.priorityLevel;var u=o(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof u?h.callback=u:h===r(c)&&i(c),b(n)}else i(c);h=r(c)}if(null!==h)var s=!0;else{var f=r(l);null!==f&&D(w,f.startTime-n),s=!1}return s}finally{h=null,d=a,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var S,_=!1,E=null,I=-1,T=5,C=-1;function N(){return!(t.unstable_now()-C<T)}function A(){if(null!==E){var e=t.unstable_now();C=e;var n=!0;try{n=E(!0,e)}finally{n?S():(_=!1,E=null)}}else _=!1}if("function"===typeof k)S=function(){k(A)};else if("undefined"!==typeof MessageChannel){var O=new MessageChannel,P=O.port2;O.port1.onmessage=A,S=function(){P.postMessage(null)}}else S=function(){m(A,0)};function R(e){E=e,_||(_=!0,S())}function D(e,n){I=m((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,R(x))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(d){case 1:case 2:case 3:var t=3;break;default:t=d}var n=d;d=t;try{return e()}finally{d=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=d;d=e;try{return t()}finally{d=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var u=-1;break;case 2:u=250;break;case 5:u=1073741823;break;case 4:u=1e4;break;default:u=5e3}return e={id:f++,callback:i,priorityLevel:e,startTime:a,expirationTime:u=a+u,sortIndex:-1},a>o?(e.sortIndex=a,n(l,e),null===r(c)&&e===r(l)&&(y?(g(I),I=-1):y=!0,D(w,a-o))):(e.sortIndex=u,n(c,e),v||p||(v=!0,R(x))),e},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(e){var t=d;return function(){var n=d;d=t;try{return e.apply(this,arguments)}finally{d=n}}}},296:function(e,t,n){"use strict";e.exports=n(813)},613:function(e){e.exports=function(e,t,n,r){var i=n?n.call(r,e,t):void 0;if(void 0!==i)return!!i;if(e===t)return!0;if("object"!==typeof e||!e||"object"!==typeof t||!t)return!1;var a=Object.keys(e),o=Object.keys(t);if(a.length!==o.length)return!1;for(var u=Object.prototype.hasOwnProperty.bind(t),s=0;s<a.length;s++){var c=a[s];if(!u(c))return!1;var l=e[c],f=t[c];if(!1===(i=n?n.call(r,l,f,c):void 0)||void 0===i&&l!==f)return!1}return!0}},561:function(e,t,n){"use strict";var r=n(791);var i="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},a=r.useState,o=r.useEffect,u=r.useLayoutEffect,s=r.useDebugValue;function c(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!i(e,n)}catch(r){return!0}}var l="undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),r=a({inst:{value:n,getSnapshot:t}}),i=r[0].inst,l=r[1];return u((function(){i.value=n,i.getSnapshot=t,c(i)&&l({inst:i})}),[e,n,t]),o((function(){return c(i)&&l({inst:i}),e((function(){c(i)&&l({inst:i})}))}),[e]),s(n),n};t.useSyncExternalStore=void 0!==r.useSyncExternalStore?r.useSyncExternalStore:l},595:function(e,t,n){"use strict";var r=n(791),i=n(248);var a="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},o=i.useSyncExternalStore,u=r.useRef,s=r.useEffect,c=r.useMemo,l=r.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var f=u(null);if(null===f.current){var h={hasValue:!1,value:null};f.current=h}else h=f.current;f=c((function(){function e(e){if(!s){if(s=!0,o=e,e=r(e),void 0!==i&&h.hasValue){var t=h.value;if(i(t,e))return u=t}return u=e}if(t=u,a(o,e))return t;var n=r(e);return void 0!==i&&i(t,n)?t:(o=e,u=n)}var o,u,s=!1,c=void 0===n?null:n;return[function(){return e(t())},null===c?void 0:function(){return e(c())}]}),[t,n,r,i]);var d=o(e,f[0],f[1]);return s((function(){h.hasValue=!0,h.value=d}),[d]),l(d),d}},248:function(e,t,n){"use strict";e.exports=n(561)},327:function(e,t,n){"use strict";e.exports=n(595)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r].call(a.exports,a,a.exports,n),a.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/F1_Ticket_Manager/",function(){"use strict";var e={};n.r(e),n.d(e,{FirebaseError:function(){return Fr},SDK_VERSION:function(){return Gi},_DEFAULT_ENTRY_NAME:function(){return Oi},_addComponent:function(){return Li},_addOrOverwriteComponent:function(){return Mi},_apps:function(){return Ri},_clearComponents:function(){return Vi},_components:function(){return Di},_getProvider:function(){return Ui},_registerComponent:function(){return Fi},_removeServiceInstance:function(){return ji},deleteApp:function(){return Qi},getApp:function(){return Hi},getApps:function(){return Wi},initializeApp:function(){return Ki},onLog:function(){return Xi},registerVersion:function(){return Yi},setLogLevel:function(){return Ji}});var t=n(791);function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function o(e,t){return o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},o(e,t)}function u(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&o(e,t)}function s(e){return s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},s(e)}function c(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function l(e){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e,t){if(t&&("object"===l(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return f(e)}function d(e){var t=c();return function(){var n,r=s(e);if(t){var i=s(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return h(this,n)}}function p(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,o(e,t)}function v(){return v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},v.apply(this,arguments)}function y(e){return"/"===e.charAt(0)}function m(e,t){for(var n=t,r=n+1,i=e.length;r<i;n+=1,r+=1)e[n]=e[r];e.pop()}var g=function(e,t){void 0===t&&(t="");var n,r=e&&e.split("/")||[],i=t&&t.split("/")||[],a=e&&y(e),o=t&&y(t),u=a||o;if(e&&y(e)?i=r:r.length&&(i.pop(),i=i.concat(r)),!i.length)return"/";if(i.length){var s=i[i.length-1];n="."===s||".."===s||""===s}else n=!1;for(var c=0,l=i.length;l>=0;l--){var f=i[l];"."===f?m(i,l):".."===f?(m(i,l),c++):c&&(m(i,l),c--)}if(!u)for(;c--;c)i.unshift("..");!u||""===i[0]||i[0]&&y(i[0])||i.unshift("");var h=i.join("/");return n&&"/"!==h.substr(-1)&&(h+="/"),h};function k(e){return e.valueOf?e.valueOf():Object.prototype.valueOf.call(e)}var b=function e(t,n){if(t===n)return!0;if(null==t||null==n)return!1;if(Array.isArray(t))return Array.isArray(n)&&t.length===n.length&&t.every((function(t,r){return e(t,n[r])}));if("object"===typeof t||"object"===typeof n){var r=k(t),i=k(n);return r!==t||i!==n?e(r,i):Object.keys(Object.assign({},t,n)).every((function(r){return e(t[r],n[r])}))}return!1},w="Invariant failed";function x(e,t){if(!e)throw new Error(w)}function S(e){return"/"===e.charAt(0)?e:"/"+e}function _(e){return"/"===e.charAt(0)?e.substr(1):e}function E(e,t){return function(e,t){return 0===e.toLowerCase().indexOf(t.toLowerCase())&&-1!=="/?#".indexOf(e.charAt(t.length))}(e,t)?e.substr(t.length):e}function I(e){return"/"===e.charAt(e.length-1)?e.slice(0,-1):e}function T(e){var t=e.pathname,n=e.search,r=e.hash,i=t||"/";return n&&"?"!==n&&(i+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(i+="#"===r.charAt(0)?r:"#"+r),i}function C(e,t,n,r){var i;"string"===typeof e?(i=function(e){var t=e||"/",n="",r="",i=t.indexOf("#");-1!==i&&(r=t.substr(i),t=t.substr(0,i));var a=t.indexOf("?");return-1!==a&&(n=t.substr(a),t=t.substr(0,a)),{pathname:t,search:"?"===n?"":n,hash:"#"===r?"":r}}(e),i.state=t):(void 0===(i=v({},e)).pathname&&(i.pathname=""),i.search?"?"!==i.search.charAt(0)&&(i.search="?"+i.search):i.search="",i.hash?"#"!==i.hash.charAt(0)&&(i.hash="#"+i.hash):i.hash="",void 0!==t&&void 0===i.state&&(i.state=t));try{i.pathname=decodeURI(i.pathname)}catch(a){throw a instanceof URIError?new URIError('Pathname "'+i.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):a}return n&&(i.key=n),r?i.pathname?"/"!==i.pathname.charAt(0)&&(i.pathname=g(i.pathname,r.pathname)):i.pathname=r.pathname:i.pathname||(i.pathname="/"),i}function N(){var e=null;var t=[];return{setPrompt:function(t){return e=t,function(){e===t&&(e=null)}},confirmTransitionTo:function(t,n,r,i){if(null!=e){var a="function"===typeof e?e(t,n):e;"string"===typeof a?"function"===typeof r?r(a,i):i(!0):i(!1!==a)}else i(!0)},appendListener:function(e){var n=!0;function r(){n&&e.apply(void 0,arguments)}return t.push(r),function(){n=!1,t=t.filter((function(e){return e!==r}))}},notifyListeners:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.forEach((function(e){return e.apply(void 0,n)}))}}}var A=!("undefined"===typeof window||!window.document||!window.document.createElement);function O(e,t){t(window.confirm(e))}var P="popstate",R="hashchange";function D(){try{return window.history.state||{}}catch(e){return{}}}function L(e){void 0===e&&(e={}),A||x(!1);var t=window.history,n=function(){var e=window.navigator.userAgent;return(-1===e.indexOf("Android 2.")&&-1===e.indexOf("Android 4.0")||-1===e.indexOf("Mobile Safari")||-1!==e.indexOf("Chrome")||-1!==e.indexOf("Windows Phone"))&&window.history&&"pushState"in window.history}(),r=!(-1===window.navigator.userAgent.indexOf("Trident")),i=e,a=i.forceRefresh,o=void 0!==a&&a,u=i.getUserConfirmation,s=void 0===u?O:u,c=i.keyLength,l=void 0===c?6:c,f=e.basename?I(S(e.basename)):"";function h(e){var t=e||{},n=t.key,r=t.state,i=window.location,a=i.pathname+i.search+i.hash;return f&&(a=E(a,f)),C(a,r,n)}function d(){return Math.random().toString(36).substr(2,l)}var p=N();function y(e){v(V,e),V.length=t.length,p.notifyListeners(V.location,V.action)}function m(e){(function(e){return void 0===e.state&&-1===navigator.userAgent.indexOf("CriOS")})(e)||b(h(e.state))}function g(){b(h(D()))}var k=!1;function b(e){if(k)k=!1,y();else{p.confirmTransitionTo(e,"POP",s,(function(t){t?y({action:"POP",location:e}):function(e){var t=V.location,n=_.indexOf(t.key);-1===n&&(n=0);var r=_.indexOf(e.key);-1===r&&(r=0);var i=n-r;i&&(k=!0,M(i))}(e)}))}}var w=h(D()),_=[w.key];function L(e){return f+T(e)}function M(e){t.go(e)}var F=0;function U(e){1===(F+=e)&&1===e?(window.addEventListener(P,m),r&&window.addEventListener(R,g)):0===F&&(window.removeEventListener(P,m),r&&window.removeEventListener(R,g))}var j=!1;var V={length:t.length,action:"POP",location:w,createHref:L,push:function(e,r){var i="PUSH",a=C(e,r,d(),V.location);p.confirmTransitionTo(a,i,s,(function(e){if(e){var r=L(a),u=a.key,s=a.state;if(n)if(t.pushState({key:u,state:s},null,r),o)window.location.href=r;else{var c=_.indexOf(V.location.key),l=_.slice(0,c+1);l.push(a.key),_=l,y({action:i,location:a})}else window.location.href=r}}))},replace:function(e,r){var i="REPLACE",a=C(e,r,d(),V.location);p.confirmTransitionTo(a,i,s,(function(e){if(e){var r=L(a),u=a.key,s=a.state;if(n)if(t.replaceState({key:u,state:s},null,r),o)window.location.replace(r);else{var c=_.indexOf(V.location.key);-1!==c&&(_[c]=a.key),y({action:i,location:a})}else window.location.replace(r)}}))},go:M,goBack:function(){M(-1)},goForward:function(){M(1)},block:function(e){void 0===e&&(e=!1);var t=p.setPrompt(e);return j||(U(1),j=!0),function(){return j&&(j=!1,U(-1)),t()}},listen:function(e){var t=p.appendListener(e);return U(1),function(){U(-1),t()}}};return V}var M="hashchange",F={hashbang:{encodePath:function(e){return"!"===e.charAt(0)?e:"!/"+_(e)},decodePath:function(e){return"!"===e.charAt(0)?e.substr(1):e}},noslash:{encodePath:_,decodePath:S},slash:{encodePath:S,decodePath:S}};function U(e){var t=e.indexOf("#");return-1===t?e:e.slice(0,t)}function j(){var e=window.location.href,t=e.indexOf("#");return-1===t?"":e.substring(t+1)}function V(e){window.location.replace(U(window.location.href)+"#"+e)}function B(e){void 0===e&&{},A||x(!1);var t=window.history,n=(window.navigator.userAgent.indexOf("Firefox"),e),r=n.getUserConfirmation,i=void 0===r?O:r,a=n.hashType,o=void 0===a?"slash":a,u=e.basename?I(S(e.basename)):"",s=F[o],c=s.encodePath,l=s.decodePath;function f(){var e=l(j());return u&&E(e,u),C(e)}var h=N();function d(e){v(L,e),L.length=t.length,h.notifyListeners(L.location,L.action)}var p=!1,y=null;function m(){var e=j(),t=c(e);if(e!==t)V(t);else{var n=f(),r=L.location;if(!p&&function(e,t){return e.pathname===t.pathname&&e.search===t.search&&e.hash===t.hash}(r,n))return;if(y===T(n))return;null,function(e){if(p)!1,d();else{var t="POP";h.confirmTransitionTo(e,t,i,(function(n){n?d({action:t,location:e}):function(e){var t=L.location,n=w.lastIndexOf(T(t));-1===n&&0;var r=w.lastIndexOf(T(e));-1===r&&0;var i=n-r;i&&(!0,_(i))}(e)}))}}(n)}}var g=j(),k=c(g);g!==k&&V(k);var b=f(),w=[T(b)];function _(e){t.go(e)}var P=0;function R(e){1===(P+=e)&&1===e?window.addEventListener(M,m):0===P&&window.removeEventListener(M,m)}var D=!1;var L={length:t.length,action:"POP",location:b,createHref:function(e){var t=document.querySelector("base"),n="";return t&&t.getAttribute("href")&&U(window.location.href),n+"#"+c(u+T(e))},push:function(e,t){var n="PUSH",r=C(e,void 0,void 0,L.location);h.confirmTransitionTo(r,n,i,(function(e){if(e){var t=T(r),i=c(u+t);if(j()!==i){t,function(e){window.location.hash=e}(i);var a=w.lastIndexOf(T(L.location)),o=w.slice(0,a+1);o.push(t),o,d({action:n,location:r})}else d()}}))},replace:function(e,t){var n="REPLACE",r=C(e,void 0,void 0,L.location);h.confirmTransitionTo(r,n,i,(function(e){if(e){var t=T(r),i=c(u+t);j()!==i&&(t,V(i));var a=w.indexOf(T(L.location));-1!==a&&(w[a]=t),d({action:n,location:r})}}))},go:_,goBack:function(){_(-1)},goForward:function(){_(1)},block:function(e){void 0===e&&!1;var t=h.setPrompt(e);return D||(R(1),!0),function(){return D&&(!1,R(-1)),t()}},listen:function(e){var t=h.appendListener(e);return R(1),function(){R(-1),t()}}};return L}function z(e,t,n){return Math.min(Math.max(e,t),n)}function q(e){void 0===e&&{};var t=e,n=t.getUserConfirmation,r=t.initialEntries,i=void 0===r?["/"]:r,a=t.initialIndex,o=void 0===a?0:a,u=t.keyLength,s=void 0===u?6:u,c=N();function l(e){v(m,e),m.length=m.entries.length,c.notifyListeners(m.location,m.action)}function f(){return Math.random().toString(36).substr(2,s)}var h=z(o,0,i.length-1),d=i.map((function(e){return C(e,void 0,"string"===typeof e?f():e.key||f())})),p=T;function y(e){var t=z(m.index+e,0,m.entries.length-1),r=m.entries[t];c.confirmTransitionTo(r,"POP",n,(function(e){e?l({action:"POP",location:r,index:t}):l()}))}var m={length:d.length,action:"POP",location:d[h],index:h,entries:d,createHref:p,push:function(e,t){var r="PUSH",i=C(e,t,f(),m.location);c.confirmTransitionTo(i,r,n,(function(e){if(e){var t=m.index+1,n=m.entries.slice(0);n.length>t?n.splice(t,n.length-t,i):n.push(i),l({action:r,location:i,index:t,entries:n})}}))},replace:function(e,t){var r="REPLACE",i=C(e,t,f(),m.location);c.confirmTransitionTo(i,r,n,(function(e){e&&(m.entries[m.index]=i,l({action:r,location:i}))}))},go:y,goBack:function(){y(-1)},goForward:function(){y(1)},canGo:function(e){var t=m.index+e;return t>=0&&t<m.entries.length},block:function(e){return void 0===e&&!1,c.setPrompt(e)},listen:function(e){return c.appendListener(e)}};return m}var G=n(7),K=n.n(G),H=1073741823,W="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:{};function Q(e){var t=[];return{on:function(e){t.push(e)},off:function(e){t=t.filter((function(t){return t!==e}))},get:function(){return e},set:function(n,r){e=n,t.forEach((function(t){return t(e,r)}))}}}var $=t.createContext||function(e,n){var r,i,a="__create-react-context-"+function(){var e="__global_unique_id__";return W[e]=(W[e]||0)+1}()+"__",o=function(e){function t(){var t;return(t=e.apply(this,arguments)||this).emitter=Q(t.props.value),t}p(t,e);var r=t.prototype;return r.getChildContext=function(){var e;return(e={})[a]=this.emitter,e},r.componentWillReceiveProps=function(e){if(this.props.value!==e.value){var t,r=this.props.value,i=e.value;!function(e,t){return e===t?0!==e||1/e===1/t:e!==e&&t!==t}(r,i)?(t="function"===typeof n?n(r,i):H,0!==(t|=0)&&this.emitter.set(e.value,t)):t=0}},r.render=function(){return this.props.children},t}(t.Component);o.childContextTypes=((r={})[a]=K().object.isRequired,r);var u=function(t){function n(){var e;return(e=t.apply(this,arguments)||this).state={value:e.getValue()},e.onUpdate=function(t,n){0!==((0|e.observedBits)&n)&&e.setState({value:e.getValue()})},e}p(n,t);var r=n.prototype;return r.componentWillReceiveProps=function(e){var t=e.observedBits;this.observedBits=void 0===t||null===t?H:t},r.componentDidMount=function(){this.context[a]&&this.context[a].on(this.onUpdate);var e=this.props.observedBits;this.observedBits=void 0===e||null===e?H:e},r.componentWillUnmount=function(){this.context[a]&&this.context[a].off(this.onUpdate)},r.getValue=function(){return this.context[a]?this.context[a].get():e},r.render=function(){return(e=this.props.children,Array.isArray(e)?e[0]:e)(this.state.value);var e},n}(t.Component);return u.contextTypes=((i={})[a]=K().object,i),{Provider:o,Consumer:u}},Y=$,X=n(151),J=n.n(X),Z=n(441);function ee(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var te=n(110),ne=n.n(te),re=function(e){var t=Y();return t.displayName=e,t},ie=re("Router-History"),ae=function(e){var t=Y();return t.displayName=e,t},oe=ae("Router"),ue=function(e){function n(t){var n;return(n=e.call(this,t)||this).state={location:t.history.location},n._isMounted=!1,n._pendingLocation=null,t.staticContext||(n.unlisten=t.history.listen((function(e){n._isMounted?n.setState({location:e}):n._pendingLocation=e}))),n}p(n,e),n.computeRootMatch=function(e){return{path:"/",url:"/",params:{},isExact:"/"===e}};var r=n.prototype;return r.componentDidMount=function(){this._isMounted=!0,this._pendingLocation&&this.setState({location:this._pendingLocation})},r.componentWillUnmount=function(){this.unlisten&&this.unlisten()},r.render=function(){return t.createElement(oe.Provider,{value:{history:this.props.history,location:this.state.location,match:n.computeRootMatch(this.state.location.pathname),staticContext:this.props.staticContext}},t.createElement(ie.Provider,{children:this.props.children||null,value:this.props.history}))},n}(t.Component);t.Component;var se=function(e){function t(){return e.apply(this,arguments)||this}p(t,e);var n=t.prototype;return n.componentDidMount=function(){this.props.onMount&&this.props.onMount.call(this,this)},n.componentDidUpdate=function(e){this.props.onUpdate&&this.props.onUpdate.call(this,this,e)},n.componentWillUnmount=function(){this.props.onUnmount&&this.props.onUnmount.call(this,this)},n.render=function(){return null},t}(t.Component);var ce={},le=0;function fe(e,t){return void 0===e&&(e="/"),void 0===t&&(t={}),"/"===e?e:function(e){if(ce[e])return ce[e];var t=J().compile(e);return le<1e4&&(ce[e]=t,le++),t}(e)(t,{pretty:!0})}function he(e){var n=e.computedMatch,r=e.to,i=e.push,a=void 0!==i&&i;return t.createElement(oe.Consumer,null,(function(e){e||x(!1);var i=e.history,o=e.staticContext,u=a?i.push:i.replace,s=C(n?"string"===typeof r?fe(r,n.params):v({},r,{pathname:fe(r.pathname,n.params)}):r);return o?(u(s),null):t.createElement(se,{onMount:function(){u(s)},onUpdate:function(e,t){var n=C(t.to);(function(e,t){return e.pathname===t.pathname&&e.search===t.search&&e.hash===t.hash&&e.key===t.key&&b(e.state,t.state)})(n,v({},s,{key:n.key}))||u(s)},to:r})}))}var de={},pe=0;function ve(e,t){void 0===t&&(t={}),("string"===typeof t||Array.isArray(t))&&(t={path:t});var n=t,r=n.path,i=n.exact,a=void 0!==i&&i,o=n.strict,u=void 0!==o&&o,s=n.sensitive,c=void 0!==s&&s;return[].concat(r).reduce((function(t,n){if(!n&&""!==n)return null;if(t)return t;var r=function(e,t){var n=""+t.end+t.strict+t.sensitive,r=de[n]||(de[n]={});if(r[e])return r[e];var i=[],a={regexp:J()(e,i,t),keys:i};return pe<1e4&&(r[e]=a,pe++),a}(n,{end:a,strict:u,sensitive:c}),i=r.regexp,o=r.keys,s=i.exec(e);if(!s)return null;var l=s[0],f=s.slice(1),h=e===l;return a&&!h?null:{path:n,url:"/"===n&&""===l?"/":l,isExact:h,params:o.reduce((function(e,t,n){return e[t.name]=f[n],e}),{})}}),null)}var ye=function(e){function n(){return e.apply(this,arguments)||this}return p(n,e),n.prototype.render=function(){var e=this;return t.createElement(oe.Consumer,null,(function(n){n||x(!1);var r=e.props.location||n.location,i=v({},n,{location:r,match:e.props.computedMatch?e.props.computedMatch:e.props.path?ve(r.pathname,e.props):n.match}),a=e.props,o=a.children,u=a.component,s=a.render;return Array.isArray(o)&&0===o.length&&(o=null),t.createElement(oe.Provider,{value:i},i.match?o?"function"===typeof o?o(i):o:u?t.createElement(u,i):s?s(i):null:"function"===typeof o?o(i):null)}))},n}(t.Component);function me(e){return"/"===e.charAt(0)?e:"/"+e}function ge(e,t){if(!e)return t;var n=me(e);return 0!==t.pathname.indexOf(n)?t:v({},t,{pathname:t.pathname.substr(n.length)})}function ke(e){return"string"===typeof e?e:T(e)}function be(e){return function(){x(!1)}}function we(){}t.Component;var xe=function(e){function n(){return e.apply(this,arguments)||this}return p(n,e),n.prototype.render=function(){var e=this;return t.createElement(oe.Consumer,null,(function(n){n||x(!1);var r,i,a=e.props.location||n.location;return t.Children.forEach(e.props.children,(function(e){if(null==i&&t.isValidElement(e)){r=e;var o=e.props.path||e.props.from;i=o?ve(a.pathname,v({},e.props,{path:o})):n.match}})),i?t.cloneElement(r,{location:a,computedMatch:i}):null}))},n}(t.Component);function Se(e){var n="withRouter("+(e.displayName||e.name)+")",r=function(n){var r=n.wrappedComponentRef,i=ee(n,["wrappedComponentRef"]);return t.createElement(oe.Consumer,null,(function(n){return n||x(!1),t.createElement(e,v({},i,n,{ref:r}))}))};return r.displayName=n,r.WrappedComponent=e,ne()(r,e)}t.useContext;var _e=n(248),Ee=n(327),Ie=n(164);var Te=function(e){e()},Ce=function(){return Te},Ne=t.createContext(null);var Ae=function(){throw new Error("uSES not initialized!")};function Oe(e){if(Array.isArray(e))return e}function Pe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Re(e,t){if(e){if("string"===typeof e)return Pe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Pe(e,t):void 0}}function De(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Le(e,t){return Oe(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,u=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(s){u=!0,i=s}finally{try{o||null==n.return||n.return()}finally{if(u)throw i}}return a}}(e,t)||Re(e,t)||De()}function Me(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function Fe(e){return function(e){if(Array.isArray(e))return Pe(e)}(e)||Me(e)||Re(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Ue=n(900),je=["initMapStateToProps","initMapDispatchToProps","initMergeProps"];function Ve(e,t,n,r,i){var a,o,u,s,c,l=i.areStatesEqual,f=i.areOwnPropsEqual,h=i.areStatePropsEqual,d=!1;function p(i,d){var p=!f(d,o),v=!l(i,a);return a=i,o=d,p&&v?(u=e(a,o),t.dependsOnOwnProps&&(s=t(r,o)),c=n(u,s,o)):p?(e.dependsOnOwnProps&&(u=e(a,o)),t.dependsOnOwnProps&&(s=t(r,o)),c=n(u,s,o)):v?function(){var t=e(a,o),r=!h(t,u);return u=t,r&&(c=n(u,s,o)),c}():c}return function(i,l){return d?p(i,l):(u=e(a=i,o=l),s=t(r,o),c=n(u,s,o),d=!0,c)}}function Be(e,t){var n=t.initMapStateToProps,r=t.initMapDispatchToProps,i=t.initMergeProps,a=ee(t,je);return Ve(n(e,a),r(e,a),i(e,a),e,a)}function ze(e){return function(t){var n=e(t);function r(){return n}return r.dependsOnOwnProps=!1,r}}function qe(e){return e.dependsOnOwnProps?Boolean(e.dependsOnOwnProps):1!==e.length}function Ge(e,t){return function(t,n){n.displayName;var r=function(e,t){return r.dependsOnOwnProps?r.mapToProps(e,t):r.mapToProps(e,void 0)};return r.dependsOnOwnProps=!0,r.mapToProps=function(t,n){r.mapToProps=e,r.dependsOnOwnProps=qe(e);var i=r(t,n);return"function"===typeof i&&(r.mapToProps=i,r.dependsOnOwnProps=qe(i),i=r(t,n)),i},r}}function Ke(e,t){return function(n,r){throw new Error("Invalid value of type ".concat(typeof e," for ").concat(t," argument when connecting component ").concat(r.wrappedComponentName,"."))}}function He(e){return e&&"object"===typeof e?ze((function(t){return function(e,t){var n={},r=function(r){var i=e[r];"function"===typeof i&&(n[r]=function(){return t(i.apply(void 0,arguments))})};for(var i in e)r(i);return n}(e,t)})):e?"function"===typeof e?Ge(e):Ke(e,"mapDispatchToProps"):ze((function(e){return{dispatch:e}}))}function We(e){return e?"function"===typeof e?Ge(e):Ke(e,"mapStateToProps"):ze((function(){return{}}))}function Qe(e,t,n){return v({},n,e,t)}function $e(e){return e?"function"===typeof e?function(e){return function(t,n){n.displayName;var r,i=n.areMergedPropsEqual,a=!1;return function(t,n,o){var u=e(t,n,o);return a?i(u,r)||(r=u):(a=!0,r=u),r}}}(e):Ke(e,"mergeProps"):function(){return Qe}}var Ye={notify:function(){},get:function(){return[]}};function Xe(e,t){var n,r=Ye;function i(){o.onStateChange&&o.onStateChange()}function a(){n||(n=t?t.addNestedSub(i):e.subscribe(i),r=function(){var e=Ce(),t=null,n=null;return{clear:function(){t=null,n=null},notify:function(){e((function(){for(var e=t;e;)e.callback(),e=e.next}))},get:function(){for(var e=[],n=t;n;)e.push(n),n=n.next;return e},subscribe:function(e){var r=!0,i=n={callback:e,next:null,prev:n};return i.prev?i.prev.next=i:t=i,function(){r&&null!==t&&(r=!1,i.next?i.next.prev=i.prev:n=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}())}var o={addNestedSub:function(e){return a(),r.subscribe(e)},notifyNestedSubs:function(){r.notify()},handleChangeWrapper:i,isSubscribed:function(){return Boolean(n)},trySubscribe:a,tryUnsubscribe:function(){n&&(n(),n=void 0,r.clear(),r=Ye)},getListeners:function(){return r}};return o}var Je=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement)?t.useLayoutEffect:t.useEffect;function Ze(e,t){return e===t?0!==e||0!==t||1/e===1/t:e!==e&&t!==t}function et(e,t){if(Ze(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(t,n[i])||!Ze(e[n[i]],t[n[i]]))return!1;return!0}var tt=["reactReduxForwardedRef"],nt=Ae,rt=[null,null];function it(e,t,n){Je((function(){return e.apply(void 0,Fe(t))}),n)}function at(e,t,n,r,i,a){e.current=r,n.current=!1,i.current&&(i.current=null,a())}function ot(e,t,n,r,i,a,o,u,s,c,l){if(!e)return function(){};var f=!1,h=null,d=function(){if(!f&&u.current){var e,n,d=t.getState();try{e=r(d,i.current)}catch(p){n=p,h=p}n||(h=null),e===a.current?o.current||c():(a.current=e,s.current=e,o.current=!0,l())}};n.onStateChange=d,n.trySubscribe(),d();return function(){if(f=!0,n.tryUnsubscribe(),n.onStateChange=null,h)throw h}}function ut(e,t){return e===t}var st=function(e,n,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(i.pure,i.areStatesEqual),o=void 0===a?ut:a,u=i.areOwnPropsEqual,s=void 0===u?et:u,c=i.areStatePropsEqual,l=void 0===c?et:c,f=i.areMergedPropsEqual,h=void 0===f?et:f,d=i.forwardRef,p=void 0!==d&&d,y=i.context,m=void 0===y?Ne:y,g=m,k=We(e),b=He(n),w=$e(r),x=Boolean(e),S=function(e){var n=e.displayName||e.name||"Component",r="Connect(".concat(n,")"),i={shouldHandleStateChanges:x,displayName:r,wrappedComponentName:n,WrappedComponent:e,initMapStateToProps:k,initMapDispatchToProps:b,initMergeProps:w,areStatesEqual:o,areStatePropsEqual:l,areOwnPropsEqual:s,areMergedPropsEqual:h};function a(n){var r=(0,t.useMemo)((function(){var e=n.reactReduxForwardedRef,t=ee(n,tt);return[n.context,e,t]}),[n]),a=Le(r,3),o=a[0],u=a[1],s=a[2],c=(0,t.useMemo)((function(){return o&&o.Consumer&&(0,Ue.isContextConsumer)(t.createElement(o.Consumer,null))?o:g}),[o,g]),l=(0,t.useContext)(c),f=Boolean(n.store)&&Boolean(n.store.getState)&&Boolean(n.store.dispatch),h=Boolean(l)&&Boolean(l.store);var d=f?n.store:l.store,p=h?l.getServerState:d.getState,y=(0,t.useMemo)((function(){return Be(d.dispatch,i)}),[d]),m=(0,t.useMemo)((function(){if(!x)return rt;var e=Xe(d,f?void 0:l.subscription),t=e.notifyNestedSubs.bind(e);return[e,t]}),[d,f,l]),k=Le(m,2),b=k[0],w=k[1],S=(0,t.useMemo)((function(){return f?l:v({},l,{subscription:b})}),[f,l,b]),_=(0,t.useRef)(),E=(0,t.useRef)(s),I=(0,t.useRef)(),T=(0,t.useRef)(!1),C=((0,t.useRef)(!1),(0,t.useRef)(!1)),N=(0,t.useRef)();Je((function(){return C.current=!0,function(){C.current=!1}}),[]);var A,O=(0,t.useMemo)((function(){return function(){return I.current&&s===E.current?I.current:y(d.getState(),s)}}),[d,s]),P=(0,t.useMemo)((function(){return function(e){return b?ot(x,d,b,y,E,_,T,C,I,w,e):function(){}}}),[b]);it(at,[E,_,T,s,I,w]);try{A=nt(P,O,p?function(){return y(p(),s)}:O)}catch(D){throw N.current&&(D.message+="\nThe error may be correlated with this previous error:\n".concat(N.current.stack,"\n\n")),D}Je((function(){N.current=void 0,I.current=void 0,_.current=A}));var R=(0,t.useMemo)((function(){return t.createElement(e,v({},A,{ref:u}))}),[u,e,A]);return(0,t.useMemo)((function(){return x?t.createElement(c.Provider,{value:S},R):R}),[c,R,S])}var u=t.memo(a);if(u.WrappedComponent=e,u.displayName=a.displayName=r,p){var c=t.forwardRef((function(e,n){return t.createElement(u,v({},e,{reactReduxForwardedRef:n}))}));return c.displayName=r,c.WrappedComponent=e,ne()(c,e)}return ne()(u,e)};return S};var ct=function(e){var n=e.store,r=e.context,i=e.children,a=e.serverState,o=(0,t.useMemo)((function(){var e=Xe(n);return{store:n,subscription:e,getServerState:a?function(){return a}:void 0}}),[n,a]),u=(0,t.useMemo)((function(){return n.getState()}),[n]);Je((function(){var e=o.subscription;return e.onStateChange=e.notifyNestedSubs,e.trySubscribe(),u!==n.getState()&&e.notifyNestedSubs(),function(){e.tryUnsubscribe(),e.onStateChange=void 0}}),[o,u]);var s=r||Ne;return t.createElement(s.Provider,{value:o},i)};var lt;!function(e){e}(Ee.useSyncExternalStoreWithSelector),function(e){nt=e}(_e.useSyncExternalStore),lt=Ie.unstable_batchedUpdates,Te=lt;var ft="NOT_FOUND";var ht=function(e,t){return e===t};function dt(e,t){var n="object"===typeof t?t:{equalityCheck:t},r=n.equalityCheck,i=void 0===r?ht:r,a=n.maxSize,o=void 0===a?1:a,u=n.resultEqualityCheck,s=function(e){return function(t,n){if(null===t||null===n||t.length!==n.length)return!1;for(var r=t.length,i=0;i<r;i++)if(!e(t[i],n[i]))return!1;return!0}}(i),c=1===o?function(e){var t;return{get:function(n){return t&&e(t.key,n)?t.value:ft},put:function(e,n){t={key:e,value:n}},getEntries:function(){return t?[t]:[]},clear:function(){t=void 0}}}(s):function(e,t){var n=[];function r(e){var r=n.findIndex((function(n){return t(e,n.key)}));if(r>-1){var i=n[r];return r>0&&(n.splice(r,1),n.unshift(i)),i.value}return ft}return{get:r,put:function(t,i){r(t)===ft&&(n.unshift({key:t,value:i}),n.length>e&&n.pop())},getEntries:function(){return n},clear:function(){n=[]}}}(o,s);function l(){var t=c.get(arguments);if(t===ft){if(t=e.apply(null,arguments),u){var n=c.getEntries(),r=n.find((function(e){return u(e.value,t)}));r&&(t=r.value)}c.put(arguments,t)}return t}return l.clearCache=function(){return c.clear()},l}function pt(e){var t=Array.isArray(e[0])?e[0]:e;if(!t.every((function(e){return"function"===typeof e}))){var n=t.map((function(e){return"function"===typeof e?"function "+(e.name||"unnamed")+"()":typeof e})).join(", ");throw new Error("createSelector expects all input-selectors to be functions, but received the following types: ["+n+"]")}return t}function vt(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=function(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];var a,o=0,u={memoizeOptions:void 0},s=r.pop();if("object"===typeof s&&(u=s,s=r.pop()),"function"!==typeof s)throw new Error("createSelector expects an output function after the inputs, but received: ["+typeof s+"]");var c=u,l=c.memoizeOptions,f=void 0===l?n:l,h=Array.isArray(f)?f:[f],d=pt(r),p=e.apply(void 0,[function(){return o++,s.apply(null,arguments)}].concat(h)),v=e((function(){for(var e=[],t=d.length,n=0;n<t;n++)e.push(d[n].apply(null,arguments));return a=p.apply(null,e)}));return Object.assign(v,{resultFunc:s,memoizedResultFunc:p,dependencies:d,lastResult:function(){return a},recomputations:function(){return o},resetRecomputations:function(){return o=0}}),v};return i}var yt=vt(dt),mt=function(e,t){if(void 0===t&&(t=yt),"object"!==typeof e)throw new Error("createStructuredSelector expects first argument to be an object where each property is a selector, instead received a "+typeof e);var n=Object.keys(e),r=t(n.map((function(t){return e[t]})),(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.reduce((function(e,t,r){return e[n[r]]=t,e}),{})}));return r};function gt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function kt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function bt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?kt(Object(n),!0).forEach((function(t){gt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function wt(e,t){if(null==e)return{};var n,r,i=ee(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var xt=yt([function(e){return e.directory}],(function(e){return e.sections})),St=n(184),_t=Se((function(e){var t=e.title,n=e.imageUrl,r=e.size;e.history,e.linkUrl,e.match;return(0,St.jsxs)("div",{className:"".concat(r," menu-item"),children:[(0,St.jsx)("div",{className:"background-image",style:{backgroundImage:"url(".concat(n,")")}}),(0,St.jsxs)("div",{className:"content",children:[(0,St.jsx)("h1",{className:"title",children:t.toUpperCase()}),(0,St.jsx)("span",{className:"subtitle",children:"TO BE MODIFIED"})]})]})})),Et=["id"];st(mt({sections:xt}))((function(e){var t=e.sections;return(0,St.jsx)("div",{className:"directory-menu",children:t.map((function(e){var t=e.id,n=wt(e,Et);return(0,St.jsx)(_t,bt({},n),t)}))})}));function It(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var Tt=n(613),Ct=n.n(Tt);var Nt=function(e){function t(e,r,s,c,h){for(var d,p,v,y,b,x=0,S=0,_=0,E=0,I=0,P=0,D=v=d=0,M=0,F=0,U=0,j=0,V=s.length,B=V-1,z="",q="",G="",K="";M<V;){if(p=s.charCodeAt(M),M===B&&0!==S+E+_+x&&(0!==S&&(p=47===S?10:47),E=_=x=0,V++,B++),0===S+E+_+x){if(M===B&&(0<F&&(z=z.replace(f,"")),0<z.trim().length)){switch(p){case 32:case 9:case 59:case 13:case 10:break;default:z+=s.charAt(M)}p=59}switch(p){case 123:for(d=(z=z.trim()).charCodeAt(0),v=1,j=++M;M<V;){switch(p=s.charCodeAt(M)){case 123:v++;break;case 125:v--;break;case 47:switch(p=s.charCodeAt(M+1)){case 42:case 47:e:{for(D=M+1;D<B;++D)switch(s.charCodeAt(D)){case 47:if(42===p&&42===s.charCodeAt(D-1)&&M+2!==D){M=D+1;break e}break;case 10:if(47===p){M=D+1;break e}}M=D}}break;case 91:p++;case 40:p++;case 34:case 39:for(;M++<B&&s.charCodeAt(M)!==p;);}if(0===v)break;M++}if(v=s.substring(j,M),0===d&&(d=(z=z.replace(l,"").trim()).charCodeAt(0)),64===d){switch(0<F&&(z=z.replace(f,"")),p=z.charCodeAt(1)){case 100:case 109:case 115:case 45:F=r;break;default:F=O}if(j=(v=t(r,F,v,p,h+1)).length,0<R&&(b=u(3,v,F=n(O,z,U),r,C,T,j,p,h,c),z=F.join(""),void 0!==b&&0===(j=(v=b.trim()).length)&&(p=0,v="")),0<j)switch(p){case 115:z=z.replace(w,o);case 100:case 109:case 45:v=z+"{"+v+"}";break;case 107:v=(z=z.replace(m,"$1 $2"))+"{"+v+"}",v=1===A||2===A&&a("@"+v,3)?"@-webkit-"+v+"@"+v:"@"+v;break;default:v=z+v,112===c&&(q+=v,v="")}else v=""}else v=t(r,n(r,z,U),v,c,h+1);G+=v,v=U=F=D=d=0,z="",p=s.charCodeAt(++M);break;case 125:case 59:if(1<(j=(z=(0<F?z.replace(f,""):z).trim()).length))switch(0===D&&(d=z.charCodeAt(0),45===d||96<d&&123>d)&&(j=(z=z.replace(" ",":")).length),0<R&&void 0!==(b=u(1,z,r,e,C,T,q.length,c,h,c))&&0===(j=(z=b.trim()).length)&&(z="\0\0"),d=z.charCodeAt(0),p=z.charCodeAt(1),d){case 0:break;case 64:if(105===p||99===p){K+=z+s.charAt(M);break}default:58!==z.charCodeAt(j-1)&&(q+=i(z,d,p,z.charCodeAt(2)))}U=F=D=d=0,z="",p=s.charCodeAt(++M)}}switch(p){case 13:case 10:47===S?S=0:0===1+d&&107!==c&&0<z.length&&(F=1,z+="\0"),0<R*L&&u(0,z,r,e,C,T,q.length,c,h,c),T=1,C++;break;case 59:case 125:if(0===S+E+_+x){T++;break}default:switch(T++,y=s.charAt(M),p){case 9:case 32:if(0===E+x+S)switch(I){case 44:case 58:case 9:case 32:y="";break;default:32!==p&&(y=" ")}break;case 0:y="\\0";break;case 12:y="\\f";break;case 11:y="\\v";break;case 38:0===E+S+x&&(F=U=1,y="\f"+y);break;case 108:if(0===E+S+x+N&&0<D)switch(M-D){case 2:112===I&&58===s.charCodeAt(M-3)&&(N=I);case 8:111===P&&(N=P)}break;case 58:0===E+S+x&&(D=M);break;case 44:0===S+_+E+x&&(F=1,y+="\r");break;case 34:case 39:0===S&&(E=E===p?0:0===E?p:E);break;case 91:0===E+S+_&&x++;break;case 93:0===E+S+_&&x--;break;case 41:0===E+S+x&&_--;break;case 40:if(0===E+S+x){if(0===d)if(2*I+3*P===533);else d=1;_++}break;case 64:0===S+_+E+x+D+v&&(v=1);break;case 42:case 47:if(!(0<E+x+_))switch(S){case 0:switch(2*p+3*s.charCodeAt(M+1)){case 235:S=47;break;case 220:j=M,S=42}break;case 42:47===p&&42===I&&j+2!==M&&(33===s.charCodeAt(j+2)&&(q+=s.substring(j,M+1)),y="",S=0)}}0===S&&(z+=y)}P=I,I=p,M++}if(0<(j=q.length)){if(F=r,0<R&&(void 0!==(b=u(2,q,F,e,C,T,j,c,h,c))&&0===(q=b).length))return K+q+G;if(q=F.join(",")+"{"+q+"}",0!==A*N){switch(2!==A||a(q,2)||(N=0),N){case 111:q=q.replace(k,":-moz-$1")+q;break;case 112:q=q.replace(g,"::-webkit-input-$1")+q.replace(g,"::-moz-$1")+q.replace(g,":-ms-input-$1")+q}N=0}}return K+q+G}function n(e,t,n){var i=t.trim().split(v);t=i;var a=i.length,o=e.length;switch(o){case 0:case 1:var u=0;for(e=0===o?"":e[0]+" ";u<a;++u)t[u]=r(e,t[u],n).trim();break;default:var s=u=0;for(t=[];u<a;++u)for(var c=0;c<o;++c)t[s++]=r(e[c]+" ",i[u],n).trim()}return t}function r(e,t,n){var r=t.charCodeAt(0);switch(33>r&&(r=(t=t.trim()).charCodeAt(0)),r){case 38:return t.replace(y,"$1"+e.trim());case 58:return e.trim()+t.replace(y,"$1"+e.trim());default:if(0<1*n&&0<t.indexOf("\f"))return t.replace(y,(58===e.charCodeAt(0)?"":"$1")+e.trim())}return e+t}function i(e,t,n,r){var o=e+";",u=2*t+3*n+4*r;if(944===u){e=o.indexOf(":",9)+1;var s=o.substring(e,o.length-1).trim();return s=o.substring(0,e).trim()+s+";",1===A||2===A&&a(s,1)?"-webkit-"+s+s:s}if(0===A||2===A&&!a(o,1))return o;switch(u){case 1015:return 97===o.charCodeAt(10)?"-webkit-"+o+o:o;case 951:return 116===o.charCodeAt(3)?"-webkit-"+o+o:o;case 963:return 110===o.charCodeAt(5)?"-webkit-"+o+o:o;case 1009:if(100!==o.charCodeAt(4))break;case 969:case 942:return"-webkit-"+o+o;case 978:return"-webkit-"+o+"-moz-"+o+o;case 1019:case 983:return"-webkit-"+o+"-moz-"+o+"-ms-"+o+o;case 883:if(45===o.charCodeAt(8))return"-webkit-"+o+o;if(0<o.indexOf("image-set(",11))return o.replace(I,"$1-webkit-$2")+o;break;case 932:if(45===o.charCodeAt(4))switch(o.charCodeAt(5)){case 103:return"-webkit-box-"+o.replace("-grow","")+"-webkit-"+o+"-ms-"+o.replace("grow","positive")+o;case 115:return"-webkit-"+o+"-ms-"+o.replace("shrink","negative")+o;case 98:return"-webkit-"+o+"-ms-"+o.replace("basis","preferred-size")+o}return"-webkit-"+o+"-ms-"+o+o;case 964:return"-webkit-"+o+"-ms-flex-"+o+o;case 1023:if(99!==o.charCodeAt(8))break;return"-webkit-box-pack"+(s=o.substring(o.indexOf(":",15)).replace("flex-","").replace("space-between","justify"))+"-webkit-"+o+"-ms-flex-pack"+s+o;case 1005:return d.test(o)?o.replace(h,":-webkit-")+o.replace(h,":-moz-")+o:o;case 1e3:switch(t=(s=o.substring(13).trim()).indexOf("-")+1,s.charCodeAt(0)+s.charCodeAt(t)){case 226:s=o.replace(b,"tb");break;case 232:s=o.replace(b,"tb-rl");break;case 220:s=o.replace(b,"lr");break;default:return o}return"-webkit-"+o+"-ms-"+s+o;case 1017:if(-1===o.indexOf("sticky",9))break;case 975:switch(t=(o=e).length-10,u=(s=(33===o.charCodeAt(t)?o.substring(0,t):o).substring(e.indexOf(":",7)+1).trim()).charCodeAt(0)+(0|s.charCodeAt(7))){case 203:if(111>s.charCodeAt(8))break;case 115:o=o.replace(s,"-webkit-"+s)+";"+o;break;case 207:case 102:o=o.replace(s,"-webkit-"+(102<u?"inline-":"")+"box")+";"+o.replace(s,"-webkit-"+s)+";"+o.replace(s,"-ms-"+s+"box")+";"+o}return o+";";case 938:if(45===o.charCodeAt(5))switch(o.charCodeAt(6)){case 105:return s=o.replace("-items",""),"-webkit-"+o+"-webkit-box-"+s+"-ms-flex-"+s+o;case 115:return"-webkit-"+o+"-ms-flex-item-"+o.replace(S,"")+o;default:return"-webkit-"+o+"-ms-flex-line-pack"+o.replace("align-content","").replace(S,"")+o}break;case 973:case 989:if(45!==o.charCodeAt(3)||122===o.charCodeAt(4))break;case 931:case 953:if(!0===E.test(e))return 115===(s=e.substring(e.indexOf(":")+1)).charCodeAt(0)?i(e.replace("stretch","fill-available"),t,n,r).replace(":fill-available",":stretch"):o.replace(s,"-webkit-"+s)+o.replace(s,"-moz-"+s.replace("fill-",""))+o;break;case 962:if(o="-webkit-"+o+(102===o.charCodeAt(5)?"-ms-"+o:"")+o,211===n+r&&105===o.charCodeAt(13)&&0<o.indexOf("transform",10))return o.substring(0,o.indexOf(";",27)+1).replace(p,"$1-webkit-$2")+o}return o}function a(e,t){var n=e.indexOf(1===t?":":"{"),r=e.substring(0,3!==t?n:10);return n=e.substring(n+1,e.length-1),D(2!==t?r:r.replace(_,"$1"),n,t)}function o(e,t){var n=i(t,t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2));return n!==t+";"?n.replace(x," or ($1)").substring(4):"("+t+")"}function u(e,t,n,r,i,a,o,u,s,l){for(var f,h=0,d=t;h<R;++h)switch(f=P[h].call(c,e,d,n,r,i,a,o,u,s,l)){case void 0:case!1:case!0:case null:break;default:d=f}if(d!==t)return d}function s(e){return void 0!==(e=e.prefix)&&(D=null,e?"function"!==typeof e?A=1:(A=2,D=e):A=0),s}function c(e,n){var r=e;if(33>r.charCodeAt(0)&&(r=r.trim()),r=[r],0<R){var i=u(-1,n,r,r,C,T,0,0,0,0);void 0!==i&&"string"===typeof i&&(n=i)}var a=t(O,r,n,0,0);return 0<R&&(void 0!==(i=u(-2,a,r,r,C,T,a.length,0,0,0))&&(a=i)),"",N=0,T=C=1,a}var l=/^\0+/g,f=/[\0\r\f]/g,h=/: */g,d=/zoo|gra/,p=/([,: ])(transform)/g,v=/,\r+?/g,y=/([\t\r\n ])*\f?&/g,m=/@(k\w+)\s*(\S*)\s*/,g=/::(place)/g,k=/:(read-only)/g,b=/[svh]\w+-[tblr]{2}/,w=/\(\s*(.*)\s*\)/g,x=/([\s\S]*?);/g,S=/-self|flex-/g,_=/[^]*?(:[rp][el]a[\w-]+)[^]*/,E=/stretch|:\s*\w+\-(?:conte|avail)/,I=/([^-])(image-set\()/,T=1,C=1,N=0,A=1,O=[],P=[],R=0,D=null,L=0;return c.use=function e(t){switch(t){case void 0:case null:R=P.length=0;break;default:if("function"===typeof t)P[R++]=t;else if("object"===typeof t)for(var n=0,r=t.length;n<r;++n)e(t[n]);else L=0|!!t}return e},c.set=s,void 0!==e&&s(e),c},At={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};var Ot=function(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}},Pt=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,Rt=Ot((function(e){return Pt.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91}));function Dt(){return(Dt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var Lt=function(e,t){for(var n=[e[0]],r=0,i=t.length;r<i;r+=1)n.push(t[r],e[r+1]);return n},Mt=function(e){return null!==e&&"object"==typeof e&&"[object Object]"===(e.toString?e.toString():Object.prototype.toString.call(e))&&!(0,Z.typeOf)(e)},Ft=Object.freeze([]),Ut=Object.freeze({});function jt(e){return"function"==typeof e}function Vt(e){return e.displayName||e.name||"Component"}function Bt(e){return e&&"string"==typeof e.styledComponentId}var zt="undefined"!=typeof process&&({NODE_ENV:"production",PUBLIC_URL:"/F1_Ticket_Manager",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_ATTR||{NODE_ENV:"production",PUBLIC_URL:"/F1_Ticket_Manager",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_ATTR)||"data-styled",qt="undefined"!=typeof window&&"HTMLElement"in window,Gt=Boolean("boolean"==typeof SC_DISABLE_SPEEDY?SC_DISABLE_SPEEDY:"undefined"!=typeof process&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"/F1_Ticket_Manager",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY&&""!=={NODE_ENV:"production",PUBLIC_URL:"/F1_Ticket_Manager",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY?"false"!=={NODE_ENV:"production",PUBLIC_URL:"/F1_Ticket_Manager",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY&&{NODE_ENV:"production",PUBLIC_URL:"/F1_Ticket_Manager",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY:"undefined"!=typeof process&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"/F1_Ticket_Manager",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY&&""!=={NODE_ENV:"production",PUBLIC_URL:"/F1_Ticket_Manager",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY&&("false"!=={NODE_ENV:"production",PUBLIC_URL:"/F1_Ticket_Manager",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY&&{NODE_ENV:"production",PUBLIC_URL:"/F1_Ticket_Manager",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY));function Kt(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw new Error("An error occurred. See https://git.io/JUIaE#"+e+" for more information."+(n.length>0?" Args: "+n.join(", "):""))}var Ht=function(){function e(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}var t=e.prototype;return t.indexOfGroup=function(e){for(var t=0,n=0;n<e;n++)t+=this.groupSizes[n];return t},t.insertRules=function(e,t){if(e>=this.groupSizes.length){for(var n=this.groupSizes,r=n.length,i=r;e>=i;)(i<<=1)<0&&Kt(16,""+e);this.groupSizes=new Uint32Array(i),this.groupSizes.set(n),this.length=i;for(var a=r;a<i;a++)this.groupSizes[a]=0}for(var o=this.indexOfGroup(e+1),u=0,s=t.length;u<s;u++)this.tag.insertRule(o,t[u])&&(this.groupSizes[e]++,o++)},t.clearGroup=function(e){if(e<this.length){var t=this.groupSizes[e],n=this.indexOfGroup(e),r=n+t;this.groupSizes[e]=0;for(var i=n;i<r;i++)this.tag.deleteRule(n)}},t.getGroup=function(e){var t="";if(e>=this.length||0===this.groupSizes[e])return t;for(var n=this.groupSizes[e],r=this.indexOfGroup(e),i=r+n,a=r;a<i;a++)t+=this.tag.getRule(a)+"/*!sc*/\n";return t},e}(),Wt=new Map,Qt=new Map,$t=1,Yt=function(e){if(Wt.has(e))return Wt.get(e);for(;Qt.has($t);)$t++;var t=$t++;return Wt.set(e,t),Qt.set(t,e),t},Xt=function(e){return Qt.get(e)},Jt=function(e,t){t>=$t&&($t=t+1),Wt.set(e,t),Qt.set(t,e)},Zt="style["+zt+'][data-styled-version="5.3.5"]',en=new RegExp("^"+zt+'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)'),tn=function(e,t,n){for(var r,i=n.split(","),a=0,o=i.length;a<o;a++)(r=i[a])&&e.registerName(t,r)},nn=function(e,t){for(var n=(t.textContent||"").split("/*!sc*/\n"),r=[],i=0,a=n.length;i<a;i++){var o=n[i].trim();if(o){var u=o.match(en);if(u){var s=0|parseInt(u[1],10),c=u[2];0!==s&&(Jt(c,s),tn(e,c,u[3]),e.getTag().insertRules(s,r)),r.length=0}else r.push(o)}}},rn=function(){return"undefined"!=typeof window&&void 0!==window.__webpack_nonce__?window.__webpack_nonce__:null},an=function(e){var t=document.head,n=e||t,r=document.createElement("style"),i=function(e){for(var t=e.childNodes,n=t.length;n>=0;n--){var r=t[n];if(r&&1===r.nodeType&&r.hasAttribute(zt))return r}}(n),a=void 0!==i?i.nextSibling:null;r.setAttribute(zt,"active"),r.setAttribute("data-styled-version","5.3.5");var o=rn();return o&&r.setAttribute("nonce",o),n.insertBefore(r,a),r},on=function(){function e(e){var t=this.element=an(e);t.appendChild(document.createTextNode("")),this.sheet=function(e){if(e.sheet)return e.sheet;for(var t=document.styleSheets,n=0,r=t.length;n<r;n++){var i=t[n];if(i.ownerNode===e)return i}Kt(17)}(t),this.length=0}var t=e.prototype;return t.insertRule=function(e,t){try{return this.sheet.insertRule(t,e),this.length++,!0}catch(e){return!1}},t.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},t.getRule=function(e){var t=this.sheet.cssRules[e];return void 0!==t&&"string"==typeof t.cssText?t.cssText:""},e}(),un=function(){function e(e){var t=this.element=an(e);this.nodes=t.childNodes,this.length=0}var t=e.prototype;return t.insertRule=function(e,t){if(e<=this.length&&e>=0){var n=document.createTextNode(t),r=this.nodes[e];return this.element.insertBefore(n,r||null),this.length++,!0}return!1},t.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},t.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},e}(),sn=function(){function e(e){this.rules=[],this.length=0}var t=e.prototype;return t.insertRule=function(e,t){return e<=this.length&&(this.rules.splice(e,0,t),this.length++,!0)},t.deleteRule=function(e){this.rules.splice(e,1),this.length--},t.getRule=function(e){return e<this.length?this.rules[e]:""},e}(),cn=qt,ln={isServer:!qt,useCSSOMInjection:!Gt},fn=function(){function e(e,t,n){void 0===e&&(e=Ut),void 0===t&&(t={}),this.options=Dt({},ln,{},e),this.gs=t,this.names=new Map(n),this.server=!!e.isServer,!this.server&&qt&&cn&&(cn=!1,function(e){for(var t=document.querySelectorAll(Zt),n=0,r=t.length;n<r;n++){var i=t[n];i&&"active"!==i.getAttribute(zt)&&(nn(e,i),i.parentNode&&i.parentNode.removeChild(i))}}(this))}e.registerId=function(e){return Yt(e)};var t=e.prototype;return t.reconstructWithOptions=function(t,n){return void 0===n&&(n=!0),new e(Dt({},this.options,{},t),this.gs,n&&this.names||void 0)},t.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},t.getTag=function(){return this.tag||(this.tag=(n=(t=this.options).isServer,r=t.useCSSOMInjection,i=t.target,e=n?new sn(i):r?new on(i):new un(i),new Ht(e)));var e,t,n,r,i},t.hasNameForId=function(e,t){return this.names.has(e)&&this.names.get(e).has(t)},t.registerName=function(e,t){if(Yt(e),this.names.has(e))this.names.get(e).add(t);else{var n=new Set;n.add(t),this.names.set(e,n)}},t.insertRules=function(e,t,n){this.registerName(e,t),this.getTag().insertRules(Yt(e),n)},t.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},t.clearRules=function(e){this.getTag().clearGroup(Yt(e)),this.clearNames(e)},t.clearTag=function(){this.tag=void 0},t.toString=function(){return function(e){for(var t=e.getTag(),n=t.length,r="",i=0;i<n;i++){var a=Xt(i);if(void 0!==a){var o=e.names.get(a),u=t.getGroup(i);if(o&&u&&o.size){var s=zt+".g"+i+'[id="'+a+'"]',c="";void 0!==o&&o.forEach((function(e){e.length>0&&(c+=e+",")})),r+=""+u+s+'{content:"'+c+'"}/*!sc*/\n'}}}return r}(this)},e}(),hn=/(a)(d)/gi,dn=function(e){return String.fromCharCode(e+(e>25?39:97))};function pn(e){var t,n="";for(t=Math.abs(e);t>52;t=t/52|0)n=dn(t%52)+n;return(dn(t%52)+n).replace(hn,"$1-$2")}var vn=function(e,t){for(var n=t.length;n;)e=33*e^t.charCodeAt(--n);return e},yn=function(e){return vn(5381,e)};function mn(e){for(var t=0;t<e.length;t+=1){var n=e[t];if(jt(n)&&!Bt(n))return!1}return!0}var gn=yn("5.3.5"),kn=function(){function e(e,t,n){this.rules=e,this.staticRulesId="",this.isStatic=(void 0===n||n.isStatic)&&mn(e),this.componentId=t,this.baseHash=vn(gn,t),this.baseStyle=n,fn.registerId(t)}return e.prototype.generateAndInjectStyles=function(e,t,n){var r=this.componentId,i=[];if(this.baseStyle&&i.push(this.baseStyle.generateAndInjectStyles(e,t,n)),this.isStatic&&!n.hash)if(this.staticRulesId&&t.hasNameForId(r,this.staticRulesId))i.push(this.staticRulesId);else{var a=Fn(this.rules,e,t,n).join(""),o=pn(vn(this.baseHash,a)>>>0);if(!t.hasNameForId(r,o)){var u=n(a,"."+o,void 0,r);t.insertRules(r,o,u)}i.push(o),this.staticRulesId=o}else{for(var s=this.rules.length,c=vn(this.baseHash,n.hash),l="",f=0;f<s;f++){var h=this.rules[f];if("string"==typeof h)l+=h;else if(h){var d=Fn(h,e,t,n),p=Array.isArray(d)?d.join(""):d;c=vn(c,p+f),l+=p}}if(l){var v=pn(c>>>0);if(!t.hasNameForId(r,v)){var y=n(l,"."+v,void 0,r);t.insertRules(r,v,y)}i.push(v)}}return i.join(" ")},e}(),bn=/^\s*\/\/.*$/gm,wn=[":","[",".","#"];function xn(e){var t,n,r,i,a=void 0===e?Ut:e,o=a.options,u=void 0===o?Ut:o,s=a.plugins,c=void 0===s?Ft:s,l=new Nt(u),f=[],h=function(e){function t(t){if(t)try{e(t+"}")}catch(e){}}return function(n,r,i,a,o,u,s,c,l,f){switch(n){case 1:if(0===l&&64===r.charCodeAt(0))return e(r+";"),"";break;case 2:if(0===c)return r+"/*|*/";break;case 3:switch(c){case 102:case 112:return e(i[0]+r),"";default:return r+(0===f?"/*|*/":"")}case-2:r.split("/*|*/}").forEach(t)}}}((function(e){f.push(e)})),d=function(e,r,a){return 0===r&&-1!==wn.indexOf(a[n.length])||a.match(i)?e:"."+t};function p(e,a,o,u){void 0===u&&(u="&");var s=e.replace(bn,""),c=a&&o?o+" "+a+" { "+s+" }":s;return t=u,n=a,r=new RegExp("\\"+n+"\\b","g"),i=new RegExp("(\\"+n+"\\b){2,}"),l(o||!a?"":a,c)}return l.use([].concat(c,[function(e,t,i){2===e&&i.length&&i[0].lastIndexOf(n)>0&&(i[0]=i[0].replace(r,d))},h,function(e){if(-2===e){var t=f;return f=[],t}}])),p.hash=c.length?c.reduce((function(e,t){return t.name||Kt(15),vn(e,t.name)}),5381).toString():"",p}var Sn=t.createContext(),_n=(Sn.Consumer,t.createContext()),En=(_n.Consumer,new fn),In=xn();function Tn(){return(0,t.useContext)(Sn)||En}function Cn(){return(0,t.useContext)(_n)||In}function Nn(e){var n=(0,t.useState)(e.stylisPlugins),r=n[0],i=n[1],a=Tn(),o=(0,t.useMemo)((function(){var t=a;return e.sheet?t=e.sheet:e.target&&(t=t.reconstructWithOptions({target:e.target},!1)),e.disableCSSOMInjection&&(t=t.reconstructWithOptions({useCSSOMInjection:!1})),t}),[e.disableCSSOMInjection,e.sheet,e.target]),u=(0,t.useMemo)((function(){return xn({options:{prefix:!e.disableVendorPrefixes},plugins:r})}),[e.disableVendorPrefixes,r]);return(0,t.useEffect)((function(){Ct()(r,e.stylisPlugins)||i(e.stylisPlugins)}),[e.stylisPlugins]),t.createElement(Sn.Provider,{value:o},t.createElement(_n.Provider,{value:u},e.children))}var An=function(){function e(e,t){var n=this;this.inject=function(e,t){void 0===t&&(t=In);var r=n.name+t.hash;e.hasNameForId(n.id,r)||e.insertRules(n.id,r,t(n.rules,r,"@keyframes"))},this.toString=function(){return Kt(12,String(n.name))},this.name=e,this.id="sc-keyframes-"+e,this.rules=t}return e.prototype.getName=function(e){return void 0===e&&(e=In),this.name+e.hash},e}(),On=/([A-Z])/,Pn=/([A-Z])/g,Rn=/^ms-/,Dn=function(e){return"-"+e.toLowerCase()};function Ln(e){return On.test(e)?e.replace(Pn,Dn).replace(Rn,"-ms-"):e}var Mn=function(e){return null==e||!1===e||""===e};function Fn(e,t,n,r){if(Array.isArray(e)){for(var i,a=[],o=0,u=e.length;o<u;o+=1)""!==(i=Fn(e[o],t,n,r))&&(Array.isArray(i)?a.push.apply(a,i):a.push(i));return a}return Mn(e)?"":Bt(e)?"."+e.styledComponentId:jt(e)?"function"!=typeof(s=e)||s.prototype&&s.prototype.isReactComponent||!t?e:Fn(e(t),t,n,r):e instanceof An?n?(e.inject(n,r),e.getName(r)):e:Mt(e)?function e(t,n){var r,i,a=[];for(var o in t)t.hasOwnProperty(o)&&!Mn(t[o])&&(Array.isArray(t[o])&&t[o].isCss||jt(t[o])?a.push(Ln(o)+":",t[o],";"):Mt(t[o])?a.push.apply(a,e(t[o],o)):a.push(Ln(o)+": "+(r=o,(null==(i=t[o])||"boolean"==typeof i||""===i?"":"number"!=typeof i||0===i||r in At?String(i).trim():i+"px")+";")));return n?[n+" {"].concat(a,["}"]):a}(e):e.toString();var s}var Un=function(e){return Array.isArray(e)&&(e.isCss=!0),e};function jn(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return jt(e)||Mt(e)?Un(Fn(Lt(Ft,[e].concat(n)))):0===n.length&&1===e.length&&"string"==typeof e[0]?e:Un(Fn(Lt(e,n)))}new Set;var Vn=function(e,t,n){return void 0===n&&(n=Ut),e.theme!==n.theme&&e.theme||t||n.theme},Bn=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,zn=/(^-|-$)/g;function qn(e){return e.replace(Bn,"-").replace(zn,"")}var Gn=function(e){return pn(yn(e)>>>0)};function Kn(e){return"string"==typeof e&&!0}var Hn=function(e){return"function"==typeof e||"object"==typeof e&&null!==e&&!Array.isArray(e)},Wn=function(e){return"__proto__"!==e&&"constructor"!==e&&"prototype"!==e};function Qn(e,t,n){var r=e[n];Hn(t)&&Hn(r)?$n(r,t):e[n]=t}function $n(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];if(Hn(o))for(var u in o)Wn(u)&&Qn(e,o[u],u)}return e}var Yn=t.createContext();Yn.Consumer;var Xn={};function Jn(e,n,r){var i=Bt(e),a=!Kn(e),o=n.attrs,u=void 0===o?Ft:o,s=n.componentId,c=void 0===s?function(e,t){var n="string"!=typeof e?"sc":qn(e);Xn[n]=(Xn[n]||0)+1;var r=n+"-"+Gn("5.3.5"+n+Xn[n]);return t?t+"-"+r:r}(n.displayName,n.parentComponentId):s,l=n.displayName,f=void 0===l?function(e){return Kn(e)?"styled."+e:"Styled("+Vt(e)+")"}(e):l,h=n.displayName&&n.componentId?qn(n.displayName)+"-"+n.componentId:n.componentId||c,d=i&&e.attrs?Array.prototype.concat(e.attrs,u).filter(Boolean):u,p=n.shouldForwardProp;i&&e.shouldForwardProp&&(p=n.shouldForwardProp?function(t,r,i){return e.shouldForwardProp(t,r,i)&&n.shouldForwardProp(t,r,i)}:e.shouldForwardProp);var v,y=new kn(r,h,i?e.componentStyle:void 0),m=y.isStatic&&0===u.length,g=function(e,n){return function(e,n,r,i){var a=e.attrs,o=e.componentStyle,u=e.defaultProps,s=e.foldedComponentIds,c=e.shouldForwardProp,l=e.styledComponentId,f=e.target,h=function(e,t,n){void 0===e&&(e=Ut);var r=Dt({},t,{theme:e}),i={};return n.forEach((function(e){var t,n,a,o=e;for(t in jt(o)&&(o=o(r)),o)r[t]=i[t]="className"===t?(n=i[t],a=o[t],n&&a?n+" "+a:n||a):o[t]})),[r,i]}(Vn(n,(0,t.useContext)(Yn),u)||Ut,n,a),d=h[0],p=h[1],v=function(e,t,n,r){var i=Tn(),a=Cn();return t?e.generateAndInjectStyles(Ut,i,a):e.generateAndInjectStyles(n,i,a)}(o,i,d),y=r,m=p.$as||n.$as||p.as||n.as||f,g=Kn(m),k=p!==n?Dt({},n,{},p):n,b={};for(var w in k)"$"!==w[0]&&"as"!==w&&("forwardedAs"===w?b.as=k[w]:(c?c(w,Rt,m):!g||Rt(w))&&(b[w]=k[w]));return n.style&&p.style!==n.style&&(b.style=Dt({},n.style,{},p.style)),b.className=Array.prototype.concat(s,l,v!==l?v:null,n.className,p.className).filter(Boolean).join(" "),b.ref=y,(0,t.createElement)(m,b)}(v,e,n,m)};return g.displayName=f,(v=t.forwardRef(g)).attrs=d,v.componentStyle=y,v.displayName=f,v.shouldForwardProp=p,v.foldedComponentIds=i?Array.prototype.concat(e.foldedComponentIds,e.styledComponentId):Ft,v.styledComponentId=h,v.target=i?e.target:e,v.withComponent=function(e){var t=n.componentId,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(n,["componentId"]),a=t&&t+"-"+(Kn(e)?e:qn(Vt(e)));return Jn(e,Dt({},i,{attrs:d,componentId:a}),r)},Object.defineProperty(v,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(t){this._foldedDefaultProps=i?$n({},e.defaultProps,t):t}}),v.toString=function(){return"."+v.styledComponentId},a&&ne()(v,e,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0,withComponent:!0}),v}var Zn=function(e){return function e(t,n,r){if(void 0===r&&(r=Ut),!(0,Z.isValidElementType)(n))return Kt(1,String(n));var i=function(){return t(n,r,jn.apply(void 0,arguments))};return i.withConfig=function(i){return e(t,n,Dt({},r,{},i))},i.attrs=function(i){return e(t,n,Dt({},r,{attrs:Array.prototype.concat(r.attrs,i).filter(Boolean)}))},i}(Jn,e)};["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","textPath","tspan"].forEach((function(e){Zn[e]=Zn(e)}));!function(){function e(e,t){this.rules=e,this.componentId=t,this.isStatic=mn(e),fn.registerId(this.componentId+1)}var t=e.prototype;t.createStyles=function(e,t,n,r){var i=r(Fn(this.rules,t,n,r).join(""),""),a=this.componentId+e;n.insertRules(a,a,i)},t.removeStyles=function(e,t){t.clearRules(this.componentId+e)},t.renderStyles=function(e,t,n,r){e>2&&fn.registerId(this.componentId+e),this.removeStyles(e,n),this.createStyles(e,t,n,r)}}();!function(){function e(){var e=this;this._emitSheetCSS=function(){var t=e.instance.toString();if(!t)return"";var n=rn();return"<style "+[n&&'nonce="'+n+'"',zt+'="true"','data-styled-version="5.3.5"'].filter(Boolean).join(" ")+">"+t+"</style>"},this.getStyleTags=function(){return e.sealed?Kt(2):e._emitSheetCSS()},this.getStyleElement=function(){var n;if(e.sealed)return Kt(2);var r=((n={})[zt]="",n["data-styled-version"]="5.3.5",n.dangerouslySetInnerHTML={__html:e.instance.toString()},n),i=rn();return i&&(r.nonce=i),[t.createElement("style",Dt({},r,{key:"sc-0-0"}))]},this.seal=function(){e.sealed=!0},this.instance=new fn({isServer:!0}),this.sealed=!1}var n=e.prototype;n.collectStyles=function(e){return this.sealed?Kt(2):t.createElement(Nn,{sheet:this.instance},e)},n.interleaveWithNodeStream=function(e){return Kt(3)}}();var er,tr=Zn,nr=(tr.div(er||(er=It(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  padding: 20px 80px;\n  background-color: wheat;\n"]))),"Modal_darkBG__Tt54y"),rr="Modal_centered__uyPUl",ir="Modal_modal__d+1WZ",ar="Modal_modalHeader__DAC4t",or="Modal_heading__mFwPO",ur="Modal_modalContent__C-t9S",sr="Modal_modalActions__P-anA",cr="Modal_actionsContainer__slVKA",lr="Modal_deleteBtn__saXVm",fr=function(e){var t=e.setIsOpen;return(0,St.jsxs)(St.Fragment,{children:[(0,St.jsx)("div",{className:nr}),(0,St.jsx)("div",{className:rr,children:(0,St.jsxs)("div",{className:ir,children:[(0,St.jsx)("div",{className:ar,children:(0,St.jsx)("h5",{className:or,children:"ATTENTION"})}),(0,St.jsxs)("div",{className:ur,children:[(0,St.jsx)("p",{children:"The only purpose of this website is to imitate the process of buying and validating tickets for Formula 1\xae Grand Prix weekends!"}),(0,St.jsx)("p",{children:"For buying the official tickets please visit https://f1experiences.com/ or any related official sources!"}),(0,St.jsx)("p",{children:"All rights reserved by QuintEvents International and Formula One Digital Media Limited."})]}),(0,St.jsx)("div",{className:sr,children:(0,St.jsx)("div",{className:cr,children:(0,St.jsx)("button",{className:lr,onClick:function(){return t(!1)},children:"Understood"})})})]})})]})},hr=function(){var e=Le((0,t.useState)(!0),2),n=e[0],r=e[1];return(0,St.jsx)("main",{children:n&&(0,St.jsx)(fr,{setIsOpen:r})})},dr=function(){return(0,St.jsxs)("div",{className:"homepage",children:[(0,St.jsx)("div",{className:"attentionBox",children:(0,St.jsx)(hr,{})}),(0,St.jsx)("div",{className:"welcomeMessage",children:(0,St.jsx)("h1",{children:"WELCOME TO F1 Ticket Manager!"})})]})},pr={FETCH_COLLECTIONS_START:"FETCH_COLLECTIONS_START",FETCH_COLLECTIONS_SUCCESS:"FETCH_COLLECTIONS_SUCCESS",FETCH_COLLECTIONS_FAILURE:"FETCH_COLLECTIONS_FAILURE"};function vr(e,t,n,r,i,a,o){try{var u=e[a](o),s=u.value}catch(c){return void n(c)}u.done?t(s):Promise.resolve(s).then(r,i)}function yr(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){vr(a,r,i,o,u,"next",e)}function u(e){vr(a,r,i,o,u,"throw",e)}o(void 0)}))}}var mr=n(757),gr=n.n(mr);function kr(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=Re(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){u=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(u)throw a}}}}function br(e,t,n){return br=c()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&o(i,n.prototype),i},br.apply(null,arguments)}function wr(e){var t="function"===typeof Map?new Map:void 0;return wr=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return br(e,arguments,s(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),o(n,e)},wr(e)}var xr=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},Sr={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,u=o?e[i+1]:0,s=i+2<e.length,c=s?e[i+2]:0,l=a>>2,f=(3&a)<<4|u>>4,h=(15&u)<<2|c>>6,d=63&c;s||(d=64,o||(h=64)),r.push(n[l],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(xr(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var u=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&u)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,u=++i<e.length?n[e.charAt(i)]:64,s=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==u||null==s)throw Error();var c=a<<2|o>>4;if(r.push(c),64!==u){var l=o<<4&240|u>>2;if(r.push(l),64!==s){var f=u<<6&192|s;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},_r=function(e){return function(e){var t=xr(e);return Sr.encodeByteArray(t,!0)}(e).replace(/\./g,"")},Er=function(e){try{return Sr.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function Ir(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&Tr(n)&&(e[n]=Ir(e[n],t[n]));return e}function Tr(e){return"__proto__"!==e}var Cr=function(){function e(){var t=this;r(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return a(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function Nr(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[_r(JSON.stringify({alg:"none",type:"JWT"})),_r(JSON.stringify(a)),""].join(".")}function Ar(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function Or(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ar())}function Pr(){try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(e){return!1}}function Rr(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function Dr(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function Lr(){var e=Ar();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function Mr(){return"object"===typeof indexedDB}var Fr=function(e){u(n,e);var t=d(n);function n(e,i,a){var o;return r(this,n),(o=t.call(this,i)).code=e,o.customData=a,o.name="FirebaseError",Object.setPrototypeOf(f(o),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(f(o),Ur.prototype.create),o}return a(n)}(wr(Error)),Ur=function(){function e(t,n,i){r(this,e),this.service=t,this.serviceName=n,this.errors=i}return a(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?jr(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,")."),o=new Fr(n,a,t);return o}}]),e}();function jr(e,t){return e.replace(Vr,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}var Vr=/\{\$([^}]+)}/g;function Br(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function zr(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var u=e[o],s=t[o];if(qr(u)&&qr(s)){if(!zr(u,s))return!1}else if(u!==s)return!1}for(var c=0,l=r;c<l.length;c++){var f=l[c];if(!n.includes(f))return!1}return!0}function qr(e){return null!==e&&"object"===typeof e}function Gr(e){for(var t=[],n=function(){var e=Le(i[r],2),n=e[0],a=e[1];Array.isArray(a)?a.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))},r=0,i=Object.entries(e);r<i.length;r++)n();return t.length?"&"+t.join("&"):""}function Kr(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=Le(e.split("="),2),r=n[0],i=n[1];t[decodeURIComponent(r)]=decodeURIComponent(i)}})),t}function Hr(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function Wr(e,t){var n=new Qr(e,t);return n.subscribe.bind(n)}var Qr=function(){function e(t,n){var i=this;r(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(i)})).catch((function(e){i.error(e)}))}return a(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=kr(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=$r),void 0===r.error&&(r.error=$r),void 0===r.complete&&(r.complete=$r);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function $r(){}function Yr(e){return e&&e._delegate?e._delegate:e}var Xr=function(){function e(t,n,i){r(this,e),this.name=t,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return a(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),Jr="[DEFAULT]",Zr=function(){function e(t,n){r(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return a(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new Cr;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Jr})}catch(s){}var t,n=kr(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=Le(t.value,2),i=r[0],a=r[1],o=this.normalizeInstanceIdentifier(i);try{var u=this.getOrInitializeService({instanceIdentifier:o});a.resolve(u)}catch(s){}}}catch(c){n.e(c)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Jr;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=yr(mr.mark((function e(){var t;return mr.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat(Fe(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),Fe(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Jr;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Jr;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,a=this.getOrInitializeService({instanceIdentifier:r,options:n}),o=kr(this.instancesDeferred.entries());try{for(o.s();!(i=o.n()).done;){var u=Le(i.value,2),s=u[0],c=u[1],l=this.normalizeInstanceIdentifier(s);r===l&&c.resolve(a)}}catch(f){o.e(f)}finally{o.f()}return a}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=kr(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(Ug){}}}catch(o){i.e(o)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,a=this.instances.get(n);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===Jr?void 0:t),options:i}),this.instances.set(n,a),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(a,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,a)}catch(Ug){}return a||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Jr;return this.component?this.component.multipleInstances?e:Jr:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();var ei,ti,ni=function(){function e(t){r(this,e),this.name=t,this.providers=new Map}return a(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new Zr(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),ri=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(ti||(ti={}));var ii={debug:ti.DEBUG,verbose:ti.VERBOSE,info:ti.INFO,warn:ti.WARN,error:ti.ERROR,silent:ti.SILENT},ai=ti.INFO,oi=(gt(ei={},ti.DEBUG,"log"),gt(ei,ti.VERBOSE,"log"),gt(ei,ti.INFO,"info"),gt(ei,ti.WARN,"warn"),gt(ei,ti.ERROR,"error"),ei),ui=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=oi[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),u=2;u<a;u++)o[u-2]=arguments[u];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},si=function(){function e(t){r(this,e),this.name=t,this._logLevel=ai,this._logHandler=ui,this._userLogHandler=null,ri.push(this)}return a(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in ti))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?ii[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,ti.DEBUG].concat(t)),this._logHandler.apply(this,[this,ti.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,ti.VERBOSE].concat(t)),this._logHandler.apply(this,[this,ti.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,ti.INFO].concat(t)),this._logHandler.apply(this,[this,ti.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,ti.WARN].concat(t)),this._logHandler.apply(this,[this,ti.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,ti.ERROR].concat(t)),this._logHandler.apply(this,[this,ti.ERROR].concat(t))}}]),e}();var ci,li;var fi=new WeakMap,hi=new WeakMap,di=new WeakMap,pi=new WeakMap,vi=new WeakMap;var yi={get:function(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return hi.get(e);if("objectStoreNames"===t)return e.objectStoreNames||di.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ki(e[t])},set:function(e,t,n){return e[t]=n,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function mi(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(li||(li=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(bi(this),n),ki(fi.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return ki(e.apply(bi(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=e.call.apply(e,[bi(this),t].concat(r));return di.set(a,t.sort?t.sort():[t]),ki(a)}}function gi(e){return"function"===typeof e?mi(e):(e instanceof IDBTransaction&&function(e){if(!hi.has(e)){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=function(){t(),r()},a=function(){n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)}));hi.set(e,t)}}(e),function(e,t){return t.some((function(t){return e instanceof t}))}(e,ci||(ci=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,yi):e)}function ki(e){if(e instanceof IDBRequest)return function(e){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("success",i),e.removeEventListener("error",a)},i=function(){t(ki(e.result)),r()},a=function(){n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)}));return t.then((function(t){t instanceof IDBCursor&&fi.set(t,e)})).catch((function(){})),vi.set(t,e),t}(e);if(pi.has(e))return pi.get(e);var t=gi(e);return t!==e&&(pi.set(e,t),vi.set(t,e)),t}var bi=function(e){return vi.get(e)};var wi,xi,Si=["get","getKey","getAll","getAllKeys","count"],_i=["put","add","delete","clear"],Ei=new Map;function Ii(e,t){if(e instanceof IDBDatabase&&!(t in e)&&"string"===typeof t){if(Ei.get(t))return Ei.get(t);var n=t.replace(/FromIndex$/,""),r=t!==n,i=_i.includes(n);if(n in(r?IDBIndex:IDBObjectStore).prototype&&(i||Si.includes(n))){var a=function(){var e=yr(mr.mark((function e(t){var a,o,u,s,c,l,f=arguments;return mr.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(o=this.transaction(t,i?"readwrite":"readonly"),u=o.store,s=f.length,c=new Array(s>1?s-1:0),l=1;l<s;l++)c[l-1]=f[l];return r&&(u=u.index(c.shift())),e.next=6,Promise.all([(a=u)[n].apply(a,c),i&&o.done]);case 6:return e.abrupt("return",e.sent[0]);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();return Ei.set(t,a),a}}}yi=function(e){return bt(bt({},e),{},{get:function(t,n,r){return Ii(t,n)||e.get(t,n,r)},has:function(t,n){return!!Ii(t,n)||e.has(t,n)}})}(yi);var Ti=function(){function e(t){r(this,e),this.container=t}return a(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var Ci="@firebase/app",Ni="0.7.24",Ai=new si("@firebase/app"),Oi="[DEFAULT]",Pi=(gt(wi={},Ci,"fire-core"),gt(wi,"@firebase/app-compat","fire-core-compat"),gt(wi,"@firebase/analytics","fire-analytics"),gt(wi,"@firebase/analytics-compat","fire-analytics-compat"),gt(wi,"@firebase/app-check","fire-app-check"),gt(wi,"@firebase/app-check-compat","fire-app-check-compat"),gt(wi,"@firebase/auth","fire-auth"),gt(wi,"@firebase/auth-compat","fire-auth-compat"),gt(wi,"@firebase/database","fire-rtdb"),gt(wi,"@firebase/database-compat","fire-rtdb-compat"),gt(wi,"@firebase/functions","fire-fn"),gt(wi,"@firebase/functions-compat","fire-fn-compat"),gt(wi,"@firebase/installations","fire-iid"),gt(wi,"@firebase/installations-compat","fire-iid-compat"),gt(wi,"@firebase/messaging","fire-fcm"),gt(wi,"@firebase/messaging-compat","fire-fcm-compat"),gt(wi,"@firebase/performance","fire-perf"),gt(wi,"@firebase/performance-compat","fire-perf-compat"),gt(wi,"@firebase/remote-config","fire-rc"),gt(wi,"@firebase/remote-config-compat","fire-rc-compat"),gt(wi,"@firebase/storage","fire-gcs"),gt(wi,"@firebase/storage-compat","fire-gcs-compat"),gt(wi,"@firebase/firestore","fire-fst"),gt(wi,"@firebase/firestore-compat","fire-fst-compat"),gt(wi,"fire-js","fire-js"),gt(wi,"firebase","fire-js-all"),wi),Ri=new Map,Di=new Map;function Li(e,t){try{e.container.addComponent(t)}catch(n){Ai.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function Mi(e,t){e.container.addOrOverwriteComponent(t)}function Fi(e){var t=e.name;if(Di.has(t))return Ai.debug("There were multiple attempts to register component ".concat(t,".")),!1;Di.set(t,e);var n,r=kr(Ri.values());try{for(r.s();!(n=r.n()).done;){Li(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function Ui(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function ji(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Oi;Ui(e,t).clearInstance(n)}function Vi(){Di.clear()}var Bi=(gt(xi={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),gt(xi,"bad-app-name","Illegal App name: '{$appName}"),gt(xi,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),gt(xi,"app-deleted","Firebase App named '{$appName}' already deleted"),gt(xi,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),gt(xi,"invalid-log-argument","First argument to `onLog` must be null or a function."),gt(xi,"storage-open","Error thrown when opening storage. Original error: {$originalErrorMessage}."),gt(xi,"storage-get","Error thrown when reading from storage. Original error: {$originalErrorMessage}."),gt(xi,"storage-set","Error thrown when writing to storage. Original error: {$originalErrorMessage}."),gt(xi,"storage-delete","Error thrown when deleting from storage. Original error: {$originalErrorMessage}."),xi),zi=new Ur("app","Firebase",Bi),qi=function(){function e(t,n,i){var a=this;r(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Xr("app",(function(){return a}),"PUBLIC"))}return a(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw zi.create("app-deleted",{appName:this._name})}}]),e}(),Gi="9.8.1";function Ki(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("object"!==typeof t){var n=t;t={name:n}}var r=Object.assign({name:Oi,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw zi.create("bad-app-name",{appName:String(i)});var a=Ri.get(i);if(a){if(zr(e,a.options)&&zr(r,a.config))return a;throw zi.create("duplicate-app",{appName:i})}var o,u=new ni(i),s=kr(Di.values());try{for(s.s();!(o=s.n()).done;){var c=o.value;u.addComponent(c)}}catch(f){s.e(f)}finally{s.f()}var l=new qi(e,r,u);return Ri.set(i,l),l}function Hi(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Oi,t=Ri.get(e);if(!t)throw zi.create("no-app",{appName:e});return t}function Wi(){return Array.from(Ri.values())}function Qi(e){return $i.apply(this,arguments)}function $i(){return($i=yr(mr.mark((function e(t){var n;return mr.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.name,!Ri.has(n)){e.next=6;break}return Ri.delete(n),e.next=5,Promise.all(t.container.getProviders().map((function(e){return e.delete()})));case 5:t.isDeleted=!0;case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Yi(e,t,n){var r,i=null!==(r=Pi[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var u=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&u.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&u.push("and"),o&&u.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void Ai.warn(u.join(" "))}Fi(new Xr("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}function Xi(e,t){if(null!==e&&"function"!==typeof e)throw zi.create("invalid-log-argument");!function(e,t){var n,r=kr(ri);try{var i=function(){var r=n.value,i=null;t&&t.level&&(i=ii[t.level]),r.userLogHandler=null===e?null:function(t,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),o=2;o<r;o++)a[o-2]=arguments[o];var u=a.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==i&&void 0!==i?i:t.logLevel)&&e({level:ti[n].toLowerCase(),message:u,args:a,type:t.name})}};for(r.s();!(n=r.n()).done;)i()}catch(a){r.e(a)}finally{r.f()}}(e,t)}function Ji(e){var t;t=e,ri.forEach((function(e){e.setLogLevel(t)}))}var Zi="firebase-heartbeat-store",ea=null;function ta(){return ea||(ea=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.blocked,i=n.upgrade,a=n.blocking,o=n.terminated,u=indexedDB.open(e,t),s=ki(u);return i&&u.addEventListener("upgradeneeded",(function(e){i(ki(u.result),e.oldVersion,e.newVersion,ki(u.transaction))})),r&&u.addEventListener("blocked",(function(){return r()})),s.then((function(e){o&&e.addEventListener("close",(function(){return o()})),a&&e.addEventListener("versionchange",(function(){return a()}))})).catch((function(){})),s}("firebase-heartbeat-database",1,{upgrade:function(e,t){if(0===t)e.createObjectStore(Zi)}}).catch((function(e){throw zi.create("storage-open",{originalErrorMessage:e.message})}))),ea}function na(e){return ra.apply(this,arguments)}function ra(){return ra=yr(mr.mark((function e(t){var n;return mr.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ta();case 3:return n=e.sent,e.abrupt("return",n.transaction(Zi).objectStore(Zi).get(oa(t)));case 7:throw e.prev=7,e.t0=e.catch(0),zi.create("storage-get",{originalErrorMessage:e.t0.message});case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),ra.apply(this,arguments)}function ia(e,t){return aa.apply(this,arguments)}function aa(){return aa=yr(mr.mark((function e(t,n){var r,i,a;return mr.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ta();case 3:return r=e.sent,i=r.transaction(Zi,"readwrite"),a=i.objectStore(Zi),e.next=8,a.put(n,oa(t));case 8:return e.abrupt("return",i.done);case 11:throw e.prev=11,e.t0=e.catch(0),zi.create("storage-set",{originalErrorMessage:e.t0.message});case 14:case"end":return e.stop()}}),e,null,[[0,11]])}))),aa.apply(this,arguments)}function oa(e){return"".concat(e.name,"!").concat(e.options.appId)}var ua=function(){function e(t){var n=this;r(this,e),this.container=t,this._heartbeatsCache=null;var i=this.container.getProvider("app").getImmediate();this._storage=new ha(i),this._heartbeatsCachePromise=this._storage.read().then((function(e){return n._heartbeatsCache=e,e}))}return a(e,[{key:"triggerHeartbeat",value:function(){var e=yr(mr.mark((function e(){var t,n,r;return mr.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.container.getProvider("platform-logger").getImmediate(),n=t.getPlatformInfoString(),r=sa(),null!==this._heartbeatsCache){e.next=7;break}return e.next=6,this._heartbeatsCachePromise;case 6:this._heartbeatsCache=e.sent;case 7:if(this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((function(e){return e.date===r}))){e.next=11;break}return e.abrupt("return");case 11:this._heartbeatsCache.heartbeats.push({date:r,agent:n});case 12:return this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),e.abrupt("return",this._storage.overwrite(this._heartbeatsCache));case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getHeartbeatsHeader",value:function(){var e=yr(mr.mark((function e(){var t,n,r,i,a;return mr.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._heartbeatsCache){e.next=3;break}return e.next=3,this._heartbeatsCachePromise;case 3:if(null!==this._heartbeatsCache&&0!==this._heartbeatsCache.heartbeats.length){e.next=5;break}return e.abrupt("return","");case 5:if(t=sa(),n=ca(this._heartbeatsCache.heartbeats),r=n.heartbeatsToSend,i=n.unsentEntries,a=_r(JSON.stringify({version:2,heartbeats:r})),this._heartbeatsCache.lastSentHeartbeatDate=t,!(i.length>0)){e.next=15;break}return this._heartbeatsCache.heartbeats=i,e.next=13,this._storage.overwrite(this._heartbeatsCache);case 13:e.next=17;break;case 15:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);case 17:return e.abrupt("return",a);case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function sa(){return(new Date).toISOString().substring(0,10)}function ca(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024,r=[],i=e.slice(),a=kr(e);try{var o=function(){var e=t.value,a=r.find((function(t){return t.agent===e.agent}));if(a){if(a.dates.push(e.date),da(r)>n)return a.dates.pop(),"break"}else if(r.push({agent:e.agent,dates:[e.date]}),da(r)>n)return r.pop(),"break";i=i.slice(1)};for(a.s();!(t=a.n()).done;){var u=o();if("break"===u)break}}catch(s){a.e(s)}finally{a.f()}return{heartbeatsToSend:r,unsentEntries:i}}var la,fa,ha=function(){function e(t){r(this,e),this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return a(e,[{key:"runIndexedDBEnvironmentCheck",value:function(){var e=yr(mr.mark((function e(){return mr.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Mr()){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(a){t(a)}})).then((function(){return!0})).catch((function(){return!1})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=yr(mr.mark((function e(){var t;return mr.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return",{heartbeats:[]});case 7:return e.next=9,na(this.app);case 9:return t=e.sent,e.abrupt("return",t||{heartbeats:[]});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"overwrite",value:function(){var e=yr(mr.mark((function e(t){var n,r;return mr.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",ia(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=yr(mr.mark((function e(t){var n,r;return mr.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",ia(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:[].concat(Fe(r.heartbeats),Fe(t.heartbeats))}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function da(e){return _r(JSON.stringify({version:2,heartbeats:e})).length}la="",Fi(new Xr("platform-logger",(function(e){return new Ti(e)}),"PRIVATE")),Fi(new Xr("heartbeat",(function(e){return new ua(e)}),"PRIVATE")),Yi(Ci,Ni,la),Yi(Ci,Ni,"esm2017"),Yi("fire-js","");var pa=function(){function e(t,n){var i=this;r(this,e),this._delegate=t,this.firebase=n,Li(t,new Xr("app-compat",(function(){return i}),"PUBLIC")),this.container=t.container}return a(e,[{key:"automaticDataCollectionEnabled",get:function(){return this._delegate.automaticDataCollectionEnabled},set:function(e){this._delegate.automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this._delegate.name}},{key:"options",get:function(){return this._delegate.options}},{key:"delete",value:function(){var e=this;return new Promise((function(t){e._delegate.checkDestroyed(),t()})).then((function(){return e.firebase.INTERNAL.removeApp(e.name),Qi(e._delegate)}))}},{key:"_getService",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Oi;this._delegate.checkDestroyed();var r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(t=r.getComponent())||void 0===t?void 0:t.instantiationMode)||r.initialize(),r.getImmediate({identifier:n})}},{key:"_removeServiceInstance",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Oi;this._delegate.container.getProvider(e).clearInstance(t)}},{key:"_addComponent",value:function(e){Li(this._delegate,e)}},{key:"_addOrOverwriteComponent",value:function(e){Mi(this._delegate,e)}},{key:"toJSON",value:function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}]),e}(),va=(gt(fa={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),gt(fa,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),fa),ya=new Ur("app-compat","Firebase",va);var ma=function t(){var n=function(t){var n={},r={__esModule:!0,initializeApp:function(e){var i=Ki(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(Br(n,i.name))return n[i.name];var a=new t(i,r);return n[i.name]=a,a},app:i,registerVersion:Yi,setLogLevel:Ji,onLog:Xi,apps:null,SDK_VERSION:Gi,INTERNAL:{registerComponent:function(e){var n=e.name,a=n.replace("-compat","");if(Fi(e)&&"PUBLIC"===e.type){var o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[a])throw ya.create("invalid-app-argument",{appName:n});return e[a]()};void 0!==e.serviceProps&&Ir(o,e.serviceProps),r[a]=o,t.prototype[a]=function(){for(var t=this._getService.bind(this,n),r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t.apply(this,e.multipleInstances?i:[])}}return"PUBLIC"===e.type?r[a]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!Br(n,e=e||Oi))throw ya.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((function(e){return n[e]}))}}),i.App=t,r}(pa);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){Ir(n,e)},createSubscribe:Wr,ErrorFactory:Ur,deepExtend:Ir}),n}(),ga=new si("@firebase/app-compat");if("object"===typeof self&&self.self===self&&void 0!==self.firebase){ga.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var ka=self.firebase.SDK_VERSION;ka&&ka.indexOf("LITE")>=0&&ga.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var ba=ma;!function(e){Yi("@firebase/app-compat","0.1.25",e)}();function wa(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=s(e)););return e}function xa(){return xa="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=wa(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},xa.apply(this,arguments)}ba.registerVersion("firebase","9.8.1","app-compat");var Sa,_a="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},Ea={},Ia=Ia||{},Ta=_a||self;function Ca(){}function Na(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function Aa(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var Oa="closure_uid_"+(1e9*Math.random()>>>0),Pa=0;function Ra(e,t,n){return e.call.apply(e.bind,arguments)}function Da(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function La(e,t,n){return(La=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Ra:Da).apply(null,arguments)}function Ma(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function Fa(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function Ua(){this.s=this.s,this.o=this.o}var ja={};Ua.prototype.s=!1,Ua.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var e=function(e){return Object.prototype.hasOwnProperty.call(e,Oa)&&e[Oa]||(e[Oa]=++Pa)}(this);delete ja[e]}},Ua.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var Va=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},Ba=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"===typeof e?e.split(""):e,a=0;a<r;a++)a in i&&t.call(n,i[a],a,e)};function za(e){return Array.prototype.concat.apply([],arguments)}function qa(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function Ga(e){return/^[\s\xa0]*$/.test(e)}var Ka,Ha=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function Wa(e,t){return-1!=e.indexOf(t)}function Qa(e,t){return e<t?-1:e>t?1:0}e:{var $a=Ta.navigator;if($a){var Ya=$a.userAgent;if(Ya){Ka=Ya;break e}}Ka=""}function Xa(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function Ja(e){var t={};for(var n in e)t[n]=e[n];return t}var Za="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function eo(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<Za.length;a++)n=Za[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function to(e){return to[" "](e),e}to[" "]=Ca;var no,ro=Wa(Ka,"Opera"),io=Wa(Ka,"Trident")||Wa(Ka,"MSIE"),ao=Wa(Ka,"Edge"),oo=ao||io,uo=Wa(Ka,"Gecko")&&!(Wa(Ka.toLowerCase(),"webkit")&&!Wa(Ka,"Edge"))&&!(Wa(Ka,"Trident")||Wa(Ka,"MSIE"))&&!Wa(Ka,"Edge"),so=Wa(Ka.toLowerCase(),"webkit")&&!Wa(Ka,"Edge");function co(){var e=Ta.document;return e?e.documentMode:void 0}e:{var lo="",fo=function(){var e=Ka;return uo?/rv:([^\);]+)(\)|;)/.exec(e):ao?/Edge\/([\d\.]+)/.exec(e):io?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):so?/WebKit\/(\S+)/.exec(e):ro?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(fo&&(lo=fo?fo[1]:""),io){var ho=co();if(null!=ho&&ho>parseFloat(lo)){no=String(ho);break e}}no=lo}var po,vo={};function yo(){return function(e){var t=vo;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}((function(){for(var e=0,t=Ha(String(no)).split("."),n=Ha("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var a=t[i]||"",o=n[i]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==a[0].length&&0==o[0].length)break;e=Qa(0==a[1].length?0:parseInt(a[1],10),0==o[1].length?0:parseInt(o[1],10))||Qa(0==a[2].length,0==o[2].length)||Qa(a[2],o[2]),a=a[3],o=o[3]}while(0==e)}return 0<=e}))}if(Ta.document&&io){var mo=co();po=mo||(parseInt(no,10)||void 0)}else po=void 0;var go=po,ko=function(){if(!Ta.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{Ta.addEventListener("test",Ca,t),Ta.removeEventListener("test",Ca,t)}catch(n){}return e}();function bo(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}function wo(e,t){if(bo.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(uo){e:{try{to(t.nodeName);var i=!0;break e}catch(a){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:xo[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&wo.Z.h.call(this)}}bo.prototype.h=function(){this.defaultPrevented=!0},Fa(wo,bo);var xo={2:"touch",3:"pen",4:"mouse"};wo.prototype.h=function(){wo.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var So="closure_listenable_"+(1e6*Math.random()|0),_o=0;function Eo(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=i,this.key=++_o,this.ca=this.fa=!1}function Io(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function To(e){this.src=e,this.g={},this.h=0}function Co(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=Va(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(Io(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function No(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.ca&&a.listener==t&&a.capture==!!n&&a.ia==r)return i}return-1}To.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=No(e,t,r,i);return-1<o?(t=e[o],n||(t.fa=!1)):((t=new Eo(t,this.src,a,!!r,i)).fa=n,e.push(t)),t};var Ao="closure_lm_"+(1e6*Math.random()|0),Oo={};function Po(e,t,n,r,i){if(r&&r.once)return Do(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)Po(e,t[a],n,r,i);return null}return n=Bo(n),e&&e[So]?e.N(t,n,Aa(r)?!!r.capture:!!r,i):Ro(e,t,n,!1,r,i)}function Ro(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=Aa(i)?!!i.capture:!!i,u=jo(e);if(u||(e[Ao]=u=new To(e)),(n=u.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=Uo;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)ko||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Fo(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function Do(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)Do(e,t[a],n,r,i);return null}return n=Bo(n),e&&e[So]?e.O(t,n,Aa(r)?!!r.capture:!!r,i):Ro(e,t,n,!0,r,i)}function Lo(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)Lo(e,t[a],n,r,i);else r=Aa(r)?!!r.capture:!!r,n=Bo(n),e&&e[So]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=No(a=e.g[t],n,r,i))&&(Io(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=jo(e))&&(t=e.g[t.toString()],e=-1,t&&(e=No(t,n,r,i)),(n=-1<e?t[e]:null)&&Mo(n))}function Mo(e){if("number"!==typeof e&&e&&!e.ca){var t=e.src;if(t&&t[So])Co(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Fo(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=jo(t))?(Co(n,e),0==n.h&&(n.src=null,t[Ao]=null)):Io(e)}}}function Fo(e){return e in Oo?Oo[e]:Oo[e]="on"+e}function Uo(e,t){if(e.ca)e=!0;else{t=new wo(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&Mo(e),e=n.call(r,t)}return e}function jo(e){return(e=e[Ao])instanceof To?e:null}var Vo="__closure_events_fn_"+(1e9*Math.random()>>>0);function Bo(e){return"function"===typeof e?e:(e[Vo]||(e[Vo]=function(t){return e.handleEvent(t)}),e[Vo])}function zo(){Ua.call(this),this.i=new To(this),this.P=this,this.I=null}function qo(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"===typeof t)t=new bo(t,e);else if(t instanceof bo)t.target=t.target||e;else{var i=t;eo(t=new bo(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=Go(o,r,!0,t)&&i}if(i=Go(o=t.g=e,r,!0,t)&&i,i=Go(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=Go(o=t.g=n[a],r,!1,t)&&i}function Go(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.ca&&o.capture==n){var u=o.listener,s=o.ia||o.src;o.fa&&Co(e.i,o),i=!1!==u.call(s,r)&&i}}return i&&!r.defaultPrevented}Fa(zo,Ua),zo.prototype[So]=!0,zo.prototype.removeEventListener=function(e,t,n,r){Lo(this,e,t,n,r)},zo.prototype.M=function(){if(zo.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Io(n[r]);delete t.g[e],t.h--}}this.I=null},zo.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},zo.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var Ko=Ta.JSON.stringify;function Ho(){var e=eu,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var Wo,Qo=function(){function e(){r(this,e),this.h=this.g=null}return a(e,[{key:"add",value:function(e,t){var n=$o.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),$o=new(function(){function e(t,n){r(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return a(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}())((function(){return new Yo}),(function(e){return e.reset()})),Yo=function(){function e(){r(this,e),this.next=this.g=this.h=null}return a(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function Xo(e){Ta.setTimeout((function(){throw e}),0)}function Jo(e,t){Wo||function(){var e=Ta.Promise.resolve(void 0);Wo=function(){e.then(tu)}}(),Zo||(Wo(),Zo=!0),eu.add(e,t)}var Zo=!1,eu=new Qo;function tu(){for(var e;e=Ho();){try{e.h.call(e.g)}catch(n){Xo(n)}var t=$o;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Zo=!1}function nu(e,t){zo.call(this),this.h=e||1,this.g=t||Ta,this.j=La(this.kb,this),this.l=Date.now()}function ru(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}function iu(e,t,n){if("function"===typeof e)n&&(e=La(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=La(e.handleEvent,e)}return 2147483647<Number(t)?-1:Ta.setTimeout(e,t||0)}function au(e){e.g=iu((function(){e.g=null,e.i&&(e.i=!1,au(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}Fa(nu,zo),(Sa=nu.prototype).da=!1,Sa.S=null,Sa.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),qo(this,"tick"),this.da&&(ru(this),this.start()))}},Sa.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Sa.M=function(){nu.Z.M.call(this),ru(this),delete this.g};var ou=function(e){u(n,e);var t=d(n);function n(e,i){var a;return r(this,n),(a=t.call(this)).m=e,a.j=i,a.h=null,a.i=!1,a.g=null,a}return a(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:au(this)}},{key:"M",value:function(){xa(s(n.prototype),"M",this).call(this),this.g&&(Ta.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(Ua);function uu(e){Ua.call(this),this.h=e,this.g={}}Fa(uu,Ua);var su=[];function cu(e,t,n,r){Array.isArray(n)||(n&&(su[0]=n.toString()),n=su);for(var i=0;i<n.length;i++){var a=Po(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function lu(e){Xa(e.g,(function(e,t){this.g.hasOwnProperty(t)&&Mo(e)}),e),e.g={}}function fu(){this.g=!0}function hu(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return Ko(n)}catch(u){return t}}(e,n)+(r?" "+r:"")}))}uu.prototype.M=function(){uu.Z.M.call(this),lu(this)},uu.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},fu.prototype.Aa=function(){this.g=!1},fu.prototype.info=function(){};var du={},pu=null;function vu(){return pu=pu||new zo}function yu(e){bo.call(this,du.Ma,e)}function mu(e){var t=vu();qo(t,new yu(t,e))}function gu(e,t){bo.call(this,du.STAT_EVENT,e),this.stat=t}function ku(e){var t=vu();qo(t,new gu(t,e))}function bu(e,t){bo.call(this,du.Na,e),this.size=t}function wu(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return Ta.setTimeout((function(){e()}),t)}du.Ma="serverreachability",Fa(yu,bo),du.STAT_EVENT="statevent",Fa(gu,bo),du.Na="timingevent",Fa(bu,bo);var xu={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},Su={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function _u(){}function Eu(e){return e.h||(e.h=e.i())}function Iu(){}_u.prototype.h=null;var Tu,Cu={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Nu(){bo.call(this,"d")}function Au(){bo.call(this,"c")}function Ou(){}function Pu(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new uu(this),this.P=Du,e=oo?125:void 0,this.W=new nu(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new Ru}function Ru(){this.i=null,this.g="",this.h=!1}Fa(Nu,bo),Fa(Au,bo),Fa(Ou,_u),Ou.prototype.g=function(){return new XMLHttpRequest},Ou.prototype.i=function(){return{}},Tu=new Ou;var Du=45e3,Lu={},Mu={};function Fu(e,t,n){e.K=1,e.v=os(es(t)),e.s=n,e.U=!0,Uu(e,null)}function Uu(e,t){e.F=Date.now(),zu(e),e.A=es(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),ks(n.h,"t",r),e.C=0,n=e.l.H,e.h=new Ru,e.g=wc(e.l,n?t:null,!e.s),0<e.O&&(e.L=new ou(La(e.Ia,e,e.g),e.O)),cu(e.V,e.g,"readystatechange",e.gb),t=e.H?Ja(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),mu(1),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",u=a.split("&"),s=0;s<u.length;s++){var c=u[s].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");o=2<=f.length&&"type"==f[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.X,e.s)}function ju(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Ba)}function Vu(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if((r=Bu(e,n))==Mu){4==t&&(e.o=4,ku(14),i=!1),hu(e.j,e.m,null,"[Incomplete Response]");break}if(r==Lu){e.o=4,ku(15),hu(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}hu(e.j,e.m,r,null),Wu(e,r)}ju(e)&&r!=Mu&&r!=Lu&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,ku(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.aa&&(e.aa=!0,(t=e.l).g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),dc(t),t.L=!0,ku(11))):(hu(e.j,e.m,n,"[Invalid Chunked Response]"),Hu(e),Ku(e))}function Bu(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Mu:(n=Number(t.substring(n,r)),isNaN(n)?Lu:(r+=1)+n>t.length?Mu:(t=t.substr(r,n),e.C=r+n,t))}function zu(e){e.Y=Date.now()+e.P,qu(e,e.P)}function qu(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=wu(La(e.eb,e),t)}function Gu(e){e.B&&(Ta.clearTimeout(e.B),e.B=null)}function Ku(e){0==e.l.G||e.I||yc(e.l,e)}function Hu(e){Gu(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,ru(e.W),lu(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function Wu(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||Ts(n.i,e)))if(n.I=e.N,!e.J&&Ts(n.i,e)&&3==n.G){try{var r=n.Ca.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;vc(n),ic(n)}hc(n),ku(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=wu(La(n.ab,n),6e3));if(1>=Is(n.i)&&n.ka){try{n.ka()}catch(a){}n.ka=void 0}}else gc(n,11)}else if((e.J||n.g==e)&&vc(n),!Ga(t))for(i=n.Ca.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.U=a[0],a=a[1],2==n.G)if("c"==a[0]){n.J=a[1],n.la=a[2];var o=a[3];null!=o&&(n.ma=o,n.h.info("VER="+n.ma));var u=a[4];null!=u&&(n.za=u,n.h.info("SVER="+n.za));var s=a[5];null!=s&&"number"===typeof s&&0<s&&(r=1.5*s,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=r.i;!f.g&&(Wa(l,"spdy")||Wa(l,"quic")||Wa(l,"h2"))&&(f.j=f.l,f.g=new Set,f.h&&(Cs(f,f.h),f.h=null))}if(r.D){var h=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.sa=h,as(r.F,r.D,h))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms"));var d=e;if((r=n).oa=bc(r,r.H?r.la:null,r.W),d.J){Ns(r.i,d);var p=d,v=r.K;v&&p.setTimeout(v),p.B&&(Gu(p),zu(p)),r.g=d}else fc(r);0<n.l.length&&uc(n)}else"stop"!=a[0]&&"close"!=a[0]||gc(n,7);else 3==n.G&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?gc(n,7):rc(n):"noop"!=a[0]&&n.j&&n.j.wa(a),n.A=0)}mu(4)}catch(a){}}function Qu(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(Na(e)||"string"===typeof e)Ba(e,t,void 0);else{if(e.T&&"function"==typeof e.T)var n=e.T();else if(e.R&&"function"==typeof e.R)n=void 0;else if(Na(e)||"string"===typeof e){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;r=function(e){if(e.R&&"function"==typeof e.R)return e.R();if("string"===typeof e)return e.split("");if(Na(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length;for(var a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}}function $u(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof $u)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function Yu(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];Xu(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var i={};for(n=t=0;t<e.g.length;)Xu(i,r=e.g[t])||(e.g[n++]=r,i[r]=1),t++;e.g.length=n}}function Xu(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(Sa=Pu.prototype).setTimeout=function(e){this.P=e},Sa.gb=function(e){e=e.target;var t=this.L;t&&3==Js(e)?t.l():this.Ia(e)},Sa.Ia=function(e){try{if(e==this.g)e:{var t=Js(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>t)&&(3!=t||oo||this.g&&(this.h.h||this.g.ga()||Zs(this.g)))){this.I||4!=t||7==n||mu(8==n||0>=r?3:2),Gu(this);var i=this.g.ba();this.N=i;t:if(ju(this)){var a=Zs(this.g);e="";var o=a.length,u=4==Js(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Hu(this),Ku(this);var s="";break t}this.h.i=new Ta.TextDecoder}for(n=0;n<o;n++)this.h.h=!0,e+=this.h.i.decode(a[n],{stream:u&&n==o-1});a.splice(0,o),this.h.g+=e,this.C=0,s=this.h.g}else s=this.g.ga();if(this.i=200==i,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.u,this.A,this.m,this.X,t,i),this.i){if(this.$&&!this.J){t:{if(this.g){var c,l=this.g;if((c=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ga(c)){var f=c;break t}}f=null}if(!(i=f)){this.i=!1,this.o=3,ku(12),Hu(this),Ku(this);break e}hu(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Wu(this,i)}this.U?(Vu(this,t,s),oo&&this.i&&3==t&&(cu(this.V,this.W,"tick",this.fb),this.W.start())):(hu(this.j,this.m,s,null),Wu(this,s)),4==t&&Hu(this),this.i&&!this.I&&(4==t?yc(this.l,this):(this.i=!1,zu(this)))}else 400==i&&0<s.indexOf("Unknown SID")?(this.o=3,ku(12)):(this.o=0,ku(13)),Hu(this),Ku(this)}}}catch(t){}},Sa.fb=function(){if(this.g){var e=Js(this.g),t=this.g.ga();this.C<t.length&&(Gu(this),Vu(this,e,t),this.i&&4!=e&&zu(this))}},Sa.cancel=function(){this.I=!0,Hu(this)},Sa.eb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(mu(3),ku(17)),Hu(this),this.o=2,Ku(this)):qu(this,this.Y-e)},(Sa=$u.prototype).R=function(){Yu(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e},Sa.T=function(){return Yu(this),this.g.concat()},Sa.get=function(e,t){return Xu(this.h,e)?this.h[e]:t},Sa.set=function(e,t){Xu(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t},Sa.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],a=this.get(i);e.call(t,a,i,this)}};var Ju=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Zu(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof Zu){this.g=void 0!==t?t:e.g,ts(this,e.j),this.s=e.s,ns(this,e.i),rs(this,e.m),this.l=e.l,t=e.h;var n=new vs;n.i=t.i,t.g&&(n.g=new $u(t.g),n.h=t.h),is(this,n),this.o=e.o}else e&&(n=String(e).match(Ju))?(this.g=!!t,ts(this,n[1]||"",!0),this.s=us(n[2]||""),ns(this,n[3]||"",!0),rs(this,n[4]),this.l=us(n[5]||"",!0),is(this,n[6]||"",!0),this.o=us(n[7]||"")):(this.g=!!t,this.h=new vs(null,this.g))}function es(e){return new Zu(e)}function ts(e,t,n){e.j=n?us(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function ns(e,t,n){e.i=n?us(t,!0):t}function rs(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function is(e,t,n){t instanceof vs?(e.h=t,function(e,t){t&&!e.j&&(ys(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(ms(this,t),ks(this,n,e))}),e)),e.j=t}(e.h,e.g)):(n||(t=ss(t,ds)),e.h=new vs(t,e.g))}function as(e,t,n){e.h.set(t,n)}function os(e){return as(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function us(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function ss(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,cs),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function cs(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Zu.prototype.toString=function(){var e=[],t=this.j;t&&e.push(ss(t,ls,!0),":");var n=this.i;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(ss(t,ls,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&e.push("/"),e.push(ss(n,"/"==n.charAt(0)?hs:fs,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",ss(n,ps)),e.join("")};var ls=/[#\/\?@]/g,fs=/[#\?:]/g,hs=/[#\?]/g,ds=/[#\?@]/g,ps=/#/g;function vs(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function ys(e){e.g||(e.g=new $u,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function ms(e,t){ys(e),t=bs(e,t),Xu(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,Xu((e=e.g).h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&Yu(e)))}function gs(e,t){return ys(e),t=bs(e,t),Xu(e.g.h,t)}function ks(e,t,n){ms(e,t),0<n.length&&(e.i=null,e.g.set(bs(e,t),qa(n)),e.h+=n.length)}function bs(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(Sa=vs.prototype).add=function(e,t){ys(this),this.i=null,e=bs(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},Sa.forEach=function(e,t){ys(this),this.g.forEach((function(n,r){Ba(n,(function(n){e.call(t,n,r,this)}),this)}),this)},Sa.T=function(){ys(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},Sa.R=function(e){ys(this);var t=[];if("string"===typeof e)gs(this,e)&&(t=za(t,this.g.get(bs(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=za(t,e[n])}return t},Sa.set=function(e,t){return ys(this),this.i=null,gs(this,e=bs(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},Sa.get=function(e,t){return e&&0<(e=this.R(e)).length?String(e[0]):t},Sa.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.R(r);for(var a=0;a<r.length;a++){var o=i;""!==r[a]&&(o+="="+encodeURIComponent(String(r[a]))),e.push(o)}}return this.i=e.join("&")};var ws=a((function e(t,n){r(this,e),this.h=t,this.g=n}));function xs(e){this.l=e||_s,Ta.PerformanceNavigationTiming?e=0<(e=Ta.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(Ta.g&&Ta.g.Ea&&Ta.g.Ea()&&Ta.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Ss,_s=10;function Es(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Is(e){return e.h?1:e.g?e.g.size:0}function Ts(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Cs(e,t){e.g?e.g.add(t):e.h=t}function Ns(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function As(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=kr(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.D)}}catch(a){r.e(a)}finally{r.f()}return n}return qa(e.i)}function Os(){}function Ps(){this.g=new Os}function Rs(e,t,n){var r=n||"";try{Qu(e,(function(e,n){var i=e;Aa(e)&&(i=Ko(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function Ds(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(a){}}function Ls(e){this.l=e.$b||null,this.j=e.ib||!1}function Ms(e,t){zo.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=Fs,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}xs.prototype.cancel=function(){if(this.i=As(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=kr(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}},Os.prototype.stringify=function(e){return Ta.JSON.stringify(e,void 0)},Os.prototype.parse=function(e){return Ta.JSON.parse(e,void 0)},Fa(Ls,_u),Ls.prototype.g=function(){return new Ms(this.l,this.j)},Ls.prototype.i=(Ss={},function(){return Ss}),Fa(Ms,zo);var Fs=0;function Us(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}function js(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Vs(e)}function Vs(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(Sa=Ms.prototype).open=function(e,t){if(this.readyState!=Fs)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Vs(this)},Sa.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||Ta).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},Sa.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,js(this)),this.readyState=Fs},Sa.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Vs(this)),this.g&&(this.readyState=3,Vs(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if("undefined"!==typeof Ta.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Us(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))},Sa.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?js(this):Vs(this),3==this.readyState&&Us(this)}},Sa.Ua=function(e){this.g&&(this.response=this.responseText=e,js(this))},Sa.Ta=function(e){this.g&&(this.response=e,js(this))},Sa.ha=function(){this.g&&js(this)},Sa.setRequestHeader=function(e,t){this.v.append(e,t)},Sa.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},Sa.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Ms.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var Bs=Ta.JSON.parse;function zs(e){zo.call(this),this.headers=new $u,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=qs,this.K=this.L=!1}Fa(zs,zo);var qs="",Gs=/^https?$/i,Ks=["POST","PUT"];function Hs(e){return"content-type"==e.toLowerCase()}function Ws(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Qs(e),Ys(e)}function Qs(e){e.D||(e.D=!0,qo(e,"complete"),qo(e,"error"))}function $s(e){if(e.h&&"undefined"!=typeof Ia&&(!e.C[1]||4!=Js(e)||2!=e.ba()))if(e.v&&4==Js(e))iu(e.Fa,0,e);else if(qo(e,"readystatechange"),4==Js(e)){e.h=!1;try{var t,n=e.ba();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.H).match(Ju)[1]||null;if(!a&&Ta.self&&Ta.self.location){var o=Ta.self.location.protocol;a=o.substr(0,o.length-1)}i=!Gs.test(a?a.toLowerCase():"")}t=i}if(t)qo(e,"complete"),qo(e,"success");else{e.m=6;try{var u=2<Js(e)?e.g.statusText:""}catch(s){u=""}e.j=u+" ["+e.ba()+"]",Qs(e)}}finally{Ys(e)}}}function Ys(e,t){if(e.g){Xs(e);var n=e.g,r=e.C[0]?Ca:null;e.g=null,e.C=null,t||qo(e,"ready");try{n.onreadystatechange=r}catch(i){}}}function Xs(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(Ta.clearTimeout(e.A),e.A=null)}function Js(e){return e.g?e.g.readyState:0}function Zs(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case qs:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(jt){return null}}function ec(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(e){var t="";return Xa(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):as(e,t,n))}function tc(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function nc(e){this.za=0,this.l=[],this.h=new fu,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=tc("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=tc("baseRetryDelayMs",5e3,e),this.$a=tc("retryDelaySeedMs",1e4,e),this.Ya=tc("forwardChannelMaxRetries",2,e),this.ra=tc("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new xs(e&&e.concurrentRequestLimit),this.Ca=new Ps,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||!1!==e.Xb}function rc(e){if(ac(e),3==e.G){var t=e.V++,n=es(e.F);as(n,"SID",e.J),as(n,"RID",t),as(n,"TYPE","terminate"),cc(e,n),(t=new Pu(e,e.h,t,void 0)).K=2,t.v=os(es(n)),n=!1,Ta.navigator&&Ta.navigator.sendBeacon&&(n=Ta.navigator.sendBeacon(t.v.toString(),"")),!n&&Ta.Image&&((new Image).src=t.v,n=!0),n||(t.g=wc(t.l,null),t.g.ea(t.v)),t.F=Date.now(),zu(t)}kc(e)}function ic(e){e.g&&(dc(e),e.g.cancel(),e.g=null)}function ac(e){ic(e),e.u&&(Ta.clearTimeout(e.u),e.u=null),vc(e),e.i.cancel(),e.m&&("number"===typeof e.m&&Ta.clearTimeout(e.m),e.m=null)}function oc(e,t){e.l.push(new ws(e.Za++,t)),3==e.G&&uc(e)}function uc(e){Es(e.i)||e.m||(e.m=!0,Jo(e.Ha,e),e.C=0)}function sc(e,t){var n;n=t?t.m:e.V++;var r=es(e.F);as(r,"SID",e.J),as(r,"RID",n),as(r,"AID",e.U),cc(e,r),e.o&&e.s&&ec(r,e.o,e.s),n=new Pu(e,e.h,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=lc(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),Cs(e.i,n),Fu(n,r,t)}function cc(e,t){e.j&&Qu({},(function(e,n){as(t,n,e)}))}function lc(e,t,n){n=Math.min(e.l.length,n);var r=e.j?La(e.j.Oa,e.j,e):null;e:for(var i=e.l,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].h,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var u=!0,s=0;s<n;s++){var c=i[s].h,l=i[s].g;if(0>(c-=a))a=Math.max(0,i[s].h-100),u=!1;else try{Rs(l,o,"req"+c+"_")}catch(Zt){r&&r(l)}}if(u){r=o.join("&");break e}}return e=e.l.splice(0,n),t.D=e,r}function fc(e){e.g||e.u||(e.Y=1,Jo(e.Ga,e),e.A=0)}function hc(e){return!(e.g||e.u||3<=e.A)&&(e.Y++,e.u=wu(La(e.Ga,e),mc(e,e.A)),e.A++,!0)}function dc(e){null!=e.B&&(Ta.clearTimeout(e.B),e.B=null)}function pc(e){e.g=new Pu(e,e.h,"rpc",e.Y),null===e.o&&(e.g.H=e.s),e.g.O=0;var t=es(e.oa);as(t,"RID","rpc"),as(t,"SID",e.J),as(t,"CI",e.N?"0":"1"),as(t,"AID",e.U),cc(e,t),as(t,"TYPE","xmlhttp"),e.o&&e.s&&ec(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=os(es(t)),n.s=null,n.U=!0,Uu(n,e)}function vc(e){null!=e.v&&(Ta.clearTimeout(e.v),e.v=null)}function yc(e,t){var n=null;if(e.g==t){vc(e),dc(e),e.g=null;var r=2}else{if(!Ts(e.i,t))return;n=t.D,Ns(e.i,t),r=1}if(e.I=t.N,0!=e.G)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;qo(r=vu(),new bu(r,n,t,i)),uc(e)}else fc(e);else if(3==(i=t.o)||0==i&&0<e.I||!(1==r&&function(e,t){return!(Is(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.l=t.D.concat(e.l),!0):!(1==e.G||2==e.G||e.C>=(e.Xa?0:e.Ya))&&(e.m=wu(La(e.Ha,e,t),mc(e,e.C)),e.C++,!0))}(e,t)||2==r&&hc(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:gc(e,5);break;case 4:gc(e,10);break;case 3:gc(e,6);break;default:gc(e,2)}}function mc(e,t){var n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function gc(e,t){if(e.h.info("Error code "+t),2==t){var n=null;e.j&&(n=null);var r=La(e.jb,e);n||(n=new Zu("//www.google.com/images/cleardot.gif"),Ta.location&&"http"==Ta.location.protocol||ts(n,"https"),os(n)),function(e,t){var n=new fu;if(Ta.Image){var r=new Image;r.onload=Ma(Ds,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Ma(Ds,n,r,"TestLoadImage: error",!1,t),r.onabort=Ma(Ds,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Ma(Ds,n,r,"TestLoadImage: timeout",!1,t),Ta.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else ku(2);e.G=0,e.j&&e.j.va(t),kc(e),ac(e)}function kc(e){e.G=0,e.I=-1,e.j&&(0==As(e.i).length&&0==e.l.length||(e.i.i.length=0,qa(e.l),e.l.length=0),e.j.ua())}function bc(e,t,n){var r=function(e){return e instanceof Zu?es(e):new Zu(e,void 0)}(n);if(""!=r.i)t&&ns(r,t+"."+r.i),rs(r,r.m);else{var i=Ta.location;r=function(e,t,n,r){var i=new Zu(null,void 0);return e&&ts(i,e),t&&ns(i,t),n&&rs(i,n),r&&(i.l=r),i}(i.protocol,t?t+"."+i.hostname:i.hostname,+i.port,n)}return e.aa&&Xa(e.aa,(function(e,t){as(r,t,e)})),t=e.D,n=e.sa,t&&n&&as(r,t,n),as(r,"VER",e.ma),cc(e,r),r}function wc(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ba&&!e.qa?new zs(new Ls({ib:!0})):new zs(e.qa)).L=e.H,t}function xc(){}function Sc(){if(io&&!(10<=Number(go)))throw Error("Environmental error: no available transport.")}function _c(e,t){zo.call(this),this.g=new nc(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!Ga(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Ga(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new Tc(this)}function Ec(e){Nu.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function Ic(){Au.call(this),this.status=1}function Tc(e){this.g=e}(Sa=zs.prototype).ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Tu.g(),this.C=this.u?Eu(this.u):Eu(Tu),this.g.onreadystatechange=La(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(a){return void Ws(this,a)}e=n||"";var i=new $u(this.headers);r&&Qu(r,(function(e,t){i.set(t,e)})),r=function(e){e:{for(var t=Hs,n=e.length,r="string"===typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"===typeof e?e.charAt(t):e[t]}(i.T()),n=Ta.FormData&&e instanceof Ta.FormData,!(0<=Va(Ks,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(e,t){this.g.setRequestHeader(t,e)}),this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Xs(this),0<this.B&&((this.K=function(e){return io&&yo()&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=La(this.pa,this)):this.A=iu(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(a){Ws(this,a)}},Sa.pa=function(){"undefined"!=typeof Ia&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,qo(this,"timeout"),this.abort(8))},Sa.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,qo(this,"complete"),qo(this,"abort"),Ys(this))},Sa.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Ys(this,!0)),zs.Z.M.call(this)},Sa.Fa=function(){this.s||(this.F||this.v||this.l?$s(this):this.cb())},Sa.cb=function(){$s(this)},Sa.ba=function(){try{return 2<Js(this)?this.g.status:-1}catch(Ss){return-1}},Sa.ga=function(){try{return this.g?this.g.responseText:""}catch(Ss){return""}},Sa.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),Bs(t)}},Sa.Da=function(){return this.m},Sa.La=function(){return"string"===typeof this.j?this.j:String(this.j)},(Sa=nc.prototype).ma=8,Sa.G=1,Sa.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch(jt){}},Sa.Ha=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;var t=new Pu(this,this.h,e,void 0),n=this.s;if(this.P&&(n?eo(n=Ja(n),this.P):n=this.P),null===this.o&&(t.H=n),this.ja)e:{for(var r=0,i=0;i<this.l.length;i++){var a=this.l[i];if(void 0===(a="__data__"in a.g&&"string"===typeof(a=a.g.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.l.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=lc(this,t,r),as(i=es(this.F),"RID",e),as(i,"CVER",22),this.D&&as(i,"X-HTTP-Session-Id",this.D),cc(this,i),this.o&&n&&ec(i,this.o,n),Cs(this.i,t),this.Ra&&as(i,"TYPE","init"),this.ja?(as(i,"$req",r),as(i,"SID","null"),t.$=!0,Fu(t,i,null)):Fu(t,i,r),this.G=2}}else 3==this.G&&(e?sc(this,e):0==this.l.length||Es(this.i)||sc(this))},Sa.Ga=function(){if(this.u=null,pc(this),this.$&&!(this.L||null==this.g||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=wu(La(this.bb,this),e)}},Sa.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,ku(10),ic(this),pc(this))},Sa.ab=function(){null!=this.v&&(this.v=null,ic(this),hc(this),ku(19))},Sa.jb=function(e){e?(this.h.info("Successfully pinged google.com"),ku(2)):(this.h.info("Failed to ping google.com"),ku(1))},(Sa=xc.prototype).xa=function(){},Sa.wa=function(){},Sa.va=function(){},Sa.ua=function(){},Sa.Oa=function(){},Sc.prototype.g=function(e,t){return new _c(e,t)},Fa(_c,zo),_c.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),Jo(La(e.hb,e,t))),ku(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=bc(e,null,e.W),uc(e)},_c.prototype.close=function(){rc(this.g)},_c.prototype.u=function(e){if("string"===typeof e){var t={};t.__data__=e,oc(this.g,t)}else this.v?((t={}).__data__=Ko(e),oc(this.g,t)):oc(this.g,e)},_c.prototype.M=function(){this.g.j=null,delete this.j,rc(this.g),delete this.g,_c.Z.M.call(this)},Fa(Ec,Nu),Fa(Ic,Au),Fa(Tc,xc),Tc.prototype.xa=function(){qo(this.g,"a")},Tc.prototype.wa=function(e){qo(this.g,new Ec(e))},Tc.prototype.va=function(e){qo(this.g,new Ic(e))},Tc.prototype.ua=function(){qo(this.g,"b")},Sc.prototype.createWebChannel=Sc.prototype.g,_c.prototype.send=_c.prototype.u,_c.prototype.open=_c.prototype.m,_c.prototype.close=_c.prototype.close,xu.NO_ERROR=0,xu.TIMEOUT=8,xu.HTTP_ERROR=6,Su.COMPLETE="complete",Iu.EventType=Cu,Cu.OPEN="a",Cu.CLOSE="b",Cu.ERROR="c",Cu.MESSAGE="d",zo.prototype.listen=zo.prototype.N,zs.prototype.listenOnce=zs.prototype.O,zs.prototype.getLastError=zs.prototype.La,zs.prototype.getLastErrorCode=zs.prototype.Da,zs.prototype.getStatus=zs.prototype.ba,zs.prototype.getResponseJson=zs.prototype.Qa,zs.prototype.getResponseText=zs.prototype.ga,zs.prototype.send=zs.prototype.ea;var Cc=Ea.createWebChannelTransport=function(){return new Sc},Nc=Ea.getStatEventTarget=function(){return vu()},Ac=Ea.ErrorCode=xu,Oc=Ea.EventType=Su,Pc=Ea.Event=du,Rc=Ea.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},Dc=Ea.FetchXmlHttpFactory=Ls,Lc=Ea.WebChannel=Iu,Mc=Ea.XhrIo=zs,Fc="@firebase/firestore",Uc=function(){function e(t){r(this,e),this.uid=t}return a(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();Uc.UNAUTHENTICATED=new Uc(null),Uc.GOOGLE_CREDENTIALS=new Uc("google-credentials-uid"),Uc.FIRST_PARTY=new Uc("first-party-uid"),Uc.MOCK_USER=new Uc("mock-user");var jc="9.8.0",Vc=new si("@firebase/firestore");function Bc(){return Vc.logLevel}function zc(e){if(Vc.logLevel<=ti.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Kc);Vc.debug.apply(Vc,["Firestore (".concat(jc,"): ").concat(e)].concat(Fe(i)))}}function qc(e){if(Vc.logLevel<=ti.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Kc);Vc.error.apply(Vc,["Firestore (".concat(jc,"): ").concat(e)].concat(Fe(i)))}}function Gc(e){if(Vc.logLevel<=ti.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Kc);Vc.warn.apply(Vc,["Firestore (".concat(jc,"): ").concat(e)].concat(Fe(i)))}}function Kc(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function Hc(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(jc,") INTERNAL ASSERTION FAILED: ")+e;throw qc(t),new Error(t)}function Wc(e,t){e||Hc()}function Qc(e,t){return e}var $c={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Yc=function(e){u(n,e);var t=d(n);function n(e,i){var a;return r(this,n),(a=t.call(this,e,i)).code=e,a.message=i,a.toString=function(){return"".concat(a.name,": [code=").concat(a.code,"]: ").concat(a.message)},a}return a(n)}(Fr),Xc=a((function e(){var t=this;r(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),Jc=a((function e(t,n){r(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),Zc=function(){function e(){r(this,e)}return a(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(Uc.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),el=function(){function e(t){r(this,e),this.token=t,this.changeListener=null}return a(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),tl=function(){function e(t){r(this,e),this.t=t,this.currentUser=Uc.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return a(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new Xc;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new Xc,e.enqueueRetryable((function(){return i(n.currentUser)}))};var o=function(){var t=a;e.enqueueRetryable(yr(gr().mark((function e(){return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},u=function(e){zc("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),o()};this.t.onInit((function(e){return u(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?u(e):(zc("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Xc)}}),0),o()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(zc("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(Wc("string"==typeof n.accessToken),new Jc(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return Wc(null===e||"string"==typeof e),new Uc(e)}}]),e}(),nl=a((function e(t,n,i){r(this,e),this.type="FirstParty",this.user=Uc.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",n);var a=t.auth.getAuthHeaderValueForFirstParty([]);a&&this.headers.set("Authorization",a),i&&this.headers.set("X-Goog-Iam-Authorization-Token",i)})),rl=function(){function e(t,n,i){r(this,e),this.h=t,this.l=n,this.m=i}return a(e,[{key:"getToken",value:function(){return Promise.resolve(new nl(this.h,this.l,this.m))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(Uc.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),il=a((function e(t){r(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),al=function(){function e(t){r(this,e),this.g=t,this.forceRefresh=!1,this.appCheck=null,this.p=null}return a(e,[{key:"start",value:function(e,t){var n=this,r=function(e){null!=e.error&&zc("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));var r=e.token!==n.p;return n.p=e.token,zc("FirebaseAppCheckTokenProvider","Received ".concat(r?"new":"existing"," token.")),r?t(e.token):Promise.resolve()};this.o=function(t){e.enqueueRetryable((function(){return r(t)}))};var i=function(e){zc("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.g.onInit((function(e){return i(e)})),setTimeout((function(){if(!n.appCheck){var e=n.g.getImmediate({optional:!0});e?i(e):zc("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this,t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((function(t){return t?(Wc("string"==typeof t.token),e.p=t.token,new il(t.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}(),ol=function(){function e(t,n){var i=this;r(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return i.I(e)},this.T=function(e){return n.writeSequenceNumber(e)})}return a(e,[{key:"I",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.T&&this.T(e),e}}]),e}();function ul(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}ol.A=-1;var sl=function(){function e(){r(this,e)}return a(e,null,[{key:"R",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=ul(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n}}]),e}();function cl(e,t){return e<t?-1:e>t?1:0}function ll(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function fl(e){return e+"\0"}var hl=function(){function e(t,n){if(r(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new Yc($c.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Yc($c.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new Yc($c.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Yc($c.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return a(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?cl(this.nanoseconds,e.nanoseconds):cl(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),dl=function(){function e(t){r(this,e),this.timestamp=t}return a(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new hl(0,0))}},{key:"max",value:function(){return new e(new hl(253402300799,999999999))}}]),e}();function pl(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function vl(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function yl(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var ml=function(){function e(t,n,i){r(this,e),void 0===n?n=0:n>t.length&&Hc(),void 0===i?i=t.length-n:i>t.length-n&&Hc(),this.segments=t,this.offset=n,this.len=i}return a(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),gl=function(e){u(n,e);var t=d(n);function n(){return r(this,n),t.apply(this,arguments)}return a(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var u=o[a];if(u.indexOf("//")>=0)throw new Yc($c.INVALID_ARGUMENT,"Invalid segment (".concat(u,"). Paths must not contain // in them."));e.push.apply(e,Fe(u.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(ml),kl=/^[_a-zA-Z][_a-zA-Z0-9]*$/,bl=function(e){u(n,e);var t=d(n);function n(){return r(this,n),t.apply(this,arguments)}return a(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return kl.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new Yc($c.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var u=e[i];if("\\"===u){if(i+1===e.length)throw new Yc($c.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var s=e[i+1];if("\\"!==s&&"."!==s&&"`"!==s)throw new Yc($c.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=s,i+=2}else"`"===u?(o=!o,i++):"."!==u||o?(r+=u,i++):(a(),i++)}if(a(),o)throw new Yc($c.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(ml),wl=function(){function e(t){r(this,e),this.fields=t,t.sort(bl.comparator)}return a(e,[{key:"covers",value:function(e){var t,n=kr(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return ll(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}]),e}();var xl=function(e){function t(e){r(this,t),this.binaryString=e}return a(t,[{key:Symbol.iterator,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return cl(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){return new t(atob(e))}},{key:"fromUint8Array",value:function(e){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new t(n)}}]),t}();xl.EMPTY_BYTE_STRING=new xl("");var Sl=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function _l(e){if(Wc(!!e),"string"==typeof e){var t=0,n=Sl.exec(e);if(Wc(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:El(e.seconds),nanos:El(e.nanos)}}function El(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Il(e){return"string"==typeof e?xl.fromBase64String(e):xl.fromUint8Array(e)}function Tl(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Cl(e){var t=e.mapValue.fields.__previous_value__;return Tl(t)?Cl(t):t}function Nl(e){var t=_l(e.mapValue.fields.__local_write_time__.timestampValue);return new hl(t.seconds,t.nanos)}var Al=a((function e(t,n,i,a,o,u,s,c){r(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=i,this.host=a,this.ssl=o,this.forceLongPolling=u,this.autoDetectLongPolling=s,this.useFetchStreams=c})),Ol=function(){function e(t,n){r(this,e),this.projectId=t,this.database=n||"(default)"}return a(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}],[{key:"empty",value:function(){return new e("","")}}]),e}();function Pl(e){return null==e}function Rl(e){return 0===e&&1/e==-1/0}function Dl(e){return"number"==typeof e&&Number.isInteger(e)&&!Rl(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var Ll=function(){function e(t){r(this,e),this.path=t}return a(e,[{key:"collectionGroup",get:function(){return this.path.popLast().lastSegment()}},{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"getCollectionGroup",value:function(){return this.path.get(this.path.length-2)}},{key:"getCollectionPath",value:function(){return this.path.popLast()}},{key:"isEqual",value:function(e){return null!==e&&0===gl.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(gl.fromString(t))}},{key:"fromName",value:function(t){return new e(gl.fromString(t).popFirst(5))}},{key:"empty",value:function(){return new e(gl.emptyPath())}},{key:"comparator",value:function(e,t){return gl.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new gl(t.slice()))}}]),e}(),Ml={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Fl={nullValue:"NULL_VALUE"};function Ul(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Tl(e)?4:Jl(e)?9007199254740991:10:Hc()}function jl(e,t){if(e===t)return!0;var n=Ul(e);if(n!==Ul(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Nl(e).isEqual(Nl(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=_l(e.timestampValue),r=_l(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Il(e.bytesValue).isEqual(Il(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return El(e.geoPointValue.latitude)===El(t.geoPointValue.latitude)&&El(e.geoPointValue.longitude)===El(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return El(e.integerValue)===El(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=El(e.doubleValue),r=El(t.doubleValue);return n===r?Rl(n)===Rl(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return ll(e.arrayValue.values||[],t.arrayValue.values||[],jl);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(pl(n)!==pl(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!jl(n[i],r[i])))return!1;return!0}(e,t);default:return Hc()}}function Vl(e,t){return void 0!==(e.values||[]).find((function(e){return jl(e,t)}))}function Bl(e,t){if(e===t)return 0;var n=Ul(e),r=Ul(t);if(n!==r)return cl(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return cl(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=El(e.integerValue||e.doubleValue),r=El(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return zl(e.timestampValue,t.timestampValue);case 4:return zl(Nl(e),Nl(t));case 5:return cl(e.stringValue,t.stringValue);case 6:return function(e,t){var n=Il(e),r=Il(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=cl(n[i],r[i]);if(0!==a)return a}return cl(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=cl(El(e.latitude),El(t.latitude));return 0!==n?n:cl(El(e.longitude),El(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=Bl(n[i],r[i]);if(a)return a}return cl(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===Ml.mapValue&&t===Ml.mapValue)return 0;if(e===Ml.mapValue)return 1;if(t===Ml.mapValue)return-1;var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var u=cl(r[o],a[o]);if(0!==u)return u;var s=Bl(n[r[o]],i[a[o]]);if(0!==s)return s}return cl(r.length,a.length)}(e.mapValue,t.mapValue);default:throw Hc()}}function zl(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return cl(e,t);var n=_l(e),r=_l(t),i=cl(n.seconds,r.seconds);return 0!==i?i:cl(n.nanos,r.nanos)}function ql(e){return Gl(e)}function Gl(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=_l(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?Il(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,Ll.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){var t,n="[",r=!0,i=kr(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=Gl(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=kr(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+="".concat(a,":").concat(Gl(e.fields[a]))}}catch(o){i.e(o)}finally{i.f()}return n+"}"}(e.mapValue):Hc();var t,n}function Kl(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function Hl(e){return!!e&&"integerValue"in e}function Wl(e){return!!e&&"arrayValue"in e}function Ql(e){return!!e&&"nullValue"in e}function $l(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Yl(e){return!!e&&"mapValue"in e}function Xl(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return vl(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=Xl(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=Xl(e.arrayValue.values[r]);return n}return Object.assign({},e)}function Jl(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}function Zl(e){return"nullValue"in e?Fl:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?Kl(Ol.empty(),Ll.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?{mapValue:{}}:Hc()}function ef(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?Kl(Ol.empty(),Ll.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?{mapValue:{}}:"mapValue"in e?Ml:Hc()}function tf(e,t){var n=Bl(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function nf(e,t){var n=Bl(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}var rf=function(){function e(t){r(this,e),this.value=t}return a(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!Yl(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Xl(t)}},{key:"setAll",value:function(e){var t=this,n=bl.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=Xl(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());Yl(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return jl(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];Yl(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){vl(t,(function(t,n){return e[t]=n}));var r,i=kr(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(Xl(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function af(e){var t=[];return vl(e.fields,(function(e,n){var r=new bl([e]);if(Yl(n)){var i=af(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=kr(i);try{for(o.s();!(a=o.n()).done;){var u=a.value;t.push(r.child(u))}}catch(s){o.e(s)}finally{o.f()}}}else t.push(r)})),new wl(t)}var of=function(){function e(t,n,i,a,o,u){r(this,e),this.key=t,this.documentType=n,this.version=i,this.readTime=a,this.data=o,this.documentState=u}return a(e,[{key:"convertToFoundDocument",value:function(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=rf.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=rf.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this}},{key:"setReadTime",value:function(e){return this.readTime=e,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,dl.min(),dl.min(),rf.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r){return new e(t,1,n,dl.min(),r,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,dl.min(),rf.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,dl.min(),rf.empty(),2)}}]),e}(),uf=a((function e(t,n,i,a){r(this,e),this.indexId=t,this.collectionGroup=n,this.fields=i,this.indexState=a}));function sf(e){return e.fields.find((function(e){return 2===e.kind}))}function cf(e){return e.fields.filter((function(e){return 2!==e.kind}))}uf.UNKNOWN_ID=-1;var lf=a((function e(t,n){r(this,e),this.fieldPath=t,this.kind=n})),ff=function(){function e(t,n){r(this,e),this.sequenceNumber=t,this.offset=n}return a(e,null,[{key:"empty",value:function(){return new e(0,pf.min())}}]),e}();function hf(e,t){var n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=dl.fromTimestamp(1e9===r?new hl(n+1,0):new hl(n,r));return new pf(i,Ll.empty(),t)}function df(e){return new pf(e.readTime,e.key,-1)}var pf=function(){function e(t,n,i){r(this,e),this.readTime=t,this.documentKey=n,this.largestBatchId=i}return a(e,null,[{key:"min",value:function(){return new e(dl.min(),Ll.empty(),-1)}},{key:"max",value:function(){return new e(dl.max(),Ll.empty(),-1)}}]),e}();function vf(e,t){var n=e.readTime.compareTo(t.readTime);return 0!==n?n:0!==(n=Ll.comparator(e.documentKey,t.documentKey))?n:cl(e.largestBatchId,t.largestBatchId)}var yf=function(){function e(t,n){r(this,e),this.comparator=t,this.root=n||gf.EMPTY}return a(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,gf.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,gf.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new mf(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new mf(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new mf(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new mf(this.root,e,this.comparator,!0)}}]),e}(),mf=function(){function e(t,n,i,a){r(this,e),this.isReverse=a,this.nodeStack=[];for(var o=1;!t.isEmpty();)if(o=n?i(t.key,n):1,n&&a&&(o*=-1),o<0)t=this.isReverse?t.left:t.right;else{if(0===o){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return a(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),gf=function(){function e(t,n,i,a,o){r(this,e),this.key=t,this.value=n,this.color=null!=i?i:e.RED,this.left=null!=a?a:e.EMPTY,this.right=null!=o?o:e.EMPTY,this.size=this.left.size+1+this.right.size}return a(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw Hc();if(this.right.isRed())throw Hc();var e=this.left.check();if(e!==this.right.check())throw Hc();return e+(this.isRed()?0:1)}}]),e}();gf.EMPTY=null,gf.RED=!0,gf.BLACK=!1,gf.EMPTY=new(function(){function e(){r(this,e),this.size=0}return a(e,[{key:"key",get:function(){throw Hc()}},{key:"value",get:function(){throw Hc()}},{key:"color",get:function(){throw Hc()}},{key:"left",get:function(){throw Hc()}},{key:"right",get:function(){throw Hc()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new gf(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var kf=function(){function e(t){r(this,e),this.comparator=t,this.data=new yf(this.comparator)}return a(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new bf(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new bf(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),bf=function(){function e(t){r(this,e),this.iter=t}return a(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}();function wf(e){return e.hasNext()?e.getNext():void 0}var xf=a((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;r(this,e),this.path=t,this.collectionGroup=n,this.orderBy=i,this.filters=a,this.limit=o,this.startAt=u,this.endAt=s,this.P=null}));function Sf(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;return new xf(e,t,n,r,i,a,o)}function _f(e){var t=Qc(e);if(null===t.P){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return(t=e).field.canonicalString()+t.op.toString()+ql(t.value);var t})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),Pl(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((function(e){return ql(e)})).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((function(e){return ql(e)})).join(",")),t.P=n}return t.P}function Ef(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!Bf(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(i=e.filters[r],a=t.filters[r],i.op!==a.op||!i.field.isEqual(a.field)||!jl(i.value,a.value))return!1;var i,a;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!qf(e.startAt,t.startAt)&&qf(e.endAt,t.endAt)}function If(e){return Ll.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function Tf(e,t){return e.filters.filter((function(e){return e instanceof Af&&e.field.isEqual(t)}))}function Cf(e,t,n){var r,i=Fl,a=!0,o=kr(Tf(e,t));try{for(o.s();!(r=o.n()).done;){var u=r.value,s=Fl,c=!0;switch(u.op){case"<":case"<=":s=Zl(u.value);break;case"==":case"in":case">=":s=u.value;break;case">":s=u.value,c=!1;break;case"!=":case"not-in":s=Fl}tf({value:i,inclusive:a},{value:s,inclusive:c})<0&&(i=s,a=c)}}catch(h){o.e(h)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];tf({value:i,inclusive:a},{value:f,inclusive:n.inclusive})<0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}function Nf(e,t,n){var r,i=Ml,a=!0,o=kr(Tf(e,t));try{for(o.s();!(r=o.n()).done;){var u=r.value,s=Ml,c=!0;switch(u.op){case">=":case">":s=ef(u.value),c=!1;break;case"==":case"in":case"<=":s=u.value;break;case"<":s=u.value,c=!1;break;case"!=":case"not-in":s=Ml}nf({value:i,inclusive:a},{value:s,inclusive:c})>0&&(i=s,a=c)}}catch(h){o.e(h)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];nf({value:i,inclusive:a},{value:f,inclusive:n.inclusive})>0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}var Af=function(e){u(n,e);var t=d(n);function n(e,i,a){var o;return r(this,n),(o=t.call(this)).field=e,o.op=i,o.value=a,o}return a(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.v(Bl(t,this.value)):null!==t&&Ul(this.value)===Ul(t)&&this.v(Bl(t,this.value))}},{key:"v",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Hc()}}},{key:"S",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.V(e,t,r):new Of(e,t,r):"array-contains"===t?new Lf(e,r):"in"===t?new Mf(e,r):"not-in"===t?new Ff(e,r):"array-contains-any"===t?new Uf(e,r):new n(e,t,r)}},{key:"V",value:function(e,t,n){return"in"===t?new Pf(e,n):new Rf(e,n)}}]),n}(function(){return a((function e(){r(this,e)}))}()),Of=function(e){u(n,e);var t=d(n);function n(e,i,a){var o;return r(this,n),(o=t.call(this,e,i,a)).key=Ll.fromName(a.referenceValue),o}return a(n,[{key:"matches",value:function(e){var t=Ll.comparator(e.key,this.key);return this.v(t)}}]),n}(Af),Pf=function(e){u(n,e);var t=d(n);function n(e,i){var a;return r(this,n),(a=t.call(this,e,"in",i)).keys=Df("in",i),a}return a(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(Af),Rf=function(e){u(n,e);var t=d(n);function n(e,i){var a;return r(this,n),(a=t.call(this,e,"not-in",i)).keys=Df("not-in",i),a}return a(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(Af);function Df(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return Ll.fromName(e.referenceValue)}))}var Lf=function(e){u(n,e);var t=d(n);function n(e,i){return r(this,n),t.call(this,e,"array-contains",i)}return a(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return Wl(t)&&Vl(t.arrayValue,this.value)}}]),n}(Af),Mf=function(e){u(n,e);var t=d(n);function n(e,i){return r(this,n),t.call(this,e,"in",i)}return a(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&Vl(this.value.arrayValue,t)}}]),n}(Af),Ff=function(e){u(n,e);var t=d(n);function n(e,i){return r(this,n),t.call(this,e,"not-in",i)}return a(n,[{key:"matches",value:function(e){if(Vl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!Vl(this.value.arrayValue,t)}}]),n}(Af),Uf=function(e){u(n,e);var t=d(n);function n(e,i){return r(this,n),t.call(this,e,"array-contains-any",i)}return a(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!Wl(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return Vl(t.value.arrayValue,e)}))}}]),n}(Af),jf=a((function e(t,n){r(this,e),this.position=t,this.inclusive=n})),Vf=a((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";r(this,e),this.field=t,this.dir=n}));function Bf(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function zf(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?Ll.comparator(Ll.fromName(o.referenceValue),n.key):Bl(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function qf(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!jl(e.position[n],t.position[n]))return!1;return!0}var Gf=a((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,c=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;r(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=a,this.limit=o,this.limitType=u,this.startAt=s,this.endAt=c,this.D=null,this.C=null,this.startAt,this.endAt}));function Kf(e,t,n,r,i,a,o,u){return new Gf(e,t,n,r,i,a,o,u)}function Hf(e){return new Gf(e)}function Wf(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function Qf(e){var t,n=kr(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.S())return r.field}}catch(i){n.e(i)}finally{n.f()}return null}function $f(e){return null!==e.collectionGroup}function Yf(e){var t=Qc(e);if(null===t.D){t.D=[];var n=Qf(t),r=Wf(t);if(null!==n&&null===r)n.isKeyField()||t.D.push(new Vf(n)),t.D.push(new Vf(bl.keyField(),"asc"));else{var i,a=!1,o=kr(t.explicitOrderBy);try{for(o.s();!(i=o.n()).done;){var u=i.value;t.D.push(u),u.field.isKeyField()&&(a=!0)}}catch(c){o.e(c)}finally{o.f()}if(!a){var s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.D.push(new Vf(bl.keyField(),s))}}}return t.D}function Xf(e){var t=Qc(e);if(!t.C)if("F"===t.limitType)t.C=Sf(t.path,t.collectionGroup,Yf(t),t.filters,t.limit,t.startAt,t.endAt);else{var n,r=[],i=kr(Yf(t));try{for(i.s();!(n=i.n()).done;){var a=n.value,o="desc"===a.dir?"asc":"desc";r.push(new Vf(a.field,o))}}catch(c){i.e(c)}finally{i.f()}var u=t.endAt?new jf(t.endAt.position,t.endAt.inclusive):null,s=t.startAt?new jf(t.startAt.position,t.startAt.inclusive):null;t.C=Sf(t.path,t.collectionGroup,r,t.filters,t.limit,u,s)}return t.C}function Jf(e,t,n){return new Gf(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Zf(e,t){return Ef(Xf(e),Xf(t))&&e.limitType===t.limitType}function eh(e){return"".concat(_f(Xf(e)),"|lt:").concat(e.limitType)}function th(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return"".concat((t=e).field.canonicalString()," ").concat(t.op," ").concat(ql(t.value));var t})).join(", "),"]")),Pl(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((function(e){return ql(e)})).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((function(e){return ql(e)})).join(",")),"Target(".concat(t,")")}(Xf(e)),"; limitType=").concat(e.limitType,")")}function nh(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Ll.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=kr(e.explicitOrderBy);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=kr(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){var r=zf(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,Yf(e),t))&&!(e.endAt&&!function(e,t,n){var r=zf(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,Yf(e),t))}(e,t)}function rh(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function ih(e){return function(t,n){var r,i=!1,a=kr(Yf(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,u=ah(o,t,n);if(0!==u)return u;i=i||o.field.isKeyField()}}catch(s){a.e(s)}finally{a.f()}return 0}}function ah(e,t,n){var r=e.field.isKeyField()?Ll.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Bl(r,i):Hc()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Hc()}}function oh(e,t){if(e.N){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Rl(t)?"-0":t}}function uh(e){return{integerValue:""+e}}function sh(e,t){return Dl(t)?uh(t):oh(e,t)}var ch=a((function e(){r(this,e),this._=void 0}));function lh(e,t,n){return e instanceof dh?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof ph?vh(e,t):e instanceof yh?mh(e,t):function(e,t){var n=hh(e,t),r=kh(n)+kh(e.k);return Hl(n)&&Hl(e.k)?uh(r):oh(e.M,r)}(e,t)}function fh(e,t,n){return e instanceof ph?vh(e,t):e instanceof yh?mh(e,t):n}function hh(e,t){return e instanceof gh?Hl(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var dh=function(e){u(n,e);var t=d(n);function n(){return r(this,n),t.apply(this,arguments)}return a(n)}(ch),ph=function(e){u(n,e);var t=d(n);function n(e){var i;return r(this,n),(i=t.call(this)).elements=e,i}return a(n)}(ch);function vh(e,t){var n,r=bh(t),i=kr(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return jl(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var yh=function(e){u(n,e);var t=d(n);function n(e){var i;return r(this,n),(i=t.call(this)).elements=e,i}return a(n)}(ch);function mh(e,t){var n,r=bh(t),i=kr(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!jl(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var gh=function(e){u(n,e);var t=d(n);function n(e,i){var a;return r(this,n),(a=t.call(this)).M=e,a.k=i,a}return a(n)}(ch);function kh(e){return El(e.integerValue||e.doubleValue)}function bh(e){return Wl(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var wh=a((function e(t,n){r(this,e),this.field=t,this.transform=n}));var xh=a((function e(t,n){r(this,e),this.version=t,this.transformResults=n})),Sh=function(){function e(t,n){r(this,e),this.updateTime=t,this.exists=n}return a(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function _h(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var Eh=a((function e(){r(this,e)}));function Ih(e,t,n){e instanceof Oh?function(e,t,n){var r=e.value.clone(),i=Dh(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Ph?function(e,t,n){if(_h(e.precondition,t)){var r=Dh(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Rh(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Th(e,t,n){e instanceof Oh?function(e,t,n){if(_h(e.precondition,t)){var r=e.value.clone(),i=Lh(e.fieldTransforms,n,t);r.setAll(i),t.convertToFoundDocument(Ah(t),r).setHasLocalMutations()}}(e,t,n):e instanceof Ph?function(e,t,n){if(_h(e.precondition,t)){var r=Lh(e.fieldTransforms,n,t),i=t.data;i.setAll(Rh(e)),i.setAll(r),t.convertToFoundDocument(Ah(t),i).setHasLocalMutations()}}(e,t,n):function(e,t){_h(e.precondition,t)&&t.convertToNoDocument(dl.min())}(e,t)}function Ch(e,t){var n,r=null,i=kr(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),u=hh(a.transform,o||null);null!=u&&(null==r&&(r=rf.empty()),r.set(a.field,u))}}catch(s){i.e(s)}finally{i.f()}return r||null}function Nh(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&ll(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof ph&&t instanceof ph||e instanceof yh&&t instanceof yh?ll(e.elements,t.elements,jl):e instanceof gh&&t instanceof gh?jl(e.k,t.k):e instanceof dh&&t instanceof dh}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function Ah(e){return e.isFoundDocument()?e.version:dl.min()}var Oh=function(e){u(n,e);var t=d(n);function n(e,i,a){var o,u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return r(this,n),(o=t.call(this)).key=e,o.value=i,o.precondition=a,o.fieldTransforms=u,o.type=0,o}return a(n)}(Eh),Ph=function(e){u(n,e);var t=d(n);function n(e,i,a,o){var u,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return r(this,n),(u=t.call(this)).key=e,u.data=i,u.fieldMask=a,u.precondition=o,u.fieldTransforms=s,u.type=1,u}return a(n)}(Eh);function Rh(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function Dh(e,t,n){var r=new Map;Wc(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,u=t.data.field(a.field);r.set(a.field,fh(o,u,n[i]))}return r}function Lh(e,t,n){var r,i=new Map,a=kr(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,u=o.transform,s=n.data.field(o.field);i.set(o.field,lh(u,s,t))}}catch(c){a.e(c)}finally{a.f()}return i}var Mh,Fh,Uh=function(e){u(n,e);var t=d(n);function n(e,i){var a;return r(this,n),(a=t.call(this)).key=e,a.precondition=i,a.type=2,a.fieldTransforms=[],a}return a(n)}(Eh),jh=function(e){u(n,e);var t=d(n);function n(e,i){var a;return r(this,n),(a=t.call(this)).key=e,a.precondition=i,a.type=3,a.fieldTransforms=[],a}return a(n)}(Eh),Vh=a((function e(t){r(this,e),this.count=t}));function Bh(e){switch(e){default:return Hc();case $c.CANCELLED:case $c.UNKNOWN:case $c.DEADLINE_EXCEEDED:case $c.RESOURCE_EXHAUSTED:case $c.INTERNAL:case $c.UNAVAILABLE:case $c.UNAUTHENTICATED:return!1;case $c.INVALID_ARGUMENT:case $c.NOT_FOUND:case $c.ALREADY_EXISTS:case $c.PERMISSION_DENIED:case $c.FAILED_PRECONDITION:case $c.ABORTED:case $c.OUT_OF_RANGE:case $c.UNIMPLEMENTED:case $c.DATA_LOSS:return!0}}function zh(e){if(void 0===e)return qc("GRPC error has no .code"),$c.UNKNOWN;switch(e){case Mh.OK:return $c.OK;case Mh.CANCELLED:return $c.CANCELLED;case Mh.UNKNOWN:return $c.UNKNOWN;case Mh.DEADLINE_EXCEEDED:return $c.DEADLINE_EXCEEDED;case Mh.RESOURCE_EXHAUSTED:return $c.RESOURCE_EXHAUSTED;case Mh.INTERNAL:return $c.INTERNAL;case Mh.UNAVAILABLE:return $c.UNAVAILABLE;case Mh.UNAUTHENTICATED:return $c.UNAUTHENTICATED;case Mh.INVALID_ARGUMENT:return $c.INVALID_ARGUMENT;case Mh.NOT_FOUND:return $c.NOT_FOUND;case Mh.ALREADY_EXISTS:return $c.ALREADY_EXISTS;case Mh.PERMISSION_DENIED:return $c.PERMISSION_DENIED;case Mh.FAILED_PRECONDITION:return $c.FAILED_PRECONDITION;case Mh.ABORTED:return $c.ABORTED;case Mh.OUT_OF_RANGE:return $c.OUT_OF_RANGE;case Mh.UNIMPLEMENTED:return $c.UNIMPLEMENTED;case Mh.DATA_LOSS:return $c.DATA_LOSS;default:return Hc()}}(Fh=Mh||(Mh={}))[Fh.OK=0]="OK",Fh[Fh.CANCELLED=1]="CANCELLED",Fh[Fh.UNKNOWN=2]="UNKNOWN",Fh[Fh.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Fh[Fh.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Fh[Fh.NOT_FOUND=5]="NOT_FOUND",Fh[Fh.ALREADY_EXISTS=6]="ALREADY_EXISTS",Fh[Fh.PERMISSION_DENIED=7]="PERMISSION_DENIED",Fh[Fh.UNAUTHENTICATED=16]="UNAUTHENTICATED",Fh[Fh.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Fh[Fh.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Fh[Fh.ABORTED=10]="ABORTED",Fh[Fh.OUT_OF_RANGE=11]="OUT_OF_RANGE",Fh[Fh.UNIMPLEMENTED=12]="UNIMPLEMENTED",Fh[Fh.INTERNAL=13]="INTERNAL",Fh[Fh.UNAVAILABLE=14]="UNAVAILABLE",Fh[Fh.DATA_LOSS=15]="DATA_LOSS";var qh=function(){function e(t,n){r(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}return a(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=kr(n);try{for(i.s();!(r=i.n()).done;){var a=Le(r.value,2),o=a[0],u=a[1];if(this.equalsFn(o,e))return u}}catch(s){i.e(s)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}},{key:"forEach",value:function(e){vl(this.inner,(function(t,n){var r,i=kr(n);try{for(i.s();!(r=i.n()).done;){var a=Le(r.value,2),o=a[0],u=a[1];e(o,u)}}catch(s){i.e(s)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return yl(this.inner)}},{key:"size",value:function(){return this.innerSize}}]),e}(),Gh=new yf(Ll.comparator);function Kh(){return Gh}var Hh=new yf(Ll.comparator);function Wh(){for(var e=Hh,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.insert(o.key,o)}return e}function Qh(){return new qh((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)}))}var $h=new yf(Ll.comparator),Yh=new kf(Ll.comparator);function Xh(){for(var e=Yh,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var Jh=new kf(cl);function Zh(){return Jh}var ed=function(){function e(t,n,i,a,o){r(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=a,this.resolvedLimboDocuments=o}return a(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n){var r=new Map;return r.set(t,td.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(dl.min(),r,Zh(),Kh(),Xh())}}]),e}(),td=function(){function e(t,n,i,a,o){r(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=i,this.modifiedDocuments=a,this.removedDocuments=o}return a(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n){return new e(xl.EMPTY_BYTE_STRING,n,Xh(),Xh(),Xh())}}]),e}(),nd=a((function e(t,n,i,a){r(this,e),this.O=t,this.removedTargetIds=n,this.key=i,this.F=a})),rd=a((function e(t,n){r(this,e),this.targetId=t,this.$=n})),id=a((function e(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:xl.EMPTY_BYTE_STRING,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;r(this,e),this.state=t,this.targetIds=n,this.resumeToken=i,this.cause=a})),ad=function(){function e(){r(this,e),this.B=0,this.L=sd(),this.U=xl.EMPTY_BYTE_STRING,this.q=!1,this.K=!0}return a(e,[{key:"current",get:function(){return this.q}},{key:"resumeToken",get:function(){return this.U}},{key:"G",get:function(){return 0!==this.B}},{key:"j",get:function(){return this.K}},{key:"W",value:function(e){e.approximateByteSize()>0&&(this.K=!0,this.U=e)}},{key:"H",value:function(){var e=Xh(),t=Xh(),n=Xh();return this.L.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Hc()}})),new td(this.U,this.q,e,t,n)}},{key:"J",value:function(){this.K=!1,this.L=sd()}},{key:"Y",value:function(e,t){this.K=!0,this.L=this.L.insert(e,t)}},{key:"X",value:function(e){this.K=!0,this.L=this.L.remove(e)}},{key:"Z",value:function(){this.B+=1}},{key:"tt",value:function(){this.B-=1}},{key:"et",value:function(){this.K=!0,this.q=!0}}]),e}(),od=function(){function e(t){r(this,e),this.nt=t,this.st=new Map,this.it=Kh(),this.rt=ud(),this.ot=new kf(cl)}return a(e,[{key:"ut",value:function(e){var t,n=kr(e.O);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.F&&e.F.isFoundDocument()?this.at(r,e.F):this.ct(r,e.key,e.F)}}catch(u){n.e(u)}finally{n.f()}var i,a=kr(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.ct(o,e.key,e.F)}}catch(u){a.e(u)}finally{a.f()}}},{key:"ht",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.lt(n);switch(e.state){case 0:t.ft(n)&&r.W(e.resumeToken);break;case 1:r.tt(),r.G||r.J(),r.W(e.resumeToken);break;case 2:r.tt(),r.G||t.removeTarget(n);break;case 3:t.ft(n)&&(r.et(),r.W(e.resumeToken));break;case 4:t.ft(n)&&(t.dt(n),r.W(e.resumeToken));break;default:Hc()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.st.forEach((function(e,r){n.ft(r)&&t(r)}))}},{key:"_t",value:function(e){var t=e.targetId,n=e.$.count,r=this.wt(t);if(r){var i=r.target;if(If(i))if(0===n){var a=new Ll(i.path);this.ct(t,a,of.newNoDocument(a,dl.min()))}else Wc(1===n);else this.gt(t)!==n&&(this.dt(t),this.ot=this.ot.add(t))}}},{key:"yt",value:function(e){var t=this,n=new Map;this.st.forEach((function(r,i){var a=t.wt(i);if(a){if(r.current&&If(a.target)){var o=new Ll(a.target.path);null!==t.it.get(o)||t.It(i,o)||t.ct(i,o,of.newNoDocument(o,e))}r.j&&(n.set(i,r.H()),r.J())}}));var r=Xh();this.rt.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.wt(e);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))})),this.it.forEach((function(t,n){return n.setReadTime(e)}));var i=new ed(e,n,this.ot,this.it,r);return this.it=Kh(),this.rt=ud(),this.ot=new kf(cl),i}},{key:"at",value:function(e,t){if(this.ft(e)){var n=this.It(e,t.key)?2:0;this.lt(e).Y(t.key,n),this.it=this.it.insert(t.key,t),this.rt=this.rt.insert(t.key,this.Tt(t.key).add(e))}}},{key:"ct",value:function(e,t,n){if(this.ft(e)){var r=this.lt(e);this.It(e,t)?r.Y(t,1):r.X(t),this.rt=this.rt.insert(t,this.Tt(t).delete(e)),n&&(this.it=this.it.insert(t,n))}}},{key:"removeTarget",value:function(e){this.st.delete(e)}},{key:"gt",value:function(e){var t=this.lt(e).H();return this.nt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"Z",value:function(e){this.lt(e).Z()}},{key:"lt",value:function(e){var t=this.st.get(e);return t||(t=new ad,this.st.set(e,t)),t}},{key:"Tt",value:function(e){var t=this.rt.get(e);return t||(t=new kf(cl),this.rt=this.rt.insert(e,t)),t}},{key:"ft",value:function(e){var t=null!==this.wt(e);return t||zc("WatchChangeAggregator","Detected inactive target",e),t}},{key:"wt",value:function(e){var t=this.st.get(e);return t&&t.G?null:this.nt.Et(e)}},{key:"dt",value:function(e){var t=this;this.st.set(e,new ad),this.nt.getRemoteKeysForTarget(e).forEach((function(n){t.ct(e,n,null)}))}},{key:"It",value:function(e,t){return this.nt.getRemoteKeysForTarget(e).has(t)}}]),e}();function ud(){return new yf(Ll.comparator)}function sd(){return new yf(Ll.comparator)}var cd={asc:"ASCENDING",desc:"DESCENDING"},ld={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},fd=a((function e(t,n){r(this,e),this.databaseId=t,this.N=n}));function hd(e,t){return e.N?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function dd(e,t){return e.N?t.toBase64():t.toUint8Array()}function pd(e,t){return hd(e,t.toTimestamp())}function vd(e){return Wc(!!e),dl.fromTimestamp(function(e){var t=_l(e);return new hl(t.seconds,t.nanos)}(e))}function yd(e,t){return function(e){return new gl(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function md(e){var t=gl.fromString(e);return Wc(Vd(t)),t}function gd(e,t){return yd(e.databaseId,t.path)}function kd(e,t){var n=md(t);if(n.get(1)!==e.databaseId.projectId)throw new Yc($c.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Yc($c.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Ll(Sd(n))}function bd(e,t){return yd(e.databaseId,t)}function wd(e){var t=md(e);return 4===t.length?gl.emptyPath():Sd(t)}function xd(e){return new gl(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Sd(e){return Wc(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function _d(e,t,n){return{name:gd(e,t),fields:n.value.mapValue.fields}}function Ed(e,t,n){var r=kd(e,t.name),i=vd(t.updateTime),a=new rf({mapValue:{fields:t.fields}}),o=of.newFoundDocument(r,i,a);return n&&o.setHasCommittedMutations(),n?o.setHasCommittedMutations():o}function Id(e,t){return"found"in t?function(e,t){Wc(!!t.found),t.found.name,t.found.updateTime;var n=kd(e,t.found.name),r=vd(t.found.updateTime),i=new rf({mapValue:{fields:t.found.fields}});return of.newFoundDocument(n,r,i)}(e,t):"missing"in t?function(e,t){Wc(!!t.missing),Wc(!!t.readTime);var n=kd(e,t.missing),r=vd(t.readTime);return of.newNoDocument(n,r)}(e,t):Hc()}function Td(e,t){var n;if(t instanceof Oh)n={update:_d(e,t.key,t.value)};else if(t instanceof Uh)n={delete:gd(e,t.key)};else if(t instanceof Ph)n={update:_d(e,t.key,t.data),updateMask:jd(t.fieldMask)};else{if(!(t instanceof jh))return Hc();n={verify:gd(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof dh)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof ph)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof yh)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof gh)return{fieldPath:t.field.canonicalString(),increment:n.k};throw Hc()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:pd(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Hc()}(e,t.precondition)),n}function Cd(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?Sh.updateTime(vd(e.updateTime)):void 0!==e.exists?Sh.exists(e.exists):Sh.none()}(t.currentDocument):Sh.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)Wc("REQUEST_TIME"===t.setToServerValue),n=new dh;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new ph(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new yh(i)}else"increment"in t?n=new gh(e,t.increment):Hc();var a=bl.fromServerFormat(t.fieldPath);return new wh(a,n)}(e,t)})):[];if(t.update){t.update.name;var i=kd(e,t.update.name),a=new rf({mapValue:{fields:t.update.fields}});if(t.updateMask){var o=function(e){var t=e.fieldPaths||[];return new wl(t.map((function(e){return bl.fromServerFormat(e)})))}(t.updateMask);return new Ph(i,a,o,n,r)}return new Oh(i,a,n,r)}if(t.delete){var u=kd(e,t.delete);return new Uh(u,n)}if(t.verify){var s=kd(e,t.verify);return new jh(s,n)}return Hc()}function Nd(e,t){return{documents:[bd(e,t.path)]}}function Ad(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=bd(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=bd(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length){var t=e.map((function(e){return function(e){if("=="===e.op){if($l(e.value))return{unaryFilter:{field:Ld(e.field),op:"IS_NAN"}};if(Ql(e.value))return{unaryFilter:{field:Ld(e.field),op:"IS_NULL"}}}else if("!="===e.op){if($l(e.value))return{unaryFilter:{field:Ld(e.field),op:"IS_NOT_NAN"}};if(Ql(e.value))return{unaryFilter:{field:Ld(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ld(e.field),op:Dd(e.op),value:e.value}}}(e)}));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:Ld(e.field),direction:Rd(e.dir)}}(e)}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o,u=function(e,t){return e.N||Pl(t)?t:{value:t}}(e,t.limit);return null!==u&&(n.structuredQuery.limit=u),t.startAt&&(n.structuredQuery.startAt={before:(o=t.startAt).inclusive,values:o.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function Od(e){var t=wd(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Wc(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=Pd(n.where));var u=[];n.orderBy&&(u=n.orderBy.map((function(e){return function(e){return new Vf(Md(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var s=null;n.limit&&(s=function(e){var t;return Pl(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=function(e){var t=!!e.before,n=e.values||[];return new jf(n,t)}(n.startAt));var l=null;return n.endAt&&(l=function(e){var t=!e.before,n=e.values||[];return new jf(n,t)}(n.endAt)),Kf(t,i,u,o,s,"F",c,l)}function Pd(e){return e?void 0!==e.unaryFilter?[Ud(e)]:void 0!==e.fieldFilter?[Fd(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return Pd(e)})).reduce((function(e,t){return e.concat(t)})):Hc():[]}function Rd(e){return cd[e]}function Dd(e){return ld[e]}function Ld(e){return{fieldPath:e.canonicalString()}}function Md(e){return bl.fromServerFormat(e.fieldPath)}function Fd(e){return Af.create(Md(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Hc()}}(e.fieldFilter.op),e.fieldFilter.value)}function Ud(e){switch(e.unaryFilter.op){case"IS_NAN":var t=Md(e.unaryFilter.field);return Af.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=Md(e.unaryFilter.field);return Af.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Md(e.unaryFilter.field);return Af.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Md(e.unaryFilter.field);return Af.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Hc()}}function jd(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function Vd(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function Bd(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=qd(t)),t=zd(e.get(n),t);return qd(t)}function zd(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var a=e.charAt(i);switch(a){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=a}}return n}function qd(e){return e+"\x01\x01"}function Gd(e){var t=e.length;if(Wc(t>=2),2===t)return Wc("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),gl.emptyPath();for(var n=t-2,r=[],i="",a=0;a<t;){var o=e.indexOf("\x01",a);switch((o<0||o>n)&&Hc(),e.charAt(o+1)){case"\x01":var u=e.substring(a,o),s=void 0;0===i.length?s=u:(s=i+=u,i=""),r.push(s);break;case"\x10":i+=e.substring(a,o),i+="\0";break;case"\x11":i+=e.substring(a,o+1);break;default:Hc()}a=o+2}return new gl(r)}var Kd=["userId","batchId"];function Hd(e,t){return[e,Bd(t)]}function Wd(e,t,n){return[e,Bd(t),n]}var Qd={},$d=["prefixPath","collectionGroup","readTime","documentId"],Yd=["prefixPath","collectionGroup","documentId"],Xd=["collectionGroup","readTime","prefixPath","documentId"],Jd=["canonicalId","targetId"],Zd=["targetId","path"],ep=["path","targetId"],tp=["collectionId","parent"],np=["indexId","uid"],rp=["uid","sequenceNumber"],ip=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],ap=["indexId","uid","orderedDocumentKey"],op=["userId","collectionPath","documentId"],up=["userId","collectionPath","largestBatchId"],sp=["userId","collectionGroup","largestBatchId"],cp=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments"].concat(["clientMetadata"]).concat(["remoteDocumentGlobal"]).concat(["collectionParents"]).concat(["bundles","namedQueries"]),lp=[].concat(Fe(cp),["documentOverlays"]),fp=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],hp=[].concat(fp,["indexConfiguration","indexState","indexEntries"]),dp="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",pp=function(){function e(){r(this,e),this.onCommittedListeners=[]}return a(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}(),vp=function(){function e(t){var n=this;r(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return a(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&Hc(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=kr(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}}]),e}(),yp=function(){function e(t,n){var i=this;r(this,e),this.action=t,this.transaction=n,this.aborted=!1,this.At=new Xc,this.transaction.oncomplete=function(){i.At.resolve()},this.transaction.onabort=function(){n.error?i.At.reject(new kp(t,n.error)):i.At.resolve()},this.transaction.onerror=function(e){var n=_p(e.target.error);i.At.reject(new kp(t,n))}}return a(e,[{key:"Rt",get:function(){return this.At.promise}},{key:"abort",value:function(e){e&&this.At.reject(e),this.aborted||(zc("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}},{key:"bt",value:function(){var e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}},{key:"store",value:function(e){var t=this.transaction.objectStore(e);return new wp(t)}}],[{key:"open",value:function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new kp(n,t)}}}]),e}(),mp=function(){function e(t,n,i){r(this,e),this.name=t,this.version=n,this.Pt=i,12.2===e.Vt(Ar())&&qc("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return a(e,[{key:"Nt",value:function(){var e=yr(gr().mark((function e(t){var n=this;return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.db,e.t0){e.next=6;break}return zc("SimpleDb","Opening database:",this.name),e.next=5,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new kp(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new Yc($c.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===n.name?r(new Yc($c.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+n)):r(new kp(t,n))},i.onupgradeneeded=function(e){zc("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.Pt.kt(t,i.transaction,e.oldVersion,n.version).next((function(){zc("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}));case 5:this.db=e.sent;case 6:return this.Mt&&(this.db.onversionchange=function(e){return n.Mt(e)}),e.abrupt("return",this.db);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Ot",value:function(e){this.Mt=e,this.db&&(this.db.onversionchange=function(t){return e(t)})}},{key:"runTransaction",value:function(){var e=yr(gr().mark((function e(t,n,r,i){var a,o,u,s,c=this;return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a="readonly"===n,o=0;case 2:return++o,e.prev=3,e.delegateYield(gr().mark((function e(){var n,o;return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.Nt(t);case 2:return c.db=e.sent,n=yp.open(c.db,t,a?"readonly":"readwrite",r),o=i(n).next((function(e){return n.bt(),e})).catch((function(e){return n.abort(e),vp.reject(e)})).toPromise(),o.catch((function(){})),e.next=7,n.Rt;case 7:return e.t0=o,e.abrupt("return",{v:e.t0});case 9:case"end":return e.stop()}}),e)}))(),"t0",5);case 5:if("object"!==typeof(u=e.t0)){e.next=8;break}return e.abrupt("return",u.v);case 8:e.next=15;break;case 10:if(e.prev=10,e.t1=e.catch(3),s="FirebaseError"!==e.t1.name&&o<3,zc("SimpleDb","Transaction failed with error:",e.t1.message,"Retrying:",s),this.close(),s){e.next=15;break}return e.abrupt("return",Promise.reject(e.t1));case 15:e.next=2;break;case 17:case"end":return e.stop()}}),e,this,[[3,10]])})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"close",value:function(){this.db&&this.db.close(),this.db=void 0}}],[{key:"delete",value:function(e){return zc("SimpleDb","Removing database:",e),xp(window.indexedDB.deleteDatabase(e)).toPromise()}},{key:"vt",value:function(){if(!Mr())return!1;if(e.St())return!0;var t=Ar(),n=e.Vt(t),r=0<n&&n<10,i=e.Dt(t),a=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||a)}},{key:"St",value:function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:"/F1_Ticket_Manager",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})||void 0===e?void 0:e.Ct)}},{key:"xt",value:function(e,t){return e.store(t)}},{key:"Vt",value:function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}},{key:"Dt",value:function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}}]),e}(),gp=function(){function e(t){r(this,e),this.Ft=t,this.$t=!1,this.Bt=null}return a(e,[{key:"isDone",get:function(){return this.$t}},{key:"Lt",get:function(){return this.Bt}},{key:"cursor",set:function(e){this.Ft=e}},{key:"done",value:function(){this.$t=!0}},{key:"Ut",value:function(e){this.Bt=e}},{key:"delete",value:function(){return xp(this.Ft.delete())}}]),e}(),kp=function(e){u(n,e);var t=d(n);function n(e,i){var a;return r(this,n),(a=t.call(this,$c.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(i))).name="IndexedDbTransactionError",a}return a(n)}(Yc);function bp(e){return"IndexedDbTransactionError"===e.name}var wp=function(){function e(t){r(this,e),this.store=t}return a(e,[{key:"put",value:function(e,t){var n;return void 0!==t?(zc("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(zc("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),xp(n)}},{key:"add",value:function(e){return zc("SimpleDb","ADD",this.store.name,e,e),xp(this.store.add(e))}},{key:"get",value:function(e){var t=this;return xp(this.store.get(e)).next((function(n){return void 0===n&&(n=null),zc("SimpleDb","GET",t.store.name,e,n),n}))}},{key:"delete",value:function(e){return zc("SimpleDb","DELETE",this.store.name,e),xp(this.store.delete(e))}},{key:"count",value:function(){return zc("SimpleDb","COUNT",this.store.name),xp(this.store.count())}},{key:"qt",value:function(e,t){var n=this.options(e,t);if(n.index||"function"!=typeof this.store.getAll){var r=this.cursor(n),i=[];return this.Kt(r,(function(e,t){i.push(t)})).next((function(){return i}))}var a=this.store.getAll(n.range);return new vp((function(e,t){a.onerror=function(e){t(e.target.error)},a.onsuccess=function(t){e(t.target.result)}}))}},{key:"Gt",value:function(e,t){var n=this.store.getAll(e,null===t?void 0:t);return new vp((function(e,t){n.onerror=function(e){t(e.target.error)},n.onsuccess=function(t){e(t.target.result)}}))}},{key:"Qt",value:function(e,t){zc("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.jt=!1;var r=this.cursor(n);return this.Kt(r,(function(e,t,n){return n.delete()}))}},{key:"Wt",value:function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.Kt(r,t)}},{key:"zt",value:function(e){var t=this.cursor({});return new vp((function(n,r){t.onerror=function(e){var t=_p(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))}},{key:"Kt",value:function(e,t){var n=[];return new vp((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var a=new gp(i),o=t(i.primaryKey,i.value,a);if(o instanceof vp){var u=o.catch((function(e){return a.done(),vp.reject(e)}));n.push(u)}a.isDone?r():null===a.Lt?i.continue():i.continue(a.Lt)}else r()}})).next((function(){return vp.waitFor(n)}))}},{key:"options",value:function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}},{key:"cursor",value:function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.jt?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}]),e}();function xp(e){return new vp((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=_p(e.target.error);n(t)}}))}var Sp=!1;function _p(e){var t=mp.Vt(Ar());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new Yc("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(n,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return Sp||(Sp=!0,setTimeout((function(){throw r}),0)),r}}return e}var Ep=function(e){u(n,e);var t=d(n);function n(e,i){var a;return r(this,n),(a=t.call(this)).Ht=e,a.currentSequenceNumber=i,a}return a(n)}(pp);function Ip(e,t){var n=Qc(e);return mp.xt(n.Ht,t)}var Tp=function(){function e(t,n,i,a){r(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=i,this.mutations=a}return a(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&Ih(i,e,n[r])}}},{key:"applyToLocalView",value:function(e){var t,n=kr(this.baseMutations);try{for(n.s();!(t=n.n()).done;){var r=t.value;r.key.isEqual(e.key)&&Th(r,e,this.localWriteTime)}}catch(u){n.e(u)}finally{n.f()}var i,a=kr(this.mutations);try{for(a.s();!(i=a.n()).done;){var o=i.value;o.key.isEqual(e.key)&&Th(o,e,this.localWriteTime)}}catch(u){a.e(u)}finally{a.f()}}},{key:"applyToLocalDocumentSet",value:function(e){var t=this;this.mutations.forEach((function(n){var r=e.get(n.key),i=r;t.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(dl.min())}))}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),Xh())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&ll(this.mutations,e.mutations,(function(e,t){return Nh(e,t)}))&&ll(this.baseMutations,e.baseMutations,(function(e,t){return Nh(e,t)}))}}]),e}(),Cp=function(){function e(t,n,i,a){r(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=i,this.docVersions=a}return a(e,null,[{key:"from",value:function(t,n,r){Wc(t.mutations.length===r.length);for(var i=$h,a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),Np=function(){function e(t,n){r(this,e),this.largestBatchId=t,this.mutation=n}return a(e,[{key:"getKey",value:function(){return this.mutation.key}},{key:"isEqual",value:function(e){return null!==e&&this.mutation===e.mutation}},{key:"toString",value:function(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}]),e}(),Ap=function(){function e(t,n,i,a){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:dl.min(),u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:dl.min(),s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:xl.EMPTY_BYTE_STRING;r(this,e),this.target=t,this.targetId=n,this.purpose=i,this.sequenceNumber=a,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=s}return a(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}]),e}(),Op=a((function e(t){r(this,e),this.Jt=t}));function Pp(e,t){var n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:Rp(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:gd(e,t.key),fields:t.data.value.mapValue.fields,updateTime:hd(e,t.version.toTimestamp())}}(e.Jt,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:Dp(t.version)};else{if(!t.isUnknownDocument())return Hc();r.unknownDocument={path:n.path.toArray(),version:Dp(t.version)}}return r}function Rp(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function Dp(e){var t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function Lp(e){var t=new hl(e.seconds,e.nanoseconds);return dl.fromTimestamp(t)}function Mp(e,t){for(var n=(t.baseMutations||[]).map((function(t){return Cd(e.Jt,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var a=t.mutations[r+1];i.updateTransforms=a.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var o=t.mutations.map((function(t){return Cd(e.Jt,t)})),u=hl.fromMillis(t.localWriteTimeMs);return new Tp(t.batchId,u,n,o)}function Fp(e){var t,n,r=Lp(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?Lp(e.lastLimboFreeSnapshotVersion):dl.min();return void 0!==e.query.documents?(Wc(1===(n=e.query).documents.length),t=Xf(Hf(wd(n.documents[0])))):t=function(e){return Xf(Od(e))}(e.query),new Ap(t,e.targetId,0,e.lastListenSequenceNumber,r,i,xl.fromBase64String(e.resumeToken))}function Up(e,t){var n,r=Dp(t.snapshotVersion),i=Dp(t.lastLimboFreeSnapshotVersion);n=If(t.target)?Nd(e.Jt,t.target):Ad(e.Jt,t.target);var a=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:_f(t.target),readTime:r,resumeToken:a,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:n}}function jp(e){var t=Od({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Jf(t,t.limit,"L"):t}function Vp(e,t){return new Np(t.largestBatchId,Cd(e.Jt,t.overlayMutation))}function Bp(e,t){var n=t.path.lastSegment();return[e,Bd(t.path.popLast()),n]}var zp=function(){function e(){r(this,e)}return a(e,[{key:"getBundleMetadata",value:function(e,t){return qp(e).get(t).next((function(e){if(e)return{id:(t=e).bundleId,createTime:Lp(t.createTime),version:t.version};var t}))}},{key:"saveBundleMetadata",value:function(e,t){return qp(e).put({bundleId:(n=t).id,createTime:Dp(vd(n.createTime)),version:n.version});var n}},{key:"getNamedQuery",value:function(e,t){return Gp(e).get(t).next((function(e){if(e)return{name:(t=e).name,query:jp(t.bundledQuery),readTime:Lp(t.readTime)};var t}))}},{key:"saveNamedQuery",value:function(e,t){return Gp(e).put(function(e){return{name:e.name,readTime:Dp(vd(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}]),e}();function qp(e){return Ip(e,"bundles")}function Gp(e){return Ip(e,"namedQueries")}var Kp=function(){function e(t,n){r(this,e),this.M=t,this.userId=n}return a(e,[{key:"getOverlay",value:function(e,t){var n=this;return Hp(e).get(Bp(this.userId,t)).next((function(e){return e?Vp(n.M,e):null}))}},{key:"saveOverlays",value:function(e,t,n){var r=this,i=[];return n.forEach((function(n,a){var o=new Np(t,a);i.push(r.Xt(e,o))})),vp.waitFor(i)}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=new Set;t.forEach((function(e){return i.add(Bd(e.getCollectionPath()))}));var a=[];return i.forEach((function(t){var i=IDBKeyRange.bound([r.userId,t,n],[r.userId,t,n+1],!1,!0);a.push(Hp(e).Qt("collectionPathOverlayIndex",i))})),vp.waitFor(a)}},{key:"getOverlaysForCollection",value:function(e,t,n){var r=this,i=Qh(),a=Bd(t),o=IDBKeyRange.bound([this.userId,a,n],[this.userId,a,Number.POSITIVE_INFINITY],!0);return Hp(e).qt("collectionPathOverlayIndex",o).next((function(e){var t,n=kr(e);try{for(n.s();!(t=n.n()).done;){var a=t.value,o=Vp(r.M,a);i.set(o.getKey(),o)}}catch(u){n.e(u)}finally{n.f()}return i}))}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){var i,a=this,o=Qh(),u=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Hp(e).Wt({index:"collectionGroupOverlayIndex",range:u},(function(e,t,n){var u=Vp(a.M,t);o.size()<r||u.largestBatchId===i?(o.set(u.getKey(),u),i=u.largestBatchId):n.done()})).next((function(){return o}))}},{key:"Xt",value:function(e,t){return Hp(e).put(function(e,t,n){var r=Le(Bp(t,n.mutation.key),3);r[0];return{userId:t,collectionPath:r[1],documentId:r[2],collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:Td(e.Jt,n.mutation)}}(this.M,this.userId,t))}}],[{key:"Yt",value:function(t,n){return new e(t,n.uid||"")}}]),e}();function Hp(e){return Ip(e,"documentOverlays")}var Wp=function(){function e(){r(this,e)}return a(e,[{key:"Zt",value:function(e,t){this.te(e,t),t.ee()}},{key:"te",value:function(e,t){if("nullValue"in e)this.ne(t,5);else if("booleanValue"in e)this.ne(t,10),t.se(e.booleanValue?1:0);else if("integerValue"in e)this.ne(t,15),t.se(El(e.integerValue));else if("doubleValue"in e){var n=El(e.doubleValue);isNaN(n)?this.ne(t,13):(this.ne(t,15),Rl(n)?t.se(0):t.se(n))}else if("timestampValue"in e){var r=e.timestampValue;this.ne(t,20),"string"==typeof r?t.ie(r):(t.ie("".concat(r.seconds||"")),t.se(r.nanos||0))}else if("stringValue"in e)this.re(e.stringValue,t),this.oe(t);else if("bytesValue"in e)this.ne(t,30),t.ue(Il(e.bytesValue)),this.oe(t);else if("referenceValue"in e)this.ae(e.referenceValue,t);else if("geoPointValue"in e){var i=e.geoPointValue;this.ne(t,45),t.se(i.latitude||0),t.se(i.longitude||0)}else"mapValue"in e?Jl(e)?this.ne(t,Number.MAX_SAFE_INTEGER):(this.ce(e.mapValue,t),this.oe(t)):"arrayValue"in e?(this.he(e.arrayValue,t),this.oe(t)):Hc()}},{key:"re",value:function(e,t){this.ne(t,25),this.le(e,t)}},{key:"le",value:function(e,t){t.ie(e)}},{key:"ce",value:function(e,t){var n=e.fields||{};this.ne(t,55);for(var r=0,i=Object.keys(n);r<i.length;r++){var a=i[r];this.re(a,t),this.te(n[a],t)}}},{key:"he",value:function(e,t){var n=e.values||[];this.ne(t,50);var r,i=kr(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;this.te(a,t)}}catch(o){i.e(o)}finally{i.f()}}},{key:"ae",value:function(e,t){var n=this;this.ne(t,37),Ll.fromName(e).path.forEach((function(e){n.ne(t,60),n.le(e,t)}))}},{key:"ne",value:function(e,t){e.se(t)}},{key:"oe",value:function(e){e.se(2)}}]),e}();function Qp(e){if(0===e)return 8;var t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function $p(e){var t=64-function(e){for(var t=0,n=0;n<8;++n){var r=Qp(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}Wp.fe=new Wp;var Yp=function(){function e(){r(this,e),this.buffer=new Uint8Array(1024),this.position=0}return a(e,[{key:"de",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this._e(n.value),n=t.next();this.we()}},{key:"me",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.ge(n.value),n=t.next();this.ye()}},{key:"pe",value:function(e){var t,n=kr(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this._e(i);else if(i<2048)this._e(960|i>>>6),this._e(128|63&i);else if(r<"\ud800"||"\udbff"<r)this._e(480|i>>>12),this._e(128|63&i>>>6),this._e(128|63&i);else{var a=r.codePointAt(0);this._e(240|a>>>18),this._e(128|63&a>>>12),this._e(128|63&a>>>6),this._e(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.we()}},{key:"Ie",value:function(e){var t,n=kr(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.ge(i);else if(i<2048)this.ge(960|i>>>6),this.ge(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.ge(480|i>>>12),this.ge(128|63&i>>>6),this.ge(128|63&i);else{var a=r.codePointAt(0);this.ge(240|a>>>18),this.ge(128|63&a>>>12),this.ge(128|63&a>>>6),this.ge(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.ye()}},{key:"Te",value:function(e){var t=this.Ee(e),n=$p(t);this.Ae(1+n),this.buffer[this.position++]=255&n;for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}},{key:"Re",value:function(e){var t=this.Ee(e),n=$p(t);this.Ae(1+n),this.buffer[this.position++]=~(255&n);for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}},{key:"be",value:function(){this.Pe(255),this.Pe(255)}},{key:"Ve",value:function(){this.ve(255),this.ve(255)}},{key:"reset",value:function(){this.position=0}},{key:"seed",value:function(e){this.Ae(e.length),this.buffer.set(e,this.position),this.position+=e.length}},{key:"Se",value:function(){return this.buffer.slice(0,this.position)}},{key:"Ee",value:function(e){var t=function(e){var t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(var r=1;r<t.length;++r)t[r]^=n?255:0;return t}},{key:"_e",value:function(e){var t=255&e;0===t?(this.Pe(0),this.Pe(255)):255===t?(this.Pe(255),this.Pe(0)):this.Pe(t)}},{key:"ge",value:function(e){var t=255&e;0===t?(this.ve(0),this.ve(255)):255===t?(this.ve(255),this.ve(0)):this.ve(e)}},{key:"we",value:function(){this.Pe(0),this.Pe(1)}},{key:"ye",value:function(){this.ve(0),this.ve(1)}},{key:"Pe",value:function(e){this.Ae(1),this.buffer[this.position++]=e}},{key:"ve",value:function(e){this.Ae(1),this.buffer[this.position++]=~e}},{key:"Ae",value:function(e){var t=e+this.position;if(!(t<=this.buffer.length)){var n=2*this.buffer.length;n<t&&(n=t);var r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}}]),e}(),Xp=function(){function e(t){r(this,e),this.De=t}return a(e,[{key:"ue",value:function(e){this.De.de(e)}},{key:"ie",value:function(e){this.De.pe(e)}},{key:"se",value:function(e){this.De.Te(e)}},{key:"ee",value:function(){this.De.be()}}]),e}(),Jp=function(){function e(t){r(this,e),this.De=t}return a(e,[{key:"ue",value:function(e){this.De.me(e)}},{key:"ie",value:function(e){this.De.Ie(e)}},{key:"se",value:function(e){this.De.Re(e)}},{key:"ee",value:function(){this.De.Ve()}}]),e}(),Zp=function(){function e(){r(this,e),this.De=new Yp,this.Ce=new Xp(this.De),this.xe=new Jp(this.De)}return a(e,[{key:"seed",value:function(e){this.De.seed(e)}},{key:"Ne",value:function(e){return 0===e?this.Ce:this.xe}},{key:"Se",value:function(){return this.De.Se()}},{key:"reset",value:function(){this.De.reset()}}]),e}(),ev=function(){function e(t,n,i,a){r(this,e),this.indexId=t,this.documentKey=n,this.arrayValue=i,this.directionalValue=a}return a(e,[{key:"ke",value:function(){var t=this.directionalValue.length,n=0===t||255===this.directionalValue[t-1]?t+1:t,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==t?r.set([0],this.directionalValue.length):++r[r.length-1],new e(this.indexId,this.documentKey,this.arrayValue,r)}}]),e}();function tv(e,t){var n=e.indexId-t.indexId;return 0!==n?n:0!==(n=nv(e.arrayValue,t.arrayValue))?n:0!==(n=nv(e.directionalValue,t.directionalValue))?n:Ll.comparator(e.documentKey,t.documentKey)}function nv(e,t){for(var n=0;n<e.length&&n<t.length;++n){var r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}var rv=function(){function e(t){r(this,e),this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Me=t.orderBy,this.Oe=[];var n,i=kr(t.filters);try{for(i.s();!(n=i.n()).done;){var a=n.value;a.S()?this.Fe=a:this.Oe.push(a)}}catch(o){i.e(o)}finally{i.f()}}return a(e,[{key:"$e",value:function(e){var t=sf(e);if(void 0!==t&&!this.Be(t))return!1;for(var n=cf(e),r=0,i=0;r<n.length&&this.Be(n[r]);++r);if(r===n.length)return!0;if(void 0!==this.Fe){var a=n[r];if(!this.Le(this.Fe,a)||!this.Ue(this.Me[i++],a))return!1;++r}for(;r<n.length;++r){var o=n[r];if(i>=this.Me.length||!this.Ue(this.Me[i++],o))return!1}return!0}},{key:"Be",value:function(e){var t,n=kr(this.Oe);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(this.Le(r,e))return!0}}catch(i){n.e(i)}finally{n.f()}return!1}},{key:"Le",value:function(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;var n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}},{key:"Ue",value:function(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}]),e}(),iv=function(){function e(){r(this,e),this.qe=new av}return a(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.qe.add(t),vp.resolve()}},{key:"getCollectionParents",value:function(e,t){return vp.resolve(this.qe.getEntries(t))}},{key:"addFieldIndex",value:function(e,t){return vp.resolve()}},{key:"deleteFieldIndex",value:function(e,t){return vp.resolve()}},{key:"getDocumentsMatchingTarget",value:function(e,t){return vp.resolve(null)}},{key:"getIndexType",value:function(e,t){return vp.resolve(0)}},{key:"getFieldIndexes",value:function(e,t){return vp.resolve([])}},{key:"getNextCollectionGroupToUpdate",value:function(e){return vp.resolve(null)}},{key:"getMinOffset",value:function(e,t){return vp.resolve(pf.min())}},{key:"updateCollectionGroup",value:function(e,t,n){return vp.resolve()}},{key:"updateIndexEntries",value:function(e,t){return vp.resolve()}}]),e}(),av=function(){function e(){r(this,e),this.index={}}return a(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new kf(gl.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new kf(gl.comparator)).toArray()}}]),e}(),ov=new Uint8Array(0),uv=function(){function e(t,n){r(this,e),this.user=t,this.databaseId=n,this.Ke=new av,this.Ge=new qh((function(e){return _f(e)}),(function(e,t){return Ef(e,t)})),this.uid=t.uid||""}return a(e,[{key:"addToCollectionParentIndex",value:function(e,t){var n=this;if(!this.Ke.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.Ke.add(t)}));var a={collectionId:r,parent:Bd(i)};return sv(e).put(a)}return vp.resolve()}},{key:"getCollectionParents",value:function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[fl(t),""],!1,!0);return sv(e).qt(r).next((function(e){var r,i=kr(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(a.collectionId!==t)break;n.push(Gd(a.parent))}}catch(o){i.e(o)}finally{i.f()}return n}))}},{key:"addFieldIndex",value:function(e,t){var n=lv(e),r=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map((function(e){return[e.fieldPath.canonicalString(),e.kind]}))}}(t);return delete r.indexId,n.add(r).next()}},{key:"deleteFieldIndex",value:function(e,t){var n=lv(e),r=fv(e),i=cv(e);return n.delete(t.indexId).next((function(){return r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))})).next((function(){return i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))}))}},{key:"getDocumentsMatchingTarget",value:function(e,t){var n=this,r=cv(e),i=!0,a=new Map;return vp.forEach(this.Qe(t),(function(t){return n.je(e,t).next((function(e){i&&(i=!!e),a.set(t,e)}))})).next((function(){if(i){var e=Xh(),o=[];return vp.forEach(a,(function(i,a){var u;zc("IndexedDbIndexManager","Using index ".concat((u=i,"id=".concat(u.indexId,"|cg=").concat(u.collectionGroup,"|f=").concat(u.fields.map((function(e){return"".concat(e.fieldPath,":").concat(e.kind)})).join(",")))," to execute ").concat(_f(t)));var s=function(e,t){var n=sf(t);if(void 0===n)return null;var r,i=kr(Tf(e,n.fieldPath));try{for(i.s();!(r=i.n()).done;){var a=r.value;switch(a.op){case"array-contains-any":return a.value.arrayValue.values||[];case"array-contains":return[a.value]}}}catch(o){i.e(o)}finally{i.f()}return null}(a,i),c=function(e,t){var n,r=new Map,i=kr(cf(t));try{for(i.s();!(n=i.n()).done;){var a,o=n.value,u=kr(Tf(e,o.fieldPath));try{for(u.s();!(a=u.n()).done;){var s=a.value;switch(s.op){case"==":case"in":r.set(o.fieldPath.canonicalString(),s.value);break;case"not-in":case"!=":return r.set(o.fieldPath.canonicalString(),s.value),Array.from(r.values())}}}catch(c){u.e(c)}finally{u.f()}}}catch(c){i.e(c)}finally{i.f()}return null}(a,i),l=function(e,t){var n,r=[],i=!0,a=kr(cf(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,u=0===o.kind?Cf(e,o.fieldPath,e.startAt):Nf(e,o.fieldPath,e.startAt);r.push(u.value),i&&(i=u.inclusive)}}catch(s){a.e(s)}finally{a.f()}return new jf(r,i)}(a,i),f=function(e,t){var n,r=[],i=!0,a=kr(cf(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,u=0===o.kind?Nf(e,o.fieldPath,e.endAt):Cf(e,o.fieldPath,e.endAt);r.push(u.value),i&&(i=u.inclusive)}}catch(s){a.e(s)}finally{a.f()}return new jf(r,i)}(a,i),h=n.We(i,a,l),d=n.We(i,a,f),p=n.ze(i,a,c),v=n.He(i.indexId,s,h,l.inclusive,d,f.inclusive,p);return vp.forEach(v,(function(n){return r.Gt(n,t.limit).next((function(t){t.forEach((function(t){var n=Ll.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),o.push(n))}))}))}))})).next((function(){return o}))}return vp.resolve(null)}))}},{key:"Qe",value:function(e){var t=this.Ge.get(e);return t||(t=[e],this.Ge.set(e,t),t)}},{key:"He",value:function(e,t,n,r,i,a,o){for(var u=this,s=(null!=t?t.length:1)*Math.max(n.length,i.length),c=s/(null!=t?t.length:1),l=[],f=function(s){var f=t?u.Je(t[s/c]):ov,h=u.Ye(e,f,n[s%c],r),d=u.Xe(e,f,i[s%c],a),p=o.map((function(t){return u.Ye(e,f,t,!0)}));l.push.apply(l,Fe(u.createRange(h,d,p)))},h=0;h<s;++h)f(h);return l}},{key:"Ye",value:function(e,t,n,r){var i=new ev(e,Ll.empty(),t,n);return r?i:i.ke()}},{key:"Xe",value:function(e,t,n,r){var i=new ev(e,Ll.empty(),t,n);return r?i.ke():i}},{key:"je",value:function(e,t){var n=new rv(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next((function(e){var t,r=null,i=kr(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;n.$e(a)&&(!r||a.fields.length>r.fields.length)&&(r=a)}}catch(o){i.e(o)}finally{i.f()}return r}))}},{key:"getIndexType",value:function(e,t){var n=this,r=2;return vp.forEach(this.Qe(t),(function(t){return n.je(e,t).next((function(e){e?0!==r&&e.fields.length<function(e){var t,n=new kf(bl.comparator),r=!1,i=kr(e.filters);try{for(i.s();!(t=i.n()).done;){var a=t.value;a.field.isKeyField()||("array-contains"===a.op||"array-contains-any"===a.op?r=!0:n=n.add(a.field))}}catch(c){i.e(c)}finally{i.f()}var o,u=kr(e.orderBy);try{for(u.s();!(o=u.n()).done;){var s=o.value;s.field.isKeyField()||(n=n.add(s.field))}}catch(c){u.e(c)}finally{u.f()}return n.size+(r?1:0)}(t)&&(r=1):r=0}))})).next((function(){return r}))}},{key:"Ze",value:function(e,t){var n,r=new Zp,i=kr(cf(e));try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.fieldPath);if(null==o)return null;var u=r.Ne(a.kind);Wp.fe.Zt(o,u)}}catch(s){i.e(s)}finally{i.f()}return r.Se()}},{key:"Je",value:function(e){var t=new Zp;return Wp.fe.Zt(e,t.Ne(0)),t.Se()}},{key:"tn",value:function(e,t){var n=new Zp;return Wp.fe.Zt(Kl(this.databaseId,t),n.Ne(function(e){var t=cf(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.Se()}},{key:"ze",value:function(e,t,n){if(null===n)return[];var r=[];r.push(new Zp);var i,a=0,o=kr(cf(e));try{for(o.s();!(i=o.n()).done;){var u,s=i.value,c=n[a++],l=kr(r);try{for(l.s();!(u=l.n()).done;){var f=u.value;if(this.en(t,s.fieldPath)&&Wl(c))r=this.nn(r,s,c);else{var h=f.Ne(s.kind);Wp.fe.Zt(c,h)}}}catch(d){l.e(d)}finally{l.f()}}}catch(d){o.e(d)}finally{o.f()}return this.sn(r)}},{key:"We",value:function(e,t,n){return this.ze(e,t,n.position)}},{key:"sn",value:function(e){for(var t=[],n=0;n<e.length;++n)t[n]=e[n].Se();return t}},{key:"nn",value:function(e,t,n){var r,i=Fe(e),a=[],o=kr(n.arrayValue.values||[]);try{for(o.s();!(r=o.n()).done;){var u,s=r.value,c=kr(i);try{for(c.s();!(u=c.n()).done;){var l=u.value,f=new Zp;f.seed(l.Se()),Wp.fe.Zt(s,f.Ne(t.kind)),a.push(f)}}catch(h){c.e(h)}finally{c.f()}}}catch(h){o.e(h)}finally{o.f()}return a}},{key:"en",value:function(e,t){return!!e.filters.find((function(e){return e instanceof Af&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)}))}},{key:"getFieldIndexes",value:function(e,t){var n=this,r=lv(e),i=fv(e);return(t?r.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.qt()).next((function(e){var t=[];return vp.forEach(e,(function(e){return i.get([e.indexId,n.uid]).next((function(n){t.push(function(e,t){var n=t?new ff(t.sequenceNumber,new pf(Lp(t.readTime),new Ll(Gd(t.documentKey)),t.largestBatchId)):ff.empty(),r=e.fields.map((function(e){var t=Le(e,2),n=t[0],r=t[1];return new lf(bl.fromServerFormat(n),r)}));return new uf(e.indexId,e.collectionGroup,r,n)}(e,n))}))})).next((function(){return t}))}))}},{key:"getNextCollectionGroupToUpdate",value:function(e){return this.getFieldIndexes(e).next((function(e){return 0===e.length?null:(e.sort((function(e,t){var n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:cl(e.collectionGroup,t.collectionGroup)})),e[0].collectionGroup)}))}},{key:"updateCollectionGroup",value:function(e,t,n){var r=this,i=lv(e),a=fv(e);return this.rn(e).next((function(e){return i.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)).next((function(t){return vp.forEach(t,(function(t){return a.put(function(e,t,n,r){return{indexId:e,uid:t.uid||"",sequenceNumber:n,readTime:Dp(r.readTime),documentKey:Bd(r.documentKey.path),largestBatchId:r.largestBatchId}}(t.indexId,r.user,e,n))}))}))}))}},{key:"updateIndexEntries",value:function(e,t){var n=this,r=new Map;return vp.forEach(t,(function(t,i){var a=r.get(t.collectionGroup);return(a?vp.resolve(a):n.getFieldIndexes(e,t.collectionGroup)).next((function(a){return r.set(t.collectionGroup,a),vp.forEach(a,(function(r){return n.on(e,t,r).next((function(t){var a=n.un(i,r);return t.isEqual(a)?vp.resolve():n.an(e,i,r,t,a)}))}))}))}))}},{key:"cn",value:function(e,t,n,r){return cv(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.tn(n,t.key),documentKey:t.key.path.toArray()})}},{key:"hn",value:function(e,t,n,r){return cv(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.tn(n,t.key),t.key.path.toArray()])}},{key:"on",value:function(e,t,n){var r=cv(e),i=new kf(tv);return r.Wt({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.tn(n,t)])},(function(e,r){i=i.add(new ev(n.indexId,t,r.arrayValue,r.directionalValue))})).next((function(){return i}))}},{key:"un",value:function(e,t){var n=new kf(tv),r=this.Ze(t,e);if(null==r)return n;var i=sf(t);if(null!=i){var a=e.data.field(i.fieldPath);if(Wl(a)){var o,u=kr(a.arrayValue.values||[]);try{for(u.s();!(o=u.n()).done;){var s=o.value;n=n.add(new ev(t.indexId,e.key,this.Je(s),r))}}catch(c){u.e(c)}finally{u.f()}}}else n=n.add(new ev(t.indexId,e.key,ov,r));return n}},{key:"an",value:function(e,t,n,r,i){var a=this;zc("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);var o=[];return function(e,t,n,r,i){for(var a=e.getIterator(),o=t.getIterator(),u=wf(a),s=wf(o);u||s;){var c=!1,l=!1;if(u&&s){var f=n(u,s);f<0?l=!0:f>0&&(c=!0)}else null!=u?l=!0:c=!0;c?(r(s),s=wf(o)):l?(i(u),u=wf(a)):(u=wf(a),s=wf(o))}}(r,i,tv,(function(r){o.push(a.cn(e,t,n,r))}),(function(r){o.push(a.hn(e,t,n,r))})),vp.waitFor(o)}},{key:"rn",value:function(e){var t=1;return fv(e).Wt({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(function(e,n,r){r.done(),t=n.sequenceNumber+1})).next((function(){return t}))}},{key:"createRange",value:function(e,t,n){n=n.sort((function(e,t){return tv(e,t)})).filter((function(e,t,n){return!t||0!==tv(e,n[t-1])}));var r=[];r.push(e);var i,a=kr(n);try{for(a.s();!(i=a.n()).done;){var o=i.value,u=tv(o,e),s=tv(o,t);if(0===u)r[0]=e.ke();else if(u>0&&s<0)r.push(o),r.push(o.ke());else if(s>0)break}}catch(f){a.e(f)}finally{a.f()}r.push(t);for(var c=[],l=0;l<r.length;l+=2)c.push(IDBKeyRange.bound([r[l].indexId,this.uid,r[l].arrayValue,r[l].directionalValue,ov,[]],[r[l+1].indexId,this.uid,r[l+1].arrayValue,r[l+1].directionalValue,ov,[]]));return c}},{key:"getMinOffset",value:function(e,t){var n,r=this;return vp.forEach(this.Qe(t),(function(t){return r.je(e,t).next((function(e){e?(!n||vf(e.indexState.offset,n)<0)&&(n=e.indexState.offset):n=pf.min()}))})).next((function(){return n}))}}]),e}();function sv(e){return Ip(e,"collectionParents")}function cv(e){return Ip(e,"indexEntries")}function lv(e){return Ip(e,"indexConfiguration")}function fv(e){return Ip(e,"indexState")}var hv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},dv=function(){function e(t,n,i){r(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}return a(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();function pv(e,t,n){var r=e.store("mutations"),i=e.store("documentMutations"),a=[],o=IDBKeyRange.only(n.batchId),u=0,s=r.Wt({range:o},(function(e,t,n){return u++,n.delete()}));a.push(s.next((function(){Wc(1===u)})));var c,l=[],f=kr(n.mutations);try{for(f.s();!(c=f.n()).done;){var h=c.value,d=Wd(t,h.key.path,n.batchId);a.push(i.delete(d)),l.push(h.key)}}catch(p){f.e(p)}finally{f.f()}return vp.waitFor(a).next((function(){return l}))}function vv(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw Hc();t=e.noDocument}return JSON.stringify(t).length}dv.DEFAULT_COLLECTION_PERCENTILE=10,dv.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,dv.DEFAULT=new dv(41943040,dv.DEFAULT_COLLECTION_PERCENTILE,dv.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),dv.DISABLED=new dv(-1,0,0);var yv=function(){function e(t,n,i,a){r(this,e),this.userId=t,this.M=n,this.indexManager=i,this.referenceDelegate=a,this.ln={}}return a(e,[{key:"checkEmpty",value:function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return gv(e).Wt({index:"userMutationsIndex",range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this,a=kv(e),o=gv(e);return o.add({}).next((function(u){Wc("number"==typeof u);var s,c=new Tp(u,t,n,r),l=function(e,t,n){var r=n.baseMutations.map((function(t){return Td(e.Jt,t)})),i=n.mutations.map((function(t){return Td(e.Jt,t)}));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(i.M,i.userId,c),f=[],h=new kf((function(e,t){return cl(e.canonicalString(),t.canonicalString())})),d=kr(r);try{for(d.s();!(s=d.n()).done;){var p=s.value,v=Wd(i.userId,p.key.path,u);h=h.add(p.key.path.popLast()),f.push(o.put(l)),f.push(a.put(v,Qd))}}catch(y){d.e(y)}finally{d.f()}return h.forEach((function(t){f.push(i.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.ln[u]=c.keys()})),vp.waitFor(f).next((function(){return c}))}))}},{key:"lookupMutationBatch",value:function(e,t){var n=this;return gv(e).get(t).next((function(e){return e?(Wc(e.userId===n.userId),Mp(n.M,e)):null}))}},{key:"fn",value:function(e,t){var n=this;return this.ln[t]?vp.resolve(this.ln[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.ln[t]=r,r}return null}))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),a=null;return gv(e).Wt({index:"userMutationsIndex",range:i},(function(e,t,i){t.userId===n.userId&&(Wc(t.batchId>=r),a=Mp(n.M,t)),i.done()})).next((function(){return a}))}},{key:"getHighestUnacknowledgedBatchId",value:function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return gv(e).Wt({index:"userMutationsIndex",range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))}},{key:"getAllMutationBatches",value:function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return gv(e).qt("userMutationsIndex",n).next((function(e){return e.map((function(e){return Mp(t.M,e)}))}))}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=Hd(this.userId,t.path),i=IDBKeyRange.lowerBound(r),a=[];return kv(e).Wt({range:i},(function(r,i,o){var u=Le(r,3),s=u[0],c=u[1],l=u[2],f=Gd(c);if(s===n.userId&&t.path.isEqual(f))return gv(e).get(l).next((function(e){if(!e)throw Hc();Wc(e.userId===n.userId),a.push(Mp(n.M,e))}));o.done()})).next((function(){return a}))}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new kf(cl),i=[];return t.forEach((function(t){var a=Hd(n.userId,t.path),o=IDBKeyRange.lowerBound(a),u=kv(e).Wt({range:o},(function(e,i,a){var o=Le(e,3),u=o[0],s=o[1],c=o[2],l=Gd(s);u===n.userId&&t.path.isEqual(l)?r=r.add(c):a.done()}));i.push(u)})),vp.waitFor(i).next((function(){return n.dn(e,r)}))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=this,r=t.path,i=r.length+1,a=Hd(this.userId,r),o=IDBKeyRange.lowerBound(a),u=new kf(cl);return kv(e).Wt({range:o},(function(e,t,a){var o=Le(e,3),s=o[0],c=o[1],l=o[2],f=Gd(c);s===n.userId&&r.isPrefixOf(f)?f.length===i&&(u=u.add(l)):a.done()})).next((function(){return n.dn(e,u)}))}},{key:"dn",value:function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(gv(e).get(t).next((function(e){if(null===e)throw Hc();Wc(e.userId===n.userId),r.push(Mp(n.M,e))})))})),vp.waitFor(i).next((function(){return r}))}},{key:"removeMutationBatch",value:function(e,t){var n=this;return pv(e.Ht,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n._n(t.batchId)})),vp.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))}},{key:"_n",value:function(e){delete this.ln[e]}},{key:"performConsistencyCheck",value:function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return vp.resolve();var r=IDBKeyRange.lowerBound([t.userId]),i=[];return kv(e).Wt({range:r},(function(e,n,r){if(e[0]===t.userId){var a=Gd(e[1]);i.push(a)}else r.done()})).next((function(){Wc(0===i.length)}))}))}},{key:"containsKey",value:function(e,t){return mv(e,this.userId,t)}},{key:"wn",value:function(e){var t=this;return bv(e).get(this.userId).next((function(e){return e||{userId:t.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}}))}}],[{key:"Yt",value:function(t,n,r,i){return Wc(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)}}]),e}();function mv(e,t,n){var r=Hd(t,n.path),i=r[1],a=IDBKeyRange.lowerBound(r),o=!1;return kv(e).Wt({range:a,jt:!0},(function(e,n,r){var a=Le(e,3),u=a[0],s=a[1];a[2];u===t&&s===i&&(o=!0),r.done()})).next((function(){return o}))}function gv(e){return Ip(e,"mutations")}function kv(e){return Ip(e,"documentMutations")}function bv(e){return Ip(e,"mutationQueues")}var wv=function(){function e(t){r(this,e),this.mn=t}return a(e,[{key:"next",value:function(){return this.mn+=2,this.mn}}],[{key:"gn",value:function(){return new e(0)}},{key:"yn",value:function(){return new e(-1)}}]),e}(),xv=function(){function e(t,n){r(this,e),this.referenceDelegate=t,this.M=n}return a(e,[{key:"allocateTargetId",value:function(e){var t=this;return this.pn(e).next((function(n){var r=new wv(n.highestTargetId);return n.highestTargetId=r.next(),t.In(e,n).next((function(){return n.highestTargetId}))}))}},{key:"getLastRemoteSnapshotVersion",value:function(e){return this.pn(e).next((function(e){return dl.fromTimestamp(new hl(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))}},{key:"getHighestSequenceNumber",value:function(e){return this.pn(e).next((function(e){return e.highestListenSequenceNumber}))}},{key:"setTargetsMetadata",value:function(e,t,n){var r=this;return this.pn(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.In(e,i)}))}},{key:"addTargetData",value:function(e,t){var n=this;return this.Tn(e,t).next((function(){return n.pn(e).next((function(r){return r.targetCount+=1,n.En(t,r),n.In(e,r)}))}))}},{key:"updateTargetData",value:function(e,t){return this.Tn(e,t)}},{key:"removeTargetData",value:function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return Sv(e).delete(t.targetId)})).next((function(){return n.pn(e)})).next((function(t){return Wc(t.targetCount>0),t.targetCount-=1,n.In(e,t)}))}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return Sv(e).Wt((function(o,u){var s=Fp(u);s.sequenceNumber<=t&&null===n.get(s.targetId)&&(i++,a.push(r.removeTargetData(e,s)))})).next((function(){return vp.waitFor(a)})).next((function(){return i}))}},{key:"forEachTarget",value:function(e,t){return Sv(e).Wt((function(e,n){var r=Fp(n);t(r)}))}},{key:"pn",value:function(e){return _v(e).get("targetGlobalKey").next((function(e){return Wc(null!==e),e}))}},{key:"In",value:function(e,t){return _v(e).put("targetGlobalKey",t)}},{key:"Tn",value:function(e,t){return Sv(e).put(Up(this.M,t))}},{key:"En",value:function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}},{key:"getTargetCount",value:function(e){return this.pn(e).next((function(e){return e.targetCount}))}},{key:"getTargetData",value:function(e,t){var n=_f(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return Sv(e).Wt({range:r,index:"queryTargetsIndex"},(function(e,n,r){var a=Fp(n);Ef(t,a.target)&&(i=a,r.done())})).next((function(){return i}))}},{key:"addMatchingKeys",value:function(e,t,n){var r=this,i=[],a=Ev(e);return t.forEach((function(t){var o=Bd(t.path);i.push(a.put({targetId:n,path:o})),i.push(r.referenceDelegate.addReference(e,n,t))})),vp.waitFor(i)}},{key:"removeMatchingKeys",value:function(e,t,n){var r=this,i=Ev(e);return vp.forEach(t,(function(t){var a=Bd(t.path);return vp.waitFor([i.delete([n,a]),r.referenceDelegate.removeReference(e,n,t)])}))}},{key:"removeMatchingKeysForTargetId",value:function(e,t){var n=Ev(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=Ev(e),i=Xh();return r.Wt({range:n,jt:!0},(function(e,t,n){var r=Gd(e[1]),a=new Ll(r);i=i.add(a)})).next((function(){return i}))}},{key:"containsKey",value:function(e,t){var n=Bd(t.path),r=IDBKeyRange.bound([n],[fl(n)],!1,!0),i=0;return Ev(e).Wt({index:"documentTargetsIndex",jt:!0,range:r},(function(e,t,n){var r=Le(e,2),a=r[0];r[1];0!==a&&(i++,n.done())})).next((function(){return i>0}))}},{key:"Et",value:function(e,t){return Sv(e).get(t).next((function(e){return e?Fp(e):null}))}}]),e}();function Sv(e){return Ip(e,"targets")}function _v(e){return Ip(e,"targetGlobal")}function Ev(e){return Ip(e,"targetDocuments")}function Iv(e){return Tv.apply(this,arguments)}function Tv(){return Tv=yr(gr().mark((function e(t){return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===$c.FAILED_PRECONDITION&&t.message===dp){e.next=2;break}throw t;case 2:zc("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)}))),Tv.apply(this,arguments)}function Cv(e,t){var n=Le(e,2),r=n[0],i=n[1],a=Le(t,2),o=a[0],u=a[1],s=cl(r,o);return 0===s?cl(i,u):s}var Nv=function(){function e(t){r(this,e),this.An=t,this.buffer=new kf(Cv),this.Rn=0}return a(e,[{key:"bn",value:function(){return++this.Rn}},{key:"Pn",value:function(e){var t=[e,this.bn()];if(this.buffer.size<this.An)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();Cv(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}},{key:"maxValue",get:function(){return this.buffer.last()[0]}}]),e}(),Av=function(){function e(t,n){r(this,e),this.garbageCollector=t,this.asyncQueue=n,this.Vn=!1,this.vn=null}return a(e,[{key:"start",value:function(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Sn(e)}},{key:"stop",value:function(){this.vn&&(this.vn.cancel(),this.vn=null)}},{key:"started",get:function(){return null!==this.vn}},{key:"Sn",value:function(e){var t=this,n=this.Vn?3e5:6e4;zc("LruGarbageCollector","Garbage collection scheduled in ".concat(n,"ms")),this.vn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,yr(gr().mark((function n(){return gr().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t.vn=null,t.Vn=!0,n.prev=1,n.next=4,e.collectGarbage(t.garbageCollector);case 4:n.next=14;break;case 6:if(n.prev=6,n.t0=n.catch(1),!bp(n.t0)){n.next=12;break}zc("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n.t0),n.next=14;break;case 12:return n.next=14,Iv(n.t0);case 14:return n.next=16,t.Sn(e);case 16:case"end":return n.stop()}}),n,null,[[1,6]])}))))}}]),e}(),Ov=function(){function e(t,n){r(this,e),this.Dn=t,this.params=n}return a(e,[{key:"calculateTargetCount",value:function(e,t){return this.Dn.Cn(e).next((function(e){return Math.floor(t/100*e)}))}},{key:"nthSequenceNumber",value:function(e,t){var n=this;if(0===t)return vp.resolve(ol.A);var r=new Nv(t);return this.Dn.forEachTarget(e,(function(e){return r.Pn(e.sequenceNumber)})).next((function(){return n.Dn.xn(e,(function(e){return r.Pn(e)}))})).next((function(){return r.maxValue}))}},{key:"removeTargets",value:function(e,t,n){return this.Dn.removeTargets(e,t,n)}},{key:"removeOrphanedDocuments",value:function(e,t){return this.Dn.removeOrphanedDocuments(e,t)}},{key:"collect",value:function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(zc("LruGarbageCollector","Garbage collection skipped; disabled"),vp.resolve(hv)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(zc("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(r," is lower than threshold ").concat(n.params.cacheSizeCollectionThreshold)),hv):n.Nn(e,t)}))}},{key:"getCacheSize",value:function(e){return this.Dn.getCacheSize(e)}},{key:"Nn",value:function(e,t){var n,r,i,a,o,u,s,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>c.params.maximumSequenceNumbersToCollect?(zc("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(c.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=c.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,o=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return i=t,u=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return s=Date.now(),Bc()<=ti.DEBUG&&zc("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(a-l,"ms\n\tDetermined least recently used ").concat(r," in ")+(o-a)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(u-o)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(s-u)+"ms\n"+"Total Duration: ".concat(s-l,"ms")),vp.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))}}]),e}(),Pv=function(){function e(t,n){r(this,e),this.db=t,this.garbageCollector=function(e,t){return new Ov(e,t)}(this,n)}return a(e,[{key:"Cn",value:function(e){var t=this.kn(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))}},{key:"kn",value:function(e){var t=0;return this.xn(e,(function(e){t++})).next((function(){return t}))}},{key:"forEachTarget",value:function(e,t){return this.db.getTargetCache().forEachTarget(e,t)}},{key:"xn",value:function(e,t){return this.Mn(e,(function(e,n){return t(n)}))}},{key:"addReference",value:function(e,t,n){return Rv(e,n)}},{key:"removeReference",value:function(e,t,n){return Rv(e,n)}},{key:"removeTargets",value:function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}},{key:"markPotentiallyOrphaned",value:function(e,t){return Rv(e,t)}},{key:"On",value:function(e,t){return function(e,t){var n=!1;return bv(e).zt((function(r){return mv(e,r,t).next((function(e){return e&&(n=!0),vp.resolve(!e)}))})).next((function(){return n}))}(e,t)}},{key:"removeOrphanedDocuments",value:function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],a=0;return this.Mn(e,(function(o,u){if(u<=t){var s=n.On(e,o).next((function(t){if(!t)return a++,r.getEntry(e,o).next((function(){return r.removeEntry(o,dl.min()),Ev(e).delete([0,Bd(o.path)])}))}));i.push(s)}})).next((function(){return vp.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return a}))}},{key:"removeTarget",value:function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}},{key:"updateLimboDocument",value:function(e,t){return Rv(e,t)}},{key:"Mn",value:function(e,t){var n,r=Ev(e),i=ol.A;return r.Wt({index:"documentTargetsIndex"},(function(e,r){var a=Le(e,2),o=a[0],u=(a[1],r.path),s=r.sequenceNumber;0===o?(i!==ol.A&&t(new Ll(Gd(n)),i),i=s,n=u):i=ol.A})).next((function(){i!==ol.A&&t(new Ll(Gd(n)),i)}))}},{key:"getCacheSize",value:function(e){return this.db.getRemoteDocumentCache().getSize(e)}}]),e}();function Rv(e,t){return Ev(e).put(function(e,t){return{targetId:0,path:Bd(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}var Dv=function(){function e(){r(this,e),this.changes=new qh((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return a(e,[{key:"addEntry",value:function(e){this.assertNotApplied(),this.changes.set(e.key,e)}},{key:"removeEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e,of.newInvalidDocument(e).setReadTime(t))}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?vp.resolve(n):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}(),Lv=function(){function e(t){r(this,e),this.M=t}return a(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t,n){return Uv(e).put(n)}},{key:"removeEntry",value:function(e,t,n){return Uv(e).delete(function(e,t){var n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],Rp(t),n[n.length-1]]}(t,n))}},{key:"updateMetadata",value:function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.Fn(e,r)}))}},{key:"getEntry",value:function(e,t){var n=this,r=of.newInvalidDocument(t);return Uv(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(jv(t))},(function(e,i){r=n.$n(t,i)})).next((function(){return r}))}},{key:"Bn",value:function(e,t){var n=this,r={size:0,document:of.newInvalidDocument(t)};return Uv(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(jv(t))},(function(e,i){r={document:n.$n(t,i),size:vv(i)}})).next((function(){return r}))}},{key:"getEntries",value:function(e,t){var n=this,r=Kh();return this.Ln(e,t,(function(e,t){var i=n.$n(e,t);r=r.insert(e,i)})).next((function(){return r}))}},{key:"Un",value:function(e,t){var n=this,r=Kh(),i=new yf(Ll.comparator);return this.Ln(e,t,(function(e,t){var a=n.$n(e,t);r=r.insert(e,a),i=i.insert(e,vv(t))})).next((function(){return{documents:r,qn:i}}))}},{key:"Ln",value:function(e,t,n){if(t.isEmpty())return vp.resolve();var r=new kf(Bv);t.forEach((function(e){return r=r.add(e)}));var i=IDBKeyRange.bound(jv(r.first()),jv(r.last())),a=r.getIterator(),o=a.getNext();return Uv(e).Wt({index:"documentKeyIndex",range:i},(function(e,t,r){for(var i=Ll.fromSegments([].concat(Fe(t.prefixPath),[t.collectionGroup,t.documentId]));o&&Bv(o,i)<0;)n(o,null),o=a.getNext();o&&o.isEqual(i)&&(n(o,t),o=a.hasNext()?a.getNext():null),o?r.Ut(jv(o)):r.done()})).next((function(){for(;o;)n(o,null),o=a.hasNext()?a.getNext():null}))}},{key:"getAllFromCollection",value:function(e,t,n){var r=this,i=[t.popLast().toArray(),t.lastSegment(),Rp(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],a=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Uv(e).qt(IDBKeyRange.bound(i,a,!0)).next((function(e){var t,n=Kh(),i=kr(e);try{for(i.s();!(t=i.n()).done;){var a=t.value,o=r.$n(Ll.fromSegments(a.prefixPath.concat(a.collectionGroup,a.documentId)),a);n=n.insert(o.key,o)}}catch(u){i.e(u)}finally{i.f()}return n}))}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){var i=this,a=Kh(),o=Vv(t,n),u=Vv(t,pf.max());return Uv(e).Wt({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,u,!0)},(function(e,t,n){var o=i.$n(Ll.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);(a=a.insert(o.key,o)).size===r&&n.done()})).next((function(){return a}))}},{key:"newChangeBuffer",value:function(e){return new Mv(this,!!e&&e.trackRemovals)}},{key:"getSize",value:function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))}},{key:"getMetadata",value:function(e){return Fv(e).get("remoteDocumentGlobalKey").next((function(e){return Wc(!!e),e}))}},{key:"Fn",value:function(e,t){return Fv(e).put("remoteDocumentGlobalKey",t)}},{key:"$n",value:function(e,t){if(t){var n=function(e,t){var n;if(t.document)n=Ed(e.Jt,t.document,!!t.hasCommittedMutations);else if(t.noDocument){var r=Ll.fromSegments(t.noDocument.path),i=Lp(t.noDocument.readTime);n=of.newNoDocument(r,i),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return Hc();var a=Ll.fromSegments(t.unknownDocument.path),o=Lp(t.unknownDocument.version);n=of.newUnknownDocument(a,o)}return t.readTime&&n.setReadTime(function(e){var t=new hl(e[0],e[1]);return dl.fromTimestamp(t)}(t.readTime)),n}(this.M,t);if(!n.isNoDocument()||!n.version.isEqual(dl.min()))return n}return of.newInvalidDocument(e)}}]),e}(),Mv=function(e){u(n,e);var t=d(n);function n(e,i){var a;return r(this,n),(a=t.call(this)).Kn=e,a.trackRemovals=i,a.Gn=new qh((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),a}return a(n,[{key:"applyChanges",value:function(e){var t=this,n=[],r=0,i=new kf((function(e,t){return cl(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(a,o){var u=t.Gn.get(a);if(n.push(t.Kn.removeEntry(e,a,u.readTime)),o.isValidDocument()){var s=Pp(t.Kn.M,o);i=i.add(a.path.popLast());var c=vv(s);r+=c-u.size,n.push(t.Kn.addEntry(e,a,s))}else if(r-=u.size,t.trackRemovals){var l=Pp(t.Kn.M,o.convertToNoDocument(dl.min()));n.push(t.Kn.addEntry(e,a,l))}})),i.forEach((function(r){n.push(t.Kn.indexManager.addToCollectionParentIndex(e,r))})),n.push(this.Kn.updateMetadata(e,r)),vp.waitFor(n)}},{key:"getFromCache",value:function(e,t){var n=this;return this.Kn.Bn(e,t).next((function(e){return n.Gn.set(t,{size:e.size,readTime:e.document.readTime}),e.document}))}},{key:"getAllFromCache",value:function(e,t){var n=this;return this.Kn.Un(e,t).next((function(e){var t=e.documents;return e.qn.forEach((function(e,r){n.Gn.set(e,{size:r,readTime:t.get(e).readTime})})),t}))}}]),n}(Dv);function Fv(e){return Ip(e,"remoteDocumentGlobal")}function Uv(e){return Ip(e,"remoteDocumentsV14")}function jv(e){var t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function Vv(e,t){var n=t.documentKey.path.toArray();return[e,Rp(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function Bv(e,t){for(var n=e.path.toArray(),r=t.path.toArray(),i=0,a=0;a<n.length-2&&a<r.length-2;++a)if(i=cl(n[a],r[a]))return i;return(i=cl(n.length,r.length))||((i=cl(n[n.length-2],r[r.length-2]))||cl(n[n.length-1],r[r.length-1]))}var zv=function(){function e(t){r(this,e),this.M=t}return a(e,[{key:"kt",value:function(e,t,n,r){var i=this,a=new yp("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Kd,{unique:!0}),e.createObjectStore("documentMutations")}(e),qv(e),function(e){e.createObjectStore("remoteDocuments")}(e));var o=vp.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),qv(e)),o=o.next((function(){return function(e){var t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:dl.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(a)}))),n<4&&r>=4&&(0!==n&&(o=o.next((function(){return function(e,t){return t.store("mutations").qt().next((function(n){e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Kd,{unique:!0});var r=t.store("mutations"),i=n.map((function(e){return r.put(e)}));return vp.waitFor(i)}))}(e,a)}))),o=o.next((function(){!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)}))),n<5&&r>=5&&(o=o.next((function(){return i.Qn(a)}))),n<6&&r>=6&&(o=o.next((function(){return function(e){e.createObjectStore("remoteDocumentGlobal")}(e),i.jn(a)}))),n<7&&r>=7&&(o=o.next((function(){return i.Wn(a)}))),n<8&&r>=8&&(o=o.next((function(){return i.zn(e,a)}))),n<9&&r>=9&&(o=o.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)}))),n<10&&r>=10&&(o=o.next((function(){return i.Hn(a)}))),n<11&&r>=11&&(o=o.next((function(){!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)}))),n<12&&r>=12&&(o=o.next((function(){!function(e){var t=e.createObjectStore("documentOverlays",{keyPath:op});t.createIndex("collectionPathOverlayIndex",up,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",sp,{unique:!1})}(e)}))),n<13&&r>=13&&(o=o.next((function(){return function(e){var t=e.createObjectStore("remoteDocumentsV14",{keyPath:$d});t.createIndex("documentKeyIndex",Yd),t.createIndex("collectionGroupIndex",Xd)}(e)})).next((function(){return i.Jn(e,a)})).next((function(){return e.deleteObjectStore("remoteDocuments")}))),n<14&&r>=14&&(o=o.next((function(){!function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:np}).createIndex("sequenceNumberIndex",rp,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:ip}).createIndex("documentKeyIndex",ap,{unique:!1})}(e)}))),o}},{key:"jn",value:function(e){var t=0;return e.store("remoteDocuments").Wt((function(e,n){t+=vv(n)})).next((function(){var n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}},{key:"Qn",value:function(e){var t=this,n=e.store("mutationQueues"),r=e.store("mutations");return n.qt().next((function(n){return vp.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.qt("userMutationsIndex",i).next((function(r){return vp.forEach(r,(function(r){Wc(r.userId===n.userId);var i=Mp(t.M,r);return pv(e,n.userId,i).next((function(){}))}))}))}))}))}},{key:"Wn",value:function(e){var t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((function(e){var r=[];return n.Wt((function(n,i){var a=new gl(n),o=function(e){return[0,Bd(e)]}(a);r.push(t.get(o).next((function(n){return n?vp.resolve():function(n){return t.put({targetId:0,path:Bd(n),sequenceNumber:e.highestListenSequenceNumber})}(a)})))})).next((function(){return vp.waitFor(r)}))}))}},{key:"zn",value:function(e,t){e.createObjectStore("collectionParents",{keyPath:tp});var n=t.store("collectionParents"),r=new av,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:Bd(i)})}};return t.store("remoteDocuments").Wt({jt:!0},(function(e,t){var n=new gl(e);return i(n.popLast())})).next((function(){return t.store("documentMutations").Wt({jt:!0},(function(e,t){var n=Le(e,3),r=(n[0],n[1]),a=(n[2],Gd(r));return i(a.popLast())}))}))}},{key:"Hn",value:function(e){var t=this,n=e.store("targets");return n.Wt((function(e,r){var i=Fp(r),a=Up(t.M,i);return n.put(a)}))}},{key:"Jn",value:function(e,t){var n=t.store("remoteDocuments"),r=[];return n.Wt((function(e,n){var i,a=t.store("remoteDocumentsV14"),o=(i=n,i.document?new Ll(gl.fromString(i.document.name).popFirst(5)):i.noDocument?Ll.fromSegments(i.noDocument.path):i.unknownDocument?Ll.fromSegments(i.unknownDocument.path):Hc()).path.toArray(),u={prefixPath:o.slice(0,o.length-2),collectionGroup:o[o.length-2],documentId:o[o.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(a.put(u))})).next((function(){return vp.waitFor(r)}))}}]),e}();function qv(e){e.createObjectStore("targetDocuments",{keyPath:Zd}).createIndex("documentTargetsIndex",ep,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Jd,{unique:!0}),e.createObjectStore("targetGlobal")}var Gv="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Kv=function(){function e(t,n,i,a,o,u,s,c,l,f){var h=arguments.length>10&&void 0!==arguments[10]?arguments[10]:13;if(r(this,e),this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=i,this.Yn=o,this.window=u,this.document=s,this.Xn=l,this.Zn=f,this.ts=h,this.es=null,this.ns=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ss=null,this.inForeground=!1,this.rs=null,this.os=null,this.us=Number.NEGATIVE_INFINITY,this.cs=function(e){return Promise.resolve()},!e.vt())throw new Yc($c.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Pv(this,a),this.hs=n+"main",this.M=new Op(c),this.ls=new mp(this.hs,this.ts,new zv(this.M)),this.fs=new xv(this.referenceDelegate,this.M),this.ds=function(e){return new Lv(e)}(this.M),this._s=new zp,this.window&&this.window.localStorage?this.ws=this.window.localStorage:(this.ws=null,!1===f&&qc("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return a(e,[{key:"start",value:function(){var e=this;return this.gs().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new Yc($c.FAILED_PRECONDITION,Gv);return e.ys(),e.ps(),e.Is(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.fs.getHighestSequenceNumber(t)}))})).then((function(t){e.es=new ol(t,e.Xn)})).then((function(){e.ns=!0})).catch((function(t){return e.ls&&e.ls.close(),Promise.reject(t)}))}},{key:"Ts",value:function(e){var t=this;return this.cs=function(){var n=yr(gr().mark((function n(r){return gr().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.started){n.next=2;break}return n.abrupt("return",e(r));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),e(this.isPrimary)}},{key:"setDatabaseDeletedListener",value:function(e){this.ls.Ot(function(){var t=yr(gr().mark((function t(n){return gr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=null===n.newVersion,!t.t0){t.next=4;break}return t.next=4,e();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"setNetworkEnabled",value:function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Yn.enqueueAndForget(yr(gr().mark((function e(){return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.started,!e.t0){e.next=4;break}return e.next=4,t.gs();case 4:case"end":return e.stop()}}),e)})))))}},{key:"gs",value:function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return Wv(t).put({clientId:e.clientId,updateTimeMs:Date.now(),networkEnabled:e.networkEnabled,inForeground:e.inForeground}).next((function(){if(e.isPrimary)return e.Es(t).next((function(t){t||(e.isPrimary=!1,e.Yn.enqueueRetryable((function(){return e.cs(!1)})))}))})).next((function(){return e.As(t)})).next((function(n){return e.isPrimary&&!n?e.Rs(t).next((function(){return!1})):!!n&&e.bs(t).next((function(){return!0}))}))})).catch((function(t){if(bp(t))return zc("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return zc("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.Yn.enqueueRetryable((function(){return e.cs(t)})),e.isPrimary=t}))}},{key:"Es",value:function(e){var t=this;return Hv(e).get("owner").next((function(e){return vp.resolve(t.Ps(e))}))}},{key:"Vs",value:function(e){return Wv(e).delete(this.clientId)}},{key:"vs",value:function(){var e=yr(gr().mark((function e(){var t,n,r,i,a=this;return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isPrimary||this.Ss(this.us,18e5)){e.next=6;break}return this.us=Date.now(),e.next=4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=Ip(e,"clientMetadata");return t.qt().next((function(e){var n=a.Ds(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return vp.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}));case 4:if(t=e.sent,this.ws){n=kr(t);try{for(n.s();!(r=n.n()).done;)i=r.value,this.ws.removeItem(this.Cs(i.clientId))}catch(o){n.e(o)}finally{n.f()}}case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Is",value:function(){var e=this;this.os=this.Yn.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.gs().then((function(){return e.vs()})).then((function(){return e.Is()}))}))}},{key:"Ps",value:function(e){return!!e&&e.ownerId===this.clientId}},{key:"As",value:function(e){var t=this;return this.Zn?vp.resolve(!0):Hv(e).get("owner").next((function(n){if(null!==n&&t.Ss(n.leaseTimestampMs,5e3)&&!t.xs(n.ownerId)){if(t.Ps(n)&&t.networkEnabled)return!0;if(!t.Ps(n)){if(!n.allowTabSynchronization)throw new Yc($c.FAILED_PRECONDITION,Gv);return!1}}return!(!t.networkEnabled||!t.inForeground)||Wv(e).qt().next((function(e){return void 0===t.Ds(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&zc("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e}))}},{key:"shutdown",value:function(){var e=yr(gr().mark((function e(){var t=this;return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.ns=!1,this.Ns(),this.os&&(this.os.cancel(),this.os=null),this.ks(),this.Ms(),e.next=7,this.ls.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(function(e){var n=new Ep(e,ol.A);return t.Rs(n).next((function(){return t.Vs(n)}))}));case 7:this.ls.close(),this.Os();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Ds",value:function(e,t){var n=this;return e.filter((function(e){return n.Ss(e.updateTimeMs,t)&&!n.xs(e.clientId)}))}},{key:"Fs",value:function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return Wv(t).qt().next((function(t){return e.Ds(t,18e5).map((function(e){return e.clientId}))}))}))}},{key:"started",get:function(){return this.ns}},{key:"getMutationQueue",value:function(e,t){return yv.Yt(e,this.M,t,this.referenceDelegate)}},{key:"getTargetCache",value:function(){return this.fs}},{key:"getRemoteDocumentCache",value:function(){return this.ds}},{key:"getIndexManager",value:function(e){return new uv(e,this.M.Jt.databaseId)}},{key:"getDocumentOverlayCache",value:function(e){return Kp.Yt(this.M,e)}},{key:"getBundleCache",value:function(){return this._s}},{key:"runTransaction",value:function(e,t,n){var r=this;zc("IndexedDbPersistence","Starting transaction:",e);var i,a,o="readonly"===t?"readonly":"readwrite",u=14===(i=this.ts)?hp:13===i?fp:12===i?lp:11===i?cp:void Hc();return this.ls.runTransaction(e,o,u,(function(i){return a=new Ep(i,r.es?r.es.next():ol.A),"readwrite-primary"===t?r.Es(a).next((function(e){return!!e||r.As(a)})).next((function(t){if(!t)throw qc("Failed to obtain primary lease for action '".concat(e,"'.")),r.isPrimary=!1,r.Yn.enqueueRetryable((function(){return r.cs(!1)})),new Yc($c.FAILED_PRECONDITION,dp);return n(a)})).next((function(e){return r.bs(a).next((function(){return e}))})):r.$s(a).next((function(){return n(a)}))})).then((function(e){return a.raiseOnCommittedEvent(),e}))}},{key:"$s",value:function(e){var t=this;return Hv(e).get("owner").next((function(e){if(null!==e&&t.Ss(e.leaseTimestampMs,5e3)&&!t.xs(e.ownerId)&&!t.Ps(e)&&!(t.Zn||t.allowTabSynchronization&&e.allowTabSynchronization))throw new Yc($c.FAILED_PRECONDITION,Gv)}))}},{key:"bs",value:function(e){var t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Hv(e).put("owner",t)}},{key:"Rs",value:function(e){var t=this,n=Hv(e);return n.get("owner").next((function(e){return t.Ps(e)?(zc("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):vp.resolve()}))}},{key:"Ss",value:function(e,t){var n=Date.now();return!(e<n-t)&&(!(e>n)||(qc("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}},{key:"ys",value:function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.rs=function(){e.Yn.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.gs()}))},this.document.addEventListener("visibilitychange",this.rs),this.inForeground="visible"===this.document.visibilityState)}},{key:"ks",value:function(){this.rs&&(this.document.removeEventListener("visibilitychange",this.rs),this.rs=null)}},{key:"ps",value:function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ss=function(){t.Ns(),!Pr()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")&&navigator.appVersion.match(/Version\/1[45]/)&&t.Yn.enterRestrictedMode(!0),t.Yn.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("pagehide",this.ss))}},{key:"Ms",value:function(){this.ss&&(this.window.removeEventListener("pagehide",this.ss),this.ss=null)}},{key:"xs",value:function(e){var t;try{var n=null!==(null===(t=this.ws)||void 0===t?void 0:t.getItem(this.Cs(e)));return zc("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return qc("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}},{key:"Ns",value:function(){if(this.ws)try{this.ws.setItem(this.Cs(this.clientId),String(Date.now()))}catch(Fa){qc("Failed to set zombie client id.",Fa)}}},{key:"Os",value:function(){if(this.ws)try{this.ws.removeItem(this.Cs(this.clientId))}catch(Fa){}}},{key:"Cs",value:function(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}],[{key:"vt",value:function(){return mp.vt()}}]),e}();function Hv(e){return Ip(e,"owner")}function Wv(e){return Ip(e,"clientMetadata")}function Qv(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var $v=function(){function e(t,n,i){r(this,e),this.ds=t,this.Bs=n,this.indexManager=i}return a(e,[{key:"Ls",value:function(e,t){var n=this;return this.Bs.getAllMutationBatchesAffectingDocumentKey(e,t).next((function(r){return n.Us(e,t,r)}))}},{key:"Us",value:function(e,t,n){return this.ds.getEntry(e,t).next((function(e){var t,r=kr(n);try{for(r.s();!(t=r.n()).done;){t.value.applyToLocalView(e)}}catch(i){r.e(i)}finally{r.f()}return e}))}},{key:"qs",value:function(e,t){e.forEach((function(e,n){var r,i=kr(t);try{for(i.s();!(r=i.n()).done;){r.value.applyToLocalView(n)}}catch(a){i.e(a)}finally{i.f()}}))}},{key:"Ks",value:function(e,t){var n=this;return this.ds.getEntries(e,t).next((function(t){return n.Gs(e,t).next((function(){return t}))}))}},{key:"Gs",value:function(e,t){var n=this;return this.Bs.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){return n.qs(t,e)}))}},{key:"Qs",value:function(e,t,n){return function(e){return Ll.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.js(e,t.path):$f(t)?this.Ws(e,t,n):this.zs(e,t,n)}},{key:"js",value:function(e,t){return this.Ls(e,new Ll(t)).next((function(e){var t=Wh();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"Ws",value:function(e,t,n){var r=this,i=t.collectionGroup,a=Wh();return this.indexManager.getCollectionParents(e,i).next((function(o){return vp.forEach(o,(function(o){var u=function(e,t){return new Gf(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return r.zs(e,u,n).next((function(e){e.forEach((function(e,t){a=a.insert(e,t)}))}))})).next((function(){return a}))}))}},{key:"zs",value:function(e,t,n){var r,i=this;return this.ds.getAllFromCollection(e,t.path,n).next((function(n){return r=n,i.Bs.getAllMutationBatchesAffectingQuery(e,t)})).next((function(e){var t,n=kr(e);try{for(n.s();!(t=n.n()).done;){var i,a=t.value,o=kr(a.mutations);try{for(o.s();!(i=o.n()).done;){var u=i.value,s=u.key,c=r.get(s);null==c&&(c=of.newInvalidDocument(s),r=r.insert(s,c)),Th(u,c,a.localWriteTime),c.isFoundDocument()||(r=r.remove(s))}}catch(l){o.e(l)}finally{o.f()}}}catch(l){n.e(l)}finally{n.f()}})).next((function(){return r.forEach((function(e,n){nh(t,n)||(r=r.remove(e))})),r}))}}]),e}(),Yv=function(){function e(t,n,i,a){r(this,e),this.targetId=t,this.fromCache=n,this.Hs=i,this.Js=a}return a(e,null,[{key:"Ys",value:function(t,n){var r,i=Xh(),a=Xh(),o=kr(n.docChanges);try{for(o.s();!(r=o.n()).done;){var u=r.value;switch(u.type){case 0:i=i.add(u.doc.key);break;case 1:a=a.add(u.doc.key)}}}catch(s){o.e(s)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),Xv=function(){function e(){r(this,e),this.Xs=!1}return a(e,[{key:"initialize",value:function(e,t){this.Zs=e,this.indexManager=t,this.Xs=!0}},{key:"Qs",value:function(e,t,n,r){var i=this;return this.ti(e,t).next((function(a){return a||i.ei(e,t,r,n)})).next((function(n){return n||i.ni(e,t)}))}},{key:"ti",value:function(e,t){return vp.resolve(null)}},{key:"ei",value:function(e,t,n,r){var i=this;return function(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}(t)||r.isEqual(dl.min())?this.ni(e,t):this.Zs.Ks(e,n).next((function(a){var o=i.si(t,a);return i.ii(t,o,n,r)?i.ni(e,t):(Bc()<=ti.DEBUG&&zc("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),th(t)),i.ri(e,o,t,hf(r,-1)))}))}},{key:"si",value:function(e,t){var n=new kf(ih(e));return t.forEach((function(t,r){nh(e,r)&&(n=n.add(r))})),n}},{key:"ii",value:function(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;var i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"ni",value:function(e,t){return Bc()<=ti.DEBUG&&zc("QueryEngine","Using full collection scan to execute query:",th(t)),this.Zs.Qs(e,t,pf.min())}},{key:"ri",value:function(e,t,n,r){return this.Zs.Qs(e,n,r).next((function(e){return t.forEach((function(t){e=e.insert(t.key,t)})),e}))}}]),e}(),Jv=function(){function e(t,n,i,a){r(this,e),this.persistence=t,this.oi=n,this.M=a,this.ui=new yf(cl),this.ai=new qh((function(e){return _f(e)}),Ef),this.ci=new Map,this.hi=t.getRemoteDocumentCache(),this.fs=t.getTargetCache(),this._s=t.getBundleCache(),this.li(i)}return a(e,[{key:"li",value:function(e){this.indexManager=this.persistence.getIndexManager(e),this.Bs=this.persistence.getMutationQueue(e,this.indexManager),this.fi=new $v(this.hi,this.Bs,this.indexManager),this.hi.setIndexManager(this.indexManager),this.oi.initialize(this.fi,this.indexManager)}},{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.ui)}))}}]),e}();function Zv(e,t,n,r){return new Jv(e,t,n,r)}function ey(e,t){return ty.apply(this,arguments)}function ty(){return ty=yr(gr().mark((function e(t,n){var r;return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Qc(t),e.next=3,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.Bs.getAllMutationBatches(e).next((function(i){return t=i,r.li(n),r.Bs.getAllMutationBatches(e)})).next((function(n){var i,a=[],o=[],u=Xh(),s=kr(t);try{for(s.s();!(i=s.n()).done;){var c=i.value;a.push(c.batchId);var l,f=kr(c.mutations);try{for(f.s();!(l=f.n()).done;){var h=l.value;u=u.add(h.key)}}catch(k){f.e(k)}finally{f.f()}}}catch(k){s.e(k)}finally{s.f()}var d,p=kr(n);try{for(p.s();!(d=p.n()).done;){var v=d.value;o.push(v.batchId);var y,m=kr(v.mutations);try{for(m.s();!(y=m.n()).done;){var g=y.value;u=u.add(g.key)}}catch(k){m.e(k)}finally{m.f()}}}catch(k){p.e(k)}finally{p.f()}return r.fi.Ks(e,u).next((function(e){return{di:e,removedBatchIds:a,addedBatchIds:o}}))}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),ty.apply(this,arguments)}function ny(e,t){var n=Qc(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.hi.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=vp.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);Wc(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((function(){return e.Bs.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.Bs.performConsistencyCheck(e)})).next((function(){return n.fi.Ks(e,r)}))}))}function ry(e){var t=Qc(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.fs.getLastRemoteSnapshotVersion(e)}))}function iy(e,t){var n=Qc(e),r=t.snapshotVersion,i=n.ui;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.hi.newChangeBuffer({trackRemovals:!0});i=n.ui;var o=[];t.targetChanges.forEach((function(a,u){var s=i.get(u);if(s){o.push(n.fs.removeMatchingKeys(e,a.removedDocuments,u).next((function(){return n.fs.addMatchingKeys(e,a.addedDocuments,u)})));var c=s.withSequenceNumber(e.currentSequenceNumber);t.targetMismatches.has(u)?c=c.withResumeToken(xl.EMPTY_BYTE_STRING,dl.min()).withLastLimboFreeSnapshotVersion(dl.min()):a.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(a.resumeToken,r)),i=i.insert(u,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(s,c,a)&&o.push(n.fs.updateTargetData(e,c))}}));var u=Kh();if(t.documentUpdates.forEach((function(r){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(ay(e,a,t.documentUpdates).next((function(e){u=e}))),!r.isEqual(dl.min())){var s=n.fs.getLastRemoteSnapshotVersion(e).next((function(t){return n.fs.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(s)}return vp.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.fi.Gs(e,u)})).next((function(){return u}))})).then((function(e){return n.ui=i,e}))}function ay(e,t,n){var r=Xh();return n.forEach((function(e){return r=r.add(e)})),t.getEntries(e,r).next((function(e){var r=Kh();return n.forEach((function(n,i){var a=e.get(n);i.isNoDocument()&&i.version.isEqual(dl.min())?(t.removeEntry(n,i.readTime),r=r.insert(n,i)):!a.isValidDocument()||i.version.compareTo(a.version)>0||0===i.version.compareTo(a.version)&&a.hasPendingWrites?(t.addEntry(i),r=r.insert(n,i)):zc("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",i.version)})),r}))}function oy(e,t){var n=Qc(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.Bs.getNextMutationBatchAfterBatchId(e,t)}))}function uy(e,t){var n=Qc(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.fs.getTargetData(e,t).next((function(i){return i?(r=i,vp.resolve(r)):n.fs.allocateTargetId(e).next((function(i){return r=new Ap(t,i,0,e.currentSequenceNumber),n.fs.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.ui.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.ui=n.ui.insert(e.targetId,e),n.ai.set(t,e.targetId)),e}))}function sy(e,t,n){return cy.apply(this,arguments)}function cy(){return cy=yr(gr().mark((function e(t,n,r){var i,a,o;return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=Qc(t),a=i.ui.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),bp(e.t1)){e.next=12;break}throw e.t1;case 12:zc("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.ui=i.ui.remove(n),i.ai.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),cy.apply(this,arguments)}function ly(e,t,n){var r=Qc(e),i=dl.min(),a=Xh();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=Qc(e),i=r.ai.get(n);return void 0!==i?vp.resolve(r.ui.get(i)):r.fs.getTargetData(t,n)}(r,e,Xf(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.fs.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.oi.Qs(e,t,n?i:dl.min(),n?a:Xh())})).next((function(e){return dy(r,rh(t),e),{documents:e,_i:a}}))}))}function fy(e,t){var n=Qc(e),r=Qc(n.fs),i=n.ui.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.Et(e,t).next((function(e){return e?e.target:null}))}))}function hy(e,t){var n=Qc(e),r=n.ci.get(t)||dl.min();return n.persistence.runTransaction("Get new document changes","readonly",(function(e){return n.hi.getAllFromCollectionGroup(e,t,hf(r,-1),Number.MAX_SAFE_INTEGER)})).then((function(e){return dy(n,t,e),e}))}function dy(e,t,n){var r=dl.min();n.forEach((function(e,t){t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.ci.set(t,r)}function py(e,t,n,r){return vy.apply(this,arguments)}function vy(){return vy=yr(gr().mark((function e(t,n,r,i){var a,o,u,s,c,l,f,h,d,p;return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=Qc(t),o=Xh(),u=Kh(),s=kr(r);try{for(s.s();!(c=s.n()).done;)l=c.value,f=n.wi(l.metadata.name),l.document&&(o=o.add(f)),(h=n.mi(l)).setReadTime(n.gi(l.metadata.readTime)),u=u.insert(f,h)}catch(v){s.e(v)}finally{s.f()}return d=a.hi.newChangeBuffer({trackRemovals:!0}),e.next=7,uy(a,function(e){return Xf(Hf(gl.fromString("__bundle__/docs/".concat(e))))}(i));case 7:return p=e.sent,e.abrupt("return",a.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return ay(e,d,u).next((function(t){return d.apply(e),t})).next((function(t){return a.fs.removeMatchingKeysForTargetId(e,p.targetId).next((function(){return a.fs.addMatchingKeys(e,o,p.targetId)})).next((function(){return a.fi.Gs(e,t)})).next((function(){return t}))}))})));case 9:case"end":return e.stop()}}),e)}))),vy.apply(this,arguments)}function yy(e,t){return my.apply(this,arguments)}function my(){return my=yr(gr().mark((function e(t,n){var r,i,a,o=arguments;return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]?o[2]:Xh(),e.next=3,uy(t,Xf(jp(n.bundledQuery)));case 3:return i=e.sent,a=Qc(t),e.abrupt("return",a.persistence.runTransaction("Save named query","readwrite",(function(e){var t=vd(n.readTime);if(i.snapshotVersion.compareTo(t)>=0)return a._s.saveNamedQuery(e,n);var o=i.withResumeToken(xl.EMPTY_BYTE_STRING,t);return a.ui=a.ui.insert(o.targetId,o),a.fs.updateTargetData(e,o).next((function(){return a.fs.removeMatchingKeysForTargetId(e,i.targetId)})).next((function(){return a.fs.addMatchingKeys(e,r,i.targetId)})).next((function(){return a._s.saveNamedQuery(e,n)}))})));case 6:case"end":return e.stop()}}),e)}))),my.apply(this,arguments)}var gy=function(){function e(t){r(this,e),this.M=t,this.yi=new Map,this.pi=new Map}return a(e,[{key:"getBundleMetadata",value:function(e,t){return vp.resolve(this.yi.get(t))}},{key:"saveBundleMetadata",value:function(e,t){var n;return this.yi.set(t.id,{id:(n=t).id,version:n.version,createTime:vd(n.createTime)}),vp.resolve()}},{key:"getNamedQuery",value:function(e,t){return vp.resolve(this.pi.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.pi.set(t.name,function(e){return{name:e.name,query:jp(e.bundledQuery),readTime:vd(e.readTime)}}(t)),vp.resolve()}}]),e}(),ky=function(){function e(){r(this,e),this.overlays=new yf(Ll.comparator),this.Ii=new Map}return a(e,[{key:"getOverlay",value:function(e,t){return vp.resolve(this.overlays.get(t))}},{key:"saveOverlays",value:function(e,t,n){var r=this;return n.forEach((function(n,i){r.Xt(e,t,i)})),vp.resolve()}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=this.Ii.get(n);return void 0!==i&&(i.forEach((function(e){return r.overlays=r.overlays.remove(e)})),this.Ii.delete(n)),vp.resolve()}},{key:"getOverlaysForCollection",value:function(e,t,n){for(var r=Qh(),i=t.length+1,a=new Ll(t.child("")),o=this.overlays.getIteratorFrom(a);o.hasNext();){var u=o.getNext().value,s=u.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&u.largestBatchId>n&&r.set(u.getKey(),u)}return vp.resolve(r)}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){for(var i=new yf((function(e,t){return e-t})),a=this.overlays.getIterator();a.hasNext();){var o=a.getNext().value;if(o.getKey().getCollectionGroup()===t&&o.largestBatchId>n){var u=i.get(o.largestBatchId);null===u&&(u=Qh(),i=i.insert(o.largestBatchId,u)),u.set(o.getKey(),o)}}for(var s=Qh(),c=i.getIterator();c.hasNext()&&(c.getNext().value.forEach((function(e,t){return s.set(e,t)})),!(s.size()>=r)););return vp.resolve(s)}},{key:"Xt",value:function(e,t,n){if(null!==n){var r=this.overlays.get(n.key);if(null!==r){var i=this.Ii.get(r.largestBatchId).delete(n.key);this.Ii.set(r.largestBatchId,i)}this.overlays=this.overlays.insert(n.key,new Np(t,n));var a=this.Ii.get(t);void 0===a&&(a=Xh(),this.Ii.set(t,a)),this.Ii.set(t,a.add(n.key))}}}]),e}(),by=function(){function e(){r(this,e),this.Ti=new kf(wy.Ei),this.Ai=new kf(wy.Ri)}return a(e,[{key:"isEmpty",value:function(){return this.Ti.isEmpty()}},{key:"addReference",value:function(e,t){var n=new wy(e,t);this.Ti=this.Ti.add(n),this.Ai=this.Ai.add(n)}},{key:"bi",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.Pi(new wy(e,t))}},{key:"Vi",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"vi",value:function(e){var t=this,n=new Ll(new gl([])),r=new wy(n,e),i=new wy(n,e+1),a=[];return this.Ai.forEachInRange([r,i],(function(e){t.Pi(e),a.push(e.key)})),a}},{key:"Si",value:function(){var e=this;this.Ti.forEach((function(t){return e.Pi(t)}))}},{key:"Pi",value:function(e){this.Ti=this.Ti.delete(e),this.Ai=this.Ai.delete(e)}},{key:"Di",value:function(e){var t=new Ll(new gl([])),n=new wy(t,e),r=new wy(t,e+1),i=Xh();return this.Ai.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new wy(e,0),n=this.Ti.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),wy=function(){function e(t,n){r(this,e),this.key=t,this.Ci=n}return a(e,null,[{key:"Ei",value:function(e,t){return Ll.comparator(e.key,t.key)||cl(e.Ci,t.Ci)}},{key:"Ri",value:function(e,t){return cl(e.Ci,t.Ci)||Ll.comparator(e.key,t.key)}}]),e}(),xy=function(){function e(t,n){r(this,e),this.indexManager=t,this.referenceDelegate=n,this.Bs=[],this.xi=1,this.Ni=new kf(wy.Ei)}return a(e,[{key:"checkEmpty",value:function(e){return vp.resolve(0===this.Bs.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.xi;this.xi++,this.Bs.length>0&&this.Bs[this.Bs.length-1];var a=new Tp(i,t,n,r);this.Bs.push(a);var o,u=kr(r);try{for(u.s();!(o=u.n()).done;){var s=o.value;this.Ni=this.Ni.add(new wy(s.key,i)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast())}}catch(c){u.e(c)}finally{u.f()}return vp.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return vp.resolve(this.ki(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.Mi(n),i=r<0?0:r;return vp.resolve(this.Bs.length>i?this.Bs[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return vp.resolve(0===this.Bs.length?-1:this.xi-1)}},{key:"getAllMutationBatches",value:function(e){return vp.resolve(this.Bs.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new wy(t,0),i=new wy(t,Number.POSITIVE_INFINITY),a=[];return this.Ni.forEachInRange([r,i],(function(e){var t=n.ki(e.Ci);a.push(t)})),vp.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new kf(cl);return t.forEach((function(e){var t=new wy(e,0),i=new wy(e,Number.POSITIVE_INFINITY);n.Ni.forEachInRange([t,i],(function(e){r=r.add(e.Ci)}))})),vp.resolve(this.Oi(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;Ll.isDocumentKey(i)||(i=i.child(""));var a=new wy(new Ll(i),0),o=new kf(cl);return this.Ni.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.Ci)),!0)}),a),vp.resolve(this.Oi(o))}},{key:"Oi",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t.ki(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;Wc(0===this.Fi(t.batchId,"removed")),this.Bs.shift();var r=this.Ni;return vp.forEach(t.mutations,(function(i){var a=new wy(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.Ni=r}))}},{key:"_n",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new wy(t,0),r=this.Ni.firstAfterOrEqual(n);return vp.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.Bs.length,vp.resolve()}},{key:"Fi",value:function(e,t){return this.Mi(e)}},{key:"Mi",value:function(e){return 0===this.Bs.length?0:e-this.Bs[0].batchId}},{key:"ki",value:function(e){var t=this.Mi(e);return t<0||t>=this.Bs.length?null:this.Bs[t]}}]),e}(),Sy=function(){function e(t){r(this,e),this.$i=t,this.docs=new yf(Ll.comparator),this.size=0}return a(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t){var n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.$i(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return vp.resolve(n?n.document.mutableCopy():of.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=Kh();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():of.newInvalidDocument(e))})),vp.resolve(r)}},{key:"getAllFromCollection",value:function(e,t,n){for(var r=Kh(),i=new Ll(t.child("")),a=this.docs.getIteratorFrom(i);a.hasNext();){var o=a.getNext(),u=o.key,s=o.value.document;if(!t.isPrefixOf(u.path))break;u.path.length>t.length+1||vf(df(s),n)<=0||(r=r.insert(s.key,s.mutableCopy()))}return vp.resolve(r)}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){Hc()}},{key:"Bi",value:function(e,t){return vp.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new _y(this)}},{key:"getSize",value:function(e){return vp.resolve(this.size)}}]),e}(),_y=function(e){u(n,e);var t=d(n);function n(e){var i;return r(this,n),(i=t.call(this)).Kn=e,i}return a(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.isValidDocument()?n.push(t.Kn.addEntry(e,i)):t.Kn.removeEntry(r)})),vp.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.Kn.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.Kn.getEntries(e,t)}}]),n}(Dv),Ey=function(){function e(t){r(this,e),this.persistence=t,this.Li=new qh((function(e){return _f(e)}),Ef),this.lastRemoteSnapshotVersion=dl.min(),this.highestTargetId=0,this.Ui=0,this.qi=new by,this.targetCount=0,this.Ki=wv.gn()}return a(e,[{key:"forEachTarget",value:function(e,t){return this.Li.forEach((function(e,n){return t(n)})),vp.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return vp.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return vp.resolve(this.Ui)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.Ki.next(),vp.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Ui&&(this.Ui=t),vp.resolve()}},{key:"Tn",value:function(e){this.Li.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.Ki=new wv(t),this.highestTargetId=t),e.sequenceNumber>this.Ui&&(this.Ui=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.Tn(t),this.targetCount+=1,vp.resolve()}},{key:"updateTargetData",value:function(e,t){return this.Tn(t),vp.resolve()}},{key:"removeTargetData",value:function(e,t){return this.Li.delete(t.target),this.qi.vi(t.targetId),this.targetCount-=1,vp.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.Li.forEach((function(o,u){u.sequenceNumber<=t&&null===n.get(u.targetId)&&(r.Li.delete(o),a.push(r.removeMatchingKeysForTargetId(e,u.targetId)),i++)})),vp.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return vp.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.Li.get(t)||null;return vp.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.qi.bi(t,n),vp.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.qi.Vi(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),vp.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.qi.vi(t),vp.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.qi.Di(t);return vp.resolve(n)}},{key:"containsKey",value:function(e,t){return vp.resolve(this.qi.containsKey(t))}}]),e}(),Iy=function(){function e(t,n){var i=this;r(this,e),this.Gi={},this.overlays={},this.es=new ol(0),this.ns=!1,this.ns=!0,this.referenceDelegate=t(this),this.fs=new Ey(this),this.indexManager=new iv,this.ds=new Sy((function(e){return i.referenceDelegate.Qi(e)})),this.M=new Op(n),this._s=new gy(this.M)}return a(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.ns=!1,Promise.resolve()}},{key:"started",get:function(){return this.ns}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(e){return this.indexManager}},{key:"getDocumentOverlayCache",value:function(e){var t=this.overlays[e.toKey()];return t||(t=new ky,this.overlays[e.toKey()]=t),t}},{key:"getMutationQueue",value:function(e,t){var n=this.Gi[e.toKey()];return n||(n=new xy(t,this.referenceDelegate),this.Gi[e.toKey()]=n),n}},{key:"getTargetCache",value:function(){return this.fs}},{key:"getRemoteDocumentCache",value:function(){return this.ds}},{key:"getBundleCache",value:function(){return this._s}},{key:"runTransaction",value:function(e,t,n){var r=this;zc("MemoryPersistence","Starting transaction:",e);var i=new Ty(this.es.next());return this.referenceDelegate.ji(),n(i).next((function(e){return r.referenceDelegate.Wi(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"zi",value:function(e,t){return vp.or(Object.values(this.Gi).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),Ty=function(e){u(n,e);var t=d(n);function n(e){var i;return r(this,n),(i=t.call(this)).currentSequenceNumber=e,i}return a(n)}(pp),Cy=function(){function e(t){r(this,e),this.persistence=t,this.Hi=new by,this.Ji=null}return a(e,[{key:"Xi",get:function(){if(this.Ji)return this.Ji;throw Hc()}},{key:"addReference",value:function(e,t,n){return this.Hi.addReference(n,t),this.Xi.delete(n.toString()),vp.resolve()}},{key:"removeReference",value:function(e,t,n){return this.Hi.removeReference(n,t),this.Xi.add(n.toString()),vp.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.Xi.add(t.toString()),vp.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.Hi.vi(t.targetId).forEach((function(e){return n.Xi.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.Xi.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"ji",value:function(){this.Ji=new Set}},{key:"Wi",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return vp.forEach(this.Xi,(function(r){var i=Ll.fromPath(r);return t.Zi(e,i).next((function(e){e||n.removeEntry(i,dl.min())}))})).next((function(){return t.Ji=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.Zi(e,t).next((function(e){e?n.Xi.delete(t.toString()):n.Xi.add(t.toString())}))}},{key:"Qi",value:function(e){return 0}},{key:"Zi",value:function(e,t){var n=this;return vp.or([function(){return vp.resolve(n.Hi.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.zi(e,t)}])}}],[{key:"Yi",value:function(t){return new e(t)}}]),e}();function Ny(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function Ay(e,t,n){var r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function Oy(e,t){return"firestore_targets_".concat(e,"_").concat(t)}var Py=function(){function e(t,n,i,a){r(this,e),this.user=t,this.batchId=n,this.state=i,this.error=a}return a(e,[{key:"er",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"tr",value:function(t,n,r){var i,a=JSON.parse(r),o="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return o&&a.error&&((o="string"==typeof a.error.message&&"string"==typeof a.error.code)&&(i=new Yc(a.error.code,a.error.message))),o?new e(t,n,a.state,i):(qc("SharedClientState","Failed to parse mutation state for ID '".concat(n,"': ").concat(r)),null)}}]),e}(),Ry=function(){function e(t,n,i){r(this,e),this.targetId=t,this.state=n,this.error=i}return a(e,[{key:"er",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"tr",value:function(t,n){var r,i=JSON.parse(n),a="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return a&&i.error&&((a="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new Yc(i.error.code,i.error.message))),a?new e(t,i.state,r):(qc("SharedClientState","Failed to parse target state for ID '".concat(t,"': ").concat(n)),null)}}]),e}(),Dy=function(){function e(t,n){r(this,e),this.clientId=t,this.activeTargetIds=n}return a(e,null,[{key:"tr",value:function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,a=Zh(),o=0;i&&o<r.activeTargetIds.length;++o)i=Dl(r.activeTargetIds[o]),a=a.add(r.activeTargetIds[o]);return i?new e(t,a):(qc("SharedClientState","Failed to parse client data for instance '".concat(t,"': ").concat(n)),null)}}]),e}(),Ly=function(){function e(t,n){r(this,e),this.clientId=t,this.onlineState=n}return a(e,null,[{key:"tr",value:function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(qc("SharedClientState","Failed to parse online state: ".concat(t)),null)}}]),e}(),My=function(){function e(){r(this,e),this.activeTargetIds=Zh()}return a(e,[{key:"nr",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"sr",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"er",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),Fy=function(){function e(t,n,i,a,o){r(this,e),this.window=t,this.Yn=n,this.persistenceKey=i,this.ir=a,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.rr=this.ur.bind(this),this.ar=new yf(cl),this.started=!1,this.cr=[];var u=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=o,this.hr=Ny(this.persistenceKey,this.ir),this.lr=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.ar=this.ar.insert(this.ir,new My),this.dr=new RegExp("^firestore_clients_".concat(u,"_([^_]*)$")),this._r=new RegExp("^firestore_mutations_".concat(u,"_(\\d+)(?:_(.*))?$")),this.wr=new RegExp("^firestore_targets_".concat(u,"_(\\d+)$")),this.mr=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.gr=function(e){return"firestore_bundle_loaded_v2_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this.rr)}return a(e,[{key:"start",value:function(){var e=yr(gr().mark((function e(){var t,n,r,i,a,o,u,s,c,l,f,h=this;return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.syncEngine.Fs();case 2:t=e.sent,n=kr(t),e.prev=4,n.s();case 6:if((r=n.n()).done){e.next=14;break}if((i=r.value)!==this.ir){e.next=10;break}return e.abrupt("continue",12);case 10:(a=this.getItem(Ny(this.persistenceKey,i)))&&(o=Dy.tr(i,a))&&(this.ar=this.ar.insert(o.clientId,o));case 12:e.next=6;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),n.e(e.t0);case 19:return e.prev=19,n.f(),e.finish(19);case 22:this.yr(),(u=this.storage.getItem(this.mr))&&(s=this.pr(u))&&this.Ir(s),c=kr(this.cr);try{for(c.s();!(l=c.n()).done;)f=l.value,this.ur(f)}catch(d){c.e(d)}finally{c.f()}this.cr=[],this.window.addEventListener("pagehide",(function(){return h.shutdown()})),this.started=!0;case 28:case"end":return e.stop()}}),e,this,[[4,16,19,22]])})));return function(){return e.apply(this,arguments)}}()},{key:"writeSequenceNumber",value:function(e){this.setItem(this.lr,JSON.stringify(e))}},{key:"getAllActiveQueryTargets",value:function(){return this.Tr(this.ar)}},{key:"isActiveQueryTarget",value:function(e){var t=!1;return this.ar.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t}},{key:"addPendingMutation",value:function(e){this.Er(e,"pending")}},{key:"updateMutationState",value:function(e,t,n){this.Er(e,t,n),this.Ar(e)}},{key:"addLocalQueryTarget",value:function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(Oy(this.persistenceKey,e));if(n){var r=Ry.tr(e,n);r&&(t=r.state)}}return this.Rr.nr(e),this.yr(),t}},{key:"removeLocalQueryTarget",value:function(e){this.Rr.sr(e),this.yr()}},{key:"isLocalQueryTarget",value:function(e){return this.Rr.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){this.removeItem(Oy(this.persistenceKey,e))}},{key:"updateQueryState",value:function(e,t,n){this.br(e,t,n)}},{key:"handleUserChange",value:function(e,t,n){var r=this;t.forEach((function(e){r.Ar(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))}},{key:"setOnlineState",value:function(e){this.Pr(e)}},{key:"notifyBundleLoaded",value:function(e){this.Vr(e)}},{key:"shutdown",value:function(){this.started&&(this.window.removeEventListener("storage",this.rr),this.removeItem(this.hr),this.started=!1)}},{key:"getItem",value:function(e){var t=this.storage.getItem(e);return zc("SharedClientState","READ",e,t),t}},{key:"setItem",value:function(e,t){zc("SharedClientState","SET",e,t),this.storage.setItem(e,t)}},{key:"removeItem",value:function(e){zc("SharedClientState","REMOVE",e),this.storage.removeItem(e)}},{key:"ur",value:function(e){var t=this,n=e;if(n.storageArea===this.storage){if(zc("SharedClientState","EVENT",n.key,n.newValue),n.key===this.hr)return void qc("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Yn.enqueueRetryable(yr(gr().mark((function e(){var r,i,a,o,u,s,c;return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.started){e.next=43;break}if(null===n.key){e.next=41;break}if(!t.dr.test(n.key)){e.next=11;break}if(null!=n.newValue){e.next=6;break}return r=t.vr(n.key),e.abrupt("return",t.Sr(r,null));case 6:if(!(i=t.Dr(n.key,n.newValue))){e.next=9;break}return e.abrupt("return",t.Sr(i.clientId,i));case 9:e.next=41;break;case 11:if(!t._r.test(n.key)){e.next=18;break}if(null===n.newValue){e.next=16;break}if(!(a=t.Cr(n.key,n.newValue))){e.next=16;break}return e.abrupt("return",t.Nr(a));case 16:e.next=41;break;case 18:if(!t.wr.test(n.key)){e.next=25;break}if(null===n.newValue){e.next=23;break}if(!(o=t.kr(n.key,n.newValue))){e.next=23;break}return e.abrupt("return",t.Mr(o));case 23:e.next=41;break;case 25:if(n.key!==t.mr){e.next=32;break}if(null===n.newValue){e.next=30;break}if(!(u=t.pr(n.newValue))){e.next=30;break}return e.abrupt("return",t.Ir(u));case 30:e.next=41;break;case 32:if(n.key!==t.lr){e.next=37;break}s=function(e){var t=ol.A;if(null!=e)try{var n=JSON.parse(e);Wc("number"==typeof n),t=n}catch(e){qc("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue),s!==ol.A&&t.sequenceNumberHandler(s),e.next=41;break;case 37:if(n.key!==t.gr){e.next=41;break}return c=t.Or(n.newValue),e.next=41,Promise.all(c.map((function(e){return t.syncEngine.Fr(e)})));case 41:e.next=44;break;case 43:t.cr.push(n);case 44:case"end":return e.stop()}}),e)}))))}}},{key:"Rr",get:function(){return this.ar.get(this.ir)}},{key:"yr",value:function(){this.setItem(this.hr,this.Rr.er())}},{key:"Er",value:function(e,t,n){var r=new Py(this.currentUser,e,t,n),i=Ay(this.persistenceKey,this.currentUser,e);this.setItem(i,r.er())}},{key:"Ar",value:function(e){var t=Ay(this.persistenceKey,this.currentUser,e);this.removeItem(t)}},{key:"Pr",value:function(e){var t={clientId:this.ir,onlineState:e};this.storage.setItem(this.mr,JSON.stringify(t))}},{key:"br",value:function(e,t,n){var r=Oy(this.persistenceKey,e),i=new Ry(e,t,n);this.setItem(r,i.er())}},{key:"Vr",value:function(e){var t=JSON.stringify(Array.from(e));this.setItem(this.gr,t)}},{key:"vr",value:function(e){var t=this.dr.exec(e);return t?t[1]:null}},{key:"Dr",value:function(e,t){var n=this.vr(e);return Dy.tr(n,t)}},{key:"Cr",value:function(e,t){var n=this._r.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return Py.tr(new Uc(i),r,t)}},{key:"kr",value:function(e,t){var n=this.wr.exec(e),r=Number(n[1]);return Ry.tr(r,t)}},{key:"pr",value:function(e){return Ly.tr(e)}},{key:"Or",value:function(e){return JSON.parse(e)}},{key:"Nr",value:function(){var e=yr(gr().mark((function e(t){return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.user.uid!==this.currentUser.uid){e.next=2;break}return e.abrupt("return",this.syncEngine.$r(t.batchId,t.state,t.error));case 2:zc("SharedClientState","Ignoring mutation for non-active user ".concat(t.user.uid));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Mr",value:function(e){return this.syncEngine.Br(e.targetId,e.state,e.error)}},{key:"Sr",value:function(e,t){var n=this,r=t?this.ar.insert(e,t):this.ar.remove(e),i=this.Tr(this.ar),a=this.Tr(r),o=[],u=[];return a.forEach((function(e){i.has(e)||o.push(e)})),i.forEach((function(e){a.has(e)||u.push(e)})),this.syncEngine.Lr(o,u).then((function(){n.ar=r}))}},{key:"Ir",value:function(e){this.ar.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}},{key:"Tr",value:function(e){var t=Zh();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t}}],[{key:"vt",value:function(e){return!(!e||!e.localStorage)}}]),e}(),Uy=function(){function e(){r(this,e),this.Ur=new My,this.qr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return a(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.Ur.nr(e),this.qr[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.qr[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.Ur.sr(e)}},{key:"isLocalQueryTarget",value:function(e){return this.Ur.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.qr[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.Ur.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.Ur.activeTargetIds.has(e)}},{key:"start",value:function(){return this.Ur=new My,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(e){}}]),e}(),jy=function(){function e(){r(this,e)}return a(e,[{key:"Kr",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),Vy=function(){function e(){var t=this;r(this,e),this.Gr=function(){return t.Qr()},this.jr=function(){return t.Wr()},this.zr=[],this.Hr()}return a(e,[{key:"Kr",value:function(e){this.zr.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.Gr),window.removeEventListener("offline",this.jr)}},{key:"Hr",value:function(){window.addEventListener("online",this.Gr),window.addEventListener("offline",this.jr)}},{key:"Qr",value:function(){zc("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=kr(this.zr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"Wr",value:function(){zc("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=kr(this.zr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"vt",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),By={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},zy=function(){function e(t){r(this,e),this.Jr=t.Jr,this.Yr=t.Yr}return a(e,[{key:"Xr",value:function(e){this.Zr=e}},{key:"eo",value:function(e){this.no=e}},{key:"onMessage",value:function(e){this.so=e}},{key:"close",value:function(){this.Yr()}},{key:"send",value:function(e){this.Jr(e)}},{key:"io",value:function(){this.Zr()}},{key:"ro",value:function(e){this.no(e)}},{key:"oo",value:function(e){this.so(e)}}]),e}(),qy=function(e){u(n,e);var t=d(n);function n(e){var i;return r(this,n),(i=t.call(this,e)).forceLongPolling=e.forceLongPolling,i.autoDetectLongPolling=e.autoDetectLongPolling,i.useFetchStreams=e.useFetchStreams,i}return a(n,[{key:"fo",value:function(e,t,n,r){return new Promise((function(i,a){var o=new Mc;o.listenOnce(Oc.COMPLETE,(function(){try{switch(o.getLastErrorCode()){case Ac.NO_ERROR:var t=o.getResponseJson();zc("Connection","XHR received:",JSON.stringify(t)),i(t);break;case Ac.TIMEOUT:zc("Connection",'RPC "'+e+'" timed out'),a(new Yc($c.DEADLINE_EXCEEDED,"Request time out"));break;case Ac.HTTP_ERROR:var n=o.getStatus();if(zc("Connection",'RPC "'+e+'" failed with status:',n,"response text:",o.getResponseText()),n>0){var r=o.getResponseJson().error;if(r&&r.status&&r.message){var u=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values($c).indexOf(t)>=0?t:$c.UNKNOWN}(r.status);a(new Yc(u,r.message))}else a(new Yc($c.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new Yc($c.UNAVAILABLE,"Connection failed."));break;default:Hc()}}finally{zc("Connection",'RPC "'+e+'" completed.')}}));var u=JSON.stringify(r);o.send(t,"POST",u,n,15)}))}},{key:"wo",value:function(e,t,n){var r=[this.uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=Cc(),a=Nc(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new Dc({})),this.lo(o.initMessageHeaders,t,n),Or()||Dr()||Ar().indexOf("Electron/")>=0||Lr()||Ar().indexOf("MSAppHost/")>=0||Rr()||(o.httpHeadersOverwriteParam="$httpHeaders");var u=r.join("");zc("Connection","Creating WebChannel: "+u,o);var s=i.createWebChannel(u,o),c=!1,l=!1,f=new zy({Jr:function(e){l?zc("Connection","Not sending because WebChannel is closed:",e):(c||(zc("Connection","Opening WebChannel transport."),s.open(),c=!0),zc("Connection","WebChannel sending:",e),s.send(e))},Yr:function(){return s.close()}}),h=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return h(s,Lc.EventType.OPEN,(function(){l||zc("Connection","WebChannel transport opened.")})),h(s,Lc.EventType.CLOSE,(function(){l||(l=!0,zc("Connection","WebChannel transport closed"),f.ro())})),h(s,Lc.EventType.ERROR,(function(e){l||(l=!0,Gc("Connection","WebChannel transport errored:",e),f.ro(new Yc($c.UNAVAILABLE,"The operation could not be completed")))})),h(s,Lc.EventType.MESSAGE,(function(e){var t;if(!l){var n=e.data[0];Wc(!!n);var r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){zc("Connection","WebChannel received error:",i);var a=i.status,o=function(e){var t=Mh[e];if(void 0!==t)return zh(t)}(a),u=i.message;void 0===o&&(o=$c.INTERNAL,u="Unknown error status: "+a+" with message "+i.message),l=!0,f.ro(new Yc(o,u)),s.close()}else zc("Connection","WebChannel received:",n),f.oo(n)}})),h(a,Pc.STAT_EVENT,(function(e){e.stat===Rc.PROXY?zc("Connection","Detected buffering proxy"):e.stat===Rc.NOPROXY&&zc("Connection","Detected no buffering proxy")})),setTimeout((function(){f.io()}),0),f}}]),n}(function(){function e(t){r(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.uo=n+"://"+t.host,this.ao="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return a(e,[{key:"co",value:function(e,t,n,r,i){var a=this.ho(e,t);zc("RestConnection","Sending: ",a,n);var o={};return this.lo(o,r,i),this.fo(e,a,o,n).then((function(e){return zc("RestConnection","Received: ",e),e}),(function(t){throw Gc("RestConnection","".concat(e," failed with error: "),t,"url: ",a,"request:",n),t}))}},{key:"_o",value:function(e,t,n,r,i){return this.co(e,t,n,r,i)}},{key:"lo",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+jc,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"ho",value:function(e,t){var n=By[e];return"".concat(this.uo,"/v1/").concat(t,":").concat(n)}}]),e}());function Gy(){return"undefined"!=typeof window?window:null}function Ky(){return"undefined"!=typeof document?document:null}function Hy(e){return new fd(e,!0)}var Wy=function(){function e(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;r(this,e),this.Yn=t,this.timerId=n,this.mo=i,this.yo=a,this.po=o,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}return a(e,[{key:"reset",value:function(){this.Io=0}},{key:"Ao",value:function(){this.Io=this.po}},{key:"Ro",value:function(e){var t=this;this.cancel();var n=Math.floor(this.Io+this.bo()),r=Math.max(0,Date.now()-this.Eo),i=Math.max(0,n-r);i>0&&zc("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.Io," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.To=this.Yn.enqueueAfterDelay(this.timerId,i,(function(){return t.Eo=Date.now(),e()})),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}},{key:"Po",value:function(){null!==this.To&&(this.To.skipDelay(),this.To=null)}},{key:"cancel",value:function(){null!==this.To&&(this.To.cancel(),this.To=null)}},{key:"bo",value:function(){return(Math.random()-.5)*this.Io}}]),e}(),Qy=function(){function e(t,n,i,a,o,u,s,c){r(this,e),this.Yn=t,this.Vo=i,this.vo=a,this.So=o,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=s,this.listener=c,this.state=0,this.Do=0,this.Co=null,this.xo=null,this.stream=null,this.No=new Wy(t,n)}return a(e,[{key:"ko",value:function(){return 1===this.state||5===this.state||this.Mo()}},{key:"Mo",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.Oo()}},{key:"stop",value:function(){var e=yr(gr().mark((function e(){return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.ko(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Fo",value:function(){this.state=0,this.No.reset()}},{key:"$o",value:function(){var e=this;this.Mo()&&null===this.Co&&(this.Co=this.Yn.enqueueAfterDelay(this.Vo,6e4,(function(){return e.Bo()})))}},{key:"Lo",value:function(e){this.Uo(),this.stream.send(e)}},{key:"Bo",value:function(){var e=yr(gr().mark((function e(){return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.Mo()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Uo",value:function(){this.Co&&(this.Co.cancel(),this.Co=null)}},{key:"qo",value:function(){this.xo&&(this.xo.cancel(),this.xo=null)}},{key:"close",value:function(){var e=yr(gr().mark((function e(t,n){return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Uo(),this.qo(),this.No.cancel(),this.Do++,4!==t?this.No.reset():n&&n.code===$c.RESOURCE_EXHAUSTED?(qc(n.toString()),qc("Using maximum backoff delay to prevent overloading the backend."),this.No.Ao()):n&&n.code===$c.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Ko(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.eo(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"Ko",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.Go(this.Do),n=this.Do;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=Le(t,2),i=r[0],a=r[1];e.Do===n&&e.Qo(i,a)}),(function(n){t((function(){var t=new Yc($c.UNKNOWN,"Fetching auth token failed: "+n.message);return e.jo(t)}))}))}},{key:"Qo",value:function(e,t){var n=this,r=this.Go(this.Do);this.stream=this.Wo(e,t),this.stream.Xr((function(){r((function(){return n.state=2,n.xo=n.Yn.enqueueAfterDelay(n.vo,1e4,(function(){return n.Mo()&&(n.state=3),Promise.resolve()})),n.listener.Xr()}))})),this.stream.eo((function(e){r((function(){return n.jo(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"Oo",value:function(){var e=this;this.state=5,this.No.Ro(yr(gr().mark((function t(){return gr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"jo",value:function(e){return zc("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"Go",value:function(e){var t=this;return function(n){t.Yn.enqueueAndForget((function(){return t.Do===e?n():(zc("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),$y=function(e){u(n,e);var t=d(n);function n(e,i,a,o,u,s){var c;return r(this,n),(c=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,o,s)).M=u,c}return a(n,[{key:"Wo",value:function(e,t){return this.So.wo("Listen",e,t)}},{key:"onMessage",value:function(e){this.No.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Hc()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.N?(Wc(void 0===t||"string"==typeof t),xl.fromBase64String(t||"")):(Wc(void 0===t||t instanceof Uint8Array),xl.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,u=o&&function(e){var t=void 0===e.code?$c.UNKNOWN:zh(e.code);return new Yc(t,e.message||"")}(o);n=new id(r,i,a,u||null)}else if("documentChange"in t){t.documentChange;var s=t.documentChange;s.document,s.document.name,s.document.updateTime;var c=kd(e,s.document.name),l=vd(s.document.updateTime),f=new rf({mapValue:{fields:s.document.fields}}),h=of.newFoundDocument(c,l,f),d=s.targetIds||[],p=s.removedTargetIds||[];n=new nd(d,p,h.key,h)}else if("documentDelete"in t){t.documentDelete;var v=t.documentDelete;v.document;var y=kd(e,v.document),m=v.readTime?vd(v.readTime):dl.min(),g=of.newNoDocument(y,m),k=v.removedTargetIds||[];n=new nd([],k,g.key,g)}else if("documentRemove"in t){t.documentRemove;var b=t.documentRemove;b.document;var w=kd(e,b.document),x=b.removedTargetIds||[];n=new nd([],x,w,null)}else{if(!("filter"in t))return Hc();t.filter;var S=t.filter;S.targetId;var _=S.count||0,E=new Vh(_),I=S.targetId;n=new rd(I,E)}return n}(this.M,e),n=function(e){if(!("targetChange"in e))return dl.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?dl.min():t.readTime?vd(t.readTime):dl.min()}(e);return this.listener.zo(t,n)}},{key:"Ho",value:function(e){var t={};t.database=xd(this.M),t.addTarget=function(e,t){var n,r=t.target;return(n=If(r)?{documents:Nd(e,r)}:{query:Ad(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=dd(e,t.resumeToken):t.snapshotVersion.compareTo(dl.min())>0&&(n.readTime=hd(e,t.snapshotVersion.toTimestamp())),n}(this.M,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Hc()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.M,e);n&&(t.labels=n),this.Lo(t)}},{key:"Jo",value:function(e){var t={};t.database=xd(this.M),t.removeTarget=e,this.Lo(t)}}]),n}(Qy),Yy=function(e){u(n,e);var t=d(n);function n(e,i,a,o,u,s){var c;return r(this,n),(c=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,o,s)).M=u,c.Yo=!1,c}return a(n,[{key:"Xo",get:function(){return this.Yo}},{key:"start",value:function(){this.Yo=!1,this.lastStreamToken=void 0,xa(s(n.prototype),"start",this).call(this)}},{key:"Ko",value:function(){this.Yo&&this.Zo([])}},{key:"Wo",value:function(e,t){return this.So.wo("Write",e,t)}},{key:"onMessage",value:function(e){if(Wc(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Yo){this.No.reset();var t=function(e,t){return e&&e.length>0?(Wc(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?vd(e.updateTime):vd(t);return n.isEqual(dl.min())&&(n=vd(t)),new xh(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=vd(e.commitTime);return this.listener.tu(n,t)}return Wc(!e.writeResults||0===e.writeResults.length),this.Yo=!0,this.listener.eu()}},{key:"nu",value:function(){var e={};e.database=xd(this.M),this.Lo(e)}},{key:"Zo",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return Td(t.M,e)}))};this.Lo(n)}}]),n}(Qy),Xy=function(e){u(n,e);var t=d(n);function n(e,i,a,o){var u;return r(this,n),(u=t.call(this)).authCredentials=e,u.appCheckCredentials=i,u.So=a,u.M=o,u.su=!1,u}return a(n,[{key:"iu",value:function(){if(this.su)throw new Yc($c.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"co",value:function(e,t,n){var r=this;return this.iu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=Le(i,2),o=a[0],u=a[1];return r.So.co(e,t,n,o,u)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===$c.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new Yc($c.UNKNOWN,e.toString())}))}},{key:"_o",value:function(e,t,n){var r=this;return this.iu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=Le(i,2),o=a[0],u=a[1];return r.So._o(e,t,n,o,u)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===$c.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new Yc($c.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.su=!0}}]),n}(function(){return a((function e(){r(this,e)}))}()),Jy=function(){function e(t,n){r(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.ru=0,this.ou=null,this.uu=!0}return a(e,[{key:"au",value:function(){var e=this;0===this.ru&&(this.cu("Unknown"),this.ou=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.ou=null,e.hu("Backend didn't respond within 10 seconds."),e.cu("Offline"),Promise.resolve()})))}},{key:"lu",value:function(e){"Online"===this.state?this.cu("Unknown"):(this.ru++,this.ru>=1&&(this.fu(),this.hu("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.cu("Offline")))}},{key:"set",value:function(e){this.fu(),this.ru=0,"Online"===e&&(this.uu=!1),this.cu(e)}},{key:"cu",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"hu",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.uu?(qc(t),this.uu=!1):zc("OnlineStateTracker",t)}},{key:"fu",value:function(){null!==this.ou&&(this.ou.cancel(),this.ou=null)}}]),e}(),Zy=a((function e(t,n,i,a,o){var u=this;r(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.du=[],this._u=new Map,this.wu=new Set,this.mu=[],this.gu=o,this.gu.Kr((function(e){i.enqueueAndForget(yr(gr().mark((function e(){return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=lm(u),!e.t0){e.next=5;break}return zc("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=yr(gr().mark((function e(t){var n;return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=Qc(t)).wu.add(4),e.next=4,nm(n);case 4:return n.yu.set("Unknown"),n.wu.delete(4),e.next=8,em(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(u);case 5:case"end":return e.stop()}}),e)}))))})),this.yu=new Jy(i,a)}));function em(e){return tm.apply(this,arguments)}function tm(){return tm=yr(gr().mark((function e(t){var n,r,i;return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!lm(t)){e.next=18;break}n=kr(t.mu),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])}))),tm.apply(this,arguments)}function nm(e){return rm.apply(this,arguments)}function rm(){return rm=yr(gr().mark((function e(t){var n,r,i;return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=kr(t.mu),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])}))),rm.apply(this,arguments)}function im(e,t){var n=Qc(e);n._u.has(t.targetId)||(n._u.set(t.targetId,t),cm(n)?sm(n):jm(n).Mo()&&om(n,t))}function am(e,t){var n=Qc(e),r=jm(n);n._u.delete(t),r.Mo()&&um(n,t),0===n._u.size&&(r.Mo()?r.$o():lm(n)&&n.yu.set("Unknown"))}function om(e,t){e.pu.Z(t.targetId),jm(e).Ho(t)}function um(e,t){e.pu.Z(t),jm(e).Jo(t)}function sm(e){e.pu=new od({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},Et:function(t){return e._u.get(t)||null}}),jm(e).start(),e.yu.au()}function cm(e){return lm(e)&&!jm(e).ko()&&e._u.size>0}function lm(e){return 0===Qc(e).wu.size}function fm(e){e.pu=void 0}function hm(e){return dm.apply(this,arguments)}function dm(){return dm=yr(gr().mark((function e(t){return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t._u.forEach((function(e,n){om(t,e)}));case 1:case"end":return e.stop()}}),e)}))),dm.apply(this,arguments)}function pm(e,t){return vm.apply(this,arguments)}function vm(){return vm=yr(gr().mark((function e(t,n){return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:fm(t),cm(t)?(t.yu.lu(n),sm(t)):t.yu.set("Unknown");case 1:case"end":return e.stop()}}),e)}))),vm.apply(this,arguments)}function ym(e,t,n){return mm.apply(this,arguments)}function mm(){return mm=yr(gr().mark((function e(t,n,r){var i;return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.yu.set("Online"),!(n instanceof id&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=yr(gr().mark((function e(t,n){var r,i,a,o;return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=kr(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(o=a.value,e.t0=t._u.has(o),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(o,r);case 10:t._u.delete(o),t.pu.removeTarget(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),zc("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,gm(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof nd?t.pu.ut(n):n instanceof rd?t.pu._t(n):t.pu.ht(n),r.isEqual(dl.min())){e.next=29;break}return e.prev=14,e.next=17,ry(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.pu.yt(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e._u.get(r);i&&e._u.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e._u.get(t);if(n){e._u.set(t,n.withResumeToken(xl.EMPTY_BYTE_STRING,n.snapshotVersion)),um(e,t);var r=new Ap(n.target,t,1,n.sequenceNumber);om(e,r)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),zc("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,gm(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),mm.apply(this,arguments)}function gm(e,t,n){return km.apply(this,arguments)}function km(){return km=yr(gr().mark((function e(t,n,r){return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(bp(n)){e.next=2;break}throw n;case 2:return t.wu.add(1),e.next=5,nm(t);case 5:t.yu.set("Offline"),r||(r=function(){return ry(t.localStore)}),t.asyncQueue.enqueueRetryable(yr(gr().mark((function e(){return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return zc("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t.wu.delete(1),e.next=6,em(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)}))),km.apply(this,arguments)}function bm(e,t){return t().catch((function(n){return gm(e,n,t)}))}function wm(e){return xm.apply(this,arguments)}function xm(){return xm=yr(gr().mark((function e(t){var n,r,i,a;return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Qc(t),r=Vm(n),i=n.du.length>0?n.du[n.du.length-1].batchId:-1;case 2:if(!Sm(n)){e.next=19;break}return e.prev=3,e.next=6,oy(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n.du.length&&r.$o(),e.abrupt("break",19);case 10:i=a.batchId,_m(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,gm(n,e.t0);case 17:e.next=2;break;case 19:Em(n)&&Im(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])}))),xm.apply(this,arguments)}function Sm(e){return lm(e)&&e.du.length<10}function _m(e,t){e.du.push(t);var n=Vm(e);n.Mo()&&n.Xo&&n.Zo(t.mutations)}function Em(e){return lm(e)&&!Vm(e).ko()&&e.du.length>0}function Im(e){Vm(e).start()}function Tm(e){return Cm.apply(this,arguments)}function Cm(){return Cm=yr(gr().mark((function e(t){return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Vm(t).nu();case 1:case"end":return e.stop()}}),e)}))),Cm.apply(this,arguments)}function Nm(e){return Am.apply(this,arguments)}function Am(){return Am=yr(gr().mark((function e(t){var n,r,i,a;return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Vm(t),r=kr(t.du);try{for(r.s();!(i=r.n()).done;)a=i.value,n.Zo(a.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}}),e)}))),Am.apply(this,arguments)}function Om(e,t,n){return Pm.apply(this,arguments)}function Pm(){return Pm=yr(gr().mark((function e(t,n,r){var i,a;return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.du.shift(),a=Cp.from(i,n,r),e.next=3,bm(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,wm(t);case 5:case"end":return e.stop()}}),e)}))),Pm.apply(this,arguments)}function Rm(e,t){return Dm.apply(this,arguments)}function Dm(){return Dm=yr(gr().mark((function e(t,n){return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&Vm(t).Xo,!e.t0){e.next=4;break}return e.next=4,function(){var e=yr(gr().mark((function e(t,n){var r,i;return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Bh(i=n.code)||i===$c.ABORTED){e.next=7;break}return r=t.du.shift(),Vm(t).Fo(),e.next=5,bm(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,wm(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:Em(t)&&Im(t);case 5:case"end":return e.stop()}}),e)}))),Dm.apply(this,arguments)}function Lm(e,t){return Mm.apply(this,arguments)}function Mm(){return Mm=yr(gr().mark((function e(t,n){var r,i;return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=Qc(t)).asyncQueue.verifyOperationInProgress(),zc("RemoteStore","RemoteStore received new credentials"),i=lm(r),r.wu.add(3),e.next=6,nm(r);case 6:return i&&r.yu.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r.wu.delete(3),e.next=12,em(r);case 12:case"end":return e.stop()}}),e)}))),Mm.apply(this,arguments)}function Fm(e,t){return Um.apply(this,arguments)}function Um(){return Um=yr(gr().mark((function e(t,n){var r;return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Qc(t),!n){e.next=7;break}return r.wu.delete(2),e.next=5,em(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r.wu.add(2),e.next=12,nm(r);case 12:r.yu.set("Unknown");case 13:case"end":return e.stop()}}),e)}))),Um.apply(this,arguments)}function jm(e){return e.Iu||(e.Iu=function(e,t,n){var r=Qc(e);return r.iu(),new $y(t,r.So,r.authCredentials,r.appCheckCredentials,r.M,n)}(e.datastore,e.asyncQueue,{Xr:hm.bind(null,e),eo:pm.bind(null,e),zo:ym.bind(null,e)}),e.mu.push(function(){var t=yr(gr().mark((function t(n){return gr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.Iu.Fo(),cm(e)?sm(e):e.yu.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.Iu.stop();case 6:fm(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Iu}function Vm(e){return e.Tu||(e.Tu=function(e,t,n){var r=Qc(e);return r.iu(),new Yy(t,r.So,r.authCredentials,r.appCheckCredentials,r.M,n)}(e.datastore,e.asyncQueue,{Xr:Tm.bind(null,e),eo:Rm.bind(null,e),eu:Nm.bind(null,e),tu:Om.bind(null,e)}),e.mu.push(function(){var t=yr(gr().mark((function t(n){return gr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.Tu.Fo(),t.next=4,wm(e);case 4:t.next=9;break;case 6:return t.next=8,e.Tu.stop();case 8:e.du.length>0&&(zc("RemoteStore","Stopping write stream with ".concat(e.du.length," pending writes")),e.du=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Tu}var Bm=function(){function e(t,n,i,a,o){r(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=i,this.op=a,this.removalCallback=o,this.deferred=new Xc,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return a(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Yc($c.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function zm(e,t){if(qc("AsyncQueue","".concat(t,": ").concat(e)),bp(e))return new Yc($c.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var qm=function(){function e(t){r(this,e),this.comparator=t?function(e,n){return t(e,n)||Ll.comparator(e.key,n.key)}:function(e,t){return Ll.comparator(e.key,t.key)},this.keyedMap=Wh(),this.sortedSet=new yf(this.comparator)}return a(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),Gm=function(){function e(){r(this,e),this.Eu=new yf(Ll.comparator)}return a(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.Eu.get(t);n?0!==e.type&&3===n.type?this.Eu=this.Eu.insert(t,e):3===e.type&&1!==n.type?this.Eu=this.Eu.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Eu=this.Eu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Eu=this.Eu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Eu=this.Eu.remove(t):1===e.type&&2===n.type?this.Eu=this.Eu.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Eu=this.Eu.insert(t,{type:2,doc:e.doc}):Hc():this.Eu=this.Eu.insert(t,e)}},{key:"Au",value:function(){var e=[];return this.Eu.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),Km=function(){function e(t,n,i,a,o,u,s,c){r(this,e),this.query=t,this.docs=n,this.oldDocs=i,this.docChanges=a,this.mutatedKeys=o,this.fromCache=u,this.syncStateChanged=s,this.excludesMetadataChanges=c}return a(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Zf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i){var a=[];return n.forEach((function(e){a.push({type:0,doc:e})})),new e(t,n,qm.emptySet(n),a,r,i,!0,!1)}}]),e}(),Hm=a((function e(){r(this,e),this.Ru=void 0,this.listeners=[]})),Wm=a((function e(){r(this,e),this.queries=new qh((function(e){return eh(e)}),Zf),this.onlineState="Unknown",this.bu=new Set}));function Qm(e,t){return $m.apply(this,arguments)}function $m(){return $m=yr(gr().mark((function e(t,n){var r,i,a,o,u;return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Qc(t),i=n.query,a=!1,(o=r.queries.get(i))||(a=!0,o=new Hm),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:o.Ru=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),u=zm(e.t0,"Initialization of query '".concat(th(n.query),"' failed")),e.abrupt("return",void n.onError(u));case 13:r.queries.set(i,o),o.listeners.push(n),n.Pu(r.onlineState),o.Ru&&n.Vu(o.Ru)&&eg(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])}))),$m.apply(this,arguments)}function Ym(e,t){return Xm.apply(this,arguments)}function Xm(){return Xm=yr(gr().mark((function e(t,n){var r,i,a,o,u;return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Qc(t),i=n.query,a=!1,(o=r.queries.get(i))&&(u=o.listeners.indexOf(n))>=0&&(o.listeners.splice(u,1),a=0===o.listeners.length),!a){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)}))),Xm.apply(this,arguments)}function Jm(e,t){var n,r=Qc(e),i=!1,a=kr(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,u=o.query,s=r.queries.get(u);if(s){var c,l=kr(s.listeners);try{for(l.s();!(c=l.n()).done;){c.value.Vu(o)&&(i=!0)}}catch(f){l.e(f)}finally{l.f()}s.Ru=o}}}catch(f){a.e(f)}finally{a.f()}i&&eg(r)}function Zm(e,t,n){var r=Qc(e),i=r.queries.get(t);if(i){var a,o=kr(i.listeners);try{for(o.s();!(a=o.n()).done;){a.value.onError(n)}}catch(u){o.e(u)}finally{o.f()}}r.queries.delete(t)}function eg(e){e.bu.forEach((function(e){e.next()}))}var tg=function(){function e(t,n,i){r(this,e),this.query=t,this.vu=n,this.Su=!1,this.Du=null,this.onlineState="Unknown",this.options=i||{}}return a(e,[{key:"Vu",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=kr(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new Km(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var a=!1;return this.Su?this.Cu(e)&&(this.vu.next(e),a=!0):this.xu(e,this.onlineState)&&(this.Nu(e),a=!0),this.Du=e,a}},{key:"onError",value:function(e){this.vu.error(e)}},{key:"Pu",value:function(e){this.onlineState=e;var t=!1;return this.Du&&!this.Su&&this.xu(this.Du,e)&&(this.Nu(this.Du),t=!0),t}},{key:"xu",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.ku||!n)&&(!e.docs.isEmpty()||"Offline"===t)}},{key:"Cu",value:function(e){if(e.docChanges.length>0)return!0;var t=this.Du&&this.Du.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"Nu",value:function(e){e=Km.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.Su=!0,this.vu.next(e)}}]),e}(),ng=function(){function e(t,n){r(this,e),this.payload=t,this.byteLength=n}return a(e,[{key:"Mu",value:function(){return"metadata"in this.payload}}]),e}(),rg=function(){function e(t){r(this,e),this.M=t}return a(e,[{key:"wi",value:function(e){return kd(this.M,e)}},{key:"mi",value:function(e){return e.metadata.exists?Ed(this.M,e.document,!1):of.newNoDocument(this.wi(e.metadata.name),this.gi(e.metadata.readTime))}},{key:"gi",value:function(e){return vd(e)}}]),e}(),ig=function(){function e(t,n,i){r(this,e),this.Ou=t,this.localStore=n,this.M=i,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=ag(t)}return a(e,[{key:"Fu",value:function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;var n=gl.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}},{key:"$u",value:function(e){var t,n=new Map,r=new rg(this.M),i=kr(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;if(a.metadata.queries){var o,u=r.wi(a.metadata.name),s=kr(a.metadata.queries);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=(n.get(c)||Xh()).add(u);n.set(c,l)}}catch(f){s.e(f)}finally{s.f()}}}}catch(f){i.e(f)}finally{i.f()}return n}},{key:"complete",value:function(){var e=yr(gr().mark((function e(){var t,n,r,i,a;return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,py(this.localStore,new rg(this.M),this.documents,this.Ou.id);case 2:t=e.sent,n=this.$u(this.documents),r=kr(this.queries),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=13;break}return a=i.value,e.next=11,yy(this.localStore,a,n.get(a.name));case 11:e.next=7;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:return e.abrupt("return",(this.progress.taskState="Success",{progress:this.progress,Bu:this.collectionGroups,Lu:t}));case 22:case"end":return e.stop()}}),e,this,[[5,15,18,21]])})));return function(){return e.apply(this,arguments)}}()}]),e}();function ag(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var og=a((function e(t){r(this,e),this.key=t})),ug=a((function e(t){r(this,e),this.key=t})),sg=function(){function e(t,n){r(this,e),this.query=t,this.Uu=n,this.qu=null,this.current=!1,this.Ku=Xh(),this.mutatedKeys=Xh(),this.Gu=ih(t),this.Qu=new qm(this.Gu)}return a(e,[{key:"ju",get:function(){return this.Uu}},{key:"Wu",value:function(e,t){var n=this,r=t?t.zu:new Gm,i=t?t.Qu:this.Qu,a=t?t.mutatedKeys:this.mutatedKeys,o=i,u=!1,s="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),f=nh(n.query,t)?t:null,h=!!l&&n.mutatedKeys.has(l.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),p=!0):n.Hu(l,f)||(r.track({type:2,doc:f}),p=!0,(s&&n.Gu(f,s)>0||c&&n.Gu(f,c)<0)&&(u=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(s||c)&&(u=!0)),p&&(f?(o=o.add(f),a=d?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),null!==this.query.limit)for(;o.size>this.query.limit;){var l="F"===this.query.limitType?o.last():o.first();o=o.delete(l.key),a=a.delete(l.key),r.track({type:1,doc:l})}return{Qu:o,zu:r,ii:u,mutatedKeys:a}}},{key:"Hu",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;var a=e.zu.Au();a.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Hc()}};return n(e)-n(t)}(e.type,t.type)||r.Gu(e.doc,t.doc)})),this.Ju(n);var o=t?this.Yu():[],u=0===this.Ku.size&&this.current?1:0,s=u!==this.qu;return this.qu=u,0!==a.length||s?{snapshot:new Km(this.query,e.Qu,i,a,e.mutatedKeys,0===u,s,!1),Xu:o}:{Xu:o}}},{key:"Pu",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new Gm,mutatedKeys:this.mutatedKeys,ii:!1},!1)):{Xu:[]}}},{key:"Zu",value:function(e){return!this.Uu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}},{key:"Ju",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.Uu=t.Uu.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.Uu=t.Uu.delete(e)})),this.current=e.current)}},{key:"Yu",value:function(){var e=this;if(!this.current)return[];var t=this.Ku;this.Ku=Xh(),this.Qu.forEach((function(t){e.Zu(t.key)&&(e.Ku=e.Ku.add(t.key))}));var n=[];return t.forEach((function(t){e.Ku.has(t)||n.push(new ug(t))})),this.Ku.forEach((function(e){t.has(e)||n.push(new og(e))})),n}},{key:"ta",value:function(e){this.Uu=e._i,this.Ku=Xh();var t=this.Wu(e.documents);return this.applyChanges(t,!0)}},{key:"ea",value:function(){return Km.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.qu)}}]),e}(),cg=a((function e(t,n,i){r(this,e),this.query=t,this.targetId=n,this.view=i})),lg=a((function e(t){r(this,e),this.key=t,this.na=!1})),fg=function(){function e(t,n,i,a,o,u){r(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=i,this.sharedClientState=a,this.currentUser=o,this.maxConcurrentLimboResolutions=u,this.sa={},this.ia=new qh((function(e){return eh(e)}),Zf),this.ra=new Map,this.oa=new Set,this.ua=new yf(Ll.comparator),this.aa=new Map,this.ca=new by,this.ha={},this.la=new Map,this.fa=wv.yn(),this.onlineState="Unknown",this.da=void 0}return a(e,[{key:"isPrimaryClient",get:function(){return!0===this.da}}]),e}();function hg(e,t){return dg.apply(this,arguments)}function dg(){return dg=yr(gr().mark((function e(t,n){var r,i,a,o,u,s;return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=ak(t),!(o=r.ia.get(n))){e.next=6;break}i=o.targetId,r.sharedClientState.addLocalQueryTarget(i),a=o.view.ea(),e.next=15;break;case 6:return e.next=8,uy(r.localStore,Xf(n));case 8:return u=e.sent,r.isPrimaryClient&&im(r.remoteStore,u),s=r.sharedClientState.addLocalQueryTarget(u.targetId),i=u.targetId,e.next=14,pg(r,n,i,"current"===s);case 14:a=e.sent;case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)}))),dg.apply(this,arguments)}function pg(e,t,n,r){return vg.apply(this,arguments)}function vg(){return vg=yr(gr().mark((function e(t,n,r,i){var a,o,u,s,c,l;return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._a=function(e,n,r){return function(){var e=yr(gr().mark((function e(t,n,r,i){var a,o,u;return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view.Wu(r),e.t0=a.ii,!e.t0){e.next=6;break}return e.next=5,ly(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.Wu(t,a)}));case 5:a=e.sent;case 6:return o=i&&i.targetChanges.get(n.targetId),u=n.view.applyChanges(a,t.isPrimaryClient,o),e.abrupt("return",(Lg(t,n.targetId,u.Xu),u.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,ly(t.localStore,n,!0);case 3:return a=e.sent,o=new sg(n,a._i),u=o.Wu(a.documents),s=td.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState),c=o.applyChanges(u,t.isPrimaryClient,s),Lg(t,r,c.Xu),l=new cg(n,r,o),e.abrupt("return",(t.ia.set(n,l),t.ra.has(r)?t.ra.get(r).push(n):t.ra.set(r,[n]),c.snapshot));case 11:case"end":return e.stop()}}),e)}))),vg.apply(this,arguments)}function yg(e,t){return mg.apply(this,arguments)}function mg(){return mg=yr(gr().mark((function e(t,n){var r,i,a;return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Qc(t),i=r.ia.get(n),!((a=r.ra.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r.ra.set(i.targetId,a.filter((function(e){return!Zf(e,n)}))),void r.ia.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,sy(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),am(r.remoteStore,i.targetId),Rg(r,i.targetId)})).catch(Iv);case 9:e.next=14;break;case 11:return Rg(r,i.targetId),e.next=14,sy(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)}))),mg.apply(this,arguments)}function gg(e,t,n){return kg.apply(this,arguments)}function kg(){return kg=yr(gr().mark((function e(t,n,r){var i,a,o;return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=ok(t),e.prev=1,e.next=4,function(e,t){var n,r=Qc(e),i=hl.now(),a=t.reduce((function(e,t){return e.add(t.key)}),Xh());return r.persistence.runTransaction("Locally write mutations","readwrite",(function(e){return r.fi.Ks(e,a).next((function(a){n=a;var o,u=[],s=kr(t);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=Ch(c,n.get(c.key));null!=l&&u.push(new Ph(c.key,l,af(l.value.mapValue),Sh.exists(!0)))}}catch(f){s.e(f)}finally{s.f()}return r.Bs.addMutationBatch(e,i,u,t)}))})).then((function(e){return e.applyToLocalDocumentSet(n),{batchId:e.batchId,changes:n}}))}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.ha[e.currentUser.toKey()];r||(r=new yf(cl)),r=r.insert(t,n),e.ha[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,Ug(i,a.changes);case 9:return e.next=11,wm(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=zm(e.t0,"Failed to persist write"),r.reject(o);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),kg.apply(this,arguments)}function bg(e,t){return wg.apply(this,arguments)}function wg(){return wg=yr(gr().mark((function e(t,n){var r,i;return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Qc(t),e.prev=1,e.next=4,iy(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.aa.get(t);n&&(Wc(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.na=!0:e.modifiedDocuments.size>0?Wc(n.na):e.removedDocuments.size>0&&(Wc(n.na),n.na=!1))})),e.next=8,Ug(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,Iv(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),wg.apply(this,arguments)}function xg(e,t,n){var r=Qc(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.ia.forEach((function(e,n){var r=n.view.Pu(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=Qc(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=kr(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.Pu(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}})),r&&eg(n)}(r.eventManager,t),i.length&&r.sa.zo(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function Sg(e,t,n){return _g.apply(this,arguments)}function _g(){return _g=yr(gr().mark((function e(t,n,r){var i,a,o,u,s,c;return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=Qc(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.aa.get(n),!(o=a&&a.key)){e.next=14;break}return u=(u=new yf(Ll.comparator)).insert(o,of.newNoDocument(o,dl.min())),s=Xh().add(o),c=new ed(dl.min(),new Map,new kf(cl),u,s),e.next=9,bg(i,c);case 9:i.ua=i.ua.remove(o),i.aa.delete(n),Fg(i),e.next=16;break;case 14:return e.next=16,sy(i.localStore,n,!1).then((function(){return Rg(i,n,r)})).catch(Iv);case 16:case"end":return e.stop()}}),e)}))),_g.apply(this,arguments)}function Eg(e,t){return Ig.apply(this,arguments)}function Ig(){return Ig=yr(gr().mark((function e(t,n){var r,i,a;return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Qc(t),i=n.batch.batchId,e.prev=1,e.next=4,ny(r.localStore,n);case 4:return a=e.sent,Pg(r,i,null),Og(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,Ug(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,Iv(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),Ig.apply(this,arguments)}function Tg(e,t,n){return Cg.apply(this,arguments)}function Cg(){return Cg=yr(gr().mark((function e(t,n,r){var i,a;return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Qc(t),e.prev=1,e.next=4,function(e,t){var n=Qc(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.Bs.lookupMutationBatch(e,t).next((function(t){return Wc(null!==t),r=t.keys(),n.Bs.removeMutationBatch(e,t)})).next((function(){return n.Bs.performConsistencyCheck(e)})).next((function(){return n.fi.Ks(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,Pg(i,n,r),Og(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,Ug(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,Iv(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),Cg.apply(this,arguments)}function Ng(e,t){return Ag.apply(this,arguments)}function Ag(){return Ag=yr(gr().mark((function e(t,n){var r,i,a,o;return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return lm((r=Qc(t)).remoteStore)||zc("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),e.prev=2,e.next=5,function(e){var t=Qc(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t.Bs.getHighestUnacknowledgedBatchId(e)}))}(r.localStore);case 5:if(-1!==(i=e.sent)){e.next=8;break}return e.abrupt("return",void n.resolve());case 8:(a=r.la.get(i)||[]).push(n),r.la.set(i,a),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),o=zm(e.t0,"Initialization of waitForPendingWrites() operation failed"),n.reject(o);case 16:case"end":return e.stop()}}),e,null,[[2,12]])}))),Ag.apply(this,arguments)}function Og(e,t){(e.la.get(t)||[]).forEach((function(e){e.resolve()})),e.la.delete(t)}function Pg(e,t,n){var r=Qc(e),i=r.ha[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.ha[r.currentUser.toKey()]=i}}function Rg(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=kr(e.ra.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.ia.delete(a),n&&e.sa.wa(a,n)}}catch(o){i.e(o)}finally{i.f()}e.ra.delete(t),e.isPrimaryClient&&e.ca.vi(t).forEach((function(t){e.ca.containsKey(t)||Dg(e,t)}))}function Dg(e,t){e.oa.delete(t.path.canonicalString());var n=e.ua.get(t);null!==n&&(am(e.remoteStore,n),e.ua=e.ua.remove(t),e.aa.delete(n),Fg(e))}function Lg(e,t,n){var r,i=kr(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof og?(e.ca.addReference(a.key,t),Mg(e,a)):a instanceof ug?(zc("SyncEngine","Document no longer in limbo: "+a.key),e.ca.removeReference(a.key,t),e.ca.containsKey(a.key)||Dg(e,a.key)):Hc()}}catch(o){i.e(o)}finally{i.f()}}function Mg(e,t){var n=t.key,r=n.path.canonicalString();e.ua.get(n)||e.oa.has(r)||(zc("SyncEngine","New document in limbo: "+n),e.oa.add(r),Fg(e))}function Fg(e){for(;e.oa.size>0&&e.ua.size<e.maxConcurrentLimboResolutions;){var t=e.oa.values().next().value;e.oa.delete(t);var n=new Ll(gl.fromString(t)),r=e.fa.next();e.aa.set(r,new lg(n)),e.ua=e.ua.insert(n,r),im(e.remoteStore,new Ap(Xf(Hf(n.path)),r,2,ol.A))}}function Ug(e,t,n){return jg.apply(this,arguments)}function jg(){return jg=yr(gr().mark((function e(t,n,r){var i,a,o,u;return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=Qc(t),a=[],o=[],u=[],e.t0=i.ia.isEmpty(),e.t0){e.next=9;break}return i.ia.forEach((function(e,t){u.push(i._a(t,n,r).then((function(e){if(e){i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,e.fromCache?"not-current":"current"),a.push(e);var n=Yv.Ys(t.targetId,e);o.push(n)}})))})),e.next=6,Promise.all(u);case 6:return i.sa.zo(a),e.next=9,function(){var e=yr(gr().mark((function e(t,n){var r,i,a,o,u,s,c,l;return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Qc(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return vp.forEach(n,(function(t){return vp.forEach(t.Hs,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return vp.forEach(t.Js,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),bp(e.t0)){e.next=10;break}throw e.t0;case 10:zc("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=kr(n);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.targetId,o.fromCache||(s=r.ui.get(u),c=s.snapshotVersion,l=s.withLastLimboFreeSnapshotVersion(c),r.ui=r.ui.insert(u,l))}catch(f){i.e(f)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,o);case 9:case"end":return e.stop()}}),e)}))),jg.apply(this,arguments)}function Vg(e,t){return Bg.apply(this,arguments)}function Bg(){return Bg=yr(gr().mark((function e(t,n){var r,i;return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=Qc(t)).currentUser.isEqual(n)){e.next=11;break}return zc("SyncEngine","User change. New user:",n.toKey()),e.next=5,ey(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.la.forEach((function(e){e.forEach((function(e){e.reject(new Yc($c.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.la.clear()}(r),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,Ug(r,i.di);case 11:case"end":return e.stop()}}),e)}))),Bg.apply(this,arguments)}function zg(e,t){var n=Qc(e),r=n.aa.get(t);if(r&&r.na)return Xh().add(r.key);var i=Xh(),a=n.ra.get(t);if(!a)return i;var o,u=kr(a);try{for(u.s();!(o=u.n()).done;){var s=o.value,c=n.ia.get(s);i=i.unionWith(c.view.ju)}}catch(l){u.e(l)}finally{u.f()}return i}function qg(e,t){return Gg.apply(this,arguments)}function Gg(){return Gg=yr(gr().mark((function e(t,n){var r,i,a;return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Qc(t),e.next=3,ly(r.localStore,n.query,!0);case 3:return i=e.sent,a=n.view.ta(i),e.abrupt("return",(r.isPrimaryClient&&Lg(r,n.targetId,a.Xu),a));case 6:case"end":return e.stop()}}),e)}))),Gg.apply(this,arguments)}function Kg(e,t){return Hg.apply(this,arguments)}function Hg(){return Hg=yr(gr().mark((function e(t,n){var r;return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Qc(t),e.abrupt("return",hy(r.localStore,n).then((function(e){return Ug(r,e)})));case 2:case"end":return e.stop()}}),e)}))),Hg.apply(this,arguments)}function Wg(e,t,n,r){return Qg.apply(this,arguments)}function Qg(){return Qg=yr(gr().mark((function e(t,n,r,i){var a,o;return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Qc(t),e.next=3,function(e,t){var n=Qc(e),r=Qc(n.Bs);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.fn(e,t).next((function(t){return t?n.fi.Ks(e,t):vp.resolve(null)}))}))}(a.localStore,n);case 3:if(null===(o=e.sent)){e.next=15;break}if("pending"!==r){e.next=10;break}return e.next=8,wm(a.remoteStore);case 8:e.next=11;break;case 10:"acknowledged"===r||"rejected"===r?(Pg(a,n,i||null),Og(a,n),function(e,t){Qc(Qc(e).Bs)._n(t)}(a.localStore,n)):Hc();case 11:return e.next=13,Ug(a,o);case 13:e.next=16;break;case 15:zc("SyncEngine","Cannot apply mutation batch with id: "+n);case 16:case"end":return e.stop()}}),e)}))),Qg.apply(this,arguments)}function $g(e,t){return Yg.apply(this,arguments)}function Yg(){return Yg=yr(gr().mark((function e(t,n){var r,i,a,o,u,s,c,l;return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ak(r=Qc(t)),ok(r),!0!==n||!0===r.da){e.next=13;break}return i=r.sharedClientState.getAllActiveQueryTargets(),e.next=5,Xg(r,i.toArray());case 5:return a=e.sent,r.da=!0,e.next=9,Fm(r.remoteStore,!0);case 9:o=kr(a);try{for(o.s();!(u=o.n()).done;)s=u.value,im(r.remoteStore,s)}catch(f){o.e(f)}finally{o.f()}e.next=25;break;case 13:if(!1!==n||!1===r.da){e.next=25;break}return c=[],l=Promise.resolve(),r.ra.forEach((function(e,t){r.sharedClientState.isLocalQueryTarget(t)?c.push(t):l=l.then((function(){return Rg(r,t),sy(r.localStore,t,!0)})),am(r.remoteStore,t)})),e.next=19,l;case 19:return e.next=21,Xg(r,c);case 21:return function(e){var t=Qc(e);t.aa.forEach((function(e,n){am(t.remoteStore,n)})),t.ca.Si(),t.aa=new Map,t.ua=new yf(Ll.comparator)}(r),r.da=!1,e.next=25,Fm(r.remoteStore,!1);case 25:case"end":return e.stop()}}),e)}))),Yg.apply(this,arguments)}function Xg(e,t,n){return Jg.apply(this,arguments)}function Jg(){return Jg=yr(gr().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h,d,p,v,y,m;return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=Qc(t),a=[],o=[],u=kr(n),e.prev=2,u.s();case 4:if((s=u.n()).done){e.next=45;break}if(c=s.value,l=void 0,!(f=i.ra.get(c))||0===f.length){e.next=34;break}return e.next=11,uy(i.localStore,Xf(f[0]));case 11:l=e.sent,h=kr(f),e.prev=13,h.s();case 15:if((d=h.n()).done){e.next=24;break}return p=d.value,v=i.ia.get(p),e.next=20,qg(i,v);case 20:(y=e.sent).snapshot&&o.push(y.snapshot);case 22:e.next=15;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(13),h.e(e.t0);case 29:return e.prev=29,h.f(),e.finish(29);case 32:e.next=42;break;case 34:return e.next=36,fy(i.localStore,c);case 36:return m=e.sent,e.next=39,uy(i.localStore,m);case 39:return l=e.sent,e.next=42,pg(i,Zg(m),c,!1);case 42:a.push(l);case 43:e.next=4;break;case 45:e.next=50;break;case 47:e.prev=47,e.t1=e.catch(2),u.e(e.t1);case 50:return e.prev=50,u.f(),e.finish(50);case 53:return e.abrupt("return",(i.sa.zo(o),a));case 54:case"end":return e.stop()}}),e,null,[[2,47,50,53],[13,26,29,32]])}))),Jg.apply(this,arguments)}function Zg(e){return Kf(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function ek(e){var t=Qc(e);return Qc(Qc(t.localStore).persistence).Fs()}function tk(e,t,n,r){return nk.apply(this,arguments)}function nk(){return nk=yr(gr().mark((function e(t,n,r,i){var a,o,u,s;return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=Qc(t)).da){e.next=3;break}return e.abrupt("return",void zc("SyncEngine","Ignoring unexpected query state notification."));case 3:if(!((o=a.ra.get(n))&&o.length>0)){e.next=20;break}e.t0=r,e.next="current"===e.t0||"not-current"===e.t0?8:"rejected"===e.t0?15:19;break;case 8:return e.next=10,hy(a.localStore,rh(o[0]));case 10:return u=e.sent,s=ed.createSynthesizedRemoteEventForCurrentChange(n,"current"===r),e.next=14,Ug(a,u,s);case 14:return e.abrupt("break",20);case 15:return e.next=17,sy(a.localStore,n,!0);case 17:return Rg(a,n,i),e.abrupt("break",20);case 19:Hc();case 20:case"end":return e.stop()}}),e)}))),nk.apply(this,arguments)}function rk(e,t,n){return ik.apply(this,arguments)}function ik(){return ik=yr(gr().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h;return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=ak(t)).da){e.next=45;break}a=kr(n),e.prev=3,a.s();case 5:if((o=a.n()).done){e.next=21;break}if(u=o.value,!i.ra.has(u)){e.next=10;break}return zc("SyncEngine","Adding an already active target "+u),e.abrupt("continue",19);case 10:return e.next=12,fy(i.localStore,u);case 12:return s=e.sent,e.next=15,uy(i.localStore,s);case 15:return c=e.sent,e.next=18,pg(i,Zg(s),c.targetId,!1);case 18:im(i.remoteStore,c);case 19:e.next=5;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(3),a.e(e.t0);case 26:return e.prev=26,a.f(),e.finish(26);case 29:l=kr(r),e.prev=30,h=gr().mark((function e(){var t;return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=f.value,e.t0=i.ra.has(t),!e.t0){e.next=5;break}return e.next=5,sy(i.localStore,t,!1).then((function(){am(i.remoteStore,t),Rg(i,t)})).catch(Iv);case 5:case"end":return e.stop()}}),e)})),l.s();case 33:if((f=l.n()).done){e.next=37;break}return e.delegateYield(h(),"t1",35);case 35:e.next=33;break;case 37:e.next=42;break;case 39:e.prev=39,e.t2=e.catch(30),l.e(e.t2);case 42:return e.prev=42,l.f(),e.finish(42);case 45:case"end":return e.stop()}}),e,null,[[3,23,26,29],[30,39,42,45]])}))),ik.apply(this,arguments)}function ak(e){var t=Qc(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=bg.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=zg.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Sg.bind(null,t),t.sa.zo=Jm.bind(null,t.eventManager),t.sa.wa=Zm.bind(null,t.eventManager),t}function ok(e){var t=Qc(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Eg.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Tg.bind(null,t),t}function uk(e,t,n){var r=Qc(e);(function(){var e=yr(gr().mark((function e(t,n,r){var i,a,o,u,s;return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.getMetadata();case 3:return i=e.sent,e.next=6,function(e,t){var n=Qc(e),r=vd(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(function(e){return n._s.getBundleMetadata(e,t.id)})).then((function(e){return!!e&&e.createTime.compareTo(r)>=0}))}(t.localStore,i);case 6:if(!e.sent){e.next=11;break}return e.next=9,n.close();case 9:return r._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(i)),e.abrupt("return",Promise.resolve(new Set));case 11:return r._updateProgress(ag(i)),a=new ig(i,t.localStore,n.M),e.next=15,n.ma();case 15:o=e.sent;case 16:if(!o){e.next=26;break}return e.next=19,a.Fu(o);case 19:return(u=e.sent)&&r._updateProgress(u),e.next=23,n.ma();case 23:o=e.sent;case 24:e.next=16;break;case 26:return e.next=28,a.complete();case 28:return s=e.sent,e.next=31,Ug(t,s.Lu,void 0);case 31:return e.next=33,function(e,t){var n=Qc(e);return n.persistence.runTransaction("Save bundle","readwrite",(function(e){return n._s.saveBundleMetadata(e,t)}))}(t.localStore,i);case 33:return r._completeWith(s.progress),e.abrupt("return",Promise.resolve(s.Bu));case 37:return e.prev=37,e.t0=e.catch(0),e.abrupt("return",(Gc("SyncEngine","Loading bundle failed with ".concat(e.t0)),r._failWith(e.t0),Promise.resolve(new Set)));case 40:case"end":return e.stop()}}),e,null,[[0,37]])})));return function(t,n,r){return e.apply(this,arguments)}})()(r,t,n).then((function(e){r.sharedClientState.notifyBundleLoaded(e)}))}var sk=function(){function e(){r(this,e),this.synchronizeTabs=!1}return a(e,[{key:"initialize",value:function(){var e=yr(gr().mark((function e(t){return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.M=Hy(t.databaseInfo.databaseId),this.sharedClientState=this.ga(t),this.persistence=this.ya(t),e.next=5,this.persistence.start();case 5:this.gcScheduler=this.pa(t),this.localStore=this.Ia(t);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"pa",value:function(e){return null}},{key:"Ia",value:function(e){return Zv(this.persistence,new Xv,e.initialUser,this.M)}},{key:"ya",value:function(e){return new Iy(Cy.Yi,this.M)}},{key:"ga",value:function(e){return new Uy}},{key:"terminate",value:function(){var e=yr(gr().mark((function e(){return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),ck=function(e){u(n,e);var t=d(n);function n(e,i,a){var o;return r(this,n),(o=t.call(this)).Ta=e,o.cacheSizeBytes=i,o.forceOwnership=a,o.synchronizeTabs=!1,o}return a(n,[{key:"initialize",value:function(){var e=yr(gr().mark((function e(t){var r=this;return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xa(s(n.prototype),"initialize",this).call(this,t);case 2:return e.next=4,this.Ta.initialize(this,t);case 4:return e.next=6,ok(this.Ta.syncEngine);case 6:return e.next=8,wm(this.Ta.remoteStore);case 8:return e.next=10,this.persistence.Ts((function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(r.localStore),Promise.resolve()}));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Ia",value:function(e){return Zv(this.persistence,new Xv,e.initialUser,this.M)}},{key:"pa",value:function(e){var t=this.persistence.referenceDelegate.garbageCollector;return new Av(t,e.asyncQueue)}},{key:"ya",value:function(e){var t=Qv(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?dv.withCacheSize(this.cacheSizeBytes):dv.DEFAULT;return new Kv(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,Gy(),Ky(),this.M,this.sharedClientState,!!this.forceOwnership)}},{key:"ga",value:function(e){return new Uy}}]),n}(sk),lk=function(e){u(n,e);var t=d(n);function n(e,i){var a;return r(this,n),(a=t.call(this,e,i,!1)).Ta=e,a.cacheSizeBytes=i,a.synchronizeTabs=!0,a}return a(n,[{key:"initialize",value:function(){var e=yr(gr().mark((function e(t){var r,i=this;return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xa(s(n.prototype),"initialize",this).call(this,t);case 2:if(r=this.Ta.syncEngine,e.t0=this.sharedClientState instanceof Fy,!e.t0){e.next=8;break}return this.sharedClientState.syncEngine={$r:Wg.bind(null,r),Br:tk.bind(null,r),Lr:rk.bind(null,r),Fs:ek.bind(null,r),Fr:Kg.bind(null,r)},e.next=8,this.sharedClientState.start();case 8:return e.next=10,this.persistence.Ts(function(){var e=yr(gr().mark((function e(t){return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$g(i.Ta.syncEngine,t);case 2:i.gcScheduler&&(t&&!i.gcScheduler.started?i.gcScheduler.start(i.localStore):t||i.gcScheduler.stop());case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"ga",value:function(e){var t=Gy();if(!Fy.vt(t))throw new Yc($c.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=Qv(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Fy(t,e.asyncQueue,n,e.clientId,e.initialUser)}}]),n}(ck),fk=function(){function e(){r(this,e)}return a(e,[{key:"initialize",value:function(){var e=yr(gr().mark((function e(t,n){var r=this;return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return xg(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=Vg.bind(null,this.syncEngine),e.next=12,Fm(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new Wm}},{key:"createDatastore",value:function(e){var t,n=Hy(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new qy(t));return function(e,t,n,r){return new Xy(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,r,n)}},{key:"createRemoteStore",value:function(e){var t,n,r,i,a,o=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return xg(o.syncEngine,e,0)},a=Vy.vt()?new Vy:new jy,new Zy(t,n,r,i,a)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var u=new fg(e,t,n,r,i,a);return o&&(u.da=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=yr(gr().mark((function e(t){var n;return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Qc(t),zc("RemoteStore","RemoteStore shutting down."),n.wu.add(5),e.next=5,nm(n);case 5:n.gu.shutdown(),n.yu.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();function hk(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{read:function(){return yr(gr().mark((function r(){var i;return gr().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(n<e.byteLength)){r.next=3;break}return i={value:e.slice(n,n+t),done:!1},r.abrupt("return",(n+=t,i));case 3:return r.abrupt("return",{done:!0});case 4:case"end":return r.stop()}}),r)})))()},cancel:function(){return yr(gr().mark((function e(){return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},releaseLock:function(){},closed:Promise.reject("unimplemented")}}var dk=function(){function e(t){r(this,e),this.observer=t,this.muted=!1}return a(e,[{key:"next",value:function(e){this.observer.next&&this.Ea(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.Ea(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}},{key:"Aa",value:function(){this.muted=!0}},{key:"Ea",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),pk=function(){function e(t,n){var i=this;r(this,e),this.Ra=t,this.M=n,this.metadata=new Xc,this.buffer=new Uint8Array,this.ba=new TextDecoder("utf-8"),this.Pa().then((function(e){e&&e.Mu()?i.metadata.resolve(e.payload.metadata):i.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.payload))))}),(function(e){return i.metadata.reject(e)}))}return a(e,[{key:"close",value:function(){return this.Ra.cancel()}},{key:"getMetadata",value:function(){var e=yr(gr().mark((function e(){return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.metadata.promise);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"ma",value:function(){var e=yr(gr().mark((function e(){return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getMetadata();case 2:return e.abrupt("return",this.Pa());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Pa",value:function(){var e=yr(gr().mark((function e(){var t,n,r,i;return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Va();case 2:if(null!==(t=e.sent)){e.next=5;break}return e.abrupt("return",null);case 5:return n=this.ba.decode(t),r=Number(n),isNaN(r)&&this.va("length string (".concat(n,") is not valid number")),e.next=9,this.Sa(r);case 9:return i=e.sent,e.abrupt("return",new ng(JSON.parse(i),t.length+r));case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Da",value:function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))}},{key:"Va",value:function(){var e=yr(gr().mark((function e(){var t,n;return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.Da()<0)){e.next=7;break}return e.next=3,this.Ca();case 3:if(!e.sent){e.next=5;break}return e.abrupt("break",7);case 5:e.next=0;break;case 7:if(0!==this.buffer.length){e.next=9;break}return e.abrupt("return",null);case 9:return(t=this.Da())<0&&this.va("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,t),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Sa",value:function(){var e=yr(gr().mark((function e(t){var n;return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.buffer.length<t)){e.next=8;break}return e.next=3,this.Ca();case 3:if(e.t0=e.sent,!e.t0){e.next=6;break}this.va("Reached the end of bundle when more is expected.");case 6:e.next=0;break;case 8:return n=this.ba.decode(this.buffer.slice(0,t)),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"va",value:function(e){throw this.Ra.cancel(),new Error("Invalid bundle format: ".concat(e))}},{key:"Ca",value:function(){var e=yr(gr().mark((function e(){var t,n;return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Ra.read();case 2:return(t=e.sent).done||((n=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),n.set(t.value,this.buffer.length),this.buffer=n),e.abrupt("return",t.done);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),vk=function(){function e(t){r(this,e),this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return a(e,[{key:"lookup",value:function(){var e=yr(gr().mark((function e(t){var n,r=this;return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!(this.mutations.length>0)){e.next=2;break}throw new Yc($c.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");case 2:return e.next=4,function(){var e=yr(gr().mark((function e(t,n){var r,i,a,o,u,s;return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Qc(t),i=xd(r.M)+"/documents",a={documents:n.map((function(e){return gd(r.M,e)}))},e.next=5,r._o("BatchGetDocuments",i,a);case 5:return o=e.sent,u=new Map,o.forEach((function(e){var t=Id(r.M,e);u.set(t.key.toString(),t)})),s=[],e.abrupt("return",(n.forEach((function(e){var t=u.get(e.toString());Wc(!!t),s.push(t)})),s));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,t);case 4:return n=e.sent,e.abrupt("return",(n.forEach((function(e){return r.recordVersion(e)})),n));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"set",value:function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"update",value:function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}},{key:"delete",value:function(e){this.write(new Uh(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"commit",value:function(){var e=yr(gr().mark((function e(){var t,n=this;return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!this.lastWriteError){e.next=2;break}throw this.lastWriteError;case 2:return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(e,t){var r=Ll.fromPath(t);n.mutations.push(new jh(r,n.precondition(r)))})),e.next=7,function(){var e=yr(gr().mark((function e(t,n){var r,i,a;return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Qc(t),i=xd(r.M)+"/documents",a={writes:n.map((function(e){return Td(r.M,e)}))},e.next=3,r.co("Commit",i,a);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,this.mutations);case 7:this.committed=!0;case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"recordVersion",value:function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Hc();t=dl.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new Yc($c.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}},{key:"precondition",value:function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?Sh.updateTime(t):Sh.none()}},{key:"preconditionForUpdate",value:function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(dl.min()))throw new Yc($c.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Sh.updateTime(t)}return Sh.exists(!0)}},{key:"write",value:function(e){this.ensureCommitNotCalled(),this.mutations.push(e)}},{key:"ensureCommitNotCalled",value:function(){}}]),e}(),yk=function(){function e(t,n,i,a,o){r(this,e),this.asyncQueue=t,this.datastore=n,this.options=i,this.updateFunction=a,this.deferred=o,this.xa=i.maxAttempts,this.No=new Wy(this.asyncQueue,"transaction_retry")}return a(e,[{key:"run",value:function(){this.xa-=1,this.Na()}},{key:"Na",value:function(){var e=this;this.No.Ro(yr(gr().mark((function t(){var n,r;return gr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=new vk(e.datastore),(r=e.ka(n))&&r.then((function(t){e.asyncQueue.enqueueAndForget((function(){return n.commit().then((function(){e.deferred.resolve(t)})).catch((function(t){e.Ma(t)}))}))})).catch((function(t){e.Ma(t)}));case 2:case"end":return t.stop()}}),t)}))))}},{key:"ka",value:function(e){try{var t=this.updateFunction(e);return!Pl(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}},{key:"Ma",value:function(e){var t=this;this.xa>0&&this.Oa(e)?(this.xa-=1,this.asyncQueue.enqueueAndForget((function(){return t.Na(),Promise.resolve()}))):this.deferred.reject(e)}},{key:"Oa",value:function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||!Bh(t)}return!1}}]),e}(),mk=function(){function e(t,n,i,a){var o=this;r(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=a,this.user=Uc.UNAUTHENTICATED,this.clientId=sl.R(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(i,function(){var e=yr(gr().mark((function e(t){return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return zc("FirestoreClient","Received user=",t.uid),e.next=3,o.authCredentialListener(t);case 3:o.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(i,(function(e){return zc("FirestoreClient","Received new app check token=",e),o.appCheckCredentialListener(e,o.user)}))}return a(e,[{key:"getConfiguration",value:function(){var e=yr(gr().mark((function e(){return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new Yc($c.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new Xc;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(yr(gr().mark((function n(){var r;return gr().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e.onlineComponents,!n.t0){n.next=5;break}return n.next=5,e.onlineComponents.terminate();case 5:if(n.t1=e.offlineComponents,!n.t1){n.next=9;break}return n.next=9,e.offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=zm(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function gk(e,t){return kk.apply(this,arguments)}function kk(){return kk=yr(gr().mark((function e(t,n){var r,i;return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),zc("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=yr(gr().mark((function e(t){return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,ey(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t.offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),kk.apply(this,arguments)}function bk(e,t){return wk.apply(this,arguments)}function wk(){return wk=yr(gr().mark((function e(t,n){var r,i;return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,xk(t);case 3:return r=e.sent,zc("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return Lm(n.remoteStore,e)})),t.setAppCheckTokenChangeListener((function(e,t){return Lm(n.remoteStore,t)})),t.onlineComponents=n;case 13:case"end":return e.stop()}}),e)}))),wk.apply(this,arguments)}function xk(e){return Sk.apply(this,arguments)}function Sk(){return Sk=yr(gr().mark((function e(t){return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.offlineComponents,e.t0){e.next=5;break}return zc("FirestoreClient","Using default OfflineComponentProvider"),e.next=5,gk(t,new sk);case 5:return e.abrupt("return",t.offlineComponents);case 6:case"end":return e.stop()}}),e)}))),Sk.apply(this,arguments)}function _k(e){return Ek.apply(this,arguments)}function Ek(){return Ek=yr(gr().mark((function e(t){return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.onlineComponents,e.t0){e.next=5;break}return zc("FirestoreClient","Using default OnlineComponentProvider"),e.next=5,bk(t,new fk);case 5:return e.abrupt("return",t.onlineComponents);case 6:case"end":return e.stop()}}),e)}))),Ek.apply(this,arguments)}function Ik(e){return xk(e).then((function(e){return e.persistence}))}function Tk(e){return xk(e).then((function(e){return e.localStore}))}function Ck(e){return _k(e).then((function(e){return e.remoteStore}))}function Nk(e){return _k(e).then((function(e){return e.syncEngine}))}function Ak(e){return Ok.apply(this,arguments)}function Ok(){return Ok=yr(gr().mark((function e(t){var n,r;return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_k(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=hg.bind(null,n.syncEngine),r.onUnlisten=yg.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)}))),Ok.apply(this,arguments)}function Pk(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new Xc;return e.asyncQueue.enqueueAndForget(yr(gr().mark((function i(){return gr().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new dk({next:function(a){t.enqueueAndForget((function(){return Ym(e,o)}));var u=a.docs.has(n);!u&&a.fromCache?i.reject(new Yc($c.UNAVAILABLE,"Failed to get document because the client is offline.")):u&&a.fromCache&&r&&"server"===r.source?i.reject(new Yc($c.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:function(e){return i.reject(e)}}),o=new tg(Hf(n.path),a,{includeMetadataChanges:!0,ku:!0});return Qm(e,o)},i.next=3,Ak(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function Rk(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new Xc;return e.asyncQueue.enqueueAndForget(yr(gr().mark((function i(){return gr().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new dk({next:function(n){t.enqueueAndForget((function(){return Ym(e,o)})),n.fromCache&&"server"===r.source?i.reject(new Yc($c.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new tg(n,a,{includeMetadataChanges:!0,ku:!0});return Qm(e,o)},i.next=3,Ak(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}var Dk=new Map;function Lk(e,t,n){if(!n)throw new Yc($c.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function Mk(e,t,n,r){if(!0===t&&!0===r)throw new Yc($c.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function Fk(e){if(!Ll.isDocumentKey(e))throw new Yc($c.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function Uk(e){if(Ll.isDocumentKey(e))throw new Yc($c.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function jk(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":Hc()}function Vk(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Yc($c.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=jk(e);throw new Yc($c.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}function Bk(e,t){if(t<=0)throw new Yc($c.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}var zk=function(){function e(t){var n;if(r(this,e),void 0===t.host){if(void 0!==t.ssl)throw new Yc($c.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Yc($c.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,Mk("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return a(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),qk=function(){function e(t,n,i){r(this,e),this._authCredentials=n,this._appCheckCredentials=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new zk({}),this._settingsFrozen=!1,t instanceof Ol?this._databaseId=t:(this._app=t,this._databaseId=function(e){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Yc($c.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ol(e.options.projectId)}(t))}return a(e,[{key:"app",get:function(){if(!this._app)throw new Yc($c.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new Yc($c.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new zk(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Zc;switch(e.type){case"gapi":var t=e.client;return Wc(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new rl(t,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new Yc($c.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=Dk.get(e);t&&(zc("ComponentProvider","Removing Datastore"),Dk.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();function Gk(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(e=Vk(e,qk))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==t&&Gc("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},a),{host:"".concat(t,":").concat(n),ssl:!1})),i.mockUserToken){var o,u;if("string"==typeof i.mockUserToken)o=i.mockUserToken,u=Uc.MOCK_USER;else{o=Nr(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var s=i.mockUserToken.sub||i.mockUserToken.user_id;if(!s)throw new Yc($c.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Uc(s)}e._authCredentials=new el(new Jc(o,u))}}var Kk=function(){function e(t,n,i){r(this,e),this.converter=n,this._key=i,this.type="document",this.firestore=t}return a(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new Wk(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),Hk=function(){function e(t,n,i){r(this,e),this.converter=n,this._query=i,this.type="query",this.firestore=t}return a(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),Wk=function(e){u(n,e);var t=d(n);function n(e,i,a){var o;return r(this,n),(o=t.call(this,e,i,Hf(a)))._path=a,o.type="collection",o}return a(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new Kk(this.firestore,null,new Ll(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(Hk);function Qk(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Yr(e),Lk("collection","path",t),e instanceof qk){var a=gl.fromString.apply(gl,[t].concat(r));return Uk(a),new Wk(e,null,a)}if(!(e instanceof Kk||e instanceof Wk))throw new Yc($c.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(gl.fromString.apply(gl,[t].concat(r)));return Uk(o),new Wk(e.firestore,null,o)}function $k(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Yr(e),1===arguments.length&&(t=sl.R()),Lk("doc","path",t),e instanceof qk){var a=gl.fromString.apply(gl,[t].concat(r));return Fk(a),new Kk(e,null,new Ll(a))}if(!(e instanceof Kk||e instanceof Wk))throw new Yc($c.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(gl.fromString.apply(gl,[t].concat(r)));return Fk(o),new Kk(e.firestore,e instanceof Wk?e.converter:null,new Ll(o))}function Yk(e,t){return e=Yr(e),t=Yr(t),(e instanceof Kk||e instanceof Wk)&&(t instanceof Kk||t instanceof Wk)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function Xk(e,t){return e=Yr(e),t=Yr(t),e instanceof Hk&&t instanceof Hk&&e.firestore===t.firestore&&Zf(e._query,t._query)&&e.converter===t.converter}var Jk=function(){function e(){var t=this;r(this,e),this.Fa=Promise.resolve(),this.$a=[],this.Ba=!1,this.La=[],this.Ua=null,this.qa=!1,this.Ka=!1,this.Ga=[],this.No=new Wy(this,"async_queue_retry"),this.Qa=function(){var e=Ky();e&&zc("AsyncQueue","Visibility state changed to "+e.visibilityState),t.No.Po()};var n=Ky();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.Qa)}return a(e,[{key:"isShuttingDown",get:function(){return this.Ba}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.ja(),this.Wa(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.Ba){this.Ba=!0,this.Ka=e||!1;var t=Ky();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Qa)}}},{key:"enqueue",value:function(e){var t=this;if(this.ja(),this.Ba)return new Promise((function(){}));var n=new Xc;return this.Wa((function(){return t.Ba&&t.Ka?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.$a.push(e),t.za()}))}},{key:"za",value:function(){var e=yr(gr().mark((function e(){var t=this;return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.$a.length){e.next=14;break}return e.prev=1,e.next=4,this.$a[0]();case 4:this.$a.shift(),this.No.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),bp(e.t0)){e.next=12;break}throw e.t0;case 12:zc("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.$a.length>0&&this.No.Ro((function(){return t.za()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"Wa",value:function(e){var t=this,n=this.Fa.then((function(){return t.qa=!0,e().catch((function(e){t.Ua=e,t.qa=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw qc("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.qa=!1,e}))}));return this.Fa=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.ja(),this.Ga.indexOf(e)>-1&&(t=0);var i=Bm.createAndSchedule(this,e,t,n,(function(e){return r.Ha(e)}));return this.La.push(i),i}},{key:"ja",value:function(){this.Ua&&Hc()}},{key:"verifyOperationInProgress",value:function(){}},{key:"Ja",value:function(){var e=yr(gr().mark((function e(){var t;return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.Fa,e.next=3,t;case 3:if(t!==this.Fa){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Ya",value:function(e){var t,n=kr(this.La);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"Xa",value:function(e){var t=this;return this.Ja().then((function(){t.La.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=kr(t.La);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.Ja()}))}},{key:"Za",value:function(e){this.Ga.push(e)}},{key:"Ha",value:function(e){var t=this.La.indexOf(e);this.La.splice(t,1)}}]),e}();function Zk(e){return function(e,t){if("object"!=typeof e||null===e)return!1;var n,r=e,i=kr(["next","error","complete"]);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"==typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e)}var eb=function(){function e(){r(this,e),this._progressObserver={},this._taskCompletionResolver=new Xc,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return a(e,[{key:"onProgress",value:function(e,t,n){this._progressObserver={next:e,error:t,complete:n}}},{key:"catch",value:function(e){return this._taskCompletionResolver.promise.catch(e)}},{key:"then",value:function(e,t){return this._taskCompletionResolver.promise.then(e,t)}},{key:"_completeWith",value:function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}},{key:"_failWith",value:function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}},{key:"_updateProgress",value:function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}]),e}(),tb=function(e){u(n,e);var t=d(n);function n(e,i,a){var o;return r(this,n),(o=t.call(this,e,i,a)).type="firestore",o._queue=new Jk,o._persistenceKey="name"in e?e.name:"[DEFAULT]",o}return a(n,[{key:"_terminate",value:function(){return this._firestoreClient||rb(this),this._firestoreClient.terminate()}}]),n}(qk);function nb(e){return e._firestoreClient||rb(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function rb(e){var t,n=e._freezeSettings(),r=function(e,t,n,r){return new Al(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new mk(e._authCredentials,e._appCheckCredentials,e._queue,r)}function ib(e,t,n){var r=new Xc;return e.asyncQueue.enqueue(yr(gr().mark((function i(){return gr().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,gk(e,n);case 3:return i.next=5,bk(e,t);case 5:r.resolve(),i.next=13;break;case 8:if(i.prev=8,i.t0=i.catch(0),function(e){return"FirebaseError"===e.name?e.code===$c.FAILED_PRECONDITION||e.code===$c.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||(22===e.code||20===e.code||11===e.code)}(i.t0)){i.next=12;break}throw i.t0;case 12:console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+i.t0),r.reject(i.t0);case 13:case"end":return i.stop()}}),i,null,[[0,8]])})))).then((function(){return r.promise}))}function ab(e){return function(e){return e.asyncQueue.enqueue(yr(gr().mark((function t(){var n,r;return gr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Ik(e);case 2:return n=t.sent,t.next=5,Ck(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!0),function(e){var t=Qc(e);return t.wu.delete(0),em(t)}(r)));case 7:case"end":return t.stop()}}),t)}))))}(nb(e=Vk(e,tb)))}function ob(e){return function(e){return e.asyncQueue.enqueue(yr(gr().mark((function t(){var n,r;return gr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Ik(e);case 2:return n=t.sent,t.next=5,Ck(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!1),function(){var e=yr(gr().mark((function e(t){var n;return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=Qc(t)).wu.add(0),e.next=4,nm(n);case 4:n.yu.set("Offline");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(r)));case 7:case"end":return t.stop()}}),t)}))))}(nb(e=Vk(e,tb)))}function ub(e,t){var n=nb(e=Vk(e,tb)),r=new eb;return function(e,t,n,r){var i=function(e,t){return function(e,t){return new pk(e,t)}(function(e,t){if(e instanceof Uint8Array)return hk(e,t);if(e instanceof ArrayBuffer)return hk(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof e?(new TextEncoder).encode(e):e),t)}(n,Hy(t));e.asyncQueue.enqueueAndForget(yr(gr().mark((function t(){return gr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=uk,t.next=3,Nk(e);case 3:t.t1=t.sent,t.t2=i,t.t3=r,(0,t.t0)(t.t1,t.t2,t.t3);case 7:case"end":return t.stop()}}),t)}))))}(n,e._databaseId,t,r),r}function sb(e,t){return function(e,t){return e.asyncQueue.enqueue(yr(gr().mark((function n(){return gr().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=function(e,t){var n=Qc(e);return n.persistence.runTransaction("Get named query","readonly",(function(e){return n._s.getNamedQuery(e,t)}))},n.next=3,Tk(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)}))))}(nb(e=Vk(e,tb)),t).then((function(t){return t?new Hk(e,null,t.query):null}))}function cb(e){if(e._initialized||e._terminated)throw new Yc($c.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var lb=function(){function e(){r(this,e);for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];for(var a=0;a<n.length;++a)if(0===n[a].length)throw new Yc($c.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new bl(n)}return a(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var fb=function(){function e(t){r(this,e),this._byteString=t}return a(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(xl.fromBase64String(t))}catch(t){throw new Yc($c.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(xl.fromUint8Array(t))}}]),e}(),hb=a((function e(t){r(this,e),this._methodName=t})),db=function(){function e(t,n){if(r(this,e),!isFinite(t)||t<-90||t>90)throw new Yc($c.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new Yc($c.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return a(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return cl(this._lat,e._lat)||cl(this._long,e._long)}}]),e}(),pb=/^__.*__$/,vb=function(){function e(t,n,i){r(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=i}return a(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new Ph(e,this.data,this.fieldMask,t,this.fieldTransforms):new Oh(e,this.data,t,this.fieldTransforms)}}]),e}(),yb=function(){function e(t,n,i){r(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=i}return a(e,[{key:"toMutation",value:function(e,t){return new Ph(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function mb(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Hc()}}var gb=function(){function e(t,n,i,a,o,u){r(this,e),this.settings=t,this.databaseId=n,this.M=i,this.ignoreUndefinedProperties=a,void 0===o&&this.tc(),this.fieldTransforms=o||[],this.fieldMask=u||[]}return a(e,[{key:"path",get:function(){return this.settings.path}},{key:"ec",get:function(){return this.settings.ec}},{key:"nc",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.M,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"sc",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.nc({path:n,ic:!1});return r.rc(e),r}},{key:"oc",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.nc({path:n,ic:!1});return r.tc(),r}},{key:"uc",value:function(e){return this.nc({path:void 0,ic:!0})}},{key:"ac",value:function(e){return Ub(e,this.settings.methodName,this.settings.cc||!1,this.path,this.settings.hc)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"tc",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.rc(this.path.get(e))}},{key:"rc",value:function(e){if(0===e.length)throw this.ac("Document fields must not be empty");if(mb(this.ec)&&pb.test(e))throw this.ac('Document fields cannot begin and end with "__"')}}]),e}(),kb=function(){function e(t,n,i){r(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.M=i||Hy(t)}return a(e,[{key:"lc",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new gb({ec:e,methodName:t,hc:n,path:bl.emptyPath(),ic:!1,cc:r},this.databaseId,this.M,this.ignoreUndefinedProperties)}}]),e}();function bb(e){var t=e._freezeSettings(),n=Hy(e._databaseId);return new kb(e._databaseId,!!t.ignoreUndefinedProperties,n)}function wb(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.lc(a.merge||a.mergeFields?2:0,t,n,i);Db("Data must be an object, but it was:",o,r);var u,s,c=Pb(r,o);if(a.merge)u=new wl(o.fieldMask),s=o.fieldTransforms;else if(a.mergeFields){var l,f=[],h=kr(a.mergeFields);try{for(h.s();!(l=h.n()).done;){var d=l.value,p=Lb(t,d,n);if(!o.contains(p))throw new Yc($c.INVALID_ARGUMENT,"Field '".concat(p,"' is specified in your field mask but missing from your input data."));jb(f,p)||f.push(p)}}catch(v){h.e(v)}finally{h.f()}u=new wl(f),s=o.fieldTransforms.filter((function(e){return u.covers(e.field)}))}else u=null,s=o.fieldTransforms;return new vb(new rf(c),u,s)}var xb=function(e){u(n,e);var t=d(n);function n(){return r(this,n),t.apply(this,arguments)}return a(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.ec)throw 1===e.ec?e.ac("".concat(this._methodName,"() can only appear at the top level of your update data")):e.ac("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(hb);function Sb(e,t,n){return new gb({ec:3,hc:t.settings.hc,methodName:e._methodName,ic:n},t.databaseId,t.M,t.ignoreUndefinedProperties)}var _b=function(e){u(n,e);var t=d(n);function n(){return r(this,n),t.apply(this,arguments)}return a(n,[{key:"_toFieldTransform",value:function(e){return new wh(e.path,new dh)}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(hb),Eb=function(e){u(n,e);var t=d(n);function n(e,i){var a;return r(this,n),(a=t.call(this,e)).fc=i,a}return a(n,[{key:"_toFieldTransform",value:function(e){var t=Sb(this,e,!0),n=this.fc.map((function(e){return Ob(e,t)})),r=new ph(n);return new wh(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(hb),Ib=function(e){u(n,e);var t=d(n);function n(e,i){var a;return r(this,n),(a=t.call(this,e)).fc=i,a}return a(n,[{key:"_toFieldTransform",value:function(e){var t=Sb(this,e,!0),n=this.fc.map((function(e){return Ob(e,t)})),r=new yh(n);return new wh(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(hb),Tb=function(e){u(n,e);var t=d(n);function n(e,i){var a;return r(this,n),(a=t.call(this,e)).dc=i,a}return a(n,[{key:"_toFieldTransform",value:function(e){var t=new gh(e.M,sh(e.M,this.dc));return new wh(e.path,t)}},{key:"isEqual",value:function(e){return this===e}}]),n}(hb);function Cb(e,t,n,r){var i=e.lc(1,t,n);Db("Data must be an object, but it was:",i,r);var a=[],o=rf.empty();vl(r,(function(e,r){var u=Fb(t,e,n);r=Yr(r);var s=i.oc(u);if(r instanceof xb)a.push(u);else{var c=Ob(r,s);null!=c&&(a.push(u),o.set(u,c))}}));var u=new wl(a);return new yb(o,u,i.fieldTransforms)}function Nb(e,t,n,r,i,a){var o=e.lc(1,t,n),u=[Lb(t,r,n)],s=[i];if(a.length%2!=0)throw new Yc($c.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var c=0;c<a.length;c+=2)u.push(Lb(t,a[c])),s.push(a[c+1]);for(var l=[],f=rf.empty(),h=u.length-1;h>=0;--h)if(!jb(l,u[h])){var d=u[h],p=s[h];p=Yr(p);var v=o.oc(d);if(p instanceof xb)l.push(d);else{var y=Ob(p,v);null!=y&&(l.push(d),f.set(d,y))}}var m=new wl(l);return new yb(f,m,o.fieldTransforms)}function Ab(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return Ob(n,e.lc(r?4:3,t))}function Ob(e,t){if(Rb(e=Yr(e)))return Db("Unsupported field value:",t,e),Pb(e,t);if(e instanceof hb)return function(e,t){if(!mb(t.ec))throw t.ac("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.ac("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.ic&&4!==t.ec)throw t.ac("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=kr(e);try{for(a.s();!(n=a.n()).done;){var o=Ob(n.value,t.uc(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(u){a.e(u)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=Yr(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return sh(t.M,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=hl.fromDate(e);return{timestampValue:hd(t.M,n)}}if(e instanceof hl){var r=new hl(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:hd(t.M,r)}}if(e instanceof db)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof fb)return{bytesValue:dd(t.M,e._byteString)};if(e instanceof Kk){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t.ac("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:yd(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.ac("Unsupported field value: ".concat(jk(e)))}(e,t)}function Pb(e,t){var n={};return yl(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):vl(e,(function(e,r){var i=Ob(r,t.sc(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function Rb(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof hl||e instanceof db||e instanceof fb||e instanceof Kk||e instanceof hb)}function Db(e,t,n){if(!Rb(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=jk(n);throw"an object"===r?t.ac(e+" a custom object"):t.ac(e+" "+r)}}function Lb(e,t,n){if((t=Yr(t))instanceof lb)return t._internalPath;if("string"==typeof t)return Fb(e,t);throw Ub("Field path arguments must be of type string or ",e,!1,void 0,n)}var Mb=new RegExp("[~\\*/\\[\\]]");function Fb(e,t,n){if(t.search(Mb)>=0)throw Ub("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return br(lb,Fe(t.split(".")))._internalPath}catch(r){throw Ub("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function Ub(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,u="Function ".concat(t,"() called with invalid data");n&&(u+=" (via `toFirestore()`)"),u+=". ";var s="";return(a||o)&&(s+=" (found",a&&(s+=" in field ".concat(r)),o&&(s+=" in document ".concat(i)),s+=")"),new Yc($c.INVALID_ARGUMENT,u+e+s)}function jb(e,t){return e.some((function(e){return e.isEqual(t)}))}var Vb=function(){function e(t,n,i,a,o){r(this,e),this._firestore=t,this._userDataWriter=n,this._key=i,this._document=a,this._converter=o}return a(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new Kk(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new Bb(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(zb("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),Bb=function(e){u(n,e);var t=d(n);function n(){return r(this,n),t.apply(this,arguments)}return a(n,[{key:"data",value:function(){return xa(s(n.prototype),"data",this).call(this)}}]),n}(Vb);function zb(e,t){return"string"==typeof t?Fb(e,t):t instanceof lb?t._internalPath:t._delegate._internalPath}var qb=function(){function e(t,n){r(this,e),this.hasPendingWrites=t,this.fromCache=n}return a(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),Gb=function(e){u(n,e);var t=d(n);function n(e,i,a,o,u,s){var c;return r(this,n),(c=t.call(this,e,i,a,o,s))._firestore=e,c._firestoreImpl=e,c.metadata=u,c}return a(n,[{key:"exists",value:function(){return xa(s(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new Kb(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(zb("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(Vb),Kb=function(e){u(n,e);var t=d(n);function n(){return r(this,n),t.apply(this,arguments)}return a(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return xa(s(n.prototype),"data",this).call(this,e)}}]),n}(Gb),Hb=function(){function e(t,n,i,a){r(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=a,this.metadata=new qb(a.hasPendingWrites,a.fromCache),this.query=i}return a(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new Kb(n._firestore,n._userDataWriter,r.key,r,new qb(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Yc($c.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){return{type:"added",doc:new Kb(e._firestore,e._userDataWriter,t.doc.key,t.doc,new qb(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new Kb(e._firestore,e._userDataWriter,t.doc.key,t.doc,new qb(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:Wb(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}]),e}();function Wb(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Hc()}}function Qb(e,t){return e instanceof Gb&&t instanceof Gb?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof Hb&&t instanceof Hb&&e._firestore===t._firestore&&Xk(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}function $b(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new Yc($c.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Yb=a((function e(){r(this,e)}));function Xb(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=o._apply(e)}return e}var Jb=function(e){u(n,e);var t=d(n);function n(e,i,a){var o;return r(this,n),(o=t.call(this))._c=e,o.wc=i,o.mc=a,o.type="where",o}return a(n,[{key:"_apply",value:function(e){var t=bb(e.firestore),n=function(e,t,n,r,i,a,o){var u;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new Yc($c.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on documentId()."));if("in"===a||"not-in"===a){cw(o,a);var s,c=[],l=kr(o);try{for(l.s();!(s=l.n()).done;){var f=s.value;c.push(sw(r,e,f))}}catch(d){l.e(d)}finally{l.f()}u={arrayValue:{values:c}}}else u=sw(r,e,o)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||cw(o,a),u=Ab(n,"where",o,"in"===a||"not-in"===a);var h=Af.create(i,a,u);return function(e,t){if(t.S()){var n=Qf(e);if(null!==n&&!n.isEqual(t.field))throw new Yc($c.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(t.field.toString(),"'"));var r=Wf(e);null!==r&&lw(e,t.field,r)}var i=function(e,t){var n,r=kr(e.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(t.indexOf(i.op)>=0)return i.op}}catch(d){r.e(d)}finally{r.f()}return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==i)throw i===t.op?new Yc($c.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new Yc($c.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(i.toString(),"' filters."))}(e,h),h}(e._query,0,t,e.firestore._databaseId,this._c,this.wc,this.mc);return new Hk(e.firestore,e.converter,function(e,t){var n=e.filters.concat([t]);return new Gf(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}(e._query,n))}}]),n}(Yb);var Zb=function(e){u(n,e);var t=d(n);function n(e,i){var a;return r(this,n),(a=t.call(this))._c=e,a.gc=i,a.type="orderBy",a}return a(n,[{key:"_apply",value:function(e){var t=function(e,t,n){if(null!==e.startAt)throw new Yc($c.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new Yc($c.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new Vf(t,n);return function(e,t){if(null===Wf(e)){var n=Qf(e);null!==n&&lw(e,n,t.field)}}(e,r),r}(e._query,this._c,this.gc);return new Hk(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new Gf(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}]),n}(Yb);var ew=function(e){u(n,e);var t=d(n);function n(e,i,a){var o;return r(this,n),(o=t.call(this)).type=e,o.yc=i,o.Ic=a,o}return a(n,[{key:"_apply",value:function(e){return new Hk(e.firestore,e.converter,Jf(e._query,this.yc,this.Ic))}}]),n}(Yb);var tw=function(e){u(n,e);var t=d(n);function n(e,i,a){var o;return r(this,n),(o=t.call(this)).type=e,o.Tc=i,o.Ec=a,o}return a(n,[{key:"_apply",value:function(e){var t=uw(e,this.type,this.Tc,this.Ec);return new Hk(e.firestore,e.converter,function(e,t){return new Gf(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}]),n}(Yb);function nw(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new tw("startAt",t,!0)}function rw(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new tw("startAfter",t,!1)}var iw=function(e){u(n,e);var t=d(n);function n(e,i,a){var o;return r(this,n),(o=t.call(this)).type=e,o.Tc=i,o.Ec=a,o}return a(n,[{key:"_apply",value:function(e){var t=uw(e,this.type,this.Tc,this.Ec);return new Hk(e.firestore,e.converter,function(e,t){return new Gf(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}]),n}(Yb);function aw(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new iw("endBefore",t,!1)}function ow(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new iw("endAt",t,!0)}function uw(e,t,n,r){if(n[0]=Yr(n[0]),n[0]instanceof Vb)return function(e,t,n,r,i){if(!r)throw new Yc($c.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));var a,o=[],u=kr(Yf(e));try{for(u.s();!(a=u.n()).done;){var s=a.value;if(s.field.isKeyField())o.push(Kl(t,r.key));else{var c=r.data.field(s.field);if(Tl(c))throw new Yc($c.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+s.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=s.field.canonicalString();throw new Yc($c.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(l,"' (used as the orderBy) does not exist."))}o.push(c)}}}catch(f){u.e(f)}finally{u.f()}return new jf(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=bb(e.firestore);return function(e,t,n,r,i,a){var o=e.explicitOrderBy;if(i.length>o.length)throw new Yc($c.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));for(var u=[],s=0;s<i.length;s++){var c=i[s];if(o[s].field.isKeyField()){if("string"!=typeof c)throw new Yc($c.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof c));if(!$f(e)&&-1!==c.indexOf("/"))throw new Yc($c.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(c,"' contains a slash."));var l=e.path.child(gl.fromString(c));if(!Ll.isDocumentKey(l))throw new Yc($c.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(l,"' is not because it contains an odd number of segments."));var f=new Ll(l);u.push(Kl(t,f))}else{var h=Ab(n,r,c);u.push(h)}}return new jf(u,a)}(e._query,e.firestore._databaseId,i,t,n,r)}function sw(e,t,n){if("string"==typeof(n=Yr(n))){if(""===n)throw new Yc($c.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!$f(t)&&-1!==n.indexOf("/"))throw new Yc($c.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(gl.fromString(n));if(!Ll.isDocumentKey(r))throw new Yc($c.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return Kl(e,new Ll(r))}if(n instanceof Kk)return Kl(e,n._key);throw new Yc($c.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(jk(n),"."))}function cw(e,t){if(!Array.isArray(e)||0===e.length)throw new Yc($c.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."));if(e.length>10)throw new Yc($c.INVALID_ARGUMENT,"Invalid Query. '".concat(t.toString(),"' filters support a maximum of 10 elements in the value array."))}function lw(e,t,n){if(!n.isEqual(t))throw new Yc($c.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}var fw={maxAttempts:5},hw=function(){function e(){r(this,e)}return a(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(Ul(e)){case 0:return null;case 1:return e.booleanValue;case 2:return El(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Il(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Hc()}}},{key:"convertObject",value:function(e,t){var n=this,r={};return vl(e.fields,(function(e,i){r[e]=n.convertValue(i,t)})),r}},{key:"convertGeoPoint",value:function(e){return new db(El(e.latitude),El(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=Cl(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Nl(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=_l(e);return new hl(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=gl.fromString(e);Wc(Vd(n));var r=new Ol(n.get(1),n.get(3)),i=new Ll(n.popFirst(5));return r.isEqual(t)||qc("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function dw(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var pw=function(e){u(n,e);var t=d(n);function n(e){var i;return r(this,n),(i=t.call(this)).firestore=e,i}return a(n,[{key:"convertBytes",value:function(e){return new fb(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new Kk(this.firestore,null,t)}}]),n}(hw),vw=function(){function e(t,n){r(this,e),this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=bb(t)}return a(e,[{key:"set",value:function(e,t,n){this._verifyNotCommitted();var r=yw(e,this._firestore),i=dw(r.converter,t,n),a=wb(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(a.toMutation(r._key,Sh.none())),this}},{key:"update",value:function(e,t,n){this._verifyNotCommitted();for(var r,i=yw(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=Yr(t))||t instanceof lb?Nb(this._dataReader,"WriteBatch.update",i._key,t,n,o):Cb(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(r.toMutation(i._key,Sh.exists(!0))),this}},{key:"delete",value:function(e){this._verifyNotCommitted();var t=yw(e,this._firestore);return this._mutations=this._mutations.concat(new Uh(t._key,Sh.none())),this}},{key:"commit",value:function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}},{key:"_verifyNotCommitted",value:function(){if(this._committed)throw new Yc($c.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}]),e}();function yw(e,t){if((e=Yr(e)).firestore!==t)throw new Yc($c.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var mw=function(e){u(n,e);var t=d(n);function n(e){var i;return r(this,n),(i=t.call(this)).firestore=e,i}return a(n,[{key:"convertBytes",value:function(e){return new fb(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new Kk(this.firestore,null,t)}}]),n}(hw);function gw(e){e=Vk(e,Kk);var t=Vk(e.firestore,tb),n=nb(t),r=new mw(t);return function(e,t){var n=new Xc;return e.asyncQueue.enqueueAndForget(yr(gr().mark((function r(){return gr().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=yr(gr().mark((function e(t,n,r){var i,a;return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,function(e,t){var n=Qc(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.fi.Ls(e,t)}))}(t,n);case 3:(i=e.sent).isFoundDocument()?r.resolve(i):i.isNoDocument()?r.resolve(null):r.reject(new Yc($c.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),a=zm(e.t0,"Failed to get document '".concat(n," from cache")),r.reject(a);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,Tk(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._key).then((function(n){return new Gb(t,r,e._key,n,new qb(null!==n&&n.hasLocalMutations,!0),e.converter)}))}function kw(e){e=Vk(e,Hk);var t=Vk(e.firestore,tb),n=nb(t),r=new mw(t);return function(e,t){var n=new Xc;return e.asyncQueue.enqueueAndForget(yr(gr().mark((function r(){return gr().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=yr(gr().mark((function e(t,n,r){var i,a,o,u,s;return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ly(t,n,!0);case 3:i=e.sent,a=new sg(n,i._i),o=a.Wu(i.documents),u=a.applyChanges(o,!1),r.resolve(u.snapshot),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),s=zm(e.t0,"Failed to execute query '".concat(n," against cache")),r.reject(s);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,Tk(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._query).then((function(n){return new Hb(t,r,e,n)}))}function bw(e,t,n){e=Vk(e,Kk);var r=Vk(e.firestore,tb),i=dw(e.converter,t,n);return _w(r,[wb(bb(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,Sh.none())])}function ww(e,t,n){e=Vk(e,Kk);for(var r=Vk(e.firestore,tb),i=bb(r),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return _w(r,[("string"==typeof(t=Yr(t))||t instanceof lb?Nb(i,"updateDoc",e._key,t,n,o):Cb(i,"updateDoc",e._key,t)).toMutation(e._key,Sh.exists(!0))])}function xw(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,a,o;e=Yr(e);var u={includeMetadataChanges:!1},s=0;"object"!=typeof n[s]||Zk(n[s])||(u=n[s],s++);var c,l,f,h={includeMetadataChanges:u.includeMetadataChanges};if(Zk(n[s])){var d=n[s];n[s]=null===(i=d.next)||void 0===i?void 0:i.bind(d),n[s+1]=null===(a=d.error)||void 0===a?void 0:a.bind(d),n[s+2]=null===(o=d.complete)||void 0===o?void 0:o.bind(d)}if(e instanceof Kk)l=Vk(e.firestore,tb),f=Hf(e._key.path),c={next:function(t){n[s]&&n[s](Ew(l,e,t))},error:n[s+1],complete:n[s+2]};else{var p=Vk(e,Hk);l=Vk(p.firestore,tb),f=p._query;var v=new mw(l);c={next:function(e){n[s]&&n[s](new Hb(l,v,p,e))},error:n[s+1],complete:n[s+2]},$b(e._query)}return function(e,t,n,r){var i=new dk(r),a=new tg(t,i,n);return e.asyncQueue.enqueueAndForget(yr(gr().mark((function t(){return gr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=Qm,t.next=3,Ak(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){i.Aa(),e.asyncQueue.enqueueAndForget(yr(gr().mark((function t(){return gr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=Ym,t.next=3,Ak(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(nb(l),f,h,c)}function Sw(e,t){return function(e,t){var n=new dk(t);return e.asyncQueue.enqueueAndForget(yr(gr().mark((function t(){return gr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){Qc(e).bu.add(t),t.next()},t.next=3,Ak(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){n.Aa(),e.asyncQueue.enqueueAndForget(yr(gr().mark((function t(){return gr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){Qc(e).bu.delete(t)},t.next=3,Ak(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(nb(e=Vk(e,tb)),Zk(t)?t:{next:t})}function _w(e,t){return function(e,t){var n=new Xc;return e.asyncQueue.enqueueAndForget(yr(gr().mark((function r(){return gr().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=gg,r.next=3,Nk(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(nb(e),t)}function Ew(e,t,n){var r=n.docs.get(t._key),i=new mw(e);return new Gb(e,i,t._key,r,new qb(n.hasPendingWrites,n.fromCache),t.converter)}var Iw=function(e){u(n,e);var t=d(n);function n(e,i){var a;return r(this,n),(a=t.call(this,e,i))._firestore=e,a}return a(n,[{key:"get",value:function(e){var t=this,r=yw(e,this._firestore),i=new mw(this._firestore);return xa(s(n.prototype),"get",this).call(this,e).then((function(e){return new Gb(t._firestore,i,r._key,e._document,new qb(!1,!1),r.converter)}))}}]),n}(function(){function e(t,n){r(this,e),this._firestore=t,this._transaction=n,this._dataReader=bb(t)}return a(e,[{key:"get",value:function(e){var t=this,n=yw(e,this._firestore),r=new pw(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return Hc();var i=e[0];if(i.isFoundDocument())return new Vb(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new Vb(t._firestore,r,n._key,null,n.converter);throw Hc()}))}},{key:"set",value:function(e,t,n){var r=yw(e,this._firestore),i=dw(r.converter,t,n),a=wb(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,a),this}},{key:"update",value:function(e,t,n){for(var r,i=yw(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=Yr(t))||t instanceof lb?Nb(this._dataReader,"Transaction.update",i._key,t,n,o):Cb(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,r),this}},{key:"delete",value:function(e){var t=yw(e,this._firestore);return this._transaction.delete(t._key),this}}]),e}());function Tw(e,t,n){e=Vk(e,tb);var r=Object.assign(Object.assign({},fw),n);return function(e){if(e.maxAttempts<1)throw new Yc($c.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(e,t,n){var r=new Xc;return e.asyncQueue.enqueueAndForget(yr(gr().mark((function i(){var a;return gr().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,function(e){return _k(e).then((function(e){return e.datastore}))}(e);case 2:a=i.sent,new yk(e.asyncQueue,a,n,t,r).run();case 4:case"end":return i.stop()}}),i)})))),r.promise}(nb(e),(function(n){return t(new Iw(e,n))}),r)}function Cw(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Eb("arrayUnion",t)}function Nw(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Ib("arrayRemove",t)}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){jc=e}(Gi),Fi(new Xr("firestore",(function(e,n){var r=n.options,i=e.getProvider("app").getImmediate(),a=new tb(i,new tl(e.getProvider("auth-internal")),new al(e.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:t},r),a._setSettings(r),a}),"PUBLIC")),Yi(Fc,"3.4.9",e),Yi(Fc,"3.4.9","esm2017")}();function Aw(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new Yc("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function Ow(){if("undefined"===typeof Uint8Array)throw new Yc("unimplemented","Uint8Arrays are not available in this environment.")}function Pw(){if("undefined"==typeof atob)throw new Yc("unimplemented","Blobs are unavailable in Firestore in this environment.")}var Rw=function(){function e(t){r(this,e),this._delegate=t}return a(e,[{key:"toBase64",value:function(){return Pw(),this._delegate.toBase64()}},{key:"toUint8Array",value:function(){return Ow(),this._delegate.toUint8Array()}},{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}},{key:"toString",value:function(){return"Blob(base64: "+this.toBase64()+")"}}],[{key:"fromBase64String",value:function(t){return Pw(),new e(fb.fromBase64String(t))}},{key:"fromUint8Array",value:function(t){return Ow(),new e(fb.fromUint8Array(t))}}]),e}();function Dw(e){return function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=e,i=kr(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"===typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e,["next","error","complete"])}var Lw=function(){function e(){r(this,e)}return a(e,[{key:"enableIndexedDbPersistence",value:function(e,t){return function(e,t){cb(e=Vk(e,tb));var n=nb(e),r=e._freezeSettings(),i=new fk;return ib(n,i,new ck(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}},{key:"enableMultiTabIndexedDbPersistence",value:function(e){return function(e){cb(e=Vk(e,tb));var t=nb(e),n=e._freezeSettings(),r=new fk;return ib(t,r,new lk(r,n.cacheSizeBytes))}(e._delegate)}},{key:"clearIndexedDbPersistence",value:function(e){return function(e){if(e._initialized&&!e._terminated)throw new Yc($c.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var t=new Xc;return e._queue.enqueueAndForgetEvenWhileRestricted(yr(gr().mark((function n(){return gr().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,function(){var e=yr(gr().mark((function e(t){var n;return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(mp.vt()){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:return n=t+"main",e.next=5,mp.delete(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(Qv(e._databaseId,e._persistenceKey));case 3:t.resolve(),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),t.reject(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))),t.promise}(e._delegate)}}]),e}(),Mw=function(){function e(t,n,i){var a=this;r(this,e),this._delegate=n,this._persistenceProvider=i,this.INTERNAL={delete:function(){return a.terminate()}},t instanceof Ol||(this._appCompat=t)}return a(e,[{key:"_databaseId",get:function(){return this._delegate._databaseId}},{key:"settings",value:function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||Gc("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Gk(this._delegate,e,t,n)}},{key:"enableNetwork",value:function(){return ab(this._delegate)}},{key:"disableNetwork",value:function(){return ob(this._delegate)}},{key:"enablePersistence",value:function(e){var t=!1,n=!1;return e&&Mk("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}},{key:"clearPersistence",value:function(){return this._persistenceProvider.clearIndexedDbPersistence(this)}},{key:"terminate",value:function(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}},{key:"waitForPendingWrites",value:function(){return function(e){return function(e){var t=new Xc;return e.asyncQueue.enqueueAndForget(yr(gr().mark((function n(){return gr().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=Ng,n.next=3,Nk(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)})))),t.promise}(nb(e=Vk(e,tb)))}(this._delegate)}},{key:"onSnapshotsInSync",value:function(e){return Sw(this._delegate,e)}},{key:"app",get:function(){if(!this._appCompat)throw new Yc("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}},{key:"collection",value:function(e){try{return new Yw(this,Qk(this._delegate,e))}catch(t){throw zw(t,"collection()","Firestore.collection()")}}},{key:"doc",value:function(e){try{return new Bw(this,$k(this._delegate,e))}catch(t){throw zw(t,"doc()","Firestore.doc()")}}},{key:"collectionGroup",value:function(e){try{return new Ww(this,function(e,t){if(e=Vk(e,qk),Lk("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new Yc($c.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new Hk(e,null,function(e){return new Gf(gl.emptyPath(),e)}(t))}(this._delegate,e))}catch(t){throw zw(t,"collectionGroup()","Firestore.collectionGroup()")}}},{key:"runTransaction",value:function(e){var t=this;return Tw(this._delegate,(function(n){return e(new Uw(t,n))}))}},{key:"batch",value:function(){var e=this;return nb(this._delegate),new jw(new vw(this._delegate,(function(t){return _w(e._delegate,t)})))}},{key:"loadBundle",value:function(e){return ub(this._delegate,e)}},{key:"namedQuery",value:function(e){var t=this;return sb(this._delegate,e).then((function(e){return e?new Ww(t,e):null}))}}]),e}(),Fw=function(e){u(n,e);var t=d(n);function n(e){var i;return r(this,n),(i=t.call(this)).firestore=e,i}return a(n,[{key:"convertBytes",value:function(e){return new Rw(new fb(e))}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return Bw.forKey(t,this.firestore,null)}}]),n}(hw);var Uw=function(){function e(t,n){r(this,e),this._firestore=t,this._delegate=n,this._userDataWriter=new Fw(t)}return a(e,[{key:"get",value:function(e){var t=this,n=Xw(e);return this._delegate.get(n).then((function(e){return new Kw(t._firestore,new Gb(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))}},{key:"set",value:function(e,t,n){var r=Xw(e);return n?(Aw("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=Xw(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=Xw(e);return this._delegate.delete(t),this}}]),e}(),jw=function(){function e(t){r(this,e),this._delegate=t}return a(e,[{key:"set",value:function(e,t,n){var r=Xw(e);return n?(Aw("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=Xw(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=Xw(e);return this._delegate.delete(t),this}},{key:"commit",value:function(){return this._delegate.commit()}}]),e}(),Vw=function(){function e(t,n,i){r(this,e),this._firestore=t,this._userDataWriter=n,this._delegate=i}return a(e,[{key:"fromFirestore",value:function(e,t){var n=new Kb(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Hw(this._firestore,n),null!==t&&void 0!==t?t:{})}},{key:"toFirestore",value:function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}}],[{key:"getInstance",value:function(t,n){var r=e.INSTANCES,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var a=i.get(n);return a||(a=new e(t,new Fw(t),n),i.set(n,a)),a}}]),e}();Vw.INSTANCES=new WeakMap;var Bw=function(){function e(t,n){r(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new Fw(t)}return a(e,[{key:"id",get:function(){return this._delegate.id}},{key:"parent",get:function(){return new Yw(this.firestore,this._delegate.parent)}},{key:"path",get:function(){return this._delegate.path}},{key:"collection",value:function(e){try{return new Yw(this.firestore,Qk(this._delegate,e))}catch(t){throw zw(t,"collection()","DocumentReference.collection()")}}},{key:"isEqual",value:function(e){return(e=Yr(e))instanceof Kk&&Yk(this._delegate,e)}},{key:"set",value:function(e,t){t=Aw("DocumentReference.set",t);try{return t?bw(this._delegate,e,t):bw(this._delegate,e)}catch(n){throw zw(n,"setDoc()","DocumentReference.set()")}}},{key:"update",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?ww(this._delegate,e):ww.apply(void 0,[this._delegate,e,t].concat(r))}catch(a){throw zw(a,"updateDoc()","DocumentReference.update()")}}},{key:"delete",value:function(){return function(e){return _w(Vk(e.firestore,tb),[new Uh(e._key,Sh.none())])}(this._delegate)}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=qw(n),a=Gw(n,(function(t){return new Kw(e.firestore,new Gb(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return xw(this._delegate,i,a)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?gw(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=Vk(e,Kk);var t=Vk(e.firestore,tb);return Pk(nb(t),e._key,{source:"server"}).then((function(n){return Ew(t,e,n)}))}(this._delegate):function(e){e=Vk(e,Kk);var t=Vk(e.firestore,tb);return Pk(nb(t),e._key).then((function(n){return Ew(t,e,n)}))}(this._delegate),t.then((function(e){return new Kw(n.firestore,new Gb(n.firestore._delegate,n._userDataWriter,e._key,e._document,e.metadata,n._delegate.converter))}))}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(Vw.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}],[{key:"forPath",value:function(t,n,r){if(t.length%2!==0)throw new Yc("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(t.canonicalString()," has ").concat(t.length));return new e(n,new Kk(n._delegate,r,new Ll(t)))}},{key:"forKey",value:function(t,n,r){return new e(n,new Kk(n._delegate,r,t))}}]),e}();function zw(e,t,n){return e.message=e.message.replace(t,n),e}function qw(e){var t,n=kr(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if("object"===typeof r&&!Dw(r))return r}}catch(i){n.e(i)}finally{n.f()}return{}}function Gw(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=Dw(e[0])?e[0]:Dw(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var Kw=function(){function e(t,n){r(this,e),this._firestore=t,this._delegate=n}return a(e,[{key:"ref",get:function(){return new Bw(this._firestore,this._delegate.ref)}},{key:"id",get:function(){return this._delegate.id}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"exists",get:function(){return this._delegate.exists()}},{key:"data",value:function(e){return this._delegate.data(e)}},{key:"get",value:function(e,t){return this._delegate.get(e,t)}},{key:"isEqual",value:function(e){return Qb(this._delegate,e._delegate)}}]),e}(),Hw=function(e){u(n,e);var t=d(n);function n(){return r(this,n),t.apply(this,arguments)}return a(n,[{key:"data",value:function(e){var t=this._delegate.data(e);return function(e,t){e||Hc()}(void 0!==t),t}}]),n}(Kw),Ww=function(){function e(t,n){r(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new Fw(t)}return a(e,[{key:"where",value:function(t,n,r){try{return new e(this.firestore,Xb(this._delegate,function(e,t,n){var r=t,i=zb("where",e);return new Jb(i,r,n)}(t,n,r)))}catch(i){throw zw(i,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"orderBy",value:function(t,n){try{return new e(this.firestore,Xb(this._delegate,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=zb("orderBy",e);return new Zb(n,t)}(t,n)))}catch(r){throw zw(r,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"limit",value:function(t){try{return new e(this.firestore,Xb(this._delegate,function(e){return Bk("limit",e),new ew("limit",e,"F")}(t)))}catch(n){throw zw(n,"limit()","Query.limit()")}}},{key:"limitToLast",value:function(t){try{return new e(this.firestore,Xb(this._delegate,function(e){return Bk("limitToLast",e),new ew("limitToLast",e,"L")}(t)))}catch(n){throw zw(n,"limitToLast()","Query.limitToLast()")}}},{key:"startAt",value:function(){try{return new e(this.firestore,Xb(this._delegate,nw.apply(void 0,arguments)))}catch(t){throw zw(t,"startAt()","Query.startAt()")}}},{key:"startAfter",value:function(){try{return new e(this.firestore,Xb(this._delegate,rw.apply(void 0,arguments)))}catch(t){throw zw(t,"startAfter()","Query.startAfter()")}}},{key:"endBefore",value:function(){try{return new e(this.firestore,Xb(this._delegate,aw.apply(void 0,arguments)))}catch(t){throw zw(t,"endBefore()","Query.endBefore()")}}},{key:"endAt",value:function(){try{return new e(this.firestore,Xb(this._delegate,ow.apply(void 0,arguments)))}catch(t){throw zw(t,"endAt()","Query.endAt()")}}},{key:"isEqual",value:function(e){return Xk(this._delegate,e._delegate)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?kw(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=Vk(e,Hk);var t=Vk(e.firestore,tb),n=nb(t),r=new mw(t);return Rk(n,e._query,{source:"server"}).then((function(n){return new Hb(t,r,e,n)}))}(this._delegate):function(e){e=Vk(e,Hk);var t=Vk(e.firestore,tb),n=nb(t),r=new mw(t);return $b(e._query),Rk(n,e._query).then((function(n){return new Hb(t,r,e,n)}))}(this._delegate),t.then((function(e){return new $w(n.firestore,new Hb(n.firestore._delegate,n._userDataWriter,n._delegate,e._snapshot))}))}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=qw(n),a=Gw(n,(function(t){return new $w(e.firestore,new Hb(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return xw(this._delegate,i,a)}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(Vw.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}]),e}(),Qw=function(){function e(t,n){r(this,e),this._firestore=t,this._delegate=n}return a(e,[{key:"type",get:function(){return this._delegate.type}},{key:"doc",get:function(){return new Hw(this._firestore,this._delegate.doc)}},{key:"oldIndex",get:function(){return this._delegate.oldIndex}},{key:"newIndex",get:function(){return this._delegate.newIndex}}]),e}(),$w=function(){function e(t,n){r(this,e),this._firestore=t,this._delegate=n}return a(e,[{key:"query",get:function(){return new Ww(this._firestore,this._delegate.query)}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"size",get:function(){return this._delegate.size}},{key:"empty",get:function(){return this._delegate.empty}},{key:"docs",get:function(){var e=this;return this._delegate.docs.map((function(t){return new Hw(e._firestore,t)}))}},{key:"docChanges",value:function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new Qw(t._firestore,e)}))}},{key:"forEach",value:function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new Hw(n._firestore,r))}))}},{key:"isEqual",value:function(e){return Qb(this._delegate,e._delegate)}}]),e}(),Yw=function(e){u(n,e);var t=d(n);function n(e,i){var a;return r(this,n),(a=t.call(this,e,i)).firestore=e,a._delegate=i,a}return a(n,[{key:"id",get:function(){return this._delegate.id}},{key:"path",get:function(){return this._delegate.path}},{key:"parent",get:function(){var e=this._delegate.parent;return e?new Bw(this.firestore,e):null}},{key:"doc",value:function(e){try{return new Bw(this.firestore,void 0===e?$k(this._delegate):$k(this._delegate,e))}catch(t){throw zw(t,"doc()","CollectionReference.doc()")}}},{key:"add",value:function(e){var t=this;return function(e,t){var n=Vk(e.firestore,tb),r=$k(e),i=dw(e.converter,t);return _w(n,[wb(bb(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,Sh.exists(!1))]).then((function(){return r}))}(this._delegate,e).then((function(e){return new Bw(t.firestore,e)}))}},{key:"isEqual",value:function(e){return Yk(this._delegate,e._delegate)}},{key:"withConverter",value:function(e){return new n(this.firestore,e?this._delegate.withConverter(Vw.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}]),n}(Ww);function Xw(e){return Vk(e,Kk)}var Jw,Zw=function(){function e(){r(this,e);for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];this._delegate=br(lb,n)}return a(e,[{key:"isEqual",value:function(e){return(e=Yr(e))instanceof lb&&this._delegate._internalPath.isEqual(e._internalPath)}}],[{key:"documentId",value:function(){return new e(bl.keyField().canonicalString())}}]),e}(),ex=function(){function e(t){r(this,e),this._delegate=t}return a(e,[{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}}],[{key:"serverTimestamp",value:function(){var t=new _b("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)}},{key:"delete",value:function(){var t=new xb("deleteField");return t._methodName="FieldValue.delete",new e(t)}},{key:"arrayUnion",value:function(){var t=Cw.apply(void 0,arguments);return t._methodName="FieldValue.arrayUnion",new e(t)}},{key:"arrayRemove",value:function(){var t=Nw.apply(void 0,arguments);return t._methodName="FieldValue.arrayRemove",new e(t)}},{key:"increment",value:function(t){var n=function(e){return new Tb("increment",e)}(t);return n._methodName="FieldValue.increment",new e(n)}}]),e}(),tx={Firestore:Mw,GeoPoint:db,Timestamp:hl,Blob:Rw,Transaction:Uw,WriteBatch:jw,DocumentReference:Bw,DocumentSnapshot:Kw,Query:Ww,QueryDocumentSnapshot:Hw,QuerySnapshot:$w,CollectionReference:Yw,FieldPath:Zw,FieldValue:ex,setLogLevel:function(e){!function(e){Vc.setLogLevel(e)}(e)},CACHE_SIZE_UNLIMITED:-1};(function(e,t){e.INTERNAL.registerComponent(new Xr("firestore-compat",(function(e){var n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},tx)))})(Jw=ba,(function(e,t){return new Mw(e,t,new Lw)})),Jw.registerVersion("@firebase/firestore-compat","0.1.18");function nx(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;var rx;Object.create;var ix="facebook.com",ax="github.com",ox="google.com",ux="password",sx="twitter.com",cx="EMAIL_SIGNIN",lx="PASSWORD_RESET",fx="RECOVER_EMAIL",hx="REVERT_SECOND_FACTOR_ADDITION",dx="VERIFY_AND_CHANGE_EMAIL",px="VERIFY_EMAIL";function vx(){return gt({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var yx=function(){var e;return gt(e={},"admin-restricted-operation","This operation is restricted to administrators only."),gt(e,"argument-error",""),gt(e,"app-not-authorized","This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console."),gt(e,"app-not-installed","The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device."),gt(e,"captcha-check-failed","The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains."),gt(e,"code-expired","The SMS code has expired. Please re-send the verification code to try again."),gt(e,"cordova-not-ready","Cordova framework is not ready."),gt(e,"cors-unsupported","This browser is not supported."),gt(e,"credential-already-in-use","This credential is already associated with a different user account."),gt(e,"custom-token-mismatch","The custom token corresponds to a different audience."),gt(e,"requires-recent-login","This operation is sensitive and requires recent authentication. Log in again before retrying this request."),gt(e,"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."),gt(e,"dynamic-link-not-activated","Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions."),gt(e,"email-change-needs-verification","Multi-factor users must always have a verified email."),gt(e,"email-already-in-use","The email address is already in use by another account."),gt(e,"emulator-config-failed",'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.'),gt(e,"expired-action-code","The action code has expired."),gt(e,"cancelled-popup-request","This operation has been cancelled due to another conflicting popup being opened."),gt(e,"internal-error","An internal AuthError has occurred."),gt(e,"invalid-app-credential","The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired."),gt(e,"invalid-app-id","The mobile app identifier is not registed for the current project."),gt(e,"invalid-user-token","This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key."),gt(e,"invalid-auth-event","An internal AuthError has occurred."),gt(e,"invalid-verification-code","The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user."),gt(e,"invalid-continue-uri","The continue URL provided in the request is invalid."),gt(e,"invalid-cordova-configuration","The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme."),gt(e,"invalid-custom-token","The custom token format is incorrect. Please check the documentation."),gt(e,"invalid-dynamic-link-domain","The provided dynamic link domain is not configured or authorized for the current project."),gt(e,"invalid-email","The email address is badly formatted."),gt(e,"invalid-emulator-scheme","Emulator URL must start with a valid scheme (http:// or https://)."),gt(e,"invalid-api-key","Your API key is invalid, please check you have copied it correctly."),gt(e,"invalid-cert-hash","The SHA-1 certificate hash provided is invalid."),gt(e,"invalid-credential","The supplied auth credential is malformed or has expired."),gt(e,"invalid-message-payload","The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console."),gt(e,"invalid-multi-factor-session","The request does not contain a valid proof of first factor successful sign-in."),gt(e,"invalid-oauth-provider","EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers."),gt(e,"invalid-oauth-client-id","The OAuth client ID provided is either invalid or does not match the specified API key."),gt(e,"unauthorized-domain","This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console."),gt(e,"invalid-action-code","The action code is invalid. This can happen if the code is malformed, expired, or has already been used."),gt(e,"wrong-password","The password is invalid or the user does not have a password."),gt(e,"invalid-persistence-type","The specified persistence type is invalid. It can only be local, session or none."),gt(e,"invalid-phone-number","The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code]."),gt(e,"invalid-provider-id","The specified provider ID is invalid."),gt(e,"invalid-recipient-email","The email corresponding to this action failed to send as the provided recipient email address is invalid."),gt(e,"invalid-sender","The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console."),gt(e,"invalid-verification-id","The verification ID used to create the phone auth credential is invalid."),gt(e,"invalid-tenant-id","The Auth instance's tenant ID is invalid."),gt(e,"login-blocked","Login blocked by user-provided method: {$originalMessage}"),gt(e,"missing-android-pkg-name","An Android Package Name must be provided if the Android App is required to be installed."),gt(e,"auth-domain-config-required","Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console."),gt(e,"missing-app-credential","The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided."),gt(e,"missing-verification-code","The phone auth credential was created with an empty SMS verification code."),gt(e,"missing-continue-uri","A continue URL must be provided in the request."),gt(e,"missing-iframe-start","An internal AuthError has occurred."),gt(e,"missing-ios-bundle-id","An iOS Bundle ID must be provided if an App Store ID is provided."),gt(e,"missing-or-invalid-nonce","The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload."),gt(e,"missing-multi-factor-info","No second factor identifier is provided."),gt(e,"missing-multi-factor-session","The request is missing proof of first factor successful sign-in."),gt(e,"missing-phone-number","To send verification codes, provide a phone number for the recipient."),gt(e,"missing-verification-id","The phone auth credential was created with an empty verification ID."),gt(e,"app-deleted","This instance of FirebaseApp has been deleted."),gt(e,"multi-factor-info-not-found","The user does not have a second factor matching the identifier provided."),gt(e,"multi-factor-auth-required","Proof of ownership of a second factor is required to complete sign-in."),gt(e,"account-exists-with-different-credential","An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address."),gt(e,"network-request-failed","A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred."),gt(e,"no-auth-event","An internal AuthError has occurred."),gt(e,"no-such-provider","User was not linked to an account with the given provider."),gt(e,"null-user","A null user object was provided as the argument for an operation which requires a non-null user object."),gt(e,"operation-not-allowed","The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section."),gt(e,"operation-not-supported-in-this-environment",'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.'),gt(e,"popup-blocked","Unable to establish a connection with the popup. It may have been blocked by the browser."),gt(e,"popup-closed-by-user","The popup has been closed by the user before finalizing the operation."),gt(e,"provider-already-linked","User can only be linked to one identity for the given provider."),gt(e,"quota-exceeded","The project's quota for this operation has been exceeded."),gt(e,"redirect-cancelled-by-user","The redirect operation has been cancelled by the user before finalizing."),gt(e,"redirect-operation-pending","A redirect sign-in operation is already pending."),gt(e,"rejected-credential","The request contains malformed or mismatching credentials."),gt(e,"second-factor-already-in-use","The second factor is already enrolled on this account."),gt(e,"maximum-second-factor-count-exceeded","The maximum allowed number of second factors on a user has been exceeded."),gt(e,"tenant-id-mismatch","The provided tenant ID does not match the Auth instance's tenant ID"),gt(e,"timeout","The operation has timed out."),gt(e,"user-token-expired","The user's credential is no longer valid. The user must sign in again."),gt(e,"too-many-requests","We have blocked all requests from this device due to unusual activity. Try again later."),gt(e,"unauthorized-continue-uri","The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console."),gt(e,"unsupported-first-factor","Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor."),gt(e,"unsupported-persistence-type","The current environment does not support the specified persistence type."),gt(e,"unsupported-tenant-operation","This operation is not supported in a multi-tenant context."),gt(e,"unverified-email","The operation requires a verified email."),gt(e,"user-cancelled","The user did not grant your application the permissions it requested."),gt(e,"user-not-found","There is no user record corresponding to this identifier. The user may have been deleted."),gt(e,"user-disabled","The user account has been disabled by an administrator."),gt(e,"user-mismatch","The supplied credentials do not correspond to the previously signed in user."),gt(e,"user-signed-out",""),gt(e,"weak-password","The password must be 6 characters long or more."),gt(e,"web-storage-unsupported","This browser is not supported or 3rd party cookies and data may be disabled."),gt(e,"already-initialized","initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."),e},mx=vx,gx=new Ur("auth","Firebase",vx()),kx=new si("@firebase/auth");function bx(e){if(kx.logLevel<=ti.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];kx.error.apply(kx,["Auth (".concat(Gi,"): ").concat(e)].concat(n))}}function wx(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Ex.apply(void 0,[e].concat(n))}function xx(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Ex.apply(void 0,[e].concat(n))}function Sx(e,t,n){var r=Object.assign(Object.assign({},mx()),gt({},t,n));return new Ur("auth","Firebase",r).create(t,{appName:e.name})}function _x(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&wx(e,"argument-error"),Sx(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function Ex(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){var i,a=n[0],o=Fe(n.slice(1));return o[0]&&(o[0].appName=e.name),(i=e._errorFactory).create.apply(i,[a].concat(Fe(o)))}return gx.create.apply(gx,[e].concat(n))}function Ix(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw Ex.apply(void 0,[t].concat(r))}}function Tx(e){var t="INTERNAL ASSERTION FAILED: "+e;throw bx(t),new Error(t)}function Cx(e,t){e||Tx(t)}var Nx=new Map;function Ax(e){Cx(e instanceof Function,"Expected a class definition");var t=Nx.get(e);return t?(Cx(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Nx.set(e,t),t)}function Ox(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function Px(){return"http:"===Rx()||"https:"===Rx()}function Rx(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}var Dx=function(){function e(t,n){r(this,e),this.shortDelay=t,this.longDelay=n,Cx(n>t,"Short delay should be less than long delay!"),this.isMobile=Or()||Dr()}return a(e,[{key:"get",value:function(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(Px()||Rr()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}]),e}();function Lx(e,t){Cx(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}var Mx=function(){function e(){r(this,e)}return a(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void Tx("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void Tx("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void Tx("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),Fx=(gt(rx={},"CREDENTIAL_MISMATCH","custom-token-mismatch"),gt(rx,"MISSING_CUSTOM_TOKEN","internal-error"),gt(rx,"INVALID_IDENTIFIER","invalid-email"),gt(rx,"MISSING_CONTINUE_URI","internal-error"),gt(rx,"INVALID_PASSWORD","wrong-password"),gt(rx,"MISSING_PASSWORD","internal-error"),gt(rx,"EMAIL_EXISTS","email-already-in-use"),gt(rx,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),gt(rx,"INVALID_IDP_RESPONSE","invalid-credential"),gt(rx,"INVALID_PENDING_TOKEN","invalid-credential"),gt(rx,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),gt(rx,"MISSING_REQ_TYPE","internal-error"),gt(rx,"EMAIL_NOT_FOUND","user-not-found"),gt(rx,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),gt(rx,"EXPIRED_OOB_CODE","expired-action-code"),gt(rx,"INVALID_OOB_CODE","invalid-action-code"),gt(rx,"MISSING_OOB_CODE","internal-error"),gt(rx,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),gt(rx,"INVALID_ID_TOKEN","invalid-user-token"),gt(rx,"TOKEN_EXPIRED","user-token-expired"),gt(rx,"USER_NOT_FOUND","user-token-expired"),gt(rx,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),gt(rx,"INVALID_CODE","invalid-verification-code"),gt(rx,"INVALID_SESSION_INFO","invalid-verification-id"),gt(rx,"INVALID_TEMPORARY_PROOF","invalid-credential"),gt(rx,"MISSING_SESSION_INFO","missing-verification-id"),gt(rx,"SESSION_EXPIRED","code-expired"),gt(rx,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),gt(rx,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),gt(rx,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),gt(rx,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),gt(rx,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),gt(rx,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),gt(rx,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),gt(rx,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),gt(rx,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),gt(rx,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),gt(rx,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),rx),Ux=new Dx(3e4,6e4);function jx(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function Vx(e,t,n,r){return Bx.apply(this,arguments)}function Bx(){return Bx=yr(gr().mark((function e(t,n,r,i){var a,o=arguments;return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>4&&void 0!==o[4]?o[4]:{},e.abrupt("return",zx(t,a,yr(gr().mark((function e(){var a,o,u,s;return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},o={},i&&("GET"===n?o=i:a={body:JSON.stringify(i)}),u=Gr(Object.assign({key:t.config.apiKey},o)).slice(1),e.next=6,t._getAdditionalHeaders();case 6:return(s=e.sent)["Content-Type"]="application/json",t.languageCode&&(s["X-Firebase-Locale"]=t.languageCode),e.abrupt("return",Mx.fetch()(Hx(t,t.config.apiHost,r,u),Object.assign({method:n,headers:s,referrerPolicy:"no-referrer"},a)));case 10:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)}))),Bx.apply(this,arguments)}function zx(e,t,n){return qx.apply(this,arguments)}function qx(){return qx=yr(gr().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h,d;return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._canInitEmulator=!1,i=Object.assign(Object.assign({},Fx),n),e.prev=2,a=new Wx(t),e.next=6,Promise.race([r(),a.promise]);case 6:return o=e.sent,a.clearNetworkTimeout(),e.next=10,o.json();case 10:if(!("needConfirmation"in(u=e.sent))){e.next=13;break}throw Qx(t,"account-exists-with-different-credential",u);case 13:if(!o.ok||"errorMessage"in u){e.next=17;break}return e.abrupt("return",u);case 17:if(s=o.ok?u.errorMessage:u.error.message,c=s.split(" : "),l=Le(c,2),f=l[0],h=l[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==f){e.next=23;break}throw Qx(t,"credential-already-in-use",u);case 23:if("EMAIL_EXISTS"!==f){e.next=25;break}throw Qx(t,"email-already-in-use",u);case 25:if(d=i[f]||f.toLowerCase().replace(/[_\s]+/g,"-"),!h){e.next=30;break}throw Sx(t,d,h);case 30:wx(t,d);case 31:e.next=38;break;case 33:if(e.prev=33,e.t0=e.catch(2),!(e.t0 instanceof Fr)){e.next=37;break}throw e.t0;case 37:wx(t,"network-request-failed");case 38:case"end":return e.stop()}}),e,null,[[2,33]])}))),qx.apply(this,arguments)}function Gx(e,t,n,r){return Kx.apply(this,arguments)}function Kx(){return Kx=yr(gr().mark((function e(t,n,r,i){var a,o,u=arguments;return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=u.length>4&&void 0!==u[4]?u[4]:{},e.next=3,Vx(t,n,r,i,a);case 3:return"mfaPendingCredential"in(o=e.sent)&&wx(t,"multi-factor-auth-required",{_serverResponse:o}),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)}))),Kx.apply(this,arguments)}function Hx(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?Lx(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}var Wx=function(){function e(t){var n=this;r(this,e),this.auth=t,this.timer=null,this.promise=new Promise((function(e,t){n.timer=setTimeout((function(){return t(xx(n.auth,"network-request-failed"))}),Ux.get())}))}return a(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function Qx(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=xx(e,t,r);return i.customData._tokenResponse=n,i}function $x(e,t){return Yx.apply(this,arguments)}function Yx(){return Yx=yr(gr().mark((function e(t,n){return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Vx(t,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}}),e)}))),Yx.apply(this,arguments)}function Xx(e,t){return Jx.apply(this,arguments)}function Jx(){return Jx=yr(gr().mark((function e(t,n){return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Vx(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),Jx.apply(this,arguments)}function Zx(e,t){return eS.apply(this,arguments)}function eS(){return eS=yr(gr().mark((function e(t,n){return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Vx(t,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}}),e)}))),eS.apply(this,arguments)}function tS(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(n){}}function nS(){return nS=yr(gr().mark((function e(t){var n,r,i,a,o,u,s=arguments;return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>1&&void 0!==s[1]&&s[1],r=Yr(t),e.next=4,r.getIdToken(n);case 4:return i=e.sent,Ix((a=iS(i))&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error"),o="object"===typeof a.firebase?a.firebase:void 0,u=null===o||void 0===o?void 0:o.sign_in_provider,e.abrupt("return",{claims:a,token:i,authTime:tS(rS(a.auth_time)),issuedAtTime:tS(rS(a.iat)),expirationTime:tS(rS(a.exp)),signInProvider:u||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null});case 10:case"end":return e.stop()}}),e)}))),nS.apply(this,arguments)}function rS(e){return 1e3*Number(e)}function iS(e){var t=Le(e.split("."),3),n=t[0],r=t[1],i=t[2];if(void 0===n||void 0===r||void 0===i)return bx("JWT malformed, contained fewer than 3 sections"),null;try{var a=Er(r);return a?JSON.parse(a):(bx("Failed to decode base64 JWT payload"),null)}catch(o){return bx("Caught error parsing JWT payload as JSON",o),null}}function aS(e,t){return oS.apply(this,arguments)}function oS(){return oS=yr(gr().mark((function e(t,n){var r=arguments;return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>2&&void 0!==r[2]&&r[2])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof Fr&&uS(e.t0))){e.next=15;break}if(t.auth.currentUser!==t){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,9]])}))),oS.apply(this,arguments)}function uS(e){var t=e.code;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}var sS=function(){function e(t){r(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return a(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var n=this.getInterval(t);this.timerId=setTimeout(yr(gr().mark((function t(){return gr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.iteration();case 2:case"end":return t.stop()}}),t)}))),n)}}},{key:"iteration",value:function(){var e=yr(gr().mark((function e(){return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.getIdToken(!0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),e.t0.code==="auth/".concat("network-request-failed")&&this.schedule(!0),e.abrupt("return");case 9:this.schedule();case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),cS=function(){function e(t,n){r(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return a(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=tS(this.lastLoginAt),this.creationTime=tS(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function lS(e){return fS.apply(this,arguments)}function fS(){return fS=yr(gr().mark((function e(t){var n,r,i,a,o,u,s,c,l,f,h;return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.auth,e.next=3,t.getIdToken();case 3:return i=e.sent,e.next=6,aS(t,Zx(r,{idToken:i}));case 6:Ix(null===(a=e.sent)||void 0===a?void 0:a.users.length,r,"internal-error"),o=a.users[0],t._notifyReloadListener(o),u=(null===(n=o.providerUserInfo)||void 0===n?void 0:n.length)?pS(o.providerUserInfo):[],s=dS(t.providerData,u),c=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!(null===s||void 0===s?void 0:s.length),f=!!c&&l,h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:s,metadata:new cS(o.createdAt,o.lastLoginAt),isAnonymous:f},Object.assign(t,h);case 17:case"end":return e.stop()}}),e)}))),fS.apply(this,arguments)}function hS(){return(hS=yr(gr().mark((function e(t){var n;return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Yr(t),e.next=3,lS(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function dS(e,t){var n=e.filter((function(e){return!t.some((function(t){return t.providerId===e.providerId}))}));return[].concat(Fe(n),Fe(t))}function pS(e){return e.map((function(e){var t=e.providerId,n=nx(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}function vS(e,t){return yS.apply(this,arguments)}function yS(){return yS=yr(gr().mark((function e(t,n){var r;return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,zx(t,{},yr(gr().mark((function e(){var r,i,a,o,u,s;return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Gr({grant_type:"refresh_token",refresh_token:n}).slice(1),i=t.config,a=i.tokenApiHost,o=i.apiKey,u=Hx(t,a,"/v1/token","key=".concat(o)),e.next=5,t._getAdditionalHeaders();case 5:return(s=e.sent)["Content-Type"]="application/x-www-form-urlencoded",e.abrupt("return",Mx.fetch()(u,{method:"POST",headers:s,body:r}));case 8:case"end":return e.stop()}}),e)}))));case 2:return r=e.sent,e.abrupt("return",{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token});case 4:case"end":return e.stop()}}),e)}))),yS.apply(this,arguments)}var mS=function(){function e(){r(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return a(e,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){Ix(e.idToken,"internal-error"),Ix("undefined"!==typeof e.idToken,"internal-error"),Ix("undefined"!==typeof e.refreshToken,"internal-error");var t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){var t=iS(e);return Ix(t,"internal-error"),Ix("undefined"!==typeof t.exp,"internal-error"),Ix("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"getToken",value:function(){var e=yr(gr().mark((function e(t){var n,r=arguments;return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],Ix(!this.accessToken||this.refreshToken,t,"user-token-expired"),n||!this.accessToken||this.isExpired){e.next=4;break}return e.abrupt("return",this.accessToken);case 4:if(!this.refreshToken){e.next=8;break}return e.next=7,this.refresh(t,this.refreshToken);case 7:return e.abrupt("return",this.accessToken);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(){var e=yr(gr().mark((function e(t,n){var r,i,a,o;return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,vS(t,n);case 2:r=e.sent,i=r.accessToken,a=r.refreshToken,o=r.expiresIn,this.updateTokensAndExpiration(i,a,Number(o));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return Tx("not implemented")}}],[{key:"fromJSON",value:function(t,n){var r=n.refreshToken,i=n.accessToken,a=n.expirationTime,o=new e;return r&&(Ix("string"===typeof r,"internal-error",{appName:t}),o.refreshToken=r),i&&(Ix("string"===typeof i,"internal-error",{appName:t}),o.accessToken=i),a&&(Ix("number"===typeof a,"internal-error",{appName:t}),o.expirationTime=a),o}}]),e}();function gS(e,t){Ix("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}var kS=function(){function e(t){r(this,e);var n=t.uid,i=t.auth,a=t.stsTokenManager,o=nx(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new sS(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?Fe(o.providerData):[],this.metadata=new cS(o.createdAt||void 0,o.lastLoginAt||void 0)}return a(e,[{key:"getIdToken",value:function(){var e=yr(gr().mark((function e(t){var n;return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,aS(this,this.stsTokenManager.getToken(this.auth,t));case 2:if(Ix(n=e.sent,this.auth,"internal-error"),this.accessToken===n){e.next=9;break}return this.accessToken=n,e.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getIdTokenResult",value:function(e){return function(e){return nS.apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return hS.apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&(Ix(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((function(e){return Object.assign({},e)})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){return new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}))}},{key:"_onReload",value:function(e){Ix(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(){var e=yr(gr().mark((function e(t){var n,r,i=arguments;return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],r=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),!n){e.next=6;break}return e.next=6,lS(this);case 6:return e.next=8,this.auth._persistUserIfCurrent(this);case 8:r&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=yr(gr().mark((function e(){var t;return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIdToken();case 2:return t=e.sent,e.next=5,aS(this,$x(this.auth,{idToken:t}));case 5:return this.stsTokenManager.clearRefreshToken(),e.abrupt("return",this.auth.signOut());case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(e){return Object.assign({},e)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,n){var r,i,a,o,u,s,c,l,f=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,d=null!==(a=n.phoneNumber)&&void 0!==a?a:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,v=null!==(u=n.tenantId)&&void 0!==u?u:void 0,y=null!==(s=n._redirectEventId)&&void 0!==s?s:void 0,m=null!==(c=n.createdAt)&&void 0!==c?c:void 0,g=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,k=n.uid,b=n.emailVerified,w=n.isAnonymous,x=n.providerData,S=n.stsTokenManager;Ix(k&&S,t,"internal-error");var _=mS.fromJSON(this.name,S);Ix("string"===typeof k,t,"internal-error"),gS(f,t.name),gS(h,t.name),Ix("boolean"===typeof b,t,"internal-error"),Ix("boolean"===typeof w,t,"internal-error"),gS(d,t.name),gS(p,t.name),gS(v,t.name),gS(y,t.name),gS(m,t.name),gS(g,t.name);var E=new e({uid:k,auth:t,email:h,emailVerified:b,displayName:f,isAnonymous:w,photoURL:p,phoneNumber:d,tenantId:v,stsTokenManager:_,createdAt:m,lastLoginAt:g});return x&&Array.isArray(x)&&(E.providerData=x.map((function(e){return Object.assign({},e)}))),y&&(E._redirectEventId=y),E}},{key:"_fromIdTokenResponse",value:function(){var t=yr(gr().mark((function t(n,r){var i,a,o,u=arguments;return gr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=u.length>2&&void 0!==u[2]&&u[2],(a=new mS).updateFromServerResponse(r),o=new e({uid:r.localId,auth:n,stsTokenManager:a,isAnonymous:i}),t.next=6,lS(o);case 6:return t.abrupt("return",o);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),e}(),bS=function(){function e(){r(this,e),this.type="NONE",this.storage={}}return a(e,[{key:"_isAvailable",value:function(){var e=yr(gr().mark((function e(){return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=yr(gr().mark((function e(t,n){return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage[t]=n;case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=yr(gr().mark((function e(t){var n;return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.storage[t],e.abrupt("return",void 0===n?null:n);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=yr(gr().mark((function e(t){return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.storage[t];case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),e}();bS.type="NONE";var wS=bS;function xS(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}var SS=function(){function e(t,n,i){r(this,e),this.persistence=t,this.auth=n,this.userKey=i;var a=this.auth,o=a.config,u=a.name;this.fullUserKey=xS(this.userKey,o.apiKey,u),this.fullPersistenceKey=xS("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return a(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var e=yr(gr().mark((function e(){var t;return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.persistence._get(this.fullUserKey);case 2:return t=e.sent,e.abrupt("return",t?kS._fromJSON(this.auth,t):null);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(){var e=yr(gr().mark((function e(t){var n;return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getCurrentUser();case 4:return n=e.sent,e.next=7,this.removeCurrentUser();case 7:if(this.persistence=t,!n){e.next=10;break}return e.abrupt("return",this.setCurrentUser(n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(){var t=yr(gr().mark((function t(n,r){var i,a,o,u,s,c,l,f,h,d,p,v=arguments;return gr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=v.length>2&&void 0!==v[2]?v[2]:"authUser",r.length){t.next=3;break}return t.abrupt("return",new e(Ax(wS),n,i));case 3:return t.next=5,Promise.all(r.map(function(){var e=yr(gr().mark((function e(t){return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:a=t.sent.filter((function(e){return e})),o=a[0]||Ax(wS),u=xS(i,n.config.apiKey,n.name),s=null,c=kr(r),t.prev=10,c.s();case 12:if((l=c.n()).done){t.next=29;break}return f=l.value,t.prev=14,t.next=17,f._get(u);case 17:if(!(h=t.sent)){t.next=23;break}return d=kS._fromJSON(n,h),f!==o&&(s=d),o=f,t.abrupt("break",29);case 23:t.next=27;break;case 25:t.prev=25,t.t0=t.catch(14);case 27:t.next=12;break;case 29:t.next=34;break;case 31:t.prev=31,t.t1=t.catch(10),c.e(t.t1);case 34:return t.prev=34,c.f(),t.finish(34);case 37:if(p=a.filter((function(e){return e._shouldAllowMigration})),o._shouldAllowMigration&&p.length){t.next=40;break}return t.abrupt("return",new e(o,n,i));case 40:if(o=p[0],!s){t.next=44;break}return t.next=44,o._set(u,s.toJSON());case 44:return t.next=46,Promise.all(r.map(function(){var e=yr(gr().mark((function e(t){return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===o){e.next=8;break}return e.prev=1,e.next=4,t._remove(u);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()));case 46:return t.abrupt("return",new e(o,n,i));case 47:case"end":return t.stop()}}),t,null,[[10,31,34,37],[14,25]])})));return function(e,n){return t.apply(this,arguments)}}()}]),e}();function _S(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(CS(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(ES(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(AS(t))return"Blackberry";if(OS(t))return"Webos";if(IS(t))return"Safari";if((t.includes("chrome/")||TS(t))&&!t.includes("edge/"))return"Chrome";if(NS(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null===n||void 0===n?void 0:n.length)?n[1]:"Other"}function ES(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ar();return/firefox\//i.test(e)}function IS(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ar(),t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function TS(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ar();return/crios\//i.test(e)}function CS(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ar();return/iemobile/i.test(e)}function NS(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ar();return/android/i.test(e)}function AS(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ar();return/blackberry/i.test(e)}function OS(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ar();return/webos/i.test(e)}function PS(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ar();return/iphone|ipad|ipod/i.test(e)}function RS(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ar();return PS(t)&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}function DS(){return Lr()&&10===document.documentMode}function LS(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ar();return PS(e)||NS(e)||OS(e)||AS(e)||/windows phone/i.test(e)||CS(e)}function MS(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=_S(Ar());break;case"Worker":t="".concat(_S(Ar()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(Gi,"/").concat(r)}var FS=function(){function e(t){r(this,e),this.auth=t,this.queue=[]}return a(e,[{key:"pushCallback",value:function(e,t){var n=this,r=function(t){return new Promise((function(n,r){try{n(e(t))}catch(i){r(i)}}))};r.onAbort=t,this.queue.push(r);var i=this.queue.length-1;return function(){n.queue[i]=function(){return Promise.resolve()}}}},{key:"runMiddleware",value:function(){var e=yr(gr().mark((function e(t){var n,r,i,a,o,u,s;return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.auth.currentUser!==t){e.next=2;break}return e.abrupt("return");case 2:n=[],e.prev=3,r=kr(this.queue),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=14;break}return a=i.value,e.next=11,a(t);case 11:a.onAbort&&n.push(a.onAbort);case 12:e.next=7;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(5),r.e(e.t0);case 19:return e.prev=19,r.f(),e.finish(19);case 22:e.next=30;break;case 24:e.prev=24,e.t1=e.catch(3),n.reverse(),o=kr(n);try{for(o.s();!(u=o.n()).done;){s=u.value;try{s()}catch(Vt){}}}catch(c){o.e(c)}finally{o.f()}throw this.auth._errorFactory.create("login-blocked",{originalMessage:e.t1.message});case 30:case"end":return e.stop()}}),e,this,[[3,24],[5,16,19,22]])})));return function(t){return e.apply(this,arguments)}}()}]),e}(),US=function(){function e(t,n,i){r(this,e),this.app=t,this.heartbeatServiceProvider=n,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new VS(this),this.idTokenSubscription=new VS(this),this.beforeStateQueue=new FS(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=gx,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=i.sdkClientVersion}return a(e,[{key:"_initializeWithPersistence",value:function(e,t){var n=this;return t&&(this._popupRedirectResolver=Ax(t)),this._initializationPromise=this.queue(yr(gr().mark((function r(){var i,a;return gr().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n._deleted){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,SS.create(n,e);case 4:if(n.persistenceManager=r.sent,!n._deleted){r.next=7;break}return r.abrupt("return");case 7:if(!(null===(i=n._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)){r.next=15;break}return r.prev=8,r.next=11,n._popupRedirectResolver._initialize(n);case 11:r.next=15;break;case 13:r.prev=13,r.t0=r.catch(8);case 15:return r.next=17,n.initializeCurrentUser(t);case 17:if(n.lastNotifiedUid=(null===(a=n.currentUser)||void 0===a?void 0:a.uid)||null,!n._deleted){r.next=20;break}return r.abrupt("return");case 20:n._isInitialized=!0;case 21:case"end":return r.stop()}}),r,null,[[8,13]])})))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var e=yr(gr().mark((function e(){var t;return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.assertedPersistence.getCurrentUser();case 4:if(t=e.sent,this.currentUser||t){e.next=7;break}return e.abrupt("return");case 7:if(!this.currentUser||!t||this.currentUser.uid!==t.uid){e.next=12;break}return this._currentUser._assign(t),e.next=11,this.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,this._updateCurrentUser(t,!0);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeCurrentUser",value:function(){var e=yr(gr().mark((function e(t){var n,r,i,a,o,u,s;return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.assertedPersistence.getCurrentUser();case 2:if(r=e.sent,i=r,a=!1,!t||!this.config.authDomain){e.next=14;break}return e.next=8,this.getOrInitRedirectPersistenceManager();case 8:return o=null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId,u=null===i||void 0===i?void 0:i._redirectEventId,e.next=12,this.tryRedirectSignIn(t);case 12:s=e.sent,o&&o!==u||!(null===s||void 0===s?void 0:s.user)||(i=s.user,a=!0);case 14:if(i){e.next=16;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 16:if(i._redirectEventId){e.next=32;break}if(!a){e.next=27;break}return e.prev=18,e.next=21,this.beforeStateQueue.runMiddleware(i);case 21:e.next=27;break;case 23:e.prev=23,e.t0=e.catch(18),i=r,this._popupRedirectResolver._overrideRedirectResult(this,(function(){return Promise.reject(e.t0)}));case 27:if(!i){e.next=31;break}return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 31:return e.abrupt("return",this.directlySetCurrentUser(null));case 32:return Ix(this._popupRedirectResolver,this,"argument-error"),e.next=35,this.getOrInitRedirectPersistenceManager();case 35:if(!this.redirectUser||this.redirectUser._redirectEventId!==i._redirectEventId){e.next=37;break}return e.abrupt("return",this.directlySetCurrentUser(i));case 37:return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 38:case"end":return e.stop()}}),e,this,[[18,23]])})));return function(t){return e.apply(this,arguments)}}()},{key:"tryRedirectSignIn",value:function(){var e=yr(gr().mark((function e(t){var n;return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,this._popupRedirectResolver._completeRedirectFn(this,t,!0);case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this._setRedirectUser(null);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reloadAndSetCurrentUserOrClear",value:function(){var e=yr(gr().mark((function e(t){return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,lS(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),e.t0.code==="auth/".concat("network-request-failed")){e.next=9;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 9:return e.abrupt("return",this.directlySetCurrentUser(t));case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"===typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var e=yr(gr().mark((function e(){return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._deleted=!0;case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(){var e=yr(gr().mark((function e(t){var n;return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t?Yr(t):null)&&Ix(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),e.abrupt("return",this._updateCurrentUser(n&&n._clone(this)));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateCurrentUser",value:function(){var e=yr(gr().mark((function e(t){var n,r=this,i=arguments;return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],!this._deleted){e.next=3;break}return e.abrupt("return");case 3:if(t&&Ix(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n){e.next=7;break}return e.next=7,this.beforeStateQueue.runMiddleware(t);case 7:return e.abrupt("return",this.queue(yr(gr().mark((function e(){return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.directlySetCurrentUser(t);case 2:r.notifyAuthListeners();case 3:case"end":return e.stop()}}),e)})))));case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=yr(gr().mark((function e(){return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.beforeStateQueue.runMiddleware(null);case 2:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){e.next=5;break}return e.next=5,this._setRedirectUser(null);case 5:return e.abrupt("return",this._updateCurrentUser(null,!0));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPersistence",value:function(e){var t=this;return this.queue(yr(gr().mark((function n(){return gr().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.setPersistence(Ax(e));case 2:case"end":return n.stop()}}),n)}))))}},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new Ur("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"beforeAuthStateChanged",value:function(e,t){return this.beforeStateQueue.pushCallback(e,t)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(){var e=yr(gr().mark((function e(t,n){var r;return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrInitRedirectPersistenceManager(n);case 2:return r=e.sent,e.abrupt("return",null===t?r.removeCurrentUser():r.setCurrentUser(t));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getOrInitRedirectPersistenceManager",value:function(){var e=yr(gr().mark((function e(t){var n;return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.redirectPersistenceManager){e.next=9;break}return Ix(n=t&&Ax(t)||this._popupRedirectResolver,this,"argument-error"),e.next=5,SS.create(this,[Ax(n._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=e.sent,e.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=e.sent;case 9:return e.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_redirectUserForId",value:function(){var e=yr(gr().mark((function e(t){var n,r;return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isInitialized){e.next=3;break}return e.next=3,this.queue(yr(gr().mark((function e(){return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));case 3:if((null===(n=this._currentUser)||void 0===n?void 0:n._redirectEventId)!==t){e.next=5;break}return e.abrupt("return",this._currentUser);case 5:if((null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)!==t){e.next=7;break}return e.abrupt("return",this.redirectUser);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_persistUserIfCurrent",value:function(){var e=yr(gr().mark((function e(t){var n=this;return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.currentUser){e.next=2;break}return e.abrupt("return",this.queue(yr(gr().mark((function e(){return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.directlySetCurrentUser(t));case 1:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var i=this;if(this._deleted)return function(){};var a="function"===typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return Ix(o,this,"internal-error"),o.then((function(){return a(i.currentUser)})),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}},{key:"directlySetCurrentUser",value:function(){var e=yr(gr().mark((function e(t){return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentUser&&this.currentUser!==t&&(this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh()),this.currentUser=t,!t){e.next=7;break}return e.next=5,this.assertedPersistence.setCurrentUser(t);case 5:e.next=9;break;case 7:return e.next=9,this.assertedPersistence.removeCurrentUser();case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return Ix(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=MS(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){var e=yr(gr().mark((function e(){var t,n,r;return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=gt({},"X-Client-Version",this.clientVersion),this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId),e.next=4,null===(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();case 4:return(r=e.sent)&&(n["X-Firebase-Client"]=r),e.abrupt("return",n);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function jS(e){return Yr(e)}var VS=function(){function e(t){var n=this;r(this,e),this.auth=t,this.observer=null,this.addObserver=Wr((function(e){return n.observer=e}))}return a(e,[{key:"next",get:function(){return Ix(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}();function BS(e,t,n){var r=jS(e);Ix(r._canInitEmulator,r,"emulator-config-failed"),Ix(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");var i=!!(null===n||void 0===n?void 0:n.disableWarnings),a=zS(t),o=function(e){var t=zS(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};var r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){var a=i[1];return{host:a,port:qS(r.substr(a.length+1))}}var o=Le(r.split(":"),2);return{host:o[0],port:qS(o[1])}}(t),u=o.host,s=o.port,c=null===s?"":":".concat(s);r.config.emulator={url:"".concat(a,"//").concat(u).concat(c,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:u,port:s,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){var e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function zS(e){var t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function qS(e){if(!e)return null;var t=Number(e);return isNaN(t)?null:t}var GS=function(){function e(t,n){r(this,e),this.providerId=t,this.signInMethod=n}return a(e,[{key:"toJSON",value:function(){return Tx("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return Tx("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return Tx("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return Tx("not implemented")}}]),e}();function KS(e,t){return HS.apply(this,arguments)}function HS(){return HS=yr(gr().mark((function e(t,n){return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Vx(t,"POST","/v1/accounts:resetPassword",jx(t,n)));case 1:case"end":return e.stop()}}),e)}))),HS.apply(this,arguments)}function WS(e,t){return QS.apply(this,arguments)}function QS(){return QS=yr(gr().mark((function e(t,n){return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Vx(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),QS.apply(this,arguments)}function $S(e,t){return YS.apply(this,arguments)}function YS(){return YS=yr(gr().mark((function e(t,n){return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Vx(t,"POST","/v1/accounts:update",jx(t,n)));case 1:case"end":return e.stop()}}),e)}))),YS.apply(this,arguments)}function XS(e,t){return JS.apply(this,arguments)}function JS(){return JS=yr(gr().mark((function e(t,n){return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Gx(t,"POST","/v1/accounts:signInWithPassword",jx(t,n)));case 1:case"end":return e.stop()}}),e)}))),JS.apply(this,arguments)}function ZS(e,t){return e_.apply(this,arguments)}function e_(){return e_=yr(gr().mark((function e(t,n){return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Vx(t,"POST","/v1/accounts:sendOobCode",jx(t,n)));case 1:case"end":return e.stop()}}),e)}))),e_.apply(this,arguments)}function t_(e,t){return n_.apply(this,arguments)}function n_(){return n_=yr(gr().mark((function e(t,n){return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ZS(t,n));case 1:case"end":return e.stop()}}),e)}))),n_.apply(this,arguments)}function r_(e,t){return i_.apply(this,arguments)}function i_(){return i_=yr(gr().mark((function e(t,n){return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ZS(t,n));case 1:case"end":return e.stop()}}),e)}))),i_.apply(this,arguments)}function a_(e,t){return o_.apply(this,arguments)}function o_(){return o_=yr(gr().mark((function e(t,n){return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ZS(t,n));case 1:case"end":return e.stop()}}),e)}))),o_.apply(this,arguments)}function u_(e,t){return s_.apply(this,arguments)}function s_(){return s_=yr(gr().mark((function e(t,n){return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ZS(t,n));case 1:case"end":return e.stop()}}),e)}))),s_.apply(this,arguments)}function c_(e,t){return l_.apply(this,arguments)}function l_(){return l_=yr(gr().mark((function e(t,n){return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Gx(t,"POST","/v1/accounts:signInWithEmailLink",jx(t,n)));case 1:case"end":return e.stop()}}),e)}))),l_.apply(this,arguments)}function f_(e,t){return h_.apply(this,arguments)}function h_(){return h_=yr(gr().mark((function e(t,n){return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Gx(t,"POST","/v1/accounts:signInWithEmailLink",jx(t,n)));case 1:case"end":return e.stop()}}),e)}))),h_.apply(this,arguments)}var d_=function(e){u(n,e);var t=d(n);function n(e,i,a){var o,u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return r(this,n),(o=t.call(this,"password",a))._email=e,o._password=i,o._tenantId=u,o}return a(n,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(){var e=yr(gr().mark((function e(t){return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",XS(t,{returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",c_(t,{email:this._email,oobCode:this._password}));case 5:wx(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_linkToIdToken",value:function(){var e=yr(gr().mark((function e(t,n){return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",WS(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",f_(t,{idToken:n,email:this._email,oobCode:this._password}));case 5:wx(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new n(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return new n(e,t,"emailLink",r)}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),n}(GS);function p_(e,t){return v_.apply(this,arguments)}function v_(){return v_=yr(gr().mark((function e(t,n){return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Gx(t,"POST","/v1/accounts:signInWithIdp",jx(t,n)));case 1:case"end":return e.stop()}}),e)}))),v_.apply(this,arguments)}var y_=function(e){u(n,e);var t=d(n);function n(){var e;return r(this,n),(e=t.apply(this,arguments)).pendingToken=null,e}return a(n,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return p_(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,p_(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,p_(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Gr(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):wx("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=nx(t,["providerId","signInMethod"]);if(!r||!i)return null;var o=new n(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}}]),n}(GS);function m_(e,t){return g_.apply(this,arguments)}function g_(){return g_=yr(gr().mark((function e(t,n){return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Vx(t,"POST","/v1/accounts:sendVerificationCode",jx(t,n)));case 1:case"end":return e.stop()}}),e)}))),g_.apply(this,arguments)}function k_(){return k_=yr(gr().mark((function e(t,n){return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Gx(t,"POST","/v1/accounts:signInWithPhoneNumber",jx(t,n)));case 1:case"end":return e.stop()}}),e)}))),k_.apply(this,arguments)}function b_(){return b_=yr(gr().mark((function e(t,n){var r;return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Gx(t,"POST","/v1/accounts:signInWithPhoneNumber",jx(t,n));case 2:if(!(r=e.sent).temporaryProof){e.next=5;break}throw Qx(t,"account-exists-with-different-credential",r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)}))),b_.apply(this,arguments)}var w_=gt({},"USER_NOT_FOUND","user-not-found");function x_(){return x_=yr(gr().mark((function e(t,n){var r;return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.assign(Object.assign({},n),{operation:"REAUTH"}),e.abrupt("return",Gx(t,"POST","/v1/accounts:signInWithPhoneNumber",jx(t,r),w_));case 2:case"end":return e.stop()}}),e)}))),x_.apply(this,arguments)}var S_=function(e){u(n,e);var t=d(n);function n(e){var i;return r(this,n),(i=t.call(this,"phone","phone")).params=e,i}return a(n,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return k_.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return b_.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return x_.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,i=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new n({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new n({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"===typeof e&&(e=JSON.parse(e));var t=e,r=t.verificationId,i=t.verificationCode,a=t.phoneNumber,o=t.temporaryProof;return i||r||a||o?new n({verificationId:r,verificationCode:i,phoneNumber:a,temporaryProof:o}):null}}]),n}(GS);var __=function(){function e(t){var n,i,a,o,u,s;r(this,e);var c=Kr(Hr(t)),l=null!==(n=c.apiKey)&&void 0!==n?n:null,f=null!==(i=c.oobCode)&&void 0!==i?i:null,h=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(a=c.mode)&&void 0!==a?a:null);Ix(l&&f&&h,"argument-error"),this.apiKey=l,this.operation=h,this.code=f,this.continueUrl=null!==(o=c.continueUrl)&&void 0!==o?o:null,this.languageCode=null!==(u=c.languageCode)&&void 0!==u?u:null,this.tenantId=null!==(s=c.tenantId)&&void 0!==s?s:null}return a(e,null,[{key:"parseLink",value:function(t){var n=function(e){var t=Kr(Hr(e)).link,n=t?Kr(Hr(t)).deep_link_id:null,r=Kr(Hr(e)).deep_link_id;return(r?Kr(Hr(r)).link:null)||r||n||t||e}(t);try{return new e(n)}catch(Ug){return null}}}]),e}();var E_=function(){function e(){r(this,e),this.providerId=e.PROVIDER_ID}return a(e,null,[{key:"credential",value:function(e,t){return d_._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=__.parseLink(t);return Ix(n,"argument-error"),d_._fromEmailAndCode(e,n.code,n.tenantId)}}]),e}();E_.PROVIDER_ID="password",E_.EMAIL_PASSWORD_SIGN_IN_METHOD="password",E_.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var I_=function(){function e(t){r(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return a(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),T_=function(e){u(n,e);var t=d(n);function n(){var e;return r(this,n),(e=t.apply(this,arguments)).scopes=[],e}return a(n,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return Fe(this.scopes)}}]),n}(I_),C_=function(e){u(n,e);var t=d(n);function n(){return r(this,n),t.apply(this,arguments)}return a(n,[{key:"credential",value:function(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}},{key:"_credential",value:function(e){return Ix(e.idToken||e.accessToken,"argument-error"),y_._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}}],[{key:"credentialFromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;return Ix("providerId"in t&&"signInMethod"in t,"argument-error"),y_._fromParams(t)}},{key:"credentialFromResult",value:function(e){return n.oauthCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.oauthCredentialFromTaggedObject(e.customData||{})}},{key:"oauthCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken,a=t.oauthTokenSecret,o=t.pendingToken,u=t.nonce,s=t.providerId;if(!i&&!a&&!r&&!o)return null;if(!s)return null;try{return new n(s)._credential({idToken:r,accessToken:i,nonce:u,pendingToken:o})}catch(c){return null}}}]),n}(T_),N_=function(e){u(n,e);var t=d(n);function n(){return r(this,n),t.call(this,"facebook.com")}return a(n,null,[{key:"credential",value:function(e){return y_._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(Ug){return null}}}]),n}(T_);N_.FACEBOOK_SIGN_IN_METHOD="facebook.com",N_.PROVIDER_ID="facebook.com";var A_=function(e){u(n,e);var t=d(n);function n(){var e;return r(this,n),(e=t.call(this,"google.com")).addScope("profile"),e}return a(n,null,[{key:"credential",value:function(e,t){return y_._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken;if(!r&&!i)return null;try{return n.credential(r,i)}catch(Ug){return null}}}]),n}(T_);A_.GOOGLE_SIGN_IN_METHOD="google.com",A_.PROVIDER_ID="google.com";var O_=function(e){u(n,e);var t=d(n);function n(){return r(this,n),t.call(this,"github.com")}return a(n,null,[{key:"credential",value:function(e){return y_._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(Ug){return null}}}]),n}(T_);O_.GITHUB_SIGN_IN_METHOD="github.com",O_.PROVIDER_ID="github.com";var P_=function(e){u(n,e);var t=d(n);function n(e,i){var a;return r(this,n),(a=t.call(this,e,e)).pendingToken=i,a}return a(n,[{key:"_getIdTokenResponse",value:function(e){return p_(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,p_(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,p_(e,t)}},{key:"toJSON",value:function(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}},{key:"buildRequest",value:function(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}],[{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=t.pendingToken;return r&&i&&a&&r===i?new n(r,a):null}},{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(GS),R_=function(e){u(n,e);var t=d(n);function n(e){return r(this,n),Ix(e.startsWith("saml."),"argument-error"),t.call(this,e)}return a(n,null,[{key:"credentialFromResult",value:function(e){return n.samlCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.samlCredentialFromTaggedObject(e.customData||{})}},{key:"credentialFromJSON",value:function(e){var t=P_.fromJSON(e);return Ix(t,"argument-error"),t}},{key:"samlCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.pendingToken,r=t.providerId;if(!n||!r)return null;try{return P_._create(r,n)}catch(i){return null}}}]),n}(I_),D_=function(e){u(n,e);var t=d(n);function n(){return r(this,n),t.call(this,"twitter.com")}return a(n,null,[{key:"credential",value:function(e,t){return y_._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthAccessToken,i=t.oauthTokenSecret;if(!r||!i)return null;try{return n.credential(r,i)}catch(Ug){return null}}}]),n}(T_);function L_(e,t){return M_.apply(this,arguments)}function M_(){return M_=yr(gr().mark((function e(t,n){return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Gx(t,"POST","/v1/accounts:signUp",jx(t,n)));case 1:case"end":return e.stop()}}),e)}))),M_.apply(this,arguments)}D_.TWITTER_SIGN_IN_METHOD="twitter.com",D_.PROVIDER_ID="twitter.com";var F_=function(){function e(t){r(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return a(e,null,[{key:"_fromIdTokenResponse",value:function(){var t=yr(gr().mark((function t(n,r,i){var a,o,u,s,c=arguments;return gr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=c.length>3&&void 0!==c[3]&&c[3],t.next=3,kS._fromIdTokenResponse(n,i,a);case 3:return o=t.sent,u=U_(i),s=new e({user:o,providerId:u,_tokenResponse:i,operationType:r}),t.abrupt("return",s);case 7:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"_forOperation",value:function(){var t=yr(gr().mark((function t(n,r,i){var a;return gr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._updateTokensIfNecessary(i,!0);case 2:return a=U_(i),t.abrupt("return",new e({user:n,providerId:a,_tokenResponse:i,operationType:r}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()}]),e}();function U_(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}function j_(){return j_=yr(gr().mark((function e(t){var n,r,i,a;return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=jS(t),e.next=3,r._initializationPromise;case 3:if(!(null===(n=r.currentUser)||void 0===n?void 0:n.isAnonymous)){e.next=5;break}return e.abrupt("return",new F_({user:r.currentUser,providerId:null,operationType:"signIn"}));case 5:return e.next=7,L_(r,{returnSecureToken:!0});case 7:return i=e.sent,e.next=10,F_._fromIdTokenResponse(r,"signIn",i,!0);case 10:return a=e.sent,e.next=13,r._updateCurrentUser(a.user);case 13:return e.abrupt("return",a);case 14:case"end":return e.stop()}}),e)}))),j_.apply(this,arguments)}var V_=function(e){u(n,e);var t=d(n);function n(e,i,a,o){var u,s;return r(this,n),(u=t.call(this,i.code,i.message)).operationType=a,u.user=o,Object.setPrototypeOf(f(u),n.prototype),u.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:i.customData._serverResponse,operationType:a},u}return a(n,null,[{key:"_fromErrorAndOperation",value:function(e,t,r,i){return new n(e,t,r,i)}}]),n}(Fr);function B_(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((function(n){if(n.code==="auth/".concat("multi-factor-auth-required"))throw V_._fromErrorAndOperation(e,n,t,r);throw n}))}function z_(e){return new Set(e.map((function(e){return e.providerId})).filter((function(e){return!!e})))}function q_(e,t){return G_.apply(this,arguments)}function G_(){return G_=yr(gr().mark((function e(t,n){var r,i,a,o;return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Yr(t),e.next=3,W_(!0,r,n);case 3:return e.t0=Xx,e.t1=r.auth,e.next=7,r.getIdToken();case 7:return e.t2=e.sent,e.t3=[n],e.t4={idToken:e.t2,deleteProvider:e.t3},e.next=12,(0,e.t0)(e.t1,e.t4);case 12:return i=e.sent,a=i.providerUserInfo,o=z_(a||[]),r.providerData=r.providerData.filter((function(e){return o.has(e.providerId)})),o.has("phone")||(r.phoneNumber=null),e.next=19,r.auth._persistUserIfCurrent(r);case 19:return e.abrupt("return",r);case 20:case"end":return e.stop()}}),e)}))),G_.apply(this,arguments)}function K_(e,t){return H_.apply(this,arguments)}function H_(){return H_=yr(gr().mark((function e(t,n){var r,i,a=arguments;return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]&&a[2],e.t0=aS,e.t1=t,e.t2=n,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=r,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return i=e.sent,e.abrupt("return",F_._forOperation(t,"link",i));case 14:case"end":return e.stop()}}),e)}))),H_.apply(this,arguments)}function W_(e,t,n){return Q_.apply(this,arguments)}function Q_(){return(Q_=yr(gr().mark((function e(t,n,r){var i,a;return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,lS(n);case 2:i=z_(n.providerData),a=!1===t?"provider-already-linked":"no-such-provider",Ix(i.has(r)===t,n.auth,a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $_(e,t){return Y_.apply(this,arguments)}function Y_(){return Y_=yr(gr().mark((function e(t,n){var r,i,a,o,u,s,c=arguments;return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>2&&void 0!==c[2]&&c[2],i=t.auth,a="reauthenticate",e.prev=3,e.next=6,aS(t,B_(i,a,n,t),r);case 6:return Ix((o=e.sent).idToken,i,"internal-error"),Ix(u=iS(o.idToken),i,"internal-error"),s=u.sub,Ix(t.uid===s,i,"user-mismatch"),e.abrupt("return",F_._forOperation(t,a,o));case 15:throw e.prev=15,e.t0=e.catch(3),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("user-not-found")&&wx(i,"user-mismatch"),e.t0;case 19:case"end":return e.stop()}}),e,null,[[3,15]])}))),Y_.apply(this,arguments)}function X_(e,t){return J_.apply(this,arguments)}function J_(){return J_=yr(gr().mark((function e(t,n){var r,i,a,o,u=arguments;return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]&&u[2],i="signIn",e.next=4,B_(t,i,n);case 4:return a=e.sent,e.next=7,F_._fromIdTokenResponse(t,i,a);case 7:if(o=e.sent,r){e.next=11;break}return e.next=11,t._updateCurrentUser(o.user);case 11:return e.abrupt("return",o);case 12:case"end":return e.stop()}}),e)}))),J_.apply(this,arguments)}function Z_(e,t){return eE.apply(this,arguments)}function eE(){return eE=yr(gr().mark((function e(t,n){return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",X_(jS(t),n));case 1:case"end":return e.stop()}}),e)}))),eE.apply(this,arguments)}function tE(e,t){return nE.apply(this,arguments)}function nE(){return(nE=yr(gr().mark((function e(t,n){var r;return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Yr(t),e.next=3,W_(!1,r,n.providerId);case 3:return e.abrupt("return",K_(r,n));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function rE(e,t){return iE.apply(this,arguments)}function iE(){return(iE=yr(gr().mark((function e(t,n){return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",$_(Yr(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function aE(e,t){return oE.apply(this,arguments)}function oE(){return oE=yr(gr().mark((function e(t,n){return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Gx(t,"POST","/v1/accounts:signInWithCustomToken",jx(t,n)));case 1:case"end":return e.stop()}}),e)}))),oE.apply(this,arguments)}function uE(){return uE=yr(gr().mark((function e(t,n){var r,i,a;return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=jS(t),e.next=3,aE(r,{token:n,returnSecureToken:!0});case 3:return i=e.sent,e.next=6,F_._fromIdTokenResponse(r,"signIn",i);case 6:return a=e.sent,e.next=9,r._updateCurrentUser(a.user);case 9:return e.abrupt("return",a);case 10:case"end":return e.stop()}}),e)}))),uE.apply(this,arguments)}var sE=function(){function e(t,n){r(this,e),this.factorId=t,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}return a(e,null,[{key:"_fromServerResponse",value:function(e,t){return"phoneInfo"in t?cE._fromServerResponse(e,t):wx(e,"internal-error")}}]),e}(),cE=function(e){u(n,e);var t=d(n);function n(e){var i;return r(this,n),(i=t.call(this,"phone",e)).phoneNumber=e.phoneInfo,i}return a(n,null,[{key:"_fromServerResponse",value:function(e,t){return new n(t)}}]),n}(sE);function lE(e,t,n){var r;Ix((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),Ix("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(Ix(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(Ix(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}function fE(){return fE=yr(gr().mark((function e(t,n,r){var i,a;return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Yr(t),a={requestType:"PASSWORD_RESET",email:n},r&&lE(i,a,r),e.next=5,r_(i,a);case 5:case"end":return e.stop()}}),e)}))),fE.apply(this,arguments)}function hE(){return hE=yr(gr().mark((function e(t,n,r){return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,KS(Yr(t),{oobCode:n,newPassword:r});case 2:case"end":return e.stop()}}),e)}))),hE.apply(this,arguments)}function dE(){return dE=yr(gr().mark((function e(t,n){return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$S(Yr(t),{oobCode:n});case 2:case"end":return e.stop()}}),e)}))),dE.apply(this,arguments)}function pE(e,t){return vE.apply(this,arguments)}function vE(){return vE=yr(gr().mark((function e(t,n){var r,i,a,o;return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Yr(t),e.next=3,KS(r,{oobCode:n});case 3:i=e.sent,Ix(a=i.requestType,r,"internal-error"),e.t0=a,e.next="EMAIL_SIGNIN"===e.t0?9:"VERIFY_AND_CHANGE_EMAIL"===e.t0?10:"REVERT_SECOND_FACTOR_ADDITION"===e.t0?12:13;break;case 9:return e.abrupt("break",14);case 10:return Ix(i.newEmail,r,"internal-error"),e.abrupt("break",14);case 12:Ix(i.mfaInfo,r,"internal-error");case 13:Ix(i.email,r,"internal-error");case 14:return o=null,i.mfaInfo&&(o=sE._fromServerResponse(jS(r),i.mfaInfo)),e.abrupt("return",{data:{email:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.newEmail:i.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.email:i.newEmail)||null,multiFactorInfo:o},operation:a});case 17:case"end":return e.stop()}}),e)}))),vE.apply(this,arguments)}function yE(){return yE=yr(gr().mark((function e(t,n){var r,i;return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,pE(Yr(t),n);case 2:return r=e.sent,i=r.data,e.abrupt("return",i.email);case 5:case"end":return e.stop()}}),e)}))),yE.apply(this,arguments)}function mE(e,t,n){return gE.apply(this,arguments)}function gE(){return gE=yr(gr().mark((function e(t,n,r){var i,a,o;return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=jS(t),e.next=3,L_(i,{returnSecureToken:!0,email:n,password:r});case 3:return a=e.sent,e.next=6,F_._fromIdTokenResponse(i,"signIn",a);case 6:return o=e.sent,e.next=9,i._updateCurrentUser(o.user);case 9:return e.abrupt("return",o);case 10:case"end":return e.stop()}}),e)}))),gE.apply(this,arguments)}function kE(){return kE=yr(gr().mark((function e(t,n,r){var i,a;return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Yr(t),a={requestType:"EMAIL_SIGNIN",email:n},Ix(r.handleCodeInApp,i,"argument-error"),r&&lE(i,a,r),e.next=6,a_(i,a);case 6:case"end":return e.stop()}}),e)}))),kE.apply(this,arguments)}function bE(){return bE=yr(gr().mark((function e(t,n,r){var i,a;return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Yr(t),Ix((a=E_.credentialWithLink(n,r||Ox()))._tenantId===(i.tenantId||null),i,"tenant-id-mismatch"),e.abrupt("return",Z_(i,a));case 4:case"end":return e.stop()}}),e)}))),bE.apply(this,arguments)}function wE(e,t){return xE.apply(this,arguments)}function xE(){return xE=yr(gr().mark((function e(t,n){return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Vx(t,"POST","/v1/accounts:createAuthUri",jx(t,n)));case 1:case"end":return e.stop()}}),e)}))),xE.apply(this,arguments)}function SE(){return SE=yr(gr().mark((function e(t,n){var r,i,a,o;return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Px()?Ox():"http://localhost",i={identifier:n,continueUri:r},e.next=4,wE(Yr(t),i);case 4:return a=e.sent,o=a.signinMethods,e.abrupt("return",o||[]);case 7:case"end":return e.stop()}}),e)}))),SE.apply(this,arguments)}function _E(){return(_E=yr(gr().mark((function e(t,n){var r,i,a,o;return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Yr(t),e.next=3,t.getIdToken();case 3:return i=e.sent,a={requestType:"VERIFY_EMAIL",idToken:i},n&&lE(r.auth,a,n),e.next=8,t_(r.auth,a);case 8:if(o=e.sent,o.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function EE(){return(EE=yr(gr().mark((function e(t,n,r){var i,a,o,u;return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Yr(t),e.next=3,t.getIdToken();case 3:return a=e.sent,o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:a,newEmail:n},r&&lE(i.auth,o,r),e.next=8,u_(i.auth,o);case 8:if(u=e.sent,u.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function IE(e,t){return TE.apply(this,arguments)}function TE(){return TE=yr(gr().mark((function e(t,n){return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Vx(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),TE.apply(this,arguments)}function CE(){return(CE=yr(gr().mark((function e(t,n){var r,i,a,o,u,s,c;return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.displayName,i=n.photoURL,void 0!==r||void 0!==i){e.next=3;break}return e.abrupt("return");case 3:return a=Yr(t),e.next=6,a.getIdToken();case 6:return o=e.sent,u={idToken:o,displayName:r,photoUrl:i,returnSecureToken:!0},e.next=10,aS(a,IE(a.auth,u));case 10:return s=e.sent,a.displayName=s.displayName||null,a.photoURL=s.photoUrl||null,(c=a.providerData.find((function(e){return"password"===e.providerId})))&&(c.displayName=a.displayName,c.photoURL=a.photoURL),e.next=17,a._updateTokensIfNecessary(s);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function NE(e,t,n){return AE.apply(this,arguments)}function AE(){return AE=yr(gr().mark((function e(t,n,r){var i,a,o,u;return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.auth,e.next=3,t.getIdToken();case 3:return a=e.sent,o={idToken:a,returnSecureToken:!0},n&&(o.email=n),r&&(o.password=r),e.next=9,aS(t,WS(i,o));case 9:return u=e.sent,e.next=12,t._updateTokensIfNecessary(u,!0);case 12:case"end":return e.stop()}}),e)}))),AE.apply(this,arguments)}var OE=a((function e(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};r(this,e),this.isNewUser=t,this.providerId=n,this.profile=i})),PE=function(e){u(n,e);var t=d(n);function n(e,i,a,o){var u;return r(this,n),(u=t.call(this,e,i,a)).username=o,u}return a(n)}(OE),RE=function(e){u(n,e);var t=d(n);function n(e,i){return r(this,n),t.call(this,e,"facebook.com",i)}return a(n)}(OE),DE=function(e){u(n,e);var t=d(n);function n(e,i){return r(this,n),t.call(this,e,"github.com",i,"string"===typeof(null===i||void 0===i?void 0:i.login)?null===i||void 0===i?void 0:i.login:null)}return a(n)}(PE),LE=function(e){u(n,e);var t=d(n);function n(e,i){return r(this,n),t.call(this,e,"google.com",i)}return a(n)}(OE),ME=function(e){u(n,e);var t=d(n);function n(e,i,a){return r(this,n),t.call(this,e,"twitter.com",i,a)}return a(n)}(PE);function FE(e){var t=e.user,n=e._tokenResponse;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;var r=e.providerId,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},a=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null===e||void 0===e?void 0:e.idToken)){var o=null===(n=null===(t=iS(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(o)return new OE(a,"anonymous"!==o&&"custom"!==o?o:null)}if(!r)return null;switch(r){case"facebook.com":return new RE(a,i);case"github.com":return new DE(a,i);case"google.com":return new LE(a,i);case"twitter.com":return new ME(a,i,e.screenName||null);case"custom":case"anonymous":return new OE(a,null);default:return new OE(a,r,i)}}(n)}var UE=function(){function e(t,n){r(this,e),this.type=t,this.credential=n}return a(e,[{key:"toJSON",value:function(){return{multiFactorSession:gt({},"enroll"===this.type?"idToken":"pendingCredential",this.credential)}}}],[{key:"_fromIdtoken",value:function(t){return new e("enroll",t)}},{key:"_fromMfaPendingCredential",value:function(t){return new e("signin",t)}},{key:"fromJSON",value:function(t){var n,r;if(null===t||void 0===t?void 0:t.multiFactorSession){if(null===(n=t.multiFactorSession)||void 0===n?void 0:n.pendingCredential)return e._fromMfaPendingCredential(t.multiFactorSession.pendingCredential);if(null===(r=t.multiFactorSession)||void 0===r?void 0:r.idToken)return e._fromIdtoken(t.multiFactorSession.idToken)}return null}}]),e}(),jE=function(){function e(t,n,i){r(this,e),this.session=t,this.hints=n,this.signInResolver=i}return a(e,[{key:"resolveSignIn",value:function(){var e=yr(gr().mark((function e(t){var n;return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,e.abrupt("return",this.signInResolver(n));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromError",value:function(t,n){var r=jS(t),i=n.customData._serverResponse,a=(i.mfaInfo||[]).map((function(e){return sE._fromServerResponse(r,e)}));Ix(i.mfaPendingCredential,r,"internal-error");var o=UE._fromMfaPendingCredential(i.mfaPendingCredential);return new e(o,a,function(){var e=yr(gr().mark((function e(t){var a,u,s;return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._process(r,o);case 2:a=e.sent,delete i.mfaInfo,delete i.mfaPendingCredential,u=Object.assign(Object.assign({},i),{idToken:a.idToken,refreshToken:a.refreshToken}),e.t0=n.operationType,e.next="signIn"===e.t0?9:"reauthenticate"===e.t0?15:17;break;case 9:return e.next=11,F_._fromIdTokenResponse(r,n.operationType,u);case 11:return s=e.sent,e.next=14,r._updateCurrentUser(s.user);case 14:return e.abrupt("return",s);case 15:return Ix(n.user,r,"internal-error"),e.abrupt("return",F_._forOperation(n.user,n.operationType,u));case 17:wx(r,"internal-error");case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}]),e}();function VE(e,t){return Vx(e,"POST","/v2/accounts/mfaEnrollment:start",jx(e,t))}function BE(e,t){return Vx(e,"POST","/v2/accounts/mfaEnrollment:withdraw",jx(e,t))}var zE=function(){function e(t){var n=this;r(this,e),this.user=t,this.enrolledFactors=[],t._onReload((function(e){e.mfaInfo&&(n.enrolledFactors=e.mfaInfo.map((function(e){return sE._fromServerResponse(t.auth,e)})))}))}return a(e,[{key:"getSession",value:function(){var e=yr(gr().mark((function e(){return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=UE,e.next=3,this.user.getIdToken();case 3:return e.t1=e.sent,e.abrupt("return",e.t0._fromIdtoken.call(e.t0,e.t1));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"enroll",value:function(){var e=yr(gr().mark((function e(t,n){var r,i,a;return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t,e.next=3,this.getSession();case 3:return i=e.sent,e.next=6,aS(this.user,r._process(this.user.auth,i,n));case 6:return a=e.sent,e.next=9,this.user._updateTokensIfNecessary(a);case 9:return e.abrupt("return",this.user.reload());case 10:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"unenroll",value:function(){var e=yr(gr().mark((function e(t){var n,r,i;return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="string"===typeof t?t:t.uid,e.next=3,this.user.getIdToken();case 3:return r=e.sent,e.next=6,aS(this.user,BE(this.user.auth,{idToken:r,mfaEnrollmentId:n}));case 6:return i=e.sent,this.enrolledFactors=this.enrolledFactors.filter((function(e){return e.uid!==n})),e.next=10,this.user._updateTokensIfNecessary(i);case 10:return e.prev=10,e.next=13,this.user.reload();case 13:e.next=19;break;case 15:if(e.prev=15,e.t0=e.catch(10),e.t0.code==="auth/".concat("user-token-expired")){e.next=19;break}throw e.t0;case 19:case"end":return e.stop()}}),e,this,[[10,15]])})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromUser",value:function(t){return new e(t)}}]),e}(),qE=new WeakMap;var GE="__sak",KE=function(){function e(t,n){r(this,e),this.storageRetriever=t,this.type=n}return a(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(GE,"1"),this.storage.removeItem(GE),Promise.resolve(!0)):Promise.resolve(!1)}catch(Ug){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}();var HE=function(e){u(n,e);var t=d(n);function n(){var e;return r(this,n),(e=t.call(this,(function(){return window.localStorage}),"LOCAL")).boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=function(){var e=Ar();return IS(e)||PS(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),e.fallbackToPolling=LS(),e._shouldAllowMigration=!0,e}return a(n,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],i=this.storage.getItem(r),a=this.localCache[r];i!==a&&e(r,a,i)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var i=this.storage.getItem(r);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}var a=function(){var e=t.storage.getItem(r);(n||t.localCache[r]!==e)&&t.notifyListeners(r,e)},o=this.storage.getItem(r);DS()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,10):a()}else this.forAllChangedKeys((function(e,n,r){t.notifyListeners(e,r)}))}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t?JSON.parse(t):t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((function(){e.forAllChangedKeys((function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)}))}),1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(){var e=yr(gr().mark((function e(t,r){return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xa(s(n.prototype),"_set",this).call(this,t,r);case 2:this.localCache[t]=JSON.stringify(r);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=yr(gr().mark((function e(t){var r;return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xa(s(n.prototype),"_get",this).call(this,t);case 2:return r=e.sent,this.localCache[t]=JSON.stringify(r),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=yr(gr().mark((function e(t){return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xa(s(n.prototype),"_remove",this).call(this,t);case 2:delete this.localCache[t];case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(KE);HE.type="LOCAL";var WE=HE,QE=function(e){u(n,e);var t=d(n);function n(){return r(this,n),t.call(this,(function(){return window.sessionStorage}),"SESSION")}return a(n,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),n}(KE);QE.type="SESSION";var $E=QE;function YE(e){return Promise.all(e.map(function(){var e=yr(gr().mark((function e(t){var n;return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return n=e.sent,e.abrupt("return",{fulfilled:!0,value:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}var XE=function(){function e(t){r(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return a(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(){var e=yr(gr().mark((function e(t){var n,r,i,a,o,u,s,c;return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=t).data,i=r.eventId,a=r.eventType,o=r.data,null===(u=this.handlersMap[a])||void 0===u?void 0:u.size){e.next=5;break}return e.abrupt("return");case 5:return n.ports[0].postMessage({status:"ack",eventId:i,eventType:a}),s=Array.from(u).map(function(){var e=yr(gr().mark((function e(t){return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(n.origin,o));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=9,YE(s);case 9:c=e.sent,n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:c});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var n=this.receivers.find((function(e){return e.isListeningto(t)}));if(n)return n;var r=new e(t);return this.receivers.push(r),r}}]),e}();function JE(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}XE.receivers=[];var ZE=function(){function e(t){r(this,e),this.target=t,this.handlers=new Set}return a(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(){var e=yr(gr().mark((function e(t,n){var r,i,a,o,u=this,s=arguments;return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=s.length>2&&void 0!==s[2]?s[2]:50,i="undefined"!==typeof MessageChannel?new MessageChannel:null){e.next=4;break}throw new Error("connection_unavailable");case 4:return e.abrupt("return",new Promise((function(e,s){var c=JE("",20);i.port1.start();var l=setTimeout((function(){s(new Error("unsupported_event"))}),r);o={messageChannel:i,onMessage:function(t){var n=t;if(n.data.eventId===c)switch(n.data.status){case"ack":clearTimeout(l),a=setTimeout((function(){s(new Error("timeout"))}),3e3);break;case"done":clearTimeout(a),e(n.data.response);break;default:clearTimeout(l),clearTimeout(a),s(new Error("invalid_response"))}}},u.handlers.add(o),i.port1.addEventListener("message",o.onMessage),u.target.postMessage({eventType:t,eventId:c,data:n},[i.port2])})).finally((function(){o&&u.removeMessageHandler(o)})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function eI(){return window}function tI(){return"undefined"!==typeof eI().WorkerGlobalScope&&"function"===typeof eI().importScripts}function nI(){return rI.apply(this,arguments)}function rI(){return(rI=yr(gr().mark((function e(){var t;return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return t=e.sent,e.abrupt("return",t.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function iI(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}var aI="firebaseLocalStorageDb",oI="firebaseLocalStorage",uI="fbase_key",sI=function(){function e(t){r(this,e),this.request=t}return a(e,[{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.request.addEventListener("success",(function(){t(e.request.result)})),e.request.addEventListener("error",(function(){n(e.request.error)}))}))}}]),e}();function cI(e,t){return e.transaction([oI],t?"readwrite":"readonly").objectStore(oI)}function lI(){var e=indexedDB.deleteDatabase(aI);return new sI(e).toPromise()}function fI(){var e=indexedDB.open(aI,1);return new Promise((function(t,n){e.addEventListener("error",(function(){n(e.error)})),e.addEventListener("upgradeneeded",(function(){var t=e.result;try{t.createObjectStore(oI,{keyPath:uI})}catch(r){n(r)}})),e.addEventListener("success",yr(gr().mark((function n(){var r;return gr().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((r=e.result).objectStoreNames.contains(oI)){n.next=12;break}return r.close(),n.next=5,lI();case 5:return n.t0=t,n.next=8,fI();case 8:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 12:t(r);case 13:case"end":return n.stop()}}),n)}))))}))}function hI(e,t,n){return dI.apply(this,arguments)}function dI(){return dI=yr(gr().mark((function e(t,n,r){var i,a;return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=cI(t,!0).put((gt(i={},uI,n),gt(i,"value",r),i)),e.abrupt("return",new sI(a).toPromise());case 2:case"end":return e.stop()}}),e)}))),dI.apply(this,arguments)}function pI(e,t){return vI.apply(this,arguments)}function vI(){return vI=yr(gr().mark((function e(t,n){var r,i;return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=cI(t,!1).get(n),e.next=3,new sI(r).toPromise();case 3:return i=e.sent,e.abrupt("return",void 0===i?null:i.value);case 5:case"end":return e.stop()}}),e)}))),vI.apply(this,arguments)}function yI(e,t){var n=cI(e,!0).delete(t);return new sI(n).toPromise()}var mI=function(){function e(){r(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}return a(e,[{key:"_openDb",value:function(){var e=yr(gr().mark((function e(){return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.db){e.next=2;break}return e.abrupt("return",this.db);case 2:return e.next=4,fI();case 4:return this.db=e.sent,e.abrupt("return",this.db);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_withRetries",value:function(){var e=yr(gr().mark((function e(t){var n,r;return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:return e.prev=2,e.next=5,this._openDb();case 5:return r=e.sent,e.next=8,t(r);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!(n++>3)){e.next=15;break}throw e.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"initializeServiceWorkerMessaging",value:function(){var e=yr(gr().mark((function e(){return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",tI()?this.initializeReceiver():this.initializeSender());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeReceiver",value:function(){var e=yr(gr().mark((function e(){var t=this;return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.receiver=XE._getInstance(tI()?self:null),this.receiver._subscribe("keyChanged",function(){var e=yr(gr().mark((function e(n,r){var i;return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._poll();case 2:return i=e.sent,e.abrupt("return",{keyProcessed:i.includes(r.key)});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var e=yr(gr().mark((function e(t,n){return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeSender",value:function(){var e=yr(gr().mark((function e(){var t,n,r;return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,nI();case 2:if(this.activeServiceWorker=e.sent,this.activeServiceWorker){e.next=5;break}return e.abrupt("return");case 5:return this.sender=new ZE(this.activeServiceWorker),e.next=8,this.sender._send("ping",{},800);case 8:if(r=e.sent){e.next=11;break}return e.abrupt("return");case 11:(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyServiceWorker",value:function(){var e=yr(gr().mark((function e(t){return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sender&&this.activeServiceWorker&&iI()===this.activeServiceWorker){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_isAvailable",value:function(){var e=yr(gr().mark((function e(){var t;return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,fI();case 5:return t=e.sent,e.next=8,hI(t,GE,"1");case 8:return e.next=10,yI(t,GE);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"_withPendingWrite",value:function(){var e=yr(gr().mark((function e(t){return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,this.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}}),e,this,[[1,,4,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=yr(gr().mark((function e(t,n){var r=this;return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(yr(gr().mark((function e(){return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries((function(e){return hI(e,t,n)}));case 2:return r.localCache[t]=n,e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=yr(gr().mark((function e(t){var n;return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){return pI(e,t)}));case 2:return n=e.sent,this.localCache[t]=n,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=yr(gr().mark((function e(t){var n=this;return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(yr(gr().mark((function e(){return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries((function(e){return yI(e,t)}));case 2:return delete n.localCache[t],e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_poll",value:function(){var e=yr(gr().mark((function e(){var t,n,r,i,a,o,u,s,c,l,f;return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){var t=cI(e,!1).getAll();return new sI(t).toPromise()}));case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===this.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:n=[],r=new Set,i=kr(t);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.fbase_key,s=o.value,r.add(u),JSON.stringify(this.localCache[u])!==JSON.stringify(s)&&(this.notifyListeners(u,s),n.push(u))}catch(h){i.e(h)}finally{i.f()}for(c=0,l=Object.keys(this.localCache);c<l.length;c++)f=l[c],this.localCache[f]&&!r.has(f)&&(this.notifyListeners(f,null),n.push(f));return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval(yr(gr().mark((function t(){return gr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}}),t)}))),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),e}();mI.type="LOCAL";var gI=mI;function kI(e,t){return Vx(e,"POST","/v2/accounts/mfaSignIn:start",jx(e,t))}function bI(e){return wI.apply(this,arguments)}function wI(){return wI=yr(gr().mark((function e(t){return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Vx(t,"GET","/v1/recaptchaParams");case 2:if(e.t0=e.sent.recaptchaSiteKey,e.t0){e.next=5;break}e.t0="";case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}}),e)}))),wI.apply(this,arguments)}function xI(e){return new Promise((function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(e){var t=xx("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function SI(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}var _I=1e12,EI=function(){function e(t){r(this,e),this.auth=t,this.counter=_I,this._widgets=new Map}return a(e,[{key:"render",value:function(e,t){var n=this.counter;return this._widgets.set(n,new II(e,this.auth.name,t||{})),this.counter++,n}},{key:"reset",value:function(e){var t,n=e||_I;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}},{key:"getResponse",value:function(e){var t,n=e||_I;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}},{key:"execute",value:function(){var e=yr(gr().mark((function e(t){var n,r;return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t||_I,null===(n=this._widgets.get(r))||void 0===n||n.execute(),e.abrupt("return","");case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),II=function(){function e(t,n,i){var a=this;r(this,e),this.params=i,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=function(){a.execute()};var o="string"===typeof t?document.getElementById(t):t;Ix(o,"argument-error",{appName:n}),this.container=o,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}return a(e,[{key:"getResponse",value:function(){return this.checkIfDeleted(),this.responseToken}},{key:"delete",value:function(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}},{key:"execute",value:function(){var e=this;this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((function(){e.responseToken=function(e){for(var t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);var t=e.params,n=t.callback,r=t["expired-callback"];if(n)try{n(e.responseToken)}catch(i){}e.timerId=window.setTimeout((function(){if(e.timerId=null,e.responseToken=null,r)try{r()}catch(i){}e.isVisible&&e.execute()}),6e4)}),500))}},{key:"checkIfDeleted",value:function(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}]),e}();var TI=SI("rcb"),CI=new Dx(3e4,6e4),NI="https://www.google.com/recaptcha/api.js?",AI=function(){function e(){r(this,e),this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!eI().grecaptcha}return a(e,[{key:"load",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return Ix(OI(n),e,"argument-error"),this.shouldResolveImmediately(n)?Promise.resolve(eI().grecaptcha):new Promise((function(r,i){var a=eI().setTimeout((function(){i(xx(e,"network-request-failed"))}),CI.get());eI()[TI]=function(){eI().clearTimeout(a),delete eI()[TI];var o=eI().grecaptcha;if(o){var u=o.render;o.render=function(e,n){var r=u(e,n);return t.counter++,r},t.hostLanguage=n,r(o)}else i(xx(e,"internal-error"))},xI("".concat(NI,"?").concat(Gr({onload:TI,render:"explicit",hl:n}))).catch((function(){clearTimeout(a),i(xx(e,"internal-error"))}))}))}},{key:"clearedOneInstance",value:function(){this.counter--}},{key:"shouldResolveImmediately",value:function(e){return!!eI().grecaptcha&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}]),e}();function OI(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}var PI=function(){function e(){r(this,e)}return a(e,[{key:"load",value:function(){var e=yr(gr().mark((function e(t){return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new EI(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearedOneInstance",value:function(){}}]),e}(),RI="recaptcha",DI={theme:"light",type:"image"},LI=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.assign({},DI),i=arguments.length>2?arguments[2]:void 0;r(this,e),this.parameters=n,this.type=RI,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=jS(i),this.isInvisible="invisible"===this.parameters.size,Ix("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");var a="string"===typeof t?document.getElementById(t):t;Ix(a,this.auth,"argument-error"),this.container=a,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new PI:new AI,this.validateStartingState()}return a(e,[{key:"verify",value:function(){var e=yr(gr().mark((function e(){var t,n,r,i=this;return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertNotDestroyed(),e.next=3,this.render();case 3:if(t=e.sent,n=this.getAssertedRecaptcha(),!(r=n.getResponse(t))){e.next=8;break}return e.abrupt("return",r);case 8:return e.abrupt("return",new Promise((function(e){i.tokenChangeListeners.add((function t(n){n&&(i.tokenChangeListeners.delete(t),e(n))})),i.isInvisible&&n.execute(t)})));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;try{this.assertNotDestroyed()}catch(t){return Promise.reject(t)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((function(t){throw e.renderPromise=null,t}))),this.renderPromise}},{key:"_reset",value:function(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}},{key:"clear",value:function(){var e=this;this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((function(t){e.container.removeChild(t)}))}},{key:"validateStartingState",value:function(){Ix(!this.parameters.sitekey,this.auth,"argument-error"),Ix(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Ix("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}},{key:"makeTokenCallback",value:function(e){var t=this;return function(n){if(t.tokenChangeListeners.forEach((function(e){return e(n)})),"function"===typeof e)e(n);else if("string"===typeof e){var r=eI()[e];"function"===typeof r&&r(n)}}}},{key:"assertNotDestroyed",value:function(){Ix(!this.destroyed,this.auth,"internal-error")}},{key:"makeRenderPromise",value:function(){var e=yr(gr().mark((function e(){var t,n;return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.init();case 2:return this.widgetId||(t=this.container,this.isInvisible||(n=document.createElement("div"),t.appendChild(n),t=n),this.widgetId=this.getAssertedRecaptcha().render(t,this.parameters)),e.abrupt("return",this.widgetId);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"init",value:function(){var e=yr(gr().mark((function e(){var t;return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ix(Px()&&!tI(),this.auth,"internal-error"),e.next=3,MI();case 3:return e.next=5,this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);case 5:return this.recaptcha=e.sent,e.next=8,bI(this.auth);case 8:Ix(t=e.sent,this.auth,"internal-error"),this.parameters.sitekey=t;case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getAssertedRecaptcha",value:function(){return Ix(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}]),e}();function MI(){var e=null;return new Promise((function(t){"complete"!==document.readyState?(e=function(){return t()},window.addEventListener("load",e)):t()})).catch((function(t){throw e&&window.removeEventListener("load",e),t}))}var FI=function(){function e(t,n){r(this,e),this.verificationId=t,this.onConfirmation=n}return a(e,[{key:"confirm",value:function(e){var t=S_._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}]),e}();function UI(){return UI=yr(gr().mark((function e(t,n,r){var i,a;return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=jS(t),e.next=3,zI(i,n,Yr(r));case 3:return a=e.sent,e.abrupt("return",new FI(a,(function(e){return Z_(i,e)})));case 5:case"end":return e.stop()}}),e)}))),UI.apply(this,arguments)}function jI(e,t,n){return VI.apply(this,arguments)}function VI(){return(VI=yr(gr().mark((function e(t,n,r){var i,a;return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Yr(t),e.next=3,W_(!1,i,"phone");case 3:return e.next=5,zI(i.auth,n,Yr(r));case 5:return a=e.sent,e.abrupt("return",new FI(a,(function(e){return tE(i,e)})));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function BI(){return(BI=yr(gr().mark((function e(t,n,r){var i,a;return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Yr(t),e.next=3,zI(i.auth,n,Yr(r));case 3:return a=e.sent,e.abrupt("return",new FI(a,(function(e){return rE(i,e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function zI(e,t,n){return qI.apply(this,arguments)}function qI(){return qI=yr(gr().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h;return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.verify();case 2:if(a=e.sent,e.prev=3,Ix("string"===typeof a,t,"argument-error"),Ix(r.type===RI,t,"argument-error"),!("session"in(o="string"===typeof n?{phoneNumber:n}:n))){e.next=26;break}if(u=o.session,!("phoneNumber"in o)){e.next=17;break}return Ix("enroll"===u.type,t,"internal-error"),e.next=13,VE(t,{idToken:u.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:a}});case 13:return s=e.sent,e.abrupt("return",s.phoneSessionInfo.sessionInfo);case 17:return Ix("signin"===u.type,t,"internal-error"),Ix(c=(null===(i=o.multiFactorHint)||void 0===i?void 0:i.uid)||o.multiFactorUid,t,"missing-multi-factor-info"),e.next=22,kI(t,{mfaPendingCredential:u.credential,mfaEnrollmentId:c,phoneSignInInfo:{recaptchaToken:a}});case 22:return l=e.sent,e.abrupt("return",l.phoneResponseInfo.sessionInfo);case 24:e.next=31;break;case 26:return e.next=28,m_(t,{phoneNumber:o.phoneNumber,recaptchaToken:a});case 28:return f=e.sent,h=f.sessionInfo,e.abrupt("return",h);case 31:return e.prev=31,r._reset(),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[3,,31,34]])}))),qI.apply(this,arguments)}function GI(){return(GI=yr(gr().mark((function e(t,n){return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,K_(Yr(t),n);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var KI=function(){function e(t){r(this,e),this.providerId=e.PROVIDER_ID,this.auth=jS(t)}return a(e,[{key:"verifyPhoneNumber",value:function(e,t){return zI(this.auth,e,Yr(t))}}],[{key:"credential",value:function(e,t){return S_._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var n=t;return e.credentialFromTaggedObject(n)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?S_._fromTokenResponse(n,r):null}}]),e}();function HI(e,t){return t?Ax(t):(Ix(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}KI.PROVIDER_ID="phone",KI.PHONE_SIGN_IN_METHOD="phone";var WI=function(e){u(n,e);var t=d(n);function n(e){var i;return r(this,n),(i=t.call(this,"custom","custom")).params=e,i}return a(n,[{key:"_getIdTokenResponse",value:function(e){return p_(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return p_(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return p_(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),n}(GS);function QI(e){return X_(e.auth,new WI(e),e.bypassAuthState)}function $I(e){var t=e.auth,n=e.user;return Ix(n,t,"internal-error"),$_(n,new WI(e),e.bypassAuthState)}function YI(e){return XI.apply(this,arguments)}function XI(){return XI=yr(gr().mark((function e(t){var n,r;return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.auth,Ix(r=t.user,n,"internal-error"),e.abrupt("return",K_(r,new WI(t),t.bypassAuthState));case 3:case"end":return e.stop()}}),e)}))),XI.apply(this,arguments)}var JI=function(){function e(t,n,i,a){var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];r(this,e),this.auth=t,this.resolver=i,this.user=a,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return a(e,[{key:"execute",value:function(){var e=this;return new Promise(function(){var t=yr(gr().mark((function t(n,r){return gr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.pendingPromise={resolve:n,reject:r},t.prev=1,t.next=4,e.resolver._initialize(e.auth);case 4:return e.eventManager=t.sent,t.next=7,e.onExecution();case 7:e.eventManager.registerConsumer(e),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.reject(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"onAuthEvent",value:function(){var e=yr(gr().mark((function e(t){var n,r,i,a,o,u,s;return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.urlResponse,r=t.sessionId,i=t.postBody,a=t.tenantId,o=t.error,u=t.type,!o){e.next=4;break}return this.reject(o),e.abrupt("return");case 4:return s={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.prev=5,e.t0=this,e.next=9,this.getIdpTask(u)(s);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(5),this.reject(e.t2);case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return QI;case"linkViaPopup":case"linkViaRedirect":return YI;case"reauthViaPopup":case"reauthViaRedirect":return $I;default:wx(this.auth,"internal-error")}}},{key:"resolve",value:function(e){Cx(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){Cx(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e}(),ZI=new Dx(2e3,1e4);function eT(e,t,n){return tT.apply(this,arguments)}function tT(){return tT=yr(gr().mark((function e(t,n,r){var i,a,o;return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=jS(t),_x(t,n,I_),a=HI(i,r),o=new aT(i,"signInViaPopup",n,a),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)}))),tT.apply(this,arguments)}function nT(){return(nT=yr(gr().mark((function e(t,n,r){var i,a,o;return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return _x((i=Yr(t)).auth,n,I_),a=HI(i.auth,r),o=new aT(i.auth,"reauthViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function rT(e,t,n){return iT.apply(this,arguments)}function iT(){return(iT=yr(gr().mark((function e(t,n,r){var i,a,o;return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return _x((i=Yr(t)).auth,n,I_),a=HI(i.auth,r),o=new aT(i.auth,"linkViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var aT=function(e){u(n,e);var t=d(n);function n(e,i,a,o,u){var s;return r(this,n),(s=t.call(this,e,i,o,u)).provider=a,s.authWindow=null,s.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=f(s),s}return a(n,[{key:"executeNotNull",value:function(){var e=yr(gr().mark((function e(){var t;return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.execute();case 2:return Ix(t=e.sent,this.auth,"internal-error"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=yr(gr().mark((function e(){var t,n=this;return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Cx(1===this.filter.length,"Popup operations only handle one event"),t=JE(),e.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],t);case 4:this.authWindow=e.sent,this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((function(e){n.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(function(e){e||n.reject(xx(n.auth,"web-storage-unsupported"))})),this.pollUserCancellation();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(xx(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this;!function t(){var n,r;(null===(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)||void 0===r?void 0:r.closed)?e.pollId=window.setTimeout((function(){e.pollId=null,e.reject(xx(e.auth,"popup-closed-by-user"))}),2e3):e.pollId=window.setTimeout(t,ZI.get())}()}}]),n}(JI);aT.currentPopupAction=null;var oT=new Map,uT=function(e){u(n,e);var t=d(n);function n(e,i){var a,o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return r(this,n),(a=t.call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,o)).eventId=null,a}return a(n,[{key:"execute",value:function(){var e=yr(gr().mark((function e(){var t,r;return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=oT.get(this.auth._key())){e.next=21;break}return e.prev=2,e.next=5,sT(this.resolver,this.auth);case 5:if(!e.sent){e.next=12;break}return e.next=9,xa(s(n.prototype),"execute",this).call(this);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:r=e.t0,t=function(){return Promise.resolve(r)},e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),t=function(){return Promise.reject(e.t1)};case 20:oT.set(this.auth._key(),t);case 21:return this.bypassAuthState||oT.set(this.auth._key(),(function(){return Promise.resolve(null)})),e.abrupt("return",t());case 23:case"end":return e.stop()}}),e,this,[[2,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"onAuthEvent",value:function(){var e=yr(gr().mark((function e(t){var r;return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==t.type){e.next=4;break}return e.abrupt("return",xa(s(n.prototype),"onAuthEvent",this).call(this,t));case 4:if("unknown"!==t.type){e.next=7;break}return this.resolve(null),e.abrupt("return");case 7:if(!t.eventId){e.next=17;break}return e.next=10,this.auth._redirectUserForId(t.eventId);case 10:if(!(r=e.sent)){e.next=16;break}return this.user=r,e.abrupt("return",xa(s(n.prototype),"onAuthEvent",this).call(this,t));case 16:this.resolve(null);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=yr(gr().mark((function e(){return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"cleanUp",value:function(){}}]),n}(JI);function sT(e,t){return cT.apply(this,arguments)}function cT(){return cT=yr(gr().mark((function e(t,n){var r,i,a;return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=pT(n),i=dT(t),e.next=4,i._isAvailable();case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,i._get(r);case 8:return e.t0=e.sent,a="true"===e.t0,e.next=12,i._remove(r);case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)}))),cT.apply(this,arguments)}function lT(e,t){return fT.apply(this,arguments)}function fT(){return fT=yr(gr().mark((function e(t,n){return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",dT(t)._set(pT(n),"true"));case 1:case"end":return e.stop()}}),e)}))),fT.apply(this,arguments)}function hT(e,t){oT.set(e._key(),t)}function dT(e){return Ax(e._redirectPersistence)}function pT(e){return xS("pendingRedirect",e.config.apiKey,e.name)}function vT(e,t,n){return function(e,t,n){return yT.apply(this,arguments)}(e,t,n)}function yT(){return yT=yr(gr().mark((function e(t,n,r){var i,a;return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=jS(t),_x(t,n,I_),a=HI(i,r),e.next=5,lT(a,i);case 5:return e.abrupt("return",a._openRedirect(i,n,"signInViaRedirect"));case 6:case"end":return e.stop()}}),e)}))),yT.apply(this,arguments)}function mT(e,t,n){return function(e,t,n){return gT.apply(this,arguments)}(e,t,n)}function gT(){return(gT=yr(gr().mark((function e(t,n,r){var i,a,o;return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return _x((i=Yr(t)).auth,n,I_),a=HI(i.auth,r),e.next=5,lT(a,i.auth);case 5:return e.next=7,ET(i);case 7:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"reauthViaRedirect",o));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function kT(e,t,n){return function(e,t,n){return bT.apply(this,arguments)}(e,t,n)}function bT(){return(bT=yr(gr().mark((function e(t,n,r){var i,a,o;return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return _x((i=Yr(t)).auth,n,I_),a=HI(i.auth,r),e.next=5,W_(!1,i,n.providerId);case 5:return e.next=7,lT(a,i.auth);case 7:return e.next=9,ET(i);case 9:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"linkViaRedirect",o));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function wT(e,t){return xT.apply(this,arguments)}function xT(){return xT=yr(gr().mark((function e(t,n){return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,jS(t)._initializationPromise;case 2:return e.abrupt("return",ST(t,n,!1));case 3:case"end":return e.stop()}}),e)}))),xT.apply(this,arguments)}function ST(e,t){return _T.apply(this,arguments)}function _T(){return _T=yr(gr().mark((function e(t,n){var r,i,a,o,u,s=arguments;return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]&&s[2],i=jS(t),a=HI(i,n),o=new uT(i,a,r),e.next=6,o.execute();case 6:if(!(u=e.sent)||r){e.next=13;break}return delete u.user._redirectEventId,e.next=11,i._persistUserIfCurrent(u.user);case 11:return e.next=13,i._setRedirectUser(null,n);case 13:return e.abrupt("return",u);case 14:case"end":return e.stop()}}),e)}))),_T.apply(this,arguments)}function ET(e){return IT.apply(this,arguments)}function IT(){return(IT=yr(gr().mark((function e(t){var n;return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=JE("".concat(t.uid,":::")),t._redirectEventId=n,e.next=4,t.auth._setRedirectUser(t);case 4:return e.next=6,t.auth._persistUserIfCurrent(t);case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var TT=function(){function e(t){r(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return a(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach((function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return NT(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!NT(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(xx(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(CT(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(CT(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function CT(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((function(e){return e})).join("-")}function NT(e){var t=e.type,n=e.error;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}function AT(e){return OT.apply(this,arguments)}function OT(){return OT=yr(gr().mark((function e(t){var n,r=arguments;return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",Vx(t,"GET","/v1/projects",n));case 2:case"end":return e.stop()}}),e)}))),OT.apply(this,arguments)}var PT=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,RT=/^https?/;function DT(){return DT=yr(gr().mark((function e(t){var n,r,i,a,o;return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,AT(t);case 4:n=e.sent,r=n.authorizedDomains,i=kr(r),e.prev=7,i.s();case 9:if((a=i.n()).done){e.next=20;break}if(o=a.value,e.prev=11,!LT(o)){e.next=14;break}return e.abrupt("return");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(11);case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(7),i.e(e.t1);case 25:return e.prev=25,i.f(),e.finish(25);case 28:wx(t,"unauthorized-domain");case 29:case"end":return e.stop()}}),e,null,[[7,22,25,28],[11,16]])}))),DT.apply(this,arguments)}function LT(e){var t=Ox(),n=new URL(t),r=n.protocol,i=n.hostname;if(e.startsWith("chrome-extension://")){var a=new URL(e);return""===a.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&a.hostname===i}if(!RT.test(r))return!1;if(PT.test(e))return i===e;var o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}var MT=new Dx(3e4,6e4);function FT(){var e=eI().___jsl;if(null===e||void 0===e?void 0:e.H)for(var t=0,n=Object.keys(e.H);t<n.length;t++){var r=n[t];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=Fe(e.H[r].L),e.CP)for(var i=0;i<e.CP.length;i++)e.CP[i]=null}}var UT=null;function jT(e){return UT=UT||function(e){return new Promise((function(t,n){var r,i,a;function o(){FT(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){FT(),n(xx(e,"network-request-failed"))},timeout:MT.get()})}if(null===(i=null===(r=eI().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=eI().gapi)||void 0===a?void 0:a.load)){var u=SI("iframefcb");return eI()[u]=function(){gapi.load?o():n(xx(e,"network-request-failed"))},xI("https://apis.google.com/js/api.js?onload=".concat(u)).catch((function(e){return n(e)}))}o()}})).catch((function(e){throw UT=null,e}))}(e),UT}var VT=new Dx(5e3,15e3),BT={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},zT=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function qT(e){var t=e.config;Ix(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?Lx(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:Gi},i=zT.get(e.config.apiHost);i&&(r.eid=i);var a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat(Gr(r).slice(1))}function GT(e){return KT.apply(this,arguments)}function KT(){return KT=yr(gr().mark((function e(t){var n,r;return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,jT(t);case 2:return n=e.sent,Ix(r=eI().gapi,t,"internal-error"),e.abrupt("return",n.open({where:document.body,url:qT(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:BT,dontclear:!0},(function(e){return new Promise(function(){var n=yr(gr().mark((function n(r,i){var a,o,u;return gr().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return u=function(){eI().clearTimeout(o),r(e)},n.next=3,e.restyle({setHideOnLeave:!1});case 3:a=xx(t,"network-request-failed"),o=eI().setTimeout((function(){i(a)}),VT.get()),e.ping(u).then(u,(function(){i(a)}));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())})));case 6:case"end":return e.stop()}}),e)}))),KT.apply(this,arguments)}var HT={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},WT="_blank",QT="http://localhost",$T=function(){function e(t){r(this,e),this.window=t,this.associatedEvent=null}return a(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(e){}}}]),e}();function YT(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600,a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),u="",s=Object.assign(Object.assign({},HT),{width:r.toString(),height:i.toString(),top:a,left:o}),c=Ar().toLowerCase();n&&(u=TS(c)?WT:n),ES(c)&&(t=t||QT,s.scrollbars="yes");var l=Object.entries(s).reduce((function(e,t){var n=Le(t,2),r=n[0],i=n[1];return"".concat(e).concat(r,"=").concat(i,",")}),"");if(RS(c)&&"_self"!==u)return XT(t||"",u),new $T(null);var f=window.open(t||"",u,l);Ix(f,e,"popup-blocked");try{f.focus()}catch(h){}return new $T(f)}function XT(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var JT="__/auth/handler",ZT="emulator/auth/handler";function eC(e,t,n,r,i,a){Ix(e.config.authDomain,e,"auth-domain-config-required"),Ix(e.config.apiKey,e,"invalid-api-key");var o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:Gi,eventId:i};if(t instanceof I_){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(var u=0,s=Object.entries(a||{});u<s.length;u++){var c=Le(s[u],2),l=c[0],f=c[1];o[l]=f}}if(t instanceof T_){var h=t.getScopes().filter((function(e){return""!==e}));h.length>0&&(o.scopes=h.join(","))}e.tenantId&&(o.tid=e.tenantId);for(var d=o,p=0,v=Object.keys(d);p<v.length;p++){var y=v[p];void 0===d[y]&&delete d[y]}return"".concat(function(e){var t=e.config;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(JT);return Lx(t,ZT)}(e),"?").concat(Gr(d).slice(1))}var tC="webStorageSupport",nC=function(){function e(){r(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=$E,this._completeRedirectFn=ST,this._overrideRedirectResult=hT}return a(e,[{key:"_openPopup",value:function(){var e=yr(gr().mark((function e(t,n,r,i){var a,o;return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Cx(null===(a=this.eventManagers[t._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()"),o=eC(t,n,r,Ox(),i),e.abrupt("return",YT(t,o,JE()));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=yr(gr().mark((function e(t,n,r,i){return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._originValidation(t);case 2:return a=eC(t,n,r,Ox(),i),eI().location.href=a,e.abrupt("return",new Promise((function(){})));case 4:case"end":return e.stop()}var a}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_initialize",value:function(e){var t=this,n=e._key();if(this.eventManagers[n]){var r=this.eventManagers[n],i=r.manager,a=r.promise;return i?Promise.resolve(i):(Cx(a,"If manager is not set, promise should be"),a)}var o=this.initAndGetManager(e);return this.eventManagers[n]={promise:o},o.catch((function(){delete t.eventManagers[n]})),o}},{key:"initAndGetManager",value:function(){var e=yr(gr().mark((function e(t){var n,r;return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,GT(t);case 2:return n=e.sent,r=new TT(t),n.register("authEvent",(function(e){return Ix(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event"),{status:r.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send(tC,{type:tC},(function(n){var r,i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r.webStorageSupport;void 0!==i&&t(!!i),wx(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return DT.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return LS()||IS()||PS()}}]),e}(),rC=nC,iC=function(){function e(t){r(this,e),this.factorId=t}return a(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return Tx("unexpected MultiFactorSessionType")}}}]),e}(),aC=function(e){u(n,e);var t=d(n);function n(e){var i;return r(this,n),(i=t.call(this,"phone")).credential=e,i}return a(n,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return Vx(e,"POST","/v2/accounts/mfaEnrollment:finalize",jx(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return Vx(e,"POST","/v2/accounts/mfaSignIn:finalize",jx(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new n(e)}}]),n}(iC),oC=function(){function e(){r(this,e)}return a(e,null,[{key:"assertion",value:function(e){return aC._fromCredential(e)}}]),e}();oC.FACTOR_ID="phone";var uC,sC="@firebase/auth",cC="0.20.1",lC=function(){function e(t){r(this,e),this.auth=t,this.internalListeners=new Map}return a(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(){var e=yr(gr().mark((function e(t){var n;return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertAuthConfigured(),e.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.auth.currentUser.getIdToken(t);case 7:return n=e.sent,e.abrupt("return",{accessToken:n});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged((function(t){var n;e((null===(n=t)||void 0===n?void 0:n.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){Ix(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e}();function fC(){return window}uC="Browser",Fi(new Xr("auth",(function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=r.options,o=a.apiKey,u=a.authDomain;return function(e,t){Ix(o&&!o.includes(":"),"invalid-api-key",{appName:e.name}),Ix(!(null===u||void 0===u?void 0:u.includes(":")),"argument-error",{appName:e.name});var r={apiKey:o,authDomain:u,clientPlatform:uC,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:MS(uC)},i=new US(e,t,r);return function(e,t){var n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Ax);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(i,n),i}(r,i)}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider("auth-internal").initialize()}))),Fi(new Xr("auth-internal",(function(e){return function(e){return new lC(e)}(jS(e.getProvider("auth").getImmediate()))}),"PRIVATE").setInstantiationMode("EXPLICIT")),Yi(sC,cC,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(uC)),Yi(sC,cC,"esm2017");function hC(e,t,n){return dC.apply(this,arguments)}function dC(){return dC=yr(gr().mark((function e(t,n,r){var i,a,o,u,s;return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=fC(),o=a.BuildInfo,Cx(n.sessionId,"AuthEvent did not contain a session ID"),e.next=4,kC(n.sessionId);case 4:return u=e.sent,s={},PS()?s.ibi=o.packageName:NS()?s.apn=o.packageName:wx(t,"operation-not-supported-in-this-environment"),o.displayName&&(s.appDisplayName=o.displayName),s.sessionId=u,e.abrupt("return",eC(t,r,n.type,void 0,null!==(i=n.eventId)&&void 0!==i?i:void 0,s));case 10:case"end":return e.stop()}}),e)}))),dC.apply(this,arguments)}function pC(){return pC=yr(gr().mark((function e(t){var n,r,i;return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=fC(),r=n.BuildInfo,i={},PS()?i.iosBundleId=r.packageName:NS()?i.androidPackageName=r.packageName:wx(t,"operation-not-supported-in-this-environment"),e.next=5,AT(t,i);case 5:case"end":return e.stop()}}),e)}))),pC.apply(this,arguments)}function vC(e){var t=fC().cordova;return new Promise((function(n){t.plugins.browsertab.isAvailable((function(r){var i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ar();return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)}))}))}function yC(e,t,n){return mC.apply(this,arguments)}function mC(){return mC=yr(gr().mark((function e(t,n,r){var i,a,o;return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=fC(),a=i.cordova,o=function(){},e.prev=2,e.next=5,new Promise((function(e,i){var u=null;function s(){var t;e();var n=null===(t=a.plugins.browsertab)||void 0===t?void 0:t.close;"function"===typeof n&&n(),"function"===typeof(null===r||void 0===r?void 0:r.close)&&r.close()}function c(){u||(u=window.setTimeout((function(){i(xx(t,"redirect-cancelled-by-user"))}),2e3))}function l(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&c()}n.addPassiveListener(s),document.addEventListener("resume",c,!1),NS()&&document.addEventListener("visibilitychange",l,!1),o=function(){n.removePassiveListener(s),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",l,!1),u&&window.clearTimeout(u)}}));case 5:return e.prev=5,o(),e.finish(5);case 8:case"end":return e.stop()}}),e,null,[[2,,5,8]])}))),mC.apply(this,arguments)}function gC(e){var t,n,r,i,a,o,u,s,c,l,f=fC();Ix("function"===typeof(null===(t=null===f||void 0===f?void 0:f.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Ix("undefined"!==typeof(null===(n=null===f||void 0===f?void 0:f.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Ix("function"===typeof(null===(a=null===(i=null===(r=null===f||void 0===f?void 0:f.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===a?void 0:a.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Ix("function"===typeof(null===(s=null===(u=null===(o=null===f||void 0===f?void 0:f.cordova)||void 0===o?void 0:o.plugins)||void 0===u?void 0:u.browsertab)||void 0===s?void 0:s.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Ix("function"===typeof(null===(l=null===(c=null===f||void 0===f?void 0:f.cordova)||void 0===c?void 0:c.InAppBrowser)||void 0===l?void 0:l.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}function kC(e){return bC.apply(this,arguments)}function bC(){return(bC=yr(gr().mark((function e(t){var n,r,i;return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=wC(t),e.next=3,crypto.subtle.digest("SHA-256",n);case 3:return r=e.sent,i=Array.from(new Uint8Array(r)),e.abrupt("return",i.map((function(e){return e.toString(16).padStart(2,"0")})).join(""));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function wC(e){if(Cx(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!==typeof TextEncoder)return(new TextEncoder).encode(e);for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}var xC=function(e){u(n,e);var t=d(n);function n(){var e;return r(this,n),(e=t.apply(this,arguments)).passiveListeners=new Set,e.initPromise=new Promise((function(t){e.resolveInialized=t})),e}return a(n,[{key:"addPassiveListener",value:function(e){this.passiveListeners.add(e)}},{key:"removePassiveListener",value:function(e){this.passiveListeners.delete(e)}},{key:"resetRedirect",value:function(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}},{key:"onEvent",value:function(e){return this.resolveInialized(),this.passiveListeners.forEach((function(t){return t(e)})),xa(s(n.prototype),"onEvent",this).call(this,e)}},{key:"initialized",value:function(){var e=yr(gr().mark((function e(){return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.initPromise;case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(TT);function SC(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:t,eventId:n,urlResponse:null,sessionId:CC(),postBody:null,tenantId:e.tenantId,error:xx(e,"no-auth-event")}}function _C(e,t){return NC()._set(AC(e),t)}function EC(e){return IC.apply(this,arguments)}function IC(){return IC=yr(gr().mark((function e(t){var n;return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,NC()._get(AC(t));case 2:if(!(n=e.sent)){e.next=6;break}return e.next=6,NC()._remove(AC(t));case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)}))),IC.apply(this,arguments)}function TC(e,t){var n,r,i=function(e){var t=OC(e),n=t.link?decodeURIComponent(t.link):void 0,r=OC(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return OC(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){var a=OC(i),o=a.firebaseError?function(e){try{return JSON.parse(e)}catch(t){return null}}(decodeURIComponent(a.firebaseError)):null,u=null===(r=null===(n=null===o||void 0===o?void 0:o.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],s=u?xx(u):null;return s?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:s,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}function CC(){for(var e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",n=0;n<20;n++){var r=Math.floor(Math.random()*t.length);e.push(t.charAt(r))}return e.join("")}function NC(){return Ax(WE)}function AC(e){return xS("authEvent",e.config.apiKey,e.name)}function OC(e){if(!(null===e||void 0===e?void 0:e.includes("?")))return{};var t,n=e.split("?"),r=Oe(t=n)||Me(t)||Re(t)||De();r[0];return Kr(r.slice(1).join("?"))}var PC=function(){function e(){r(this,e),this._redirectPersistence=$E,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=ST,this._overrideRedirectResult=hT}return a(e,[{key:"_initialize",value:function(){var e=yr(gr().mark((function e(t){var n,r;return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t._key(),(r=this.eventManagers.get(n))||(r=new xC(t),this.eventManagers.set(n,r),this.attachCallbackListeners(t,r)),e.abrupt("return",r);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(e){wx(e,"operation-not-supported-in-this-environment")}},{key:"_openRedirect",value:function(){var e=yr(gr().mark((function e(t,n,r,i){var a,o,u,s;return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return gC(t),e.next=3,this._initialize(t);case 3:return a=e.sent,e.next=6,a.initialized();case 6:return a.resetRedirect(),oT.clear(),e.next=10,this._originValidation(t);case 10:return o=SC(t,r,i),e.next=13,_C(t,o);case 13:return e.next=15,hC(t,o,n);case 15:return u=e.sent,e.next=18,vC(u);case 18:return s=e.sent,e.abrupt("return",yC(t,a,s));case 20:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){throw new Error("Method not implemented.")}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return pC.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"attachCallbackListeners",value:function(e,t){var n=fC(),r=n.universalLinks,i=n.handleOpenURL,a=n.BuildInfo,o=setTimeout(yr(gr().mark((function n(){return gr().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,EC(e);case 2:t.onEvent(DC());case 3:case"end":return n.stop()}}),n)}))),500),u=function(){var n=yr(gr().mark((function n(r){var i,a;return gr().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return clearTimeout(o),n.next=3,EC(e);case 3:i=n.sent,a=null,i&&(null===r||void 0===r?void 0:r.url)&&(a=TC(i,r.url)),t.onEvent(a||DC());case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();"undefined"!==typeof r&&"function"===typeof r.subscribe&&r.subscribe(null,u);var s=i,c="".concat(a.packageName.toLowerCase(),"://");fC().handleOpenURL=function(){var e=yr(gr().mark((function e(t){return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.toLowerCase().startsWith(c)&&u({url:t}),"function"===typeof s)try{s(t)}catch(n){console.error(n)}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}]),e}(),RC=PC;function DC(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:xx("no-auth-event")}}function LC(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function MC(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ar();return!("file:"!==LC()&&"ionic:"!==LC()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function FC(){return Lr()&&11===(null===document||void 0===document?void 0:document.documentMode)}function UC(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ar();return/Edge\/\d+/.test(e)}function jC(){try{var e=self.localStorage,t=JE();if(e)return e.setItem(t,"1"),e.removeItem(t),!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ar();return FC()||UC(e)}()||Mr()}catch(n){return VC()&&Mr()}return!1}function VC(){return"undefined"!==typeof n.g&&"WorkerGlobalScope"in n.g&&"importScripts"in n.g}function BC(){return("http:"===LC()||"https:"===LC()||Rr()||MC())&&!(Dr()||Pr())&&jC()&&!VC()}function zC(){return MC()&&"undefined"!==typeof document}function qC(){return GC.apply(this,arguments)}function GC(){return(GC=yr(gr().mark((function e(){return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(zC()){e.next=2;break}return e.abrupt("return",!1);case 2:return e.abrupt("return",new Promise((function(e){var t=setTimeout((function(){e(!1)}),1e3);document.addEventListener("deviceready",(function(){clearTimeout(t),e(!0)}))})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var KC={LOCAL:"local",NONE:"none",SESSION:"session"},HC=Ix,WC="persistence";function QC(e,t){HC(Object.values(KC).includes(t),e,"invalid-persistence-type"),Dr()?HC(t!==KC.SESSION,e,"unsupported-persistence-type"):Pr()?HC(t===KC.NONE,e,"unsupported-persistence-type"):VC()?HC(t===KC.NONE||t===KC.LOCAL&&Mr(),e,"unsupported-persistence-type"):HC(t===KC.NONE||jC(),e,"unsupported-persistence-type")}function $C(e){return YC.apply(this,arguments)}function YC(){return YC=yr(gr().mark((function e(t){var n,r;return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._initializationPromise;case 2:n=XC(),r=xS(WC,t.config.apiKey,t.name),n&&n.setItem(r,t._getPersistence());case 5:case"end":return e.stop()}}),e)}))),YC.apply(this,arguments)}function XC(){var e;try{return(null===(e="undefined"!==typeof window?window:null)||void 0===e?void 0:e.sessionStorage)||null}catch(t){return null}}var JC=Ix,ZC=function(){function e(){r(this,e),this.browserResolver=Ax(rC),this.cordovaResolver=Ax(RC),this.underlyingResolver=null,this._redirectPersistence=$E,this._completeRedirectFn=ST,this._overrideRedirectResult=hT}return a(e,[{key:"_initialize",value:function(){var e=yr(gr().mark((function e(t){return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._initialize(t));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(){var e=yr(gr().mark((function e(t,n,r,i){return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openPopup(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=yr(gr().mark((function e(t,n,r,i){return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openRedirect(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}},{key:"_originValidation",value:function(e){return this.assertedUnderlyingResolver._originValidation(e)}},{key:"_shouldInitProactively",get:function(){return zC()||this.browserResolver._shouldInitProactively}},{key:"assertedUnderlyingResolver",get:function(){return JC(this.underlyingResolver,"internal-error"),this.underlyingResolver}},{key:"selectUnderlyingResolver",value:function(){var e=yr(gr().mark((function e(){var t;return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.underlyingResolver){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,qC();case 4:t=e.sent,this.underlyingResolver=t?this.cordovaResolver:this.browserResolver;case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function eN(e){return e.unwrap()}function tN(e,t){var n,r=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===t.code)t.resolver=new oN(e,function(e,t){var n,r=Yr(e),i=t;return Ix(t.customData.operationType,r,"argument-error"),Ix(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),jE._fromError(r,i)}(e,t));else if(r){var i=nN(t),a=t;i&&(a.credential=i,a.tenantId=r.tenantId||void 0,a.email=r.email||void 0,a.phoneNumber=r.phoneNumber||void 0)}}function nN(e){var t=(e instanceof Fr?e.customData:e)._tokenResponse;if(!t)return null;if(!(e instanceof Fr)&&"temporaryProof"in t&&"phoneNumber"in t)return KI.credentialFromResult(e);var n,r=t.providerId;if(!r||r===ux)return null;switch(r){case ox:n=A_;break;case ix:n=N_;break;case ax:n=O_;break;case sx:n=D_;break;default:var i=t.oauthIdToken,a=t.oauthAccessToken,o=t.oauthTokenSecret,u=t.pendingToken,s=t.nonce;return a||o||i||u?u?r.startsWith("saml.")?P_._create(r,u):y_._fromParams({providerId:r,signInMethod:r,pendingToken:u,idToken:i,accessToken:a}):new C_(r).credential({idToken:i,accessToken:a,rawNonce:s}):null}return e instanceof Fr?n.credentialFromError(e):n.credentialFromResult(e)}function rN(e,t){return t.catch((function(t){throw t instanceof Fr&&tN(e,t),t})).then((function(e){var t,n=e.operationType,r=e.user;return{operationType:n,credential:(t=e,nN(t)),additionalUserInfo:FE(e),user:uN.getOrCreate(r)}}))}function iN(e,t){return aN.apply(this,arguments)}function aN(){return aN=yr(gr().mark((function e(t,n){var r;return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n;case 2:return r=e.sent,e.abrupt("return",{verificationId:r.verificationId,confirm:function(e){return rN(t,r.confirm(e))}});case 4:case"end":return e.stop()}}),e)}))),aN.apply(this,arguments)}var oN=function(){function e(t,n){r(this,e),this.resolver=n,this.auth=function(e){return e.wrapped()}(t)}return a(e,[{key:"session",get:function(){return this.resolver.session}},{key:"hints",get:function(){return this.resolver.hints}},{key:"resolveSignIn",value:function(e){return rN(eN(this.auth),this.resolver.resolveSignIn(e))}}]),e}(),uN=function(){function e(t){r(this,e),this._delegate=t,this.multiFactor=function(e){var t=Yr(e);return qE.has(t)||qE.set(t,zE._fromUser(t)),qE.get(t)}(t)}return a(e,[{key:"delete",value:function(){return this._delegate.delete()}},{key:"reload",value:function(){return this._delegate.reload()}},{key:"toJSON",value:function(){return this._delegate.toJSON()}},{key:"getIdTokenResult",value:function(e){return this._delegate.getIdTokenResult(e)}},{key:"getIdToken",value:function(e){return this._delegate.getIdToken(e)}},{key:"linkAndRetrieveDataWithCredential",value:function(e){return this.linkWithCredential(e)}},{key:"linkWithCredential",value:function(){var e=yr(gr().mark((function e(t){return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",rN(this.auth,tE(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithPhoneNumber",value:function(){var e=yr(gr().mark((function e(t,n){return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",iN(this.auth,jI(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"linkWithPopup",value:function(){var e=yr(gr().mark((function e(t){return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",rN(this.auth,rT(this._delegate,t,ZC)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithRedirect",value:function(){var e=yr(gr().mark((function e(t){return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$C(jS(this.auth));case 2:return e.abrupt("return",kT(this._delegate,t,ZC));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateAndRetrieveDataWithCredential",value:function(e){return this.reauthenticateWithCredential(e)}},{key:"reauthenticateWithCredential",value:function(){var e=yr(gr().mark((function e(t){return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",rN(this.auth,rE(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateWithPhoneNumber",value:function(e,t){return iN(this.auth,function(e,t,n){return BI.apply(this,arguments)}(this._delegate,e,t))}},{key:"reauthenticateWithPopup",value:function(e){return rN(this.auth,function(e,t,n){return nT.apply(this,arguments)}(this._delegate,e,ZC))}},{key:"reauthenticateWithRedirect",value:function(){var e=yr(gr().mark((function e(t){return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$C(jS(this.auth));case 2:return e.abrupt("return",mT(this._delegate,t,ZC));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"sendEmailVerification",value:function(e){return function(e,t){return _E.apply(this,arguments)}(this._delegate,e)}},{key:"unlink",value:function(){var e=yr(gr().mark((function e(t){return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q_(this._delegate,t);case 2:return e.abrupt("return",this);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateEmail",value:function(e){return function(e,t){return NE(Yr(e),t,null)}(this._delegate,e)}},{key:"updatePassword",value:function(e){return function(e,t){return NE(Yr(e),null,t)}(this._delegate,e)}},{key:"updatePhoneNumber",value:function(e){return function(e,t){return GI.apply(this,arguments)}(this._delegate,e)}},{key:"updateProfile",value:function(e){return function(e,t){return CE.apply(this,arguments)}(this._delegate,e)}},{key:"verifyBeforeUpdateEmail",value:function(e,t){return function(e,t,n){return EE.apply(this,arguments)}(this._delegate,e,t)}},{key:"emailVerified",get:function(){return this._delegate.emailVerified}},{key:"isAnonymous",get:function(){return this._delegate.isAnonymous}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"phoneNumber",get:function(){return this._delegate.phoneNumber}},{key:"providerData",get:function(){return this._delegate.providerData}},{key:"refreshToken",get:function(){return this._delegate.refreshToken}},{key:"tenantId",get:function(){return this._delegate.tenantId}},{key:"displayName",get:function(){return this._delegate.displayName}},{key:"email",get:function(){return this._delegate.email}},{key:"photoURL",get:function(){return this._delegate.photoURL}},{key:"providerId",get:function(){return this._delegate.providerId}},{key:"uid",get:function(){return this._delegate.uid}},{key:"auth",get:function(){return this._delegate.auth}}],[{key:"getOrCreate",value:function(t){return e.USER_MAP.has(t)||e.USER_MAP.set(t,new e(t)),e.USER_MAP.get(t)}}]),e}();uN.USER_MAP=new WeakMap;var sN=Ix,cN=function(){function e(t,n){if(r(this,e),this.app=t,n.isInitialized())return this._delegate=n.getImmediate(),void this.linkUnderlyingAuth();var i=t.options.apiKey;sN(i,"invalid-api-key",{appName:t.name}),sN(i,"invalid-api-key",{appName:t.name});var a="undefined"!==typeof window?ZC:void 0;this._delegate=n.initialize({options:{persistence:fN(i,t.name),popupRedirectResolver:a}}),this._delegate._updateErrorMap(yx),this.linkUnderlyingAuth()}return a(e,[{key:"emulatorConfig",get:function(){return this._delegate.emulatorConfig}},{key:"currentUser",get:function(){return this._delegate.currentUser?uN.getOrCreate(this._delegate.currentUser):null}},{key:"languageCode",get:function(){return this._delegate.languageCode},set:function(e){this._delegate.languageCode=e}},{key:"settings",get:function(){return this._delegate.settings}},{key:"tenantId",get:function(){return this._delegate.tenantId},set:function(e){this._delegate.tenantId=e}},{key:"useDeviceLanguage",value:function(){this._delegate.useDeviceLanguage()}},{key:"signOut",value:function(){return this._delegate.signOut()}},{key:"useEmulator",value:function(e,t){BS(this._delegate,e,t)}},{key:"applyActionCode",value:function(e){return function(e,t){return dE.apply(this,arguments)}(this._delegate,e)}},{key:"checkActionCode",value:function(e){return pE(this._delegate,e)}},{key:"confirmPasswordReset",value:function(e,t){return function(e,t,n){return hE.apply(this,arguments)}(this._delegate,e,t)}},{key:"createUserWithEmailAndPassword",value:function(){var e=yr(gr().mark((function e(t,n){return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",rN(this._delegate,mE(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"fetchProvidersForEmail",value:function(e){return this.fetchSignInMethodsForEmail(e)}},{key:"fetchSignInMethodsForEmail",value:function(e){return function(e,t){return SE.apply(this,arguments)}(this._delegate,e)}},{key:"isSignInWithEmailLink",value:function(e){return function(e,t){var n=__.parseLink(t);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}(this._delegate,e)}},{key:"getRedirectResult",value:function(){var e=yr(gr().mark((function e(){var t;return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return sN(BC(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,wT(this._delegate,ZC);case 3:if(t=e.sent){e.next=6;break}return e.abrupt("return",{credential:null,user:null});case 6:return e.abrupt("return",rN(this._delegate,Promise.resolve(t)));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"addFrameworkForLogging",value:function(e){!function(e,t){jS(e)._logFramework(t)}(this._delegate,e)}},{key:"onAuthStateChanged",value:function(e,t,n){var r=lN(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onAuthStateChanged(i,a,o)}},{key:"onIdTokenChanged",value:function(e,t,n){var r=lN(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onIdTokenChanged(i,a,o)}},{key:"sendSignInLinkToEmail",value:function(e,t){return function(e,t,n){return kE.apply(this,arguments)}(this._delegate,e,t)}},{key:"sendPasswordResetEmail",value:function(e,t){return function(e,t,n){return fE.apply(this,arguments)}(this._delegate,e,t||void 0)}},{key:"setPersistence",value:function(){var e=yr(gr().mark((function e(t){var n,r;return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:QC(this._delegate,t),e.t0=t,e.next=e.t0===KC.SESSION?4:e.t0===KC.LOCAL?6:e.t0===KC.NONE?11:13;break;case 4:return n=$E,e.abrupt("break",14);case 6:return e.next=8,Ax(gI)._isAvailable();case 8:return r=e.sent,n=r?gI:WE,e.abrupt("break",14);case 11:return n=wS,e.abrupt("break",14);case 13:return e.abrupt("return",wx("argument-error",{appName:this._delegate.name}));case 14:return e.abrupt("return",this._delegate.setPersistence(n));case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInAndRetrieveDataWithCredential",value:function(e){return this.signInWithCredential(e)}},{key:"signInAnonymously",value:function(){return rN(this._delegate,function(e){return j_.apply(this,arguments)}(this._delegate))}},{key:"signInWithCredential",value:function(e){return rN(this._delegate,Z_(this._delegate,e))}},{key:"signInWithCustomToken",value:function(e){return rN(this._delegate,function(e,t){return uE.apply(this,arguments)}(this._delegate,e))}},{key:"signInWithEmailAndPassword",value:function(e,t){return rN(this._delegate,function(e,t,n){return Z_(Yr(e),E_.credential(t,n))}(this._delegate,e,t))}},{key:"signInWithEmailLink",value:function(e,t){return rN(this._delegate,function(e,t,n){return bE.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPhoneNumber",value:function(e,t){return iN(this._delegate,function(e,t,n){return UI.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPopup",value:function(){var e=yr(gr().mark((function e(t){return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return sN(BC(),this._delegate,"operation-not-supported-in-this-environment"),e.abrupt("return",rN(this._delegate,eT(this._delegate,t,ZC)));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInWithRedirect",value:function(){var e=yr(gr().mark((function e(t){return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return sN(BC(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,$C(this._delegate);case 3:return e.abrupt("return",vT(this._delegate,t,ZC));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(e){return this._delegate.updateCurrentUser(e)}},{key:"verifyPasswordResetCode",value:function(e){return function(e,t){return yE.apply(this,arguments)}(this._delegate,e)}},{key:"unwrap",value:function(){return this._delegate}},{key:"_delete",value:function(){return this._delegate._delete()}},{key:"linkUnderlyingAuth",value:function(){var e=this;this._delegate.wrapped=function(){return e}}}]),e}();function lN(e,t,n){var r=e;"function"!==typeof e&&(r=e.next,t=e.error,n=e.complete);var i=r;return{next:function(e){return i(e&&uN.getOrCreate(e))},error:t,complete:n}}function fN(e,t){var n=function(e,t){var n=XC();if(!n)return[];var r=xS(WC,e,t);switch(n.getItem(r)){case KC.NONE:return[wS];case KC.LOCAL:return[gI,$E];case KC.SESSION:return[$E];default:return[]}}(e,t);if("undefined"===typeof self||n.includes(gI)||n.push(gI),"undefined"!==typeof window)for(var r=0,i=[WE,$E];r<i.length;r++){var a=i[r];n.includes(a)||n.push(a)}return n.includes(wS)||n.push(wS),n}cN.Persistence=KC;var hN=function(){function e(){r(this,e),this.providerId="phone",this._delegate=new KI(eN(ba.auth()))}return a(e,[{key:"verifyPhoneNumber",value:function(e,t){return this._delegate.verifyPhoneNumber(e,t)}},{key:"unwrap",value:function(){return this._delegate}}],[{key:"credential",value:function(e,t){return KI.credential(e,t)}}]),e}();hN.PHONE_SIGN_IN_METHOD=KI.PHONE_SIGN_IN_METHOD,hN.PROVIDER_ID=KI.PROVIDER_ID;var dN=Ix,pN=function(){function e(t,n){var i,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ba.app();r(this,e),dN(null===(i=a.options)||void 0===i?void 0:i.apiKey,"invalid-api-key",{appName:a.name}),this._delegate=new LI(t,n,a.auth()),this.type=this._delegate.type}return a(e,[{key:"clear",value:function(){this._delegate.clear()}},{key:"render",value:function(){return this._delegate.render()}},{key:"verify",value:function(){return this._delegate.verify()}}]),e}();!function(e){e.INTERNAL.registerComponent(new Xr("auth-compat",(function(e){var t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new cN(t,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:cx,PASSWORD_RESET:lx,RECOVER_EMAIL:fx,REVERT_SECOND_FACTOR_ADDITION:hx,VERIFY_AND_CHANGE_EMAIL:dx,VERIFY_EMAIL:px}},EmailAuthProvider:E_,FacebookAuthProvider:N_,GithubAuthProvider:O_,GoogleAuthProvider:A_,OAuthProvider:C_,SAMLAuthProvider:R_,PhoneAuthProvider:hN,PhoneMultiFactorGenerator:oC,RecaptchaVerifier:pN,TwitterAuthProvider:D_,Auth:cN,AuthCredential:GS,Error:Fr}).setInstantiationMode("LAZY").setMultipleInstances(!1)),e.registerVersion("@firebase/auth-compat","0.2.14")}(ba);var vN=function(){var e=yr(gr().mark((function e(t,n){var r,i,a,o;return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return r=gN.doc("users/".concat(t.uid)),e.next=5,r.get();case 5:if(e.sent.exists){e.next=17;break}return i=t.displayName,a=t.email,o=new Date,e.prev=9,e.next=12,r.set(bt({displayName:i,email:a,createdAt:o},n));case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(9),console.log("error creating user",e.t0.message);case 17:return e.abrupt("return",r);case 18:case"end":return e.stop()}}),e,null,[[9,14]])})));return function(t,n){return e.apply(this,arguments)}}(),yN=function(e){return e.docs.map((function(e){var t=e.data(),n=t.CircuitName,r=t.Country,i=t.Locality,a=t.url,o=t.circuitId,u=t.round,s=t.packages;return{id:e.id,CircuitName:n,Country:r,Locality:i,circuitId:o,url:a,round:u,packages:s}})).reduce((function(e,t){return e[t.circuitId]=t,e}),{})};ba.initializeApp({apiKey:"AIzaSyCkV4qHipu33BRkxdWDtfNukBULHvdTsB8",authDomain:"ticket-manager-46c6d.firebaseapp.com",projectId:"ticket-manager-46c6d",storageBucket:"ticket-manager-46c6d.appspot.com",messagingSenderId:"564345720934",appId:"1:564345720934:web:10a6d0b290bbcde8265da7",measurementId:"G-SCJ42E57EL"});var mN=ba.auth(),gN=ba.firestore(),kN=new ba.auth.GoogleAuthProvider;kN.setCustomParameters({prompt:"select_account"});var bN=function(){return{type:pr.FETCH_COLLECTIONS_START}},wN=function(e){return{type:pr.FETCH_COLLECTIONS_SUCCESS,payload:e}},xN=function(e){return{type:pr.FETCH_COLLECTIONS_FAILURE,payload:e}};function SN(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var _N="function"===typeof Symbol&&Symbol.observable||"@@observable",EN=function(){return Math.random().toString(36).substring(7).split("").join(".")},IN={INIT:"@@redux/INIT"+EN(),REPLACE:"@@redux/REPLACE"+EN(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+EN()}};function TN(e){if("object"!==typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function CN(e,t,n){var r;if("function"===typeof t&&"function"===typeof n||"function"===typeof n&&"function"===typeof arguments[3])throw new Error(SN(0));if("function"===typeof t&&"undefined"===typeof n&&(n=t,t=void 0),"undefined"!==typeof n){if("function"!==typeof n)throw new Error(SN(1));return n(CN)(e,t)}if("function"!==typeof e)throw new Error(SN(2));var i=e,a=t,o=[],u=o,s=!1;function c(){u===o&&(u=o.slice())}function l(){if(s)throw new Error(SN(3));return a}function f(e){if("function"!==typeof e)throw new Error(SN(4));if(s)throw new Error(SN(5));var t=!0;return c(),u.push(e),function(){if(t){if(s)throw new Error(SN(6));t=!1,c();var n=u.indexOf(e);u.splice(n,1),o=null}}}function h(e){if(!TN(e))throw new Error(SN(7));if("undefined"===typeof e.type)throw new Error(SN(8));if(s)throw new Error(SN(9));try{s=!0,a=i(a,e)}finally{s=!1}for(var t=o=u,n=0;n<t.length;n++){(0,t[n])()}return e}function d(e){if("function"!==typeof e)throw new Error(SN(10));i=e,h({type:IN.REPLACE})}function p(){var e,t=f;return(e={subscribe:function(e){if("object"!==typeof e||null===e)throw new Error(SN(11));function n(){e.next&&e.next(l())}return n(),{unsubscribe:t(n)}}})[_N]=function(){return this},e}return h({type:IN.INIT}),(r={dispatch:h,subscribe:f,getState:l,replaceReducer:d})[_N]=p,r}function NN(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}var AN,ON,PN,RN,DN,LN,MN=function(e){return e.shop},FN=yt([MN],(function(e){return e.collections})),UN=yt([FN],(function(e){return e?Object.keys(e).map((function(t){return e[t]})):[]})),jN=yt([MN],(function(e){return e.isFetching})),VN=yt([MN],(function(e){return!!e.collections})),BN=tr.div(AN||(AN=It(["\n  height: 60vh;\n  width: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"]))),zN=(tr.div(ON||(ON=It(["\n  display: inline-block;\n  width: 50px;\n  height: 50px;\n  border: 3px solid rgba(195, 195, 195, 0.6);\n  border-radius: 50%;\n  border-top-color: #636767;\n  animation: spin 1s ease-in-out infinite;\n  -webkit-animation: spin 1s ease-in-out infinite;\n  @keyframes spin {\n    to {\n      -webkit-transform: rotate(360deg);\n    }\n  }\n  @-webkit-keyframes spin {\n    to {\n      -webkit-transform: rotate(360deg);\n    }\n  }\n"]))),["isLoading"]),qN=function(e){return function(t){var n=t.isLoading,r=wt(t,zN);return n?(0,St.jsx)(BN,{children:(0,St.jsx)("div",{className:"loader"})}):(0,St.jsx)(e,bt({},r))}},GN=jn(PN||(PN=It(["\n  background-color: black;\n  color: white;\n  border: none;\n\n  &:hover {\n    background-color: white;\n    color: black;\n    border: 1px solid black;\n  }\n"]))),KN=jn(RN||(RN=It(["\n  background-color: white;\n  color: black;\n  border: 1px solid black;\n\n  &:hover {\n    background-color: black;\n    color: white;\n    border: none;\n  }\n"]))),HN=jn(DN||(DN=It(["\n  background-color: #4285f4;\n  color: white;\n  &:hover {\n    background-color: #357ae8;\n    border: none;\n  }\n"]))),WN=tr.button(LN||(LN=It(["\n  min-width: 165px;\n  width: auto;\n  height: 50px;\n  letter-spacing: 0.5px;\n  line-height: 50px;\n  padding: 0 35px 0 35px;\n  font-size: 15px;\n\n  transition: 0.1s ease-in;\n\n  text-transform: uppercase;\n  font-family: 'Open Sans Condensed';\n  font-weight: bolder;\n\n  cursor: pointer;\n  display: flex;\n  justify-content: center;\n\n  ","\n"])),(function(e){return e.isGoogleSignIn?HN:e.inverted?KN:GN})),QN=["children"],$N=function(e){var t=e.children,n=wt(e,QN);return(0,St.jsx)(WN,bt(bt({},n),{},{children:t}))},YN=Se(st(null,(function(e){return{}}))((function(e){var t=e.item,n=e.history,r=e.match,i=(t.circuitId,t.url),a=t.round;return(0,St.jsxs)("div",{className:"collection-item",children:[(0,St.jsx)("div",{className:"image",style:{backgroundImage:"url(".concat(i,")")}}),(0,St.jsx)($N,{className:"custom-button",onClick:function(){return n.push("".concat(r.url,"/").concat(a))},inverted:!0,children:"Browse tickets"})]})}))),XN=function(e){return(0,St.jsxs)("div",{className:"collection-preview",children:[(0,St.jsxs)("h1",{className:"title",children:[e.CircuitName," - ",e.Country]}),(0,St.jsx)("span",{children:"18 - 20 MARCH"}),(0,St.jsx)("div",{className:"preview",children:(0,St.jsx)(YN,{item:e},e.CircuitName)})]})},JN=["id"],ZN=st(mt({collections:UN}))((function(e){var t=e.collections;return(0,St.jsx)("div",{className:"collections-overview",children:t.map((function(e){var t=e.id,n=wt(e,JN);return(0,St.jsx)(XN,bt({},n),t)}))})})),eA=NN(st(mt({isLoading:jN})),qN)(ZN),tA="TOGGLE_CART_HIDDEN",nA="ADD_ITEM",rA="REMOVE_ITEM",iA="CLEAR_ITEM_FROM_CART",aA="CLEAR_CART",oA=function(){return{type:tA}},uA=function(e){return{type:nA,payload:e}},sA=st(null,(function(e){return{addItem:function(t){return e(uA(t))}}}))((function(e){for(var t=e.packages,n=e.addItem,r=[],i=0;i<t.length;i++)r.push([t[i].name,t[i].period]);return(0,St.jsx)("div",{className:"packages",children:r.map((function(e){return(0,St.jsxs)("div",{className:"package",children:[(0,St.jsxs)("ul",{className:"list-items",children:[(0,St.jsx)("li",{children:e[0]},e[0]),(0,St.jsx)("li",{children:e[1]},e[1])]}),(0,St.jsx)($N,{className:"custom-button",onClick:function(){return n(e)},children:"ORDER!"})]})}))})})),cA=st((function(e,t){return{circuit:(n=t.match.params.round,yt([FN],(function(e){return e?e[n-1]:null})))(e)};var n}))((function(e){var t=e.circuit,n=t.CircuitName,r=t.Country;return(0,St.jsxs)("div",{className:"collection-page",children:[(0,St.jsx)("h2",{className:"title",children:n}),(0,St.jsx)("h2",{className:"title",children:r}),(0,St.jsx)(sA,bt({},t))]})})),lA=NN(st(mt({isLoading:function(e){return!VN(e)}})),qN)(cA),fA=function(e){u(n,e);var t=d(n);function n(){return r(this,n),t.apply(this,arguments)}return a(n,[{key:"componentDidMount",value:function(){(0,this.props.fetchCollectionsStart)()}},{key:"render",value:function(){var e=this.props.match;return(0,St.jsxs)("div",{className:"shop-page",children:[(0,St.jsx)(ye,{exact:!0,path:"".concat(e.path),component:eA}),(0,St.jsx)(ye,{path:"".concat(e.path,"/:round"),component:lA})]})}}]),n}(t.Component),hA=st(null,(function(e){return{fetchCollectionsStart:function(){return e(bN())}}}))(fA),dA=st(null,(function(e){return{clearItem:function(t){return e(function(e){return{type:iA,payload:e}}(t))},addItem:function(t){return e(uA(t))},removeItem:function(t){return e(function(e){return{type:rA,payload:e}}(t))}}}))((function(e){var t=e.cartItem,n=e.clearItem,r=e.addItem,i=e.removeItem,a=t.name,o=t.imageUrl,u=t.price,s=t.quantity;return(0,St.jsxs)("div",{className:"checkout-item",children:[(0,St.jsx)("div",{className:"image-container",children:(0,St.jsx)("img",{src:o,alt:"item"})}),(0,St.jsx)("span",{className:"name",children:a}),(0,St.jsxs)("span",{className:"quantity",children:[(0,St.jsx)("div",{className:"arrow",onClick:function(){return i(t)},children:"\u276e"}),(0,St.jsx)("span",{className:"value",children:s}),(0,St.jsx)("div",{className:"arrow",onClick:function(){return r(t)},children:"\u276f"})]}),(0,St.jsx)("span",{className:"price",children:u}),(0,St.jsx)("div",{className:"remove-button",onClick:function(){return n(t)},children:"\u2715"})]})})),pA=n(210);var vA,yA,mA,gA,kA,bA,wA,xA,SA,_A,EA,IA,TA,CA,NA,AA=n.p+"static/media/F1.071f00fcc01d19842d2863342f93dd65.svg",OA=function(e){var t=e.price,n=100*t;return(0,St.jsx)(pA.Z,{label:"Pay Now",name:"F1 Ticket Manager\u2122",billingAddress:!0,shippingAddress:!0,image:AA,description:"Your total is $".concat(t),amount:n,panelLabel:"Pay Now",token:function(e){console.log(e),alert("Payment Successful")},stripeKey:"pk_test_51LBeUlGMNWn8GNGUXZVhagu5gVKdongiHuXJ01vk6b25QhzSk0yc4DpmQQcDvLGKcpyXk79tMYtRWwDGO7hJV26S00nrdpMDiU"})},PA=function(e){return e.cart},RA=yt([PA],(function(e){return e.cartItems})),DA=yt([PA],(function(e){return e.hidden})),LA=yt([RA],(function(e){return e.reduce((function(e,t){return e+t.quantity}),0)})),MA=st(mt({cartItems:RA,total:yt([RA],(function(e){return e.reduce((function(e,t){return e+t.quantity*t.price}),0)}))}))((function(e){var t=e.cartItems,n=e.total;return(0,St.jsxs)("div",{className:"checkout-page",children:[(0,St.jsxs)("div",{className:"checkout-header",children:[(0,St.jsx)("div",{className:"header-block",children:(0,St.jsx)("span",{children:"Product"})}),(0,St.jsx)("div",{className:"header-block",children:(0,St.jsx)("span",{children:"Description"})}),(0,St.jsx)("div",{className:"header-block",children:(0,St.jsx)("span",{children:"Quantity"})}),(0,St.jsx)("div",{className:"header-block",children:(0,St.jsx)("span",{children:"Price"})}),(0,St.jsx)("div",{className:"header-block",children:(0,St.jsx)("span",{children:"Remove"})})]}),t.map((function(e){return(0,St.jsx)(dA,{cartItem:e},e.id)})),(0,St.jsx)("div",{className:"total",children:(0,St.jsxs)("span",{children:["TOTAL: $",n]})}),(0,St.jsxs)("div",{className:"test-warning",children:["*Please use the following credit card for payments*",(0,St.jsx)("br",{}),"4242 4242 4242 4242 - Exp: 12/34 - CVV: 123"]}),(0,St.jsx)(OA,{price:n})]})})),FA=["title","titleId"];function UA(){return UA=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},UA.apply(this,arguments)}function jA(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function VA(e,n){var r=e.title,i=e.titleId,a=jA(e,FA);return t.createElement("svg",UA({id:"Capa_1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 407.453 407.453",style:{enableBackground:"new 0 0 407.453 407.453"},xmlSpace:"preserve",ref:n,"aria-labelledby":i},a),r?t.createElement("title",{id:i},r):null,t.createElement("g",null,t.createElement("path",{style:{fill:"#010002"},d:"M255.099,116.515c4.487,0,8.129-3.633,8.129-8.129c0-4.495-3.642-8.129-8.129-8.129H143.486 c-4.487,0-8.129,3.633-8.129,8.129c0,4.495,3.642,8.129,8.129,8.129H255.099z"}),t.createElement("path",{style:{fill:"#010002"},d:"M367.062,100.258H311.69c-4.487,0-8.129,3.633-8.129,8.129c0,4.495,3.642,8.129,8.129,8.129h47.243 v274.681H48.519V116.515h44.536c4.487,0,8.129-3.633,8.129-8.129c0-4.495-3.642-8.129-8.129-8.129H40.391 c-4.487,0-8.129,3.633-8.129,8.129v290.938c0,4.495,3.642,8.129,8.129,8.129h326.671c4.487,0,8.129-3.633,8.129-8.129V108.386 C375.191,103.891,371.557,100.258,367.062,100.258z"}),t.createElement("path",{style:{fill:"#010002"},d:"M282.59,134.796c4.487,0,8.129-3.633,8.129-8.129V67.394C290.718,30.238,250.604,0,201.101,0 c-49.308,0-89.414,30.238-89.414,67.394v59.274c0,4.495,3.642,8.129,8.129,8.129s8.129-3.633,8.129-8.129V67.394 c0-28.198,32.823-51.137,73.36-51.137c40.334,0,73.157,22.939,73.157,51.137v59.274 C274.461,131.163,278.095,134.796,282.59,134.796z"}),t.createElement("path",{style:{fill:"#010002"},d:"M98.892,147.566c0,11.526,9.389,20.907,20.923,20.907c11.534,0,20.923-9.38,20.923-20.907 c0-4.495-3.642-8.129-8.129-8.129s-8.129,3.633-8.129,8.129c0,2.561-2.089,4.65-4.666,4.65c-2.569,0-4.666-2.089-4.666-4.65 c0-4.495-3.642-8.129-8.129-8.129S98.892,143.071,98.892,147.566z"}),t.createElement("path",{style:{fill:"#010002"},d:"M282.59,168.473c11.534,0,20.923-9.38,20.923-20.907c0-4.495-3.642-8.129-8.129-8.129 c-4.487,0-8.129,3.633-8.129,8.129c0,2.561-2.089,4.65-4.666,4.65c-2.577,0-4.666-2.089-4.666-4.65 c0-4.495-3.642-8.129-8.129-8.129c-4.487,0-8.129,3.633-8.129,8.129C261.667,159.092,271.055,168.473,282.59,168.473z"})),vA||(vA=t.createElement("g",null)),yA||(yA=t.createElement("g",null)),mA||(mA=t.createElement("g",null)),gA||(gA=t.createElement("g",null)),kA||(kA=t.createElement("g",null)),bA||(bA=t.createElement("g",null)),wA||(wA=t.createElement("g",null)),xA||(xA=t.createElement("g",null)),SA||(SA=t.createElement("g",null)),_A||(_A=t.createElement("g",null)),EA||(EA=t.createElement("g",null)),IA||(IA=t.createElement("g",null)),TA||(TA=t.createElement("g",null)),CA||(CA=t.createElement("g",null)),NA||(NA=t.createElement("g",null)))}var BA,zA=t.forwardRef(VA),qA=(n.p,st(mt({itemCount:LA}),(function(e){return{toggleCartHidden:function(){return e(oA())}}}))((function(e){var t=e.toggleCartHidden,n=e.itemCount;return(0,St.jsxs)("div",{className:"cart-icon",onClick:t,children:[(0,St.jsx)(zA,{className:"shopping-icon"}),(0,St.jsx)("span",{className:"item-count",children:n})]})}))),GA=function(e){var t=e.item,n=t.imageUrl,r=t.price,i=t.name,a=t.quantity;return(0,St.jsxs)("div",{className:"cart-item",children:[(0,St.jsx)("img",{src:n,alt:"item"}),(0,St.jsxs)("div",{className:"item-details",children:[(0,St.jsx)("span",{className:"name",children:i}),(0,St.jsxs)("span",{className:"price",children:[a," x $",r]})]})]})},KA=Se(st(mt({cartItems:RA}))((function(e){var t=e.cartItems,n=e.history,r=e.dispatch;return(0,St.jsxs)("div",{className:"cart-dropdown",children:[(0,St.jsx)("div",{className:"cart-items",children:t.length?t.map((function(e){return(0,St.jsx)(GA,{item:e},e.id)})):(0,St.jsx)("span",{className:"empty-message",children:"Your cart is empty"})}),(0,St.jsx)($N,{onClick:function(){n.push("/checkout"),r(oA())},children:"GO TO CHECKOUT"})]})}))),HA=yt([function(e){return e.user}],(function(e){return e.currentUser})),WA={SET_CURRENT_USER:"SET_CURRENT_USER",GOOGLE_SIGN_IN_START:"GOOGLE_SIGN_IN_START",EMAIL_SIGN_IN_START:"EMAIL_SIGN_IN_START",SIGN_IN_SUCCESS:"SIGN_IN_SUCCESS",SIGN_IN_FAILURE:"SIGN_IN_FAILURE",CHECK_USER_SESSION:"CHECK_USER_SESSION",SIGN_OUT_START:"SIGN_OUT_START",SIGN_OUT_SUCCESS:"SIGN_OUT_SUCCESS",SIGN_OUT_FAILURE:"SIGN_OUT_FAILURE",SIGN_UP_START:"SIGN_UP_START",SIGN_UP_SUCCESS:"SIGN_UP_SUCCESS",SIGN_UP_FAILURE:"SIGN_UP_FAILURE"},QA=function(e){return{type:WA.SIGN_IN_FAILURE,payload:e}},$A=function(e){return{type:WA.EMAIL_SIGN_IN_START,payload:e}},YA=["title","titleId"];function XA(){return XA=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},XA.apply(this,arguments)}function JA(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function ZA(e,n){var r=e.title,i=e.titleId,a=JA(e,YA);return t.createElement("svg",XA({xmlns:"http://www.w3.org/2000/svg",width:"350.000000px",height:"30.000000px",viewBox:"0 0 1223.000000 104.000000",preserveAspectRatio:"xMidYMid meet",ref:n,"aria-labelledby":i},a),r?t.createElement("title",{id:i},r):null,BA||(BA=t.createElement("g",{transform:"translate(0.000000,104.000000) scale(0.100000,-0.100000)",fill:"#000000",stroke:"none"},t.createElement("path",{d:"M3960 910 l0 -60 95 0 95 0 0 60 0 60 -95 0 -95 0 0 -60z"}),t.createElement("path",{d:"M7235 937 c-45 -25 -81 -73 -95 -126 -5 -20 -18 -142 -30 -271 -11 -129 -23 -259 -26 -287 l-6 -53 95 0 96 0 5 33 c5 33 36 464 36 507 0 34 16 58 30 44 5 -5 26 -102 46 -215 40 -235 47 -262 82 -308 52 -69 167 -92 252 -49 78 40 94 79 136 335 55 331 65 329 88 -22 9 -137 19 -267 22 -287 l6 -38 94 0 c52 0 94 2 94 5 0 44 -53 590 -60 616 -14 53 -51 102 -90 121 -48 24 -140 24 -188 -1 -84 -43 -104 -95 -144 -362 -22 -143 -37 -213 -46 -216 -7 -3 -15 -3 -18 0 -3 3 -21 101 -40 218 -33 205 -55 281 -92 323 -50 56 -176 73 -247 33z"}),t.createElement("path",{d:"M995 939 c-97 -11 -148 -25 -219 -61 -100 -50 -139 -85 -543 -480 l-181 -178 209 0 210 0 172 164 c195 186 256 237 310 260 73 30 198 36 743 36 l542 0 138 135 139 134 -725 -1 c-399 0 -756 -4 -795 -9z"}),t.createElement("path",{d:"M2225 585 l-370 -364 225 0 225 0 370 364 370 364 -225 0 -225 0 -370 -364z"}),t.createElement("path",{d:"M3099 943 c-1 -5 -2 -41 -3 -80 l-1 -73 142 0 143 0 0 -295 0 -295 100 0 100 0 0 295 0 295 145 0 145 0 0 80 0 80 -385 0 c-212 0 -386 -3 -386 -7z"}),t.createElement("path",{d:"M4900 575 l0 -375 95 0 95 0 0 115 0 115 28 -6 c36 -9 47 -19 133 -129 l74 -94 114 -1 c108 0 113 1 99 18 -111 130 -226 269 -231 279 -5 7 36 64 100 140 60 70 114 136 122 146 13 16 7 17 -95 16 l-109 0 -80 -102 c-74 -94 -83 -102 -118 -105 l-37 -3 0 180 0 181 -95 0 -95 0 0 -375z"}),t.createElement("path",{d:"M6370 860 l0 -60 -50 0 -50 0 0 -69 0 -70 43 -3 42 -3 5 -165 c3 -113 9 -173 19 -190 42 -77 102 -100 263 -100 l109 0 -3 72 -3 73 -93 5 c-67 4 -95 9 -102 20 -6 8 -9 76 -8 150 l3 135 103 3 102 3 0 69 0 70 -105 0 -105 0 0 60 0 60 -85 0 -85 0 0 -60z"}),t.createElement("path",{d:"M5783 800 c-54 -11 -91 -31 -127 -66 -51 -52 -60 -80 -64 -206 -5 -141 10 -197 66 -250 67 -64 101 -72 335 -76 l208 -4 -3 74 -3 73 -192 5 c-105 3 -193 7 -196 10 -11 13 -27 50 -27 64 0 14 27 16 215 16 l215 0 0 73 c-1 147 -34 218 -124 262 -47 23 -71 28 -158 31 -57 2 -122 -1 -145 -6z m220 -143 c10 -6 20 -29 24 -50 l6 -37 -128 0 -128 0 6 37 c4 21 14 44 24 50 23 17 173 17 196 0z"}),t.createElement("path",{d:"M11273 800 c-54 -11 -91 -31 -127 -66 -51 -52 -60 -80 -64 -206 -6 -180 26 -246 143 -300 46 -21 67 -23 258 -26 l208 -4 -3 74 -3 73 -192 5 c-105 3 -193 7 -196 10 -11 13 -27 50 -27 64 0 14 27 16 215 16 l215 0 0 73 c-1 147 -34 218 -124 262 -47 23 -71 28 -158 31 -57 2 -122 -1 -145 -6z m220 -143 c10 -6 20 -29 24 -50 l6 -37 -128 0 -128 0 6 37 c4 21 14 44 24 50 23 17 173 17 196 0z"}),t.createElement("path",{d:"M3960 500 l0 -300 95 0 95 0 0 300 0 300 -95 0 -95 0 0 -300z"}),t.createElement("path",{d:"M4440 786 c-69 -18 -117 -52 -148 -104 -26 -45 -27 -53 -27 -183 0 -134 0 -136 30 -185 24 -37 45 -56 90 -79 57 -29 62 -30 232 -33 l173 -4 0 76 0 76 -144 0 c-192 0 -191 -1 -191 144 0 94 2 108 21 126 29 30 81 39 207 40 l107 0 0 70 0 70 -152 -1 c-87 0 -173 -6 -198 -13z"}),t.createElement("path",{d:"M8250 730 l0 -70 155 0 c85 0 155 -3 155 -7 -1 -5 -44 -37 -97 -72 -189 -127 -223 -164 -223 -243 0 -43 31 -93 72 -115 29 -16 65 -18 281 -21 l247 -3 0 178 c0 193 -10 258 -50 316 -58 84 -135 107 -372 107 l-168 0 0 -70z m410 -285 l0 -95 -105 0 c-137 0 -137 10 -3 113 55 42 102 77 104 77 2 0 4 -43 4 -95z"}),t.createElement("path",{d:"M8950 500 l0 -300 95 0 95 0 0 226 0 226 101 -4 c144 -6 139 4 139 -249 l0 -199 96 0 96 0 -4 223 c-3 215 -4 223 -28 267 -28 49 -73 84 -129 100 -20 5 -132 10 -248 10 l-213 0 0 -300z"}),t.createElement("path",{d:"M9660 730 l0 -70 155 0 c85 0 155 -3 155 -7 -1 -5 -44 -37 -97 -72 -189 -127 -223 -164 -223 -243 0 -43 31 -93 72 -115 29 -16 65 -18 281 -21 l247 -3 0 178 c0 193 -10 258 -50 316 -58 84 -135 107 -372 107 l-168 0 0 -70z m410 -285 l0 -95 -105 0 c-137 0 -137 10 -3 113 55 42 102 77 104 77 2 0 4 -43 4 -95z"}),t.createElement("path",{d:"M10469 772 c-81 -42 -112 -98 -117 -210 -5 -105 8 -160 51 -209 54 -62 92 -73 255 -73 l142 0 0 -23 c0 -13 -9 -32 -21 -43 -19 -17 -41 -19 -205 -22 l-184 -4 0 -70 0 -70 213 5 c142 3 225 9 251 18 55 19 111 75 125 124 7 25 11 147 11 323 l0 282 -234 0 -234 0 -53 -28z m331 -243 l0 -121 -105 4 c-93 3 -107 6 -127 26 -20 19 -23 33 -23 96 0 109 9 116 147 116 l108 0 0 -121z"}),t.createElement("path",{d:"M11936 785 c-49 -17 -93 -59 -117 -110 -16 -35 -19 -67 -19 -257 l0 -218 95 0 95 0 0 208 c0 114 4 213 9 220 11 18 73 31 149 32 l62 0 0 70 0 70 -117 0 c-74 -1 -133 -6 -157 -15z"}),t.createElement("path",{d:"M1095 624 c-80 -10 -137 -28 -179 -58 -41 -29 -356 -332 -356 -342 0 -2 86 -4 192 -4 l191 0 68 65 c36 35 80 70 95 77 21 9 143 13 430 16 l401 4 124 124 124 124 -530 -1 c-292 -1 -543 -4 -560 -5z"}))))}var eO=t.forwardRef(ZA),tO=n.p+"static/media/F1_black.f086b4ab1562c76160ae29c3bd39fe76.svg",nO=function(e){function n(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).history=L(t.props),t}return p(n,e),n.prototype.render=function(){return t.createElement(ue,{history:this.history,children:this.props.children})},n}(t.Component);t.Component;var rO=function(e,t){return"function"===typeof e?e(t):e},iO=function(e,t){return"string"===typeof e?C(e,null,null,t):e},aO=function(e){return e},oO=t.forwardRef;"undefined"===typeof oO&&(oO=aO);var uO=oO((function(e,n){var r=e.innerRef,i=e.navigate,a=e.onClick,o=ee(e,["innerRef","navigate","onClick"]),u=o.target,s=v({},o,{onClick:function(e){try{a&&a(e)}catch(t){throw e.preventDefault(),t}e.defaultPrevented||0!==e.button||u&&"_self"!==u||function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)||(e.preventDefault(),i())}});return s.ref=aO!==oO&&n||r,t.createElement("a",s)}));var sO=oO((function(e,n){var r=e.component,i=void 0===r?uO:r,a=e.replace,o=e.to,u=e.innerRef,s=ee(e,["component","replace","to","innerRef"]);return t.createElement(oe.Consumer,null,(function(e){e||x(!1);var r=e.history,c=iO(rO(o,e.location),e.location),l=c?r.createHref(c):"",f=v({},s,{href:l,navigate:function(){var t=rO(o,e.location);(a?r.replace:r.push)(t)}});return aO!==oO?f.ref=n||u:f.innerRef=u,t.createElement(i,f)}))})),cO=function(e){return e},lO=t.forwardRef;"undefined"===typeof lO&&(lO=cO);lO((function(e,n){var r=e["aria-current"],i=void 0===r?"page":r,a=e.activeClassName,o=void 0===a?"active":a,u=e.activeStyle,s=e.className,c=e.exact,l=e.isActive,f=e.location,h=e.sensitive,d=e.strict,p=e.style,y=e.to,m=e.innerRef,g=ee(e,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","sensitive","strict","style","to","innerRef"]);return t.createElement(oe.Consumer,null,(function(e){e||x(!1);var r=f||e.location,a=iO(rO(y,r),r),k=a.pathname,b=k&&k.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),w=b?ve(r.pathname,{path:b,exact:c,sensitive:h,strict:d}):null,S=!!(l?l(w,r):w),_=S?function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((function(e){return e})).join(" ")}(s,o):s,E=S?v({},p,{},u):p,I=v({"aria-current":S&&i||null,className:_,style:E,to:a},g);return cO!==lO?I.ref=n||m:I.innerRef=m,t.createElement(sO,I)}))})),tr.div(fO||(fO=It(["\n  height: 70px;\n  width: 100%;\n  display: flex;\n  justify-content: space-between;\n  margin-bottom: 25px;\n\n  background-color: white;\n  opacity: 70%;\n"]))),tr(sO)(hO||(hO=It(["\n  height: 100%;\n  width: 70px;\n  padding: 25px;\n"]))),tr.div(dO||(dO=It(["\n  width: 50%;\n  height: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: flex-end;\n\n  // mix-blend-mode: difference;\n"]))),tr(sO)(pO||(pO=It(["\n  padding: 10px 15px;\n  cursor: pointer;\n  font-family: f1_3;\n  font-size: 15px;\n  // mix-blend-mode: difference;\n  color: black;\n\n  &:hover {\n    color: red;\n  }\n"])));var fO,hO,dO,pO,vO=st(mt({currentUser:HA,hidden:DA}),(function(e){return{signOutStart:function(){return e({type:WA.SIGN_OUT_START})}}}))((function(e){var n=e.currentUser,r=e.hidden,i=e.signOutStart,a=0;return(0,t.useEffect)((function(){window.onscroll=function(){setTimeout((function(){a>=window.scrollY&&window.scrollY>0?document.getElementsByClassName("header")[0].classList.add("sticky"):document.getElementsByClassName("header")[0].classList.remove("sticky"),a=window.scrollY}))}}),[]),(0,St.jsxs)("div",{className:"header",children:[(0,St.jsx)(sO,{className:"logo-container",to:"/F1_Ticket_Manager",children:(0,St.jsx)(eO,{className:"logo"})}),(0,St.jsxs)("div",{className:"options",children:[(0,St.jsx)(sO,{className:"option",to:"/schedule",children:"SCHEDULE"}),(0,St.jsx)(sO,{className:"option",to:"/contact",children:"CONTACT"}),n?(0,St.jsx)(sO,{className:"option",to:"/F1_Ticket_Manager",as:"div",onClick:i,children:"SIGN OUT"}):(0,St.jsx)(sO,{className:"option",to:"/signin",children:"SIGN IN"}),(0,St.jsx)(qA,{})]}),r?null:(0,St.jsx)(KA,{})]})})),yO=["handleChange","label"],mO=function(e){var t=e.handleChange,n=e.label,r=wt(e,yO);return(0,St.jsxs)("div",{className:"group",children:[(0,St.jsx)("input",bt({className:"form-input",onChange:t},r)),n?(0,St.jsx)("label",{className:"".concat(r.value.length?"shrink":""," form-input-label"),children:n}):null]})},gO=function(e){u(n,e);var t=d(n);function n(e){var i;return r(this,n),(i=t.call(this,e)).handleSubmit=function(){var e=yr(gr().mark((function e(t){var n,r,a,o;return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),n=i.props.emailSignInStart,r=i.state,a=r.email,o=r.password,n(a,o);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),i.handleChange=function(e){var t=e.target,n=t.value,r=t.name;i.setState(gt({},r,n))},i.handleResetSubmit=function(){var e=yr(gr().mark((function e(t){return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,mN.sendPasswordResetEmail(i.state.reset_email);case 3:alert("Password reset email has been sent to '"+i.state.reset_email+"'\n\nIf the email does not appear in a minute, please check your SPAM");case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),i.state={email:"",password:"",reset_email:""},i}return a(n,[{key:"render",value:function(){var e=this.props.googleSignInStart;return(0,St.jsxs)("div",{className:"sign-in",children:[(0,St.jsx)("h2",{children:"I already have an account"}),(0,St.jsx)("span",{children:"Sign in with your email and password"}),(0,St.jsxs)("form",{onSubmit:this.handleSubmit,children:[(0,St.jsx)(mO,{name:"email",type:"email",handleChange:this.handleChange,value:this.state.email,label:"Email",required:!0}),(0,St.jsx)(mO,{name:"password",type:"password",value:this.state.password,handleChange:this.handleChange,label:"Password",required:!0}),(0,St.jsxs)("div",{className:"buttons",children:[(0,St.jsx)($N,{type:"submit",children:"Sign In"}),(0,St.jsx)($N,{type:"button",onClick:e,isGoogleSignIn:!0,children:"Sign in with Google"})]})]}),(0,St.jsx)("form",{onSubmit:this.handleResetSubmit,autoComplete:"off",children:(0,St.jsxs)("div",{className:"resetPassword-main",children:[(0,St.jsx)(mO,{name:"reset_email",type:"email",value:this.state.reset_email,handleChange:this.handleChange,label:"Reset email",required:!0}),(0,St.jsx)($N,{type:"submit",children:"Forgot Password?"})]})})]})}}]),n}(t.Component),kO=st(null,(function(e){return{googleSignInStart:function(){return e({type:WA.GOOGLE_SIGN_IN_START})},emailSignInStart:function(t,n){return e($A({email:t,password:n}))}}}))(gO),bO=function(e){u(n,e);var t=d(n);function n(){var e;return r(this,n),(e=t.call(this)).handleSubmit=function(){var t=yr(gr().mark((function t(n){var r,i,a,o,u,s;return gr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.preventDefault(),r=e.state,i=r.displayName,a=r.email,o=r.password,u=r.confirmPassword,s=e.props.signUpStart,o===u){t.next=6;break}return alert("passwords do not match!"),t.abrupt("return");case 6:s(i,a,o);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.handleChange=function(t){var n=t.target,r=n.name,i=n.value;e.setState(gt({},r,i))},e.state={displayName:"",email:"",password:"",confirmPassword:""},e}return a(n,[{key:"render",value:function(){var e=this.state,t=e.displayName,n=e.email,r=e.password,i=e.confirmPassword;return(0,St.jsxs)("div",{className:"sign-up",children:[(0,St.jsx)("h2",{className:"title",children:"I do not have an account"}),(0,St.jsx)("span",{children:"Sign up with your email and password"}),(0,St.jsxs)("form",{className:"sign-up-form",onSubmit:this.handleSubmit,children:[(0,St.jsx)(mO,{type:"text",name:"displayName",value:t,onChange:this.handleChange,label:"Display Name",required:!0}),(0,St.jsx)(mO,{type:"email",name:"email",value:n,onChange:this.handleChange,label:"Email",required:!0}),(0,St.jsx)(mO,{type:"password",name:"password",value:r,onChange:this.handleChange,label:"Password",required:!0}),(0,St.jsx)(mO,{type:"password",name:"confirmPassword",value:i,onChange:this.handleChange,label:"Confirm Password",required:!0}),(0,St.jsx)($N,{type:"submit",children:"SIGN UP"})]})]})}}]),n}(t.Component),wO=st(null,(function(e){return{signUpStart:function(t,n,r){return e({type:WA.SIGN_UP_START,payload:{displayName:t,email:n,password:r}})}}}))(bO),xO=function(){return(0,St.jsxs)("div",{className:"sign-in-and-sign-up",children:[(0,St.jsx)(kO,{}),(0,St.jsx)(wO,{})]})},SO=function(e){u(n,e);var t=d(n);function n(){return r(this,n),t.apply(this,arguments)}return a(n,[{key:"componentDidMount",value:function(){(0,this.props.checkUserSession)()}},{key:"render",value:function(){var e=this;return(0,St.jsxs)("div",{children:[(0,St.jsx)(vO,{}),(0,St.jsxs)(xe,{children:[(0,St.jsx)(ye,{exact:!0,path:"/F1_Ticket_Manager",component:dr}),(0,St.jsx)(ye,{path:"/schedule",component:hA}),(0,St.jsx)(ye,{exact:!0,path:"/checkout",component:MA}),(0,St.jsx)(ye,{exact:!0,path:"/signin",render:function(){return e.props.currentUser?(0,St.jsx)(he,{to:"/F1_Ticket_Manager"}):(0,St.jsx)(xO,{})}})]})]})}}]),n}(t.Component),_O=st(mt({currentUser:HA}),(function(e){return{checkUserSession:function(){return e({type:WA.CHECK_USER_SESSION})}}}))(SO),EO=n(250);function IO(e){return IO="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},IO(e)}function TO(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function CO(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function NO(e,t){return!t||"object"!==IO(t)&&"function"!==typeof t?OO(e):t}function AO(e){return AO=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},AO(e)}function OO(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function PO(e,t){return PO=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},PO(e,t)}function RO(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var DO=function(e){function t(){var e,n;TO(this,t);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return RO(OO(n=NO(this,(e=AO(t)).call.apply(e,[this].concat(i)))),"state",{bootstrapped:!1}),RO(OO(n),"_unsubscribe",void 0),RO(OO(n),"handlePersistorState",(function(){n.props.persistor.getState().bootstrapped&&(n.props.onBeforeLift?Promise.resolve(n.props.onBeforeLift()).finally((function(){return n.setState({bootstrapped:!0})})):n.setState({bootstrapped:!0}),n._unsubscribe&&n._unsubscribe())})),n}var n,r,i;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&PO(e,t)}(t,e),n=t,(r=[{key:"componentDidMount",value:function(){this._unsubscribe=this.props.persistor.subscribe(this.handlePersistorState),this.handlePersistorState()}},{key:"componentWillUnmount",value:function(){this._unsubscribe&&this._unsubscribe()}},{key:"render",value:function(){return"function"===typeof this.props.children?this.props.children(this.state.bootstrapped):this.state.bootstrapped?this.props.children:this.props.loading}}])&&CO(n.prototype,r),i&&CO(n,i),t}(t.PureComponent);RO(DO,"defaultProps",{children:null,loading:null});var LO="persist:",MO="persist/FLUSH",FO="persist/REHYDRATE",UO="persist/PAUSE",jO="persist/PERSIST",VO="persist/PURGE",BO="persist/REGISTER";function zO(e){return zO="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zO(e)}function qO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function GO(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function KO(e,t,n,r){r.debug;var i=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?qO(n,!0).forEach((function(t){GO(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qO(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},n);return e&&"object"===zO(e)&&Object.keys(e).forEach((function(r){"_persist"!==r&&t[r]===n[r]&&(i[r]=e[r])})),i}function HO(e){var t,n=e.blacklist||null,r=e.whitelist||null,i=e.transforms||[],a=e.throttle||0,o="".concat(void 0!==e.keyPrefix?e.keyPrefix:LO).concat(e.key),u=e.storage;t=!1===e.serialize?function(e){return e}:"function"===typeof e.serialize?e.serialize:WO;var s=e.writeFailHandler||null,c={},l={},f=[],h=null,d=null;function p(){if(0===f.length)return h&&clearInterval(h),void(h=null);var e=f.shift(),n=i.reduce((function(t,n){return n.in(t,e,c)}),c[e]);if(void 0!==n)try{l[e]=t(n)}catch(r){console.error("redux-persist/createPersistoid: error serializing state",r)}else delete l[e];0===f.length&&(Object.keys(l).forEach((function(e){void 0===c[e]&&delete l[e]})),d=u.setItem(o,t(l)).catch(y))}function v(e){return(!r||-1!==r.indexOf(e)||"_persist"===e)&&(!n||-1===n.indexOf(e))}function y(e){s&&s(e)}return{update:function(e){Object.keys(e).forEach((function(t){v(t)&&c[t]!==e[t]&&-1===f.indexOf(t)&&f.push(t)})),Object.keys(c).forEach((function(t){void 0===e[t]&&v(t)&&-1===f.indexOf(t)&&void 0!==c[t]&&f.push(t)})),null===h&&(h=setInterval(p,a)),c=e},flush:function(){for(;0!==f.length;)p();return d||Promise.resolve()}}}function WO(e){return JSON.stringify(e)}function QO(e){var t,n=e.transforms||[],r="".concat(void 0!==e.keyPrefix?e.keyPrefix:LO).concat(e.key),i=e.storage;e.debug;return t=!1===e.deserialize?function(e){return e}:"function"===typeof e.deserialize?e.deserialize:$O,i.getItem(r).then((function(e){if(e)try{var r={},i=t(e);return Object.keys(i).forEach((function(e){r[e]=n.reduceRight((function(t,n){return n.out(t,e,i)}),t(i[e]))})),r}catch(a){throw a}}))}function $O(e){return JSON.parse(e)}function YO(e){0}function XO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function JO(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?XO(n,!0).forEach((function(t){ZO(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):XO(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ZO(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function eP(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function tP(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function nP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function rP(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?nP(n,!0).forEach((function(t){iP(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nP(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function iP(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var aP={registry:[],bootstrapped:!1},oP=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:aP,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case BO:return rP({},e,{registry:[].concat(tP(e.registry),[t.key])});case FO:var n=e.registry.indexOf(t.key),r=tP(e.registry);return r.splice(n,1),rP({},e,{registry:r,bootstrapped:0===r.length});default:return e}};n(896);var uP=function(e){return"@@redux-saga/"+e},sP=uP("CANCEL_PROMISE"),cP=uP("CHANNEL_END"),lP=uP("IO"),fP=uP("MATCH"),hP=uP("MULTICAST"),dP=uP("SAGA_ACTION"),pP=uP("SELF_CANCELLATION"),vP=uP("TASK"),yP=uP("TASK_CANCEL"),mP=uP("TERMINATE"),gP=uP("LOCATION");function kP(){return kP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},kP.apply(this,arguments)}var bP=function(e){return null===e||void 0===e},wP=function(e){return null!==e&&void 0!==e},xP=function(e){return"function"===typeof e},SP=function(e){return"string"===typeof e},_P=Array.isArray,EP=function(e){return e&&xP(e.then)},IP=function(e){return e&&xP(e.next)&&xP(e.throw)},TP=function e(t){return t&&(SP(t)||AP(t)||xP(t)||_P(t)&&t.every(e))},CP=function(e){return e&&xP(e.take)&&xP(e.close)},NP=function(e){return xP(e)&&e.hasOwnProperty("toString")},AP=function(e){return Boolean(e)&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype};var OP=function(e){return function(){return e}},PP=OP(!0),RP=function(){};var DP=function(e){return e};"function"===typeof Symbol&&Symbol.asyncIterator&&Symbol.asyncIterator;var LP=function(e,t){kP(e,t),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(t).forEach((function(n){e[n]=t[n]}))};function MP(e,t){var n=e.indexOf(t);n>=0&&e.splice(n,1)}var FP=function(e){throw e},UP=function(e){return{value:e,done:!0}};function jP(e,t,n){void 0===t&&(t=FP),void 0===n&&(n="iterator");var r={meta:{name:n},next:e,throw:t,return:UP,isSagaIterator:!0};return"undefined"!==typeof Symbol&&(r[Symbol.iterator]=function(){return r}),r}function VP(e,t){var n=t.sagaStack;console.error(e),console.error(n)}var BP=function(e){return Array.apply(null,new Array(e))},zP=function(e){return function(t){return e(Object.defineProperty(t,dP,{value:!0}))}},qP=function(e){return e===mP},GP=function(e){return e===yP},KP=function(e){return qP(e)||GP(e)};function HP(e,t){var n=Object.keys(e),r=n.length;var i,a=0,o=_P(e)?BP(r):{},u={};return n.forEach((function(e){var n=function(n,u){i||(u||KP(n)?(t.cancel(),t(n,u)):(o[e]=n,++a===r&&(i=!0,t(o))))};n.cancel=RP,u[e]=n})),t.cancel=function(){i||(i=!0,n.forEach((function(e){return u[e].cancel()})))},u}function WP(e){return{name:e.name||"anonymous",location:QP(e)}}function QP(e){return e[gP]}function $P(e,t){void 0===e&&(e=10);var n=new Array(e),r=0,i=0,a=0,o=function(t){n[i]=t,i=(i+1)%e,r++},u=function(){if(0!=r){var t=n[a];return n[a]=null,r--,a=(a+1)%e,t}},s=function(){for(var e=[];r;)e.push(u());return e};return{isEmpty:function(){return 0==r},put:function(u){var c;if(r<e)o(u);else switch(t){case 1:throw new Error("Channel's Buffer overflow!");case 3:n[i]=u,a=i=(i+1)%e;break;case 4:c=2*e,n=s(),r=n.length,i=n.length,a=0,n.length=c,e=c,o(u)}},take:u,flush:s}}var YP=function(e){return $P(e,4)},XP="TAKE",JP="PUT",ZP="ALL",eR="CALL",tR="FORK",nR="CANCEL",rR=function(e,t){var n;return(n={})[lP]=!0,n.combinator=!1,n.type=e,n.payload=t,n};function iR(e,t){return void 0===e&&(e="*"),TP(e)?rR(XP,{pattern:e}):function(e){return CP(e)&&e[hP]}(e)&&wP(t)&&TP(t)?rR(XP,{channel:e,pattern:t}):CP(e)?rR(XP,{channel:e}):void 0}function aR(e,t){return bP(t)&&(t=e,e=void 0),rR(JP,{channel:e,action:t})}function oR(e){var t=rR(ZP,e);return t.combinator=!0,t}function uR(e,t){var n,r=null;return xP(e)?n=e:(_P(e)?(r=e[0],n=e[1]):(r=e.context,n=e.fn),r&&SP(n)&&xP(r[n])&&(n=r[n])),{context:r,fn:n,args:t}}function sR(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return rR(eR,uR(e,n))}function cR(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return rR(tR,uR(e,n))}function lR(e){return void 0===e&&(e=pP),rR(nR,e)}function fR(){var e={};return e.promise=new Promise((function(t,n){e.resolve=t,e.reject=n})),e}var hR=fR,dR=[],pR=0;function vR(e){try{gR(),e()}finally{kR()}}function yR(e){dR.push(e),pR||(gR(),bR())}function mR(e){try{return gR(),e()}finally{bR()}}function gR(){pR++}function kR(){pR--}function bR(){var e;for(kR();!pR&&void 0!==(e=dR.shift());)vR(e)}var wR=function(e){return function(t){return e.some((function(e){return IR(e)(t)}))}},xR=function(e){return function(t){return e(t)}},SR=function(e){return function(t){return t.type===String(e)}},_R=function(e){return function(t){return t.type===e}},ER=function(){return PP};function IR(e){var t="*"===e?ER:SP(e)?SR:_P(e)?wR:NP(e)?SR:xP(e)?xR:AP(e)?_R:null;if(null===t)throw new Error("invalid pattern: "+e);return t(e)}var TR={type:cP},CR=function(e){return e&&e.type===cP};function NR(e){void 0===e&&(e=YP());var t=!1,n=[];return{take:function(r){t&&e.isEmpty()?r(TR):e.isEmpty()?(n.push(r),r.cancel=function(){MP(n,r)}):r(e.take())},put:function(r){if(!t){if(0===n.length)return e.put(r);n.shift()(r)}},flush:function(n){t&&e.isEmpty()?n(TR):n(e.flush())},close:function(){if(!t){t=!0;var e=n;n=[];for(var r=0,i=e.length;r<i;r++){(0,e[r])(TR)}}}}}function AR(){var e=function(){var e,t=!1,n=[],r=n,i=function(){r===n&&(r=n.slice())},a=function(){t=!0;var e=n=r;r=[],e.forEach((function(e){e(TR)}))};return(e={})[hP]=!0,e.put=function(e){if(!t)if(CR(e))a();else for(var i=n=r,o=0,u=i.length;o<u;o++){var s=i[o];s[fP](e)&&(s.cancel(),s(e))}},e.take=function(e,n){void 0===n&&(n=ER),t?e(TR):(e[fP]=n,i(),r.push(e),e.cancel=function(e){var t=!1;return function(){t||(t=!0,e())}}((function(){i(),MP(r,e)})))},e.close=a,e}(),t=e.put;return e.put=function(e){e[dP]?t(e):yR((function(){t(e)}))},e}function OR(e,t){var n=e[sP];xP(n)&&(t.cancel=n),e.then(t,(function(e){t(e,!0)}))}var PR,RR=0,DR=function(){return++RR};function LR(e){e.isRunning()&&e.cancel()}var MR=((PR={}).TAKE=function(e,t,n){var r=t.channel,i=void 0===r?e.channel:r,a=t.pattern,o=t.maybe,u=function(e){e instanceof Error?n(e,!0):!CR(e)||o?n(e):n(mP)};try{i.take(u,wP(a)?IR(a):null)}catch(s){return void n(s,!0)}n.cancel=u.cancel},PR.PUT=function(e,t,n){var r=t.channel,i=t.action,a=t.resolve;yR((function(){var t;try{t=(r?r.put:e.dispatch)(i)}catch(o){return void n(o,!0)}a&&EP(t)?OR(t,n):n(t)}))},PR.ALL=function(e,t,n,r){var i=r.digestEffect,a=RR,o=Object.keys(t);if(0!==o.length){var u=HP(t,n);o.forEach((function(e){i(t[e],a,u[e],e)}))}else n(_P(t)?[]:{})},PR.RACE=function(e,t,n,r){var i=r.digestEffect,a=RR,o=Object.keys(t),u=_P(t)?BP(o.length):{},s={},c=!1;o.forEach((function(e){var t=function(t,r){c||(r||KP(t)?(n.cancel(),n(t,r)):(n.cancel(),c=!0,u[e]=t,n(u)))};t.cancel=RP,s[e]=t})),n.cancel=function(){c||(c=!0,o.forEach((function(e){return s[e].cancel()})))},o.forEach((function(e){c||i(t[e],a,s[e],e)}))},PR.CALL=function(e,t,n,r){var i=t.context,a=t.fn,o=t.args,u=r.task;try{var s=a.apply(i,o);if(EP(s))return void OR(s,n);if(IP(s))return void HR(e,s,u.context,RR,WP(a),!1,n);n(s)}catch(c){n(c,!0)}},PR.CPS=function(e,t,n){var r=t.context,i=t.fn,a=t.args;try{var o=function(e,t){bP(e)?n(t):n(e,!0)};i.apply(r,a.concat(o)),o.cancel&&(n.cancel=o.cancel)}catch(u){n(u,!0)}},PR.FORK=function(e,t,n,r){var i=t.context,a=t.fn,o=t.args,u=t.detached,s=r.task,c=function(e){var t=e.context,n=e.fn,r=e.args;try{var i=n.apply(t,r);if(IP(i))return i;var a=!1;return jP((function(e){return a?{value:e,done:!0}:(a=!0,{value:i,done:!EP(i)})}))}catch(o){return jP((function(){throw o}))}}({context:i,fn:a,args:o}),l=function(e,t){return e.isSagaIterator?{name:e.meta.name}:WP(t)}(c,a);mR((function(){var t=HR(e,c,s.context,RR,l,u,void 0);u?n(t):t.isRunning()?(s.queue.addTask(t),n(t)):t.isAborted()?s.queue.abort(t.error()):n(t)}))},PR.JOIN=function(e,t,n,r){var i=r.task,a=function(e,t){if(e.isRunning()){var n={task:i,cb:t};t.cancel=function(){e.isRunning()&&MP(e.joiners,n)},e.joiners.push(n)}else e.isAborted()?t(e.error(),!0):t(e.result())};if(_P(t)){if(0===t.length)return void n([]);var o=HP(t,n);t.forEach((function(e,t){a(e,o[t])}))}else a(t,n)},PR.CANCEL=function(e,t,n,r){var i=r.task;t===pP?LR(i):_P(t)?t.forEach(LR):LR(t),n()},PR.SELECT=function(e,t,n){var r=t.selector,i=t.args;try{n(r.apply(void 0,[e.getState()].concat(i)))}catch(a){n(a,!0)}},PR.ACTION_CHANNEL=function(e,t,n){var r=t.pattern,i=NR(t.buffer),a=IR(r),o=function t(n){CR(n)||e.channel.take(t,a),i.put(n)},u=i.close;i.close=function(){o.cancel(),u()},e.channel.take(o,a),n(i)},PR.CANCELLED=function(e,t,n,r){n(r.task.isCancelled())},PR.FLUSH=function(e,t,n){t.flush(n)},PR.GET_CONTEXT=function(e,t,n,r){n(r.task.context[t])},PR.SET_CONTEXT=function(e,t,n,r){var i=r.task;LP(i.context,t),n()},PR);function FR(e,t){return e+"?"+t}function UR(e){var t=e.name,n=e.location;return n?t+"  "+FR(n.fileName,n.lineNumber):t}function jR(e){var t=function(e,t){var n;return(n=[]).concat.apply(n,t.map(e))}((function(e){return e.cancelledTasks}),e);return t.length?["Tasks cancelled due to error:"].concat(t).join("\n"):""}var VR=null,BR=[],zR=function(e){e.crashedEffect=VR,BR.push(e)},qR=function(){VR=null,BR.length=0},GR=function(){var e=BR[0],t=BR.slice(1),n=e.crashedEffect?function(e){var t=QP(e);return t?t.code+"  "+FR(t.fileName,t.lineNumber):""}(e.crashedEffect):null;return["The above error occurred in task "+UR(e.meta)+(n?" \n when executing effect "+n:"")].concat(t.map((function(e){return"    created by "+UR(e.meta)})),[jR(BR)]).join("\n")};function KR(e,t,n,r,i,a,o){var u;void 0===o&&(o=RP);var s,c,l=0,f=null,h=[],d=Object.create(n),p=function(e,t,n){var r,i=[],a=!1;function o(e){t(),s(),n(e,!0)}function u(t){i.push(t),t.cont=function(u,s){a||(MP(i,t),t.cont=RP,s?o(u):(t===e&&(r=u),i.length||(a=!0,n(r))))}}function s(){a||(a=!0,i.forEach((function(e){e.cont=RP,e.cancel()})),i=[])}return u(e),{addTask:u,cancelAll:s,abort:o,getTasks:function(){return i}}}(t,(function(){h.push.apply(h,p.getTasks().map((function(e){return e.meta.name})))}),v);function v(t,n){if(n){if(l=2,zR({meta:i,cancelledTasks:h}),y.isRoot){var r=GR();qR(),e.onError(t,{sagaStack:r})}c=t,f&&f.reject(t)}else t===yP?l=1:1!==l&&(l=3),s=t,f&&f.resolve(t);y.cont(t,n),y.joiners.forEach((function(e){e.cb(t,n)})),y.joiners=null}var y=((u={})[vP]=!0,u.id=r,u.meta=i,u.isRoot=a,u.context=d,u.joiners=[],u.queue=p,u.cancel=function(){0===l&&(l=1,p.cancelAll(),v(yP,!1))},u.cont=o,u.end=v,u.setContext=function(e){LP(d,e)},u.toPromise=function(){return f||(f=hR(),2===l?f.reject(c):0!==l&&f.resolve(s)),f.promise},u.isRunning=function(){return 0===l},u.isCancelled=function(){return 1===l||0===l&&1===t.status},u.isAborted=function(){return 2===l},u.result=function(){return s},u.error=function(){return c},u);return y}function HR(e,t,n,r,i,a,o){var u=e.finalizeRunEffect((function(t,n,r){if(EP(t))OR(t,r);else if(IP(t))HR(e,t,c.context,n,i,!1,r);else if(t&&t[lP]){(0,MR[t.type])(e,t.payload,r,l)}else r(t)}));f.cancel=RP;var s={meta:i,cancel:function(){0===s.status&&(s.status=1,f(yP))},status:0},c=KR(e,s,n,r,i,a,o),l={task:c,digestEffect:h};return o&&(o.cancel=c.cancel),f(),c;function f(e,n){try{var i;n?(i=t.throw(e),qR()):GP(e)?(s.status=1,f.cancel(),i=xP(t.return)?t.return(yP):{done:!0,value:yP}):i=qP(e)?xP(t.return)?t.return():{done:!0}:t.next(e),i.done?(1!==s.status&&(s.status=3),s.cont(i.value)):h(i.value,r,f)}catch(a){if(1===s.status)throw a;s.status=2,s.cont(a,!0)}}function h(t,n,r,i){void 0===i&&(i="");var a,o=DR();function s(n,i){a||(a=!0,r.cancel=RP,e.sagaMonitor&&(i?e.sagaMonitor.effectRejected(o,n):e.sagaMonitor.effectResolved(o,n)),i&&function(e){VR=e}(t),r(n,i))}e.sagaMonitor&&e.sagaMonitor.effectTriggered({effectId:o,parentEffectId:n,label:i,effect:t}),s.cancel=RP,r.cancel=function(){a||(a=!0,s.cancel(),s.cancel=RP,e.sagaMonitor&&e.sagaMonitor.effectCancelled(o))},u(t,o,s)}}function WR(e,t){var n=e.channel,r=void 0===n?AR():n,i=e.dispatch,a=e.getState,o=e.context,u=void 0===o?{}:o,s=e.sagaMonitor,c=e.effectMiddlewares,l=e.onError,f=void 0===l?VP:l;for(var h=arguments.length,d=new Array(h>2?h-2:0),p=2;p<h;p++)d[p-2]=arguments[p];var v=t.apply(void 0,d);var y,m=DR();if(s&&(s.rootSagaStarted=s.rootSagaStarted||RP,s.effectTriggered=s.effectTriggered||RP,s.effectResolved=s.effectResolved||RP,s.effectRejected=s.effectRejected||RP,s.effectCancelled=s.effectCancelled||RP,s.actionDispatched=s.actionDispatched||RP,s.rootSagaStarted({effectId:m,saga:t,args:d})),c){var g=NN.apply(void 0,c);y=function(e){return function(t,n,r){return g((function(t){return e(t,n,r)}))(t)}}}else y=DP;var k={channel:r,dispatch:zP(i),getState:a,sagaMonitor:s,onError:f,finalizeRunEffect:y};return mR((function(){var e=HR(k,v,u,m,WP(t),!0,void 0);return s&&s.effectResolved(m,e),e}))}var QR=function(e){var t,n=void 0===e?{}:e,r=n.context,i=void 0===r?{}:r,a=n.channel,o=void 0===a?AR():a,u=n.sagaMonitor,s=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(n,["context","channel","sagaMonitor"]);function c(e){var n=e.getState,r=e.dispatch;return t=WR.bind(null,kP({},s,{context:i,channel:o,dispatch:r,getState:n,sagaMonitor:u})),function(e){return function(t){u&&u.actionDispatched&&u.actionDispatched(t);var n=e(t);return o.put(t),n}}}return c.run=function(){return t.apply(void 0,arguments)},c.setContext=function(e){LP(i,e)},c},$R=function(e){return{done:!0,value:e}},YR={};function XR(e){return CP(e)?"channel":NP(e)?String(e):xP(e)?e.name:String(e)}function JR(e,t,n){var r,i,a,o=t;function u(t,n){if(o===YR)return $R(t);if(n&&!i)throw o=YR,n;r&&r(t);var u=n?e[i](n):e[o]();return o=u.nextState,a=u.effect,r=u.stateUpdater,i=u.errorState,o===YR?$R(t):a}return jP(u,(function(e){return u(null,e)}),n)}function ZR(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];var a,o,u={done:!1,value:iR(e)},s=function(e){return{done:!1,value:cR.apply(void 0,[t].concat(r,[e]))}},c=function(e){return{done:!1,value:lR(e)}},l=function(e){return a=e},f=function(e){return o=e};return JR({q1:function(){return{nextState:"q2",effect:u,stateUpdater:f}},q2:function(){return a?{nextState:"q3",effect:c(a)}:{nextState:"q1",effect:s(o),stateUpdater:l}},q3:function(){return{nextState:"q1",effect:s(o),stateUpdater:l}}},"q1","takeLatest("+XR(e)+", "+t.name+")")}function eD(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];return cR.apply(void 0,[ZR,e,t].concat(r))}var tD=gr().mark(iD),nD=gr().mark(aD),rD=gr().mark(oD);function iD(){var e,t,n,r;return gr().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,console.log("Fetching Circuits from database...");case 2:return i.prev=2,e=gN.collection("Circuits"),i.next=6,e.get();case 6:return t=i.sent,i.next=9,sR(yN,t);case 9:return n=i.sent,(r=Object.values(n)).sort((function(e,t){return e.round>t.round?1:-1})),i.next=14,aR(wN(r));case 14:i.next=20;break;case 16:return i.prev=16,i.t0=i.catch(2),i.next=20,aR(xN(i.t0.message));case 20:case"end":return i.stop()}}),tD,null,[[2,16]])}function aD(){return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,eD(pr.FETCH_COLLECTIONS_START,iD);case 2:case"end":return e.stop()}}),nD)}function oD(){return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,oR([sR(aD)]);case 2:case"end":return e.stop()}}),rD)}var uD=gr().mark(gD),sD=gr().mark(kD),cD=gr().mark(bD),lD=gr().mark(wD),fD=gr().mark(xD),hD=gr().mark(SD),dD=gr().mark(_D),pD=gr().mark(ED),vD=gr().mark(ID),yD=gr().mark(TD),mD=gr().mark(CD);function gD(e){var t,n;return gr().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,sR(vN,e);case 3:return t=r.sent,r.next=6,t.get();case 6:return n=r.sent,r.next=9,aR((i=bt({id:n.id},n.data()),{type:WA.SIGN_IN_SUCCESS,payload:i}));case 9:r.next=15;break;case 11:return r.prev=11,r.t0=r.catch(0),r.next=15,aR(QA(r.t0));case 15:case"end":return r.stop()}var i}),uD,null,[[0,11]])}function kD(){var e,t;return gr().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,mN.signInWithPopup(kN);case 3:return e=n.sent,t=e.user,n.next=7,gD(t);case 7:n.next=13;break;case 9:return n.prev=9,n.t0=n.catch(0),n.next=13,aR(QA(n.t0));case 13:case"end":return n.stop()}}),sD,null,[[0,9]])}function bD(e){var t,n,r,i,a;return gr().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return t=e.payload,n=t.email,r=t.password,o.prev=1,o.next=4,mN.signInWithEmailAndPassword(n,r);case 4:return i=o.sent,a=i.user,o.next=8,gD(a);case 8:o.next=14;break;case 10:return o.prev=10,o.t0=o.catch(1),o.next=14,aR(QA(o.t0));case 14:case"end":return o.stop()}}),cD,null,[[1,10]])}function wD(){var e;return gr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,new Promise((function(e,t){var n=mN.onAuthStateChanged((function(t){n(),e(t)}),t)}));case 3:if(e=t.sent){t.next=6;break}return t.abrupt("return");case 6:return t.next=8,gD(e);case 8:t.next=14;break;case 10:return t.prev=10,t.t0=t.catch(0),t.next=14,aR(QA(t.t0));case 14:case"end":return t.stop()}}),lD,null,[[0,10]])}function xD(){return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,mN.signOut();case 3:return e.next=5,aR({type:WA.SIGN_OUT_SUCCESS});case 5:e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(0),e.next=11,aR((t=e.t0,{type:WA.SIGN_OUT_SUCCESS,payload:t}));case 11:case"end":return e.stop()}var t}),fD,null,[[0,7]])}function SD(e){var t,n,r,i,a,o;return gr().wrap((function(u){for(;;)switch(u.prev=u.next){case 0:return t=e.payload,n=t.displayName,r=t.email,i=t.password,u.prev=1,u.next=4,mN.createUserWithEmailAndPassword(r,i);case 4:return a=u.sent,o=a.user,u.next=8,sR(vN,o,{displayName:n});case 8:return u.next=10,aR($A({email:r,password:i}));case 10:u.next=16;break;case 12:return u.prev=12,u.t0=u.catch(1),u.next=16,aR((s=u.t0,{type:WA.SIGN_UP_FAILURE,payload:s}));case 16:case"end":return u.stop()}var s}),hD,null,[[1,12]])}function _D(){return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,eD(WA.GOOGLE_SIGN_IN_START,kD);case 2:case"end":return e.stop()}}),dD)}function ED(){return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,eD(WA.EMAIL_SIGN_IN_START,bD);case 2:case"end":return e.stop()}}),pD)}function ID(){return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,eD(WA.SIGN_OUT_START,xD);case 2:case"end":return e.stop()}}),vD)}function TD(){return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,eD(WA.SIGN_UP_START,SD);case 2:case"end":return e.stop()}}),yD)}function CD(){return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,oR([sR(_D),sR(ED),sR(wD),sR(ID),sR(TD)]);case 2:case"end":return e.stop()}}),mD)}var ND=gr().mark(PD),AD=gr().mark(RD),OD=gr().mark(DD);function PD(){return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,aR({type:aA});case 2:case"end":return e.stop()}}),ND)}function RD(){return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,eD(WA.SIGN_OUT_SUCCESS,PD);case 2:case"end":return e.stop()}}),AD)}function DD(){return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,oR([sR(RD)]);case 2:case"end":return e.stop()}}),OD)}var LD=gr().mark(MD);function MD(){return gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,oR([sR(oD),sR(CD),sR(DD)]);case 2:case"end":return e.stop()}}),LD)}var FD=n(752),UD={currentUser:null,error:null},jD=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:UD,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case WA.SIGN_IN_SUCCESS:return bt(bt({},e),{},{currentUser:t.payload,error:null});case WA.SIGN_OUT_SUCCESS:return bt(bt({},e),{},{currentUser:null,error:null});case WA.SIGN_UP_FAILURE:case WA.SIGN_OUT_FAILURE:case WA.SIGN_IN_FAILURE:return(t.payload.code.includes("user-not-found")||t.payload.code.includes("wrong-password"))&&alert("Wrong Email or Password! Please try again or register!"),bt(bt({},e),{},{error:t.payload});default:return e}},VD=function(e,t){return e.find((function(e){return e[0]===t[0]}))?e.map((function(e){return e[0]===t[0]?bt(bt({},e),{},{quantity:e.quantity+1}):e})):[].concat(Fe(e),[bt(bt({},t),{},{quantity:1})])},BD=function(e,t){return 1===e.find((function(e){return e.id===t.id})).quantity?e.filter((function(e){return e.id!==t.id})):e.map((function(e){return e.id===t.id?bt(bt({},e),{},{quantity:e.quantity-1}):e}))},zD={hidden:!0,cartItems:[]},qD=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:zD,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case tA:return bt(bt({},e),{},{hidden:!e.hidden});case nA:return bt(bt({},e),{},{cartItems:VD(e.cartItems,t.payload)});case iA:return bt(bt({},e),{},{cartItems:e.cartItems.filter((function(e){return e.id!==t.payload.id}))});case aA:return bt(bt({},e),{},{cartItems:[]});case rA:return bt(bt({},e),{},{cartItems:BD(e.cartItems,t.payload)});default:return e}},GD={sections:[{title:"TO BE MODIFIED",imageUrl:tO,id:1,linkUrl:"shop/hats"},{title:"TO BE MODIFIED",imageUrl:tO,id:2,linkUrl:"shop/jackets"},{title:"TO BE MODIFIED",imageUrl:tO,id:3,linkUrl:"shop/sneakers"},{title:"TO BE MODIFIED",imageUrl:tO,size:"large",id:4,linkUrl:"shop/womens"},{title:"TO BE MODIFIED",imageUrl:tO,size:"large",id:5,linkUrl:"shop/mens"}]},KD=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:GD,t=arguments.length>1?arguments[1]:void 0;return t.type,e},HD={collections:null,isFetching:!1,errorMessage:void 0},WD=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:HD,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case pr.FETCH_COLLECTIONS_START:return bt(bt({},e),{},{isFetching:!0});case pr.FETCH_COLLECTIONS_SUCCESS:return bt(bt({},e),{},{isFetching:!1,collections:t.payload});case pr.FETCH_COLLECTIONS_FAILURE:return bt(bt({},e),{},{isFetching:!1,errorMessage:t.payload});default:return e}},QD={key:"root",storage:FD.Z,whitelist:["cart"]},$D=function(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var i=t[r];0,"function"===typeof e[i]&&(n[i]=e[i])}var a,o=Object.keys(n);try{!function(e){Object.keys(e).forEach((function(t){var n=e[t];if("undefined"===typeof n(void 0,{type:IN.INIT}))throw new Error(SN(12));if("undefined"===typeof n(void 0,{type:IN.PROBE_UNKNOWN_ACTION()}))throw new Error(SN(13))}))}(n)}catch(u){a=u}return function(e,t){if(void 0===e&&(e={}),a)throw a;for(var r=!1,i={},u=0;u<o.length;u++){var s=o[u],c=n[s],l=e[s],f=c(l,t);if("undefined"===typeof f){t&&t.type;throw new Error(SN(14))}i[s]=f,r=r||f!==l}return(r=r||o.length!==Object.keys(e).length)?i:e}}({user:jD,cart:qD,directory:KD,shop:WD}),YD=function(e,t){var n=void 0!==e.version?e.version:-1,r=(e.debug,void 0===e.stateReconciler?KO:e.stateReconciler),i=e.getStoredState||QO,a=void 0!==e.timeout?e.timeout:5e3,o=null,u=!1,s=!0,c=function(e){return e._persist.rehydrated&&o&&!s&&o.update(e),e};return function(l,f){var h=l||{},d=h._persist,p=eP(h,["_persist"]);if(f.type===jO){var v=!1,y=function(t,n){v||(f.rehydrate(e.key,t,n),v=!0)};if(a&&setTimeout((function(){!v&&y(void 0,new Error('redux-persist: persist timed out for persist key "'.concat(e.key,'"')))}),a),s=!1,o||(o=HO(e)),d)return JO({},t(p,f),{_persist:d});if("function"!==typeof f.rehydrate||"function"!==typeof f.register)throw new Error("redux-persist: either rehydrate or register is not a function on the PERSIST action. This can happen if the action is being replayed. This is an unexplored use case, please open an issue and we will figure out a resolution.");return f.register(e.key),i(e).then((function(t){(e.migrate||function(e,t){return Promise.resolve(e)})(t,n).then((function(e){y(e)}),(function(e){y(void 0,e)}))}),(function(e){y(void 0,e)})),JO({},t(p,f),{_persist:{version:n,rehydrated:!1}})}if(f.type===VO)return u=!0,f.result(function(e){var t=e.storage,n="".concat(void 0!==e.keyPrefix?e.keyPrefix:LO).concat(e.key);return t.removeItem(n,YO)}(e)),JO({},t(p,f),{_persist:d});if(f.type===MO)return f.result(o&&o.flush()),JO({},t(p,f),{_persist:d});if(f.type===UO)s=!0;else if(f.type===FO){if(u)return JO({},p,{_persist:JO({},d,{rehydrated:!0})});if(f.key===e.key){var m=t(p,f),g=f.payload,k=JO({},!1!==r&&void 0!==g?r(g,l,m,e):m,{_persist:JO({},d,{rehydrated:!0})});return c(k)}}if(!d)return t(l,f);var b=t(p,f);return b===p?l:c(JO({},b,{_persist:d}))}}(QD,$D),XD=QR();var JD=CN(YD,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(){var n=e.apply(void 0,arguments),r=function(){throw new Error(SN(15))},i={getState:n.getState,dispatch:function(){return r.apply(void 0,arguments)}},a=t.map((function(e){return e(i)}));return r=NN.apply(void 0,a)(n.dispatch),bt(bt({},n),{},{dispatch:r})}}}.apply(void 0,[XD]));XD.run(MD);var ZD=function(e,t,n){var r=n||!1,i=CN(oP,aP,t&&t.enhancer?t.enhancer:void 0),a=function(e){i.dispatch({type:BO,key:e})},o=function(t,n,a){var o={type:FO,payload:n,err:a,key:t};e.dispatch(o),i.dispatch(o),r&&u.getState().bootstrapped&&(r(),r=!1)},u=rP({},i,{purge:function(){var t=[];return e.dispatch({type:VO,result:function(e){t.push(e)}}),Promise.all(t)},flush:function(){var t=[];return e.dispatch({type:MO,result:function(e){t.push(e)}}),Promise.all(t)},pause:function(){e.dispatch({type:UO})},persist:function(){e.dispatch({type:jO,register:a,rehydrate:o})}});return t&&t.manualPersist||u.persist(),u}(JD);EO.s(document.getElementById("root")).render((0,St.jsx)(ct,{store:JD,children:(0,St.jsx)(nO,{children:(0,St.jsx)(DO,{persistor:ZD,children:(0,St.jsx)(_O,{})})})}))}()}();
//# sourceMappingURL=main.14fd7966.js.map