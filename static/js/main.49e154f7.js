/*! For license information please see main.49e154f7.js.LICENSE.txt */
!function(){var e={757:function(e,t,n){e.exports=n(727)},702:function(e,t){"use strict";t.Q=function(e,t){if("string"!==typeof e)throw new TypeError("argument str must be a string");for(var r={},i=t||{},o=e.split(";"),u=i.decode||n,s=0;s<o.length;s++){var c=o[s],l=c.indexOf("=");if(!(l<0)){var f=c.substring(0,l).trim();if(void 0==r[f]){var h=c.substring(l+1,c.length).trim();'"'===h[0]&&(h=h.slice(1,-1)),r[f]=a(h,u)}}}return r},t.q=function(e,t,n){var a=n||{},o=a.encode||r;if("function"!==typeof o)throw new TypeError("option encode is invalid");if(!i.test(e))throw new TypeError("argument name is invalid");var u=o(t);if(u&&!i.test(u))throw new TypeError("argument val is invalid");var s=e+"="+u;if(null!=a.maxAge){var c=a.maxAge-0;if(isNaN(c)||!isFinite(c))throw new TypeError("option maxAge is invalid");s+="; Max-Age="+Math.floor(c)}if(a.domain){if(!i.test(a.domain))throw new TypeError("option domain is invalid");s+="; Domain="+a.domain}if(a.path){if(!i.test(a.path))throw new TypeError("option path is invalid");s+="; Path="+a.path}if(a.expires){if("function"!==typeof a.expires.toUTCString)throw new TypeError("option expires is invalid");s+="; Expires="+a.expires.toUTCString()}a.httpOnly&&(s+="; HttpOnly");a.secure&&(s+="; Secure");if(a.sameSite){switch("string"===typeof a.sameSite?a.sameSite.toLowerCase():a.sameSite){case!0:s+="; SameSite=Strict";break;case"lax":s+="; SameSite=Lax";break;case"strict":s+="; SameSite=Strict";break;case"none":s+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}}return s};var n=decodeURIComponent,r=encodeURIComponent,i=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;function a(e,t){try{return t(e)}catch(n){return e}}},110:function(e,t,n){"use strict";var r=n(441),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},u={};function s(e){return r.isMemo(e)?o:u[e.$$typeof]||i}u[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},u[r.Memo]=o;var c=Object.defineProperty,l=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=d(n);i&&i!==p&&e(t,i,r)}var o=l(n);f&&(o=o.concat(f(n)));for(var u=s(t),v=s(n),m=0;m<o.length;++m){var y=o[m];if(!a[y]&&(!r||!r[y])&&(!v||!v[y])&&(!u||!u[y])){var g=h(n,y);try{c(t,y,g)}catch(k){}}}}return t}},151:function(e,t,n){var r=n(878);e.exports=d,e.exports.parse=a,e.exports.compile=function(e,t){return u(a(e,t),t)},e.exports.tokensToFunction=u,e.exports.tokensToRegExp=h;var i=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function a(e,t){for(var n,r=[],a=0,o=0,u="",l=t&&t.delimiter||"/";null!=(n=i.exec(e));){var f=n[0],h=n[1],d=n.index;if(u+=e.slice(o,d),o=d+f.length,h)u+=h[1];else{var p=e[o],v=n[2],m=n[3],y=n[4],g=n[5],k=n[6],b=n[7];u&&(r.push(u),u="");var w=null!=v&&null!=p&&p!==v,x="+"===k||"*"===k,S="?"===k||"*"===k,_=n[2]||l,E=y||g;r.push({name:m||a++,prefix:v||"",delimiter:_,optional:S,repeat:x,partial:w,asterisk:!!b,pattern:E?c(E):b?".*":"[^"+s(_)+"]+?"})}}return o<e.length&&(u+=e.substr(o)),u&&r.push(u),r}function o(e){return encodeURI(e).replace(/[\/?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}function u(e,t){for(var n=new Array(e.length),i=0;i<e.length;i++)"object"===typeof e[i]&&(n[i]=new RegExp("^(?:"+e[i].pattern+")$",f(t)));return function(t,i){for(var a="",u=t||{},s=(i||{}).pretty?o:encodeURIComponent,c=0;c<e.length;c++){var l=e[c];if("string"!==typeof l){var f,h=u[l.name];if(null==h){if(l.optional){l.partial&&(a+=l.prefix);continue}throw new TypeError('Expected "'+l.name+'" to be defined')}if(r(h)){if(!l.repeat)throw new TypeError('Expected "'+l.name+'" to not repeat, but received `'+JSON.stringify(h)+"`");if(0===h.length){if(l.optional)continue;throw new TypeError('Expected "'+l.name+'" to not be empty')}for(var d=0;d<h.length;d++){if(f=s(h[d]),!n[c].test(f))throw new TypeError('Expected all "'+l.name+'" to match "'+l.pattern+'", but received `'+JSON.stringify(f)+"`");a+=(0===d?l.prefix:l.delimiter)+f}}else{if(f=l.asterisk?encodeURI(h).replace(/[?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})):s(h),!n[c].test(f))throw new TypeError('Expected "'+l.name+'" to match "'+l.pattern+'", but received "'+f+'"');a+=l.prefix+f}}else a+=l}return a}}function s(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function c(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function l(e,t){return e.keys=t,e}function f(e){return e&&e.sensitive?"":"i"}function h(e,t,n){r(t)||(n=t||n,t=[]);for(var i=(n=n||{}).strict,a=!1!==n.end,o="",u=0;u<e.length;u++){var c=e[u];if("string"===typeof c)o+=s(c);else{var h=s(c.prefix),d="(?:"+c.pattern+")";t.push(c),c.repeat&&(d+="(?:"+h+d+")*"),o+=d=c.optional?c.partial?h+"("+d+")?":"(?:"+h+"("+d+"))?":h+"("+d+")"}}var p=s(n.delimiter||"/"),v=o.slice(-p.length)===p;return i||(o=(v?o.slice(0,-p.length):o)+"(?:"+p+"(?=$))?"),o+=a?"$":i&&v?"":"(?="+p+"|$)",l(new RegExp("^"+o,f(n)),t)}function d(e,t,n){return r(t)||(n=t||n,t=[]),n=n||{},e instanceof RegExp?function(e,t){var n=e.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)t.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return l(e,t)}(e,t):r(e)?function(e,t,n){for(var r=[],i=0;i<e.length;i++)r.push(d(e[i],t,n).source);return l(new RegExp("(?:"+r.join("|")+")",f(n)),t)}(e,t,n):function(e,t,n){return h(a(e,n),t,n)}(e,t,n)}},878:function(e){e.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},888:function(e,t,n){"use strict";var r=n(47);function i(){}function a(){}a.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,a,o){if(o!==r){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:i};return n.PropTypes=n,n}},7:function(e,t,n){e.exports=n(888)()},47:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},463:function(e,t,n){"use strict";var r=n(791),i=n(296);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,u={};function s(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(u[e]=t,e=0;e<t.length;e++)o.add(t[e])}var l=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),f=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},p={};function v(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function g(e){return e[1].toUpperCase()}function k(e,t,n,r){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!f.call(p,e)||!f.call(d,e)&&(h.test(e)?p[e]=!0:(d[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),x=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),_=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),I=Symbol.for("react.provider"),T=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),N=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),P=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var D=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var R=Symbol.iterator;function L(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=R&&e[R]||e["@@iterator"])?e:null}var M,U=Object.assign;function F(e){if(void 0===M)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);M=t&&t[1]||""}return"\n"+M+e}var j=!1;function V(e,t){if(!e||j)return"";j=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,u=a.length-1;1<=o&&0<=u&&i[o]!==a[u];)u--;for(;1<=o&&0<=u;o--,u--)if(i[o]!==a[u]){if(1!==o||1!==u)do{if(o--,0>--u||i[o]!==a[u]){var s="\n"+i[o].replace(" at new "," at ");return e.displayName&&s.includes("<anonymous>")&&(s=s.replace("<anonymous>",e.displayName)),s}}while(1<=o&&0<=u);break}}}finally{j=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?F(e):""}function B(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return e=V(e.type,!1);case 11:return e=V(e.type.render,!1);case 1:return e=V(e.type,!0);default:return""}}function z(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case S:return"Fragment";case x:return"Portal";case E:return"Profiler";case _:return"StrictMode";case A:return"Suspense";case N:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case T:return(e.displayName||"Context")+".Consumer";case I:return(e._context.displayName||"Context")+".Provider";case C:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case O:return null!==(t=e.displayName||null)?t:z(e.type)||"Memo";case P:t=e._payload,e=e._init;try{return z(e(t))}catch(n){}}return null}function q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return z(t);case 8:return t===_?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function H(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function K(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function G(e){e._valueTracker||(e._valueTracker=function(e){var t=K(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function W(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=K(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Y(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Q(e,t){var n=t.checked;return U({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function $(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=H(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function X(e,t){null!=(t=t.checked)&&k(e,"checked",t,!1)}function J(e,t){X(e,t);var n=H(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,H(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Y(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+H(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return U({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:H(n)}}function ae(e,t){var n=H(t.value),r=H(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ue(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function se(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ue(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,le,fe=(le=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return le(e,t)}))}:le);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var de={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ve(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||de.hasOwnProperty(e)&&de[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ve(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(de).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),de[t]=de[e]}))}));var ye=U({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ge(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function ke(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var xe=null,Se=null,_e=null;function Ee(e){if(e=ki(e)){if("function"!==typeof xe)throw Error(a(280));var t=e.stateNode;t&&(t=wi(t),xe(e.stateNode,e.type,t))}}function Ie(e){Se?_e?_e.push(e):_e=[e]:Se=e}function Te(){if(Se){var e=Se,t=_e;if(_e=Se=null,Ee(e),t)for(e=0;e<t.length;e++)Ee(t[e])}}function Ce(e,t){return e(t)}function Ae(){}var Ne=!1;function Oe(e,t,n){if(Ne)return e(t,n);Ne=!0;try{return Ce(e,t,n)}finally{Ne=!1,(null!==Se||null!==_e)&&(Ae(),Te())}}function Pe(e,t){var n=e.stateNode;if(null===n)return null;var r=wi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var De=!1;if(l)try{var Re={};Object.defineProperty(Re,"passive",{get:function(){De=!0}}),window.addEventListener("test",Re,Re),window.removeEventListener("test",Re,Re)}catch(le){De=!1}function Le(e,t,n,r,i,a,o,u,s){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var Me=!1,Ue=null,Fe=!1,je=null,Ve={onError:function(e){Me=!0,Ue=e}};function Be(e,t,n,r,i,a,o,u,s){Me=!1,Ue=null,Le.apply(Ve,arguments)}function ze(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function He(e){if(ze(e)!==e)throw Error(a(188))}function Ke(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=ze(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return He(i),e;if(o===r)return He(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var u=!1,s=i.child;s;){if(s===n){u=!0,n=i,r=o;break}if(s===r){u=!0,r=i,n=o;break}s=s.sibling}if(!u){for(s=o.child;s;){if(s===n){u=!0,n=o,r=i;break}if(s===r){u=!0,r=o,n=i;break}s=s.sibling}if(!u)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?Ge(e):null}function Ge(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ge(e);if(null!==t)return t;e=e.sibling}return null}var We=i.unstable_scheduleCallback,Ye=i.unstable_cancelCallback,Qe=i.unstable_shouldYield,$e=i.unstable_requestPaint,Xe=i.unstable_now,Je=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,at=null;var ot=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(ut(e)/st|0)|0},ut=Math.log,st=Math.LN2;var ct=64,lt=4194304;function ft(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var u=o&~i;0!==u?r=ft(u):0!==(a&=o)&&(r=ft(a))}else 0!==(o=n&~i)?r=ft(o):0!==a&&(r=ft(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function dt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function vt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function mt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function gt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var kt=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,xt,St,_t,Et,It=!1,Tt=[],Ct=null,At=null,Nt=null,Ot=new Map,Pt=new Map,Dt=[],Rt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lt(e,t){switch(e){case"focusin":case"focusout":Ct=null;break;case"dragenter":case"dragleave":At=null;break;case"mouseover":case"mouseout":Nt=null;break;case"pointerover":case"pointerout":Ot.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pt.delete(t.pointerId)}}function Mt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=ki(t))&&xt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Ut(e){var t=gi(e.target);if(null!==t){var n=ze(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=qe(n)))return e.blockedOn=t,void Et(e.priority,(function(){St(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ft(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Qt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ki(n))&&xt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function jt(e,t,n){Ft(e)&&n.delete(t)}function Vt(){It=!1,null!==Ct&&Ft(Ct)&&(Ct=null),null!==At&&Ft(At)&&(At=null),null!==Nt&&Ft(Nt)&&(Nt=null),Ot.forEach(jt),Pt.forEach(jt)}function Bt(e,t){e.blockedOn===t&&(e.blockedOn=null,It||(It=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Vt)))}function zt(e){function t(t){return Bt(t,e)}if(0<Tt.length){Bt(Tt[0],e);for(var n=1;n<Tt.length;n++){var r=Tt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Ct&&Bt(Ct,e),null!==At&&Bt(At,e),null!==Nt&&Bt(Nt,e),Ot.forEach(t),Pt.forEach(t),n=0;n<Dt.length;n++)(r=Dt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Dt.length&&null===(n=Dt[0]).blockedOn;)Ut(n),null===n.blockedOn&&Dt.shift()}var qt=b.ReactCurrentBatchConfig,Ht=!0;function Kt(e,t,n,r){var i=kt,a=qt.transition;qt.transition=null;try{kt=1,Wt(e,t,n,r)}finally{kt=i,qt.transition=a}}function Gt(e,t,n,r){var i=kt,a=qt.transition;qt.transition=null;try{kt=4,Wt(e,t,n,r)}finally{kt=i,qt.transition=a}}function Wt(e,t,n,r){if(Ht){var i=Qt(e,t,n,r);if(null===i)Hr(e,t,r,Yt,n),Lt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Ct=Mt(Ct,e,t,n,r,i),!0;case"dragenter":return At=Mt(At,e,t,n,r,i),!0;case"mouseover":return Nt=Mt(Nt,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return Ot.set(a,Mt(Ot.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Pt.set(a,Mt(Pt.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Lt(e,r),4&t&&-1<Rt.indexOf(e)){for(;null!==i;){var a=ki(i);if(null!==a&&wt(a),null===(a=Qt(e,t,n,r))&&Hr(e,t,r,Yt,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else Hr(e,t,r,null,n)}}var Yt=null;function Qt(e,t,n,r){if(Yt=null,null!==(e=gi(e=we(r))))if(null===(t=ze(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=qe(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Yt=e,null}function $t(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Xt=null,Jt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Jt,r=n.length,i="value"in Xt?Xt.value:Xt.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return U(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,un,sn,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ln=an(cn),fn=U({},cn,{view:0,detail:0}),hn=an(fn),dn=U({},fn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:En,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==sn&&(sn&&"mousemove"===e.type?(on=e.screenX-sn.screenX,un=e.screenY-sn.screenY):un=on=0,sn=e),on)},movementY:function(e){return"movementY"in e?e.movementY:un}}),pn=an(dn),vn=an(U({},dn,{dataTransfer:0})),mn=an(U({},fn,{relatedTarget:0})),yn=an(U({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),gn=U({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),kn=an(gn),bn=an(U({},cn,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Sn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _n(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Sn[e])&&!!t[e]}function En(){return _n}var In=U({},fn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?xn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:En,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Tn=an(In),Cn=an(U({},dn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),An=an(U({},fn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:En})),Nn=an(U({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),On=U({},dn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Pn=an(On),Dn=[9,13,27,32],Rn=l&&"CompositionEvent"in window,Ln=null;l&&"documentMode"in document&&(Ln=document.documentMode);var Mn=l&&"TextEvent"in window&&!Ln,Un=l&&(!Rn||Ln&&8<Ln&&11>=Ln),Fn=String.fromCharCode(32),jn=!1;function Vn(e,t){switch(e){case"keyup":return-1!==Dn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var zn=!1;var qn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!qn[e.type]:"textarea"===t}function Kn(e,t,n,r){Ie(r),0<(t=Gr(t,"onChange")).length&&(n=new ln("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Gn=null,Wn=null;function Yn(e){Fr(e,0)}function Qn(e){if(W(bi(e)))return e}function $n(e,t){if("change"===e)return t}var Xn=!1;if(l){var Jn;if(l){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Jn=Zn}else Jn=!1;Xn=Jn&&(!document.documentMode||9<document.documentMode)}function tr(){Gn&&(Gn.detachEvent("onpropertychange",nr),Wn=Gn=null)}function nr(e){if("value"===e.propertyName&&Qn(Wn)){var t=[];Kn(t,Wn,e,we(e)),Oe(Yn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Wn=n,(Gn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Qn(Wn)}function ar(e,t){if("click"===e)return Qn(t)}function or(e,t){if("input"===e||"change"===e)return Qn(t)}var ur="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function sr(e,t){if(ur(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!f.call(t,i)||!ur(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function lr(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function fr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?fr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=Y();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Y((e=t.contentWindow).document)}return t}function dr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&fr(n.ownerDocument.documentElement,n)){if(null!==r&&dr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=lr(n,a);var o=lr(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var vr=l&&"documentMode"in document&&11>=document.documentMode,mr=null,yr=null,gr=null,kr=!1;function br(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;kr||null==mr||mr!==Y(r)||("selectionStart"in(r=mr)&&dr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},gr&&sr(gr,r)||(gr=r,0<(r=Gr(yr,"onSelect")).length&&(t=new ln("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=mr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var xr={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},Sr={},_r={};function Er(e){if(Sr[e])return Sr[e];if(!xr[e])return e;var t,n=xr[e];for(t in n)if(n.hasOwnProperty(t)&&t in _r)return Sr[e]=n[t];return e}l&&(_r=document.createElement("div").style,"AnimationEvent"in window||(delete xr.animationend.animation,delete xr.animationiteration.animation,delete xr.animationstart.animation),"TransitionEvent"in window||delete xr.transitionend.transition);var Ir=Er("animationend"),Tr=Er("animationiteration"),Cr=Er("animationstart"),Ar=Er("transitionend"),Nr=new Map,Or="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Pr(e,t){Nr.set(e,t),s(t,[e])}for(var Dr=0;Dr<Or.length;Dr++){var Rr=Or[Dr];Pr(Rr.toLowerCase(),"on"+(Rr[0].toUpperCase()+Rr.slice(1)))}Pr(Ir,"onAnimationEnd"),Pr(Tr,"onAnimationIteration"),Pr(Cr,"onAnimationStart"),Pr("dblclick","onDoubleClick"),Pr("focusin","onFocus"),Pr("focusout","onBlur"),Pr(Ar,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Lr));function Ur(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,u,s,c){if(Be.apply(this,arguments),Me){if(!Me)throw Error(a(198));var l=Ue;Me=!1,Ue=null,Fe||(Fe=!0,je=l)}}(r,t,void 0,e),e.currentTarget=null}function Fr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var u=r[o],s=u.instance,c=u.currentTarget;if(u=u.listener,s!==a&&i.isPropagationStopped())break e;Ur(i,u,c),a=s}else for(o=0;o<r.length;o++){if(s=(u=r[o]).instance,c=u.currentTarget,u=u.listener,s!==a&&i.isPropagationStopped())break e;Ur(i,u,c),a=s}}}if(Fe)throw e=je,Fe=!1,je=null,e}function jr(e,t){var n=t[vi];void 0===n&&(n=t[vi]=new Set);var r=e+"__bubble";n.has(r)||(qr(t,e,2,!1),n.add(r))}function Vr(e,t,n){var r=0;t&&(r|=4),qr(n,e,r,t)}var Br="_reactListening"+Math.random().toString(36).slice(2);function zr(e){if(!e[Br]){e[Br]=!0,o.forEach((function(t){"selectionchange"!==t&&(Mr.has(t)||Vr(t,!1,e),Vr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Br]||(t[Br]=!0,Vr("selectionchange",!1,t))}}function qr(e,t,n,r){switch($t(t)){case 1:var i=Kt;break;case 4:i=Gt;break;default:i=Wt}n=i.bind(null,t,n,e),i=void 0,!De||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Hr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var u=r.stateNode.containerInfo;if(u===i||8===u.nodeType&&u.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var s=o.tag;if((3===s||4===s)&&((s=o.stateNode.containerInfo)===i||8===s.nodeType&&s.parentNode===i))return;o=o.return}for(;null!==u;){if(null===(o=gi(u)))return;if(5===(s=o.tag)||6===s){r=a=o;continue e}u=u.parentNode}}r=r.return}Oe((function(){var r=a,i=we(n),o=[];e:{var u=Nr.get(e);if(void 0!==u){var s=ln,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":s=Tn;break;case"focusin":c="focus",s=mn;break;case"focusout":c="blur",s=mn;break;case"beforeblur":case"afterblur":s=mn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":s=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":s=vn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":s=An;break;case Ir:case Tr:case Cr:s=yn;break;case Ar:s=Nn;break;case"scroll":s=hn;break;case"wheel":s=Pn;break;case"copy":case"cut":case"paste":s=kn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":s=Cn}var l=0!==(4&t),f=!l&&"scroll"===e,h=l?null!==u?u+"Capture":null:u;l=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==h&&(null!=(v=Pe(p,h))&&l.push(Kr(p,v,d)))),f)break;p=p.return}0<l.length&&(u=new s(u,c,null,n,i),o.push({event:u,listeners:l}))}}if(0===(7&t)){if(s="mouseout"===e||"pointerout"===e,(!(u="mouseover"===e||"pointerover"===e)||n===be||!(c=n.relatedTarget||n.fromElement)||!gi(c)&&!c[pi])&&(s||u)&&(u=i.window===i?i:(u=i.ownerDocument)?u.defaultView||u.parentWindow:window,s?(s=r,null!==(c=(c=n.relatedTarget||n.toElement)?gi(c):null)&&(c!==(f=ze(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(s=null,c=r),s!==c)){if(l=pn,v="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=Cn,v="onPointerLeave",h="onPointerEnter",p="pointer"),f=null==s?u:bi(s),d=null==c?u:bi(c),(u=new l(v,p+"leave",s,n,i)).target=f,u.relatedTarget=d,v=null,gi(i)===r&&((l=new l(h,p+"enter",c,n,i)).target=d,l.relatedTarget=f,v=l),f=v,s&&c)e:{for(h=c,p=0,d=l=s;d;d=Wr(d))p++;for(d=0,v=h;v;v=Wr(v))d++;for(;0<p-d;)l=Wr(l),p--;for(;0<d-p;)h=Wr(h),d--;for(;p--;){if(l===h||null!==h&&l===h.alternate)break e;l=Wr(l),h=Wr(h)}l=null}else l=null;null!==s&&Yr(o,u,s,l,!1),null!==c&&null!==f&&Yr(o,f,c,l,!0)}if("select"===(s=(u=r?bi(r):window).nodeName&&u.nodeName.toLowerCase())||"input"===s&&"file"===u.type)var m=$n;else if(Hn(u))if(Xn)m=or;else{m=ir;var y=rr}else(s=u.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===u.type||"radio"===u.type)&&(m=ar);switch(m&&(m=m(e,r))?Kn(o,m,n,i):(y&&y(e,u,r),"focusout"===e&&(y=u._wrapperState)&&y.controlled&&"number"===u.type&&ee(u,"number",u.value)),y=r?bi(r):window,e){case"focusin":(Hn(y)||"true"===y.contentEditable)&&(mr=y,yr=r,gr=null);break;case"focusout":gr=yr=mr=null;break;case"mousedown":kr=!0;break;case"contextmenu":case"mouseup":case"dragend":kr=!1,br(o,n,i);break;case"selectionchange":if(vr)break;case"keydown":case"keyup":br(o,n,i)}var g;if(Rn)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else zn?Vn(e,n)&&(k="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(k="onCompositionStart");k&&(Un&&"ko"!==n.locale&&(zn||"onCompositionStart"!==k?"onCompositionEnd"===k&&zn&&(g=en()):(Jt="value"in(Xt=i)?Xt.value:Xt.textContent,zn=!0)),0<(y=Gr(r,k)).length&&(k=new bn(k,e,null,n,i),o.push({event:k,listeners:y}),g?k.data=g:null!==(g=Bn(n))&&(k.data=g))),(g=Mn?function(e,t){switch(e){case"compositionend":return Bn(t);case"keypress":return 32!==t.which?null:(jn=!0,Fn);case"textInput":return(e=t.data)===Fn&&jn?null:e;default:return null}}(e,n):function(e,t){if(zn)return"compositionend"===e||!Rn&&Vn(e,t)?(e=en(),Zt=Jt=Xt=null,zn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Un&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Gr(r,"onBeforeInput")).length&&(i=new bn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=g))}Fr(o,t)}))}function Kr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Gr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Pe(e,n))&&r.unshift(Kr(e,a,i)),null!=(a=Pe(e,t))&&r.push(Kr(e,a,i))),e=e.return}return r}function Wr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Yr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var u=n,s=u.alternate,c=u.stateNode;if(null!==s&&s===r)break;5===u.tag&&null!==c&&(u=c,i?null!=(s=Pe(n,a))&&o.unshift(Kr(n,s,u)):i||null!=(s=Pe(n,a))&&o.push(Kr(n,s,u))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Qr=/\r\n?/g,$r=/\u0000|\uFFFD/g;function Xr(e){return("string"===typeof e?e:""+e).replace(Qr,"\n").replace($r,"")}function Jr(e,t,n){if(t=Xr(t),Xr(e)!==t&&n)throw Error(a(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,ai="function"===typeof Promise?Promise:void 0,oi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ai?function(e){return ai.resolve(null).then(e).catch(ui)}:ri;function ui(e){setTimeout((function(){throw e}))}function si(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void zt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);zt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function li(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var fi=Math.random().toString(36).slice(2),hi="__reactFiber$"+fi,di="__reactProps$"+fi,pi="__reactContainer$"+fi,vi="__reactEvents$"+fi,mi="__reactListeners$"+fi,yi="__reactHandles$"+fi;function gi(e){var t=e[hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[hi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=li(e);null!==e;){if(n=e[hi])return n;e=li(e)}return t}n=(e=n).parentNode}return null}function ki(e){return!(e=e[hi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function bi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function wi(e){return e[di]||null}var xi=[],Si=-1;function _i(e){return{current:e}}function Ei(e){0>Si||(e.current=xi[Si],xi[Si]=null,Si--)}function Ii(e,t){Si++,xi[Si]=e.current,e.current=t}var Ti={},Ci=_i(Ti),Ai=_i(!1),Ni=Ti;function Oi(e,t){var n=e.type.contextTypes;if(!n)return Ti;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Pi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Di(){Ei(Ai),Ei(Ci)}function Ri(e,t,n){if(Ci.current!==Ti)throw Error(a(168));Ii(Ci,t),Ii(Ai,n)}function Li(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(a(108,q(e)||"Unknown",i));return U({},n,r)}function Mi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ti,Ni=Ci.current,Ii(Ci,e),Ii(Ai,Ai.current),!0}function Ui(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Li(e,t,Ni),r.__reactInternalMemoizedMergedChildContext=e,Ei(Ai),Ei(Ci),Ii(Ci,e)):Ei(Ai),Ii(Ai,n)}var Fi=null,ji=!1,Vi=!1;function Bi(e){null===Fi?Fi=[e]:Fi.push(e)}function zi(){if(!Vi&&null!==Fi){Vi=!0;var e=0,t=kt;try{var n=Fi;for(kt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Fi=null,ji=!1}catch(i){throw null!==Fi&&(Fi=Fi.slice(e+1)),We(Ze,zi),i}finally{kt=t,Vi=!1}}return null}var qi=b.ReactCurrentBatchConfig;function Hi(e,t){if(e&&e.defaultProps){for(var n in t=U({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var Ki=_i(null),Gi=null,Wi=null,Yi=null;function Qi(){Yi=Wi=Gi=null}function $i(e){var t=Ki.current;Ei(Ki),e._currentValue=t}function Xi(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ji(e,t){Gi=e,Yi=Wi=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(wu=!0),e.firstContext=null)}function Zi(e){var t=e._currentValue;if(Yi!==e)if(e={context:e,memoizedValue:t,next:null},null===Wi){if(null===Gi)throw Error(a(308));Wi=e,Gi.dependencies={lanes:0,firstContext:e}}else Wi=Wi.next=e;return t}var ea=null,ta=!1;function na(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ra(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ia(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function aa(e,t){var n=e.updateQueue;null!==n&&(n=n.shared,tc(e)?(null===(e=n.interleaved)?(t.next=t,null===ea?ea=[n]:ea.push(n)):(t.next=e.next,e.next=t),n.interleaved=t):(null===(e=n.pending)?t.next=t:(t.next=e.next,e.next=t),n.pending=t))}function oa(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}function ua(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function sa(e,t,n,r){var i=e.updateQueue;ta=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,u=i.shared.pending;if(null!==u){i.shared.pending=null;var s=u,c=s.next;s.next=null,null===o?a=c:o.next=c,o=s;var l=e.alternate;null!==l&&((u=(l=l.updateQueue).lastBaseUpdate)!==o&&(null===u?l.firstBaseUpdate=c:u.next=c,l.lastBaseUpdate=s))}if(null!==a){var f=i.baseState;for(o=0,l=c=s=null,u=a;;){var h=u.lane,d=u.eventTime;if((r&h)===h){null!==l&&(l=l.next={eventTime:d,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var p=e,v=u;switch(h=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){f=p.call(d,f,h);break e}f=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=v.payload)?p.call(d,f,h):p)||void 0===h)break e;f=U({},f,h);break e;case 2:ta=!0}}null!==u.callback&&0!==u.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[u]:h.push(u))}else d={eventTime:d,lane:h,tag:u.tag,payload:u.payload,callback:u.callback,next:null},null===l?(c=l=d,s=f):l=l.next=d,o|=h;if(null===(u=u.next)){if(null===(u=i.shared.pending))break;u=(h=u).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===l&&(s=f),i.baseState=s,i.firstBaseUpdate=c,i.lastBaseUpdate=l,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);Ds|=o,e.lanes=o,e.memoizedState=f}}function ca(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var la=(new r.Component).refs;function fa(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:U({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ha={isMounted:function(e){return!!(e=e._reactInternals)&&ze(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Xs(),i=Js(e),a=ia(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),aa(e,a),null!==(t=Zs(e,i,r))&&oa(t,e,i)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Xs(),i=Js(e),a=ia(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),aa(e,a),null!==(t=Zs(e,i,r))&&oa(t,e,i)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Xs(),r=Js(e),i=ia(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),aa(e,i),null!==(t=Zs(e,r,n))&&oa(t,e,r)}};function da(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!sr(n,r)||!sr(i,a))}function pa(e,t,n){var r=!1,i=Ti,a=t.contextType;return"object"===typeof a&&null!==a?a=Zi(a):(i=Pi(t)?Ni:Ci.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?Oi(e,i):Ti),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ha,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function va(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ha.enqueueReplaceState(t,t.state,null)}function ma(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=la,na(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=Zi(a):(a=Pi(t)?Ni:Ci.current,i.context=Oi(e,a)),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(fa(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&ha.enqueueReplaceState(i,i.state,null),sa(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}var ya=[],ga=0,ka=null,ba=0,wa=[],xa=0,Sa=null,_a=1,Ea="";function Ia(e,t){ya[ga++]=ba,ya[ga++]=ka,ka=e,ba=t}function Ta(e,t,n){wa[xa++]=_a,wa[xa++]=Ea,wa[xa++]=Sa,Sa=e;var r=_a;e=Ea;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var a=32-ot(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,_a=1<<32-ot(t)+i|n<<i|r,Ea=a+e}else _a=1<<a|n<<i|r,Ea=e}function Ca(e){null!==e.return&&(Ia(e,1),Ta(e,1,0))}function Aa(e){for(;e===ka;)ka=ya[--ga],ya[ga]=null,ba=ya[--ga],ya[ga]=null;for(;e===Sa;)Sa=wa[--xa],wa[xa]=null,Ea=wa[--xa],wa[xa]=null,_a=wa[--xa],wa[xa]=null}var Na=null,Oa=null,Pa=!1,Da=null;function Ra(e,t){var n=Nc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function La(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,Na=e,Oa=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,Na=e,Oa=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Sa?{id:_a,overflow:Ea}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Nc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,Na=e,Oa=null,!0);default:return!1}}function Ma(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function Ua(e){if(Pa){var t=Oa;if(t){var n=t;if(!La(e,t)){if(Ma(e))throw Error(a(418));t=ci(n.nextSibling);var r=Na;t&&La(e,t)?Ra(r,n):(e.flags=-4097&e.flags|2,Pa=!1,Na=e)}}else{if(Ma(e))throw Error(a(418));e.flags=-4097&e.flags|2,Pa=!1,Na=e}}}function Fa(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Na=e}function ja(e){if(e!==Na)return!1;if(!Pa)return Fa(e),Pa=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=Oa)){if(Ma(e)){for(e=Oa;e;)e=ci(e.nextSibling);throw Error(a(418))}for(;t;)Ra(e,t),t=ci(t.nextSibling)}if(Fa(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Oa=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Oa=null}}else Oa=Na?ci(e.stateNode.nextSibling):null;return!0}function Va(){Oa=Na=null,Pa=!1}function Ba(e){null===Da?Da=[e]:Da.push(e)}function za(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;t===la&&(t=i.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function qa(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Ha(e){return(0,e._init)(e._payload)}function Ka(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Pc(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function u(t){return e&&null===t.alternate&&(t.flags|=2),t}function s(e,t,n,r){return null===t||6!==t.tag?((t=Mc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var a=n.type;return a===S?f(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===P&&Ha(a)===t.type)?((r=i(t,n.props)).ref=za(e,t,n),r.return=e,r):((r=Dc(n.type,n.key,n.props,null,e.mode,r)).ref=za(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Uc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=Rc(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Mc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Dc(t.type,t.key,t.props,null,e.mode,n)).ref=za(e,null,t),n.return=e,n;case x:return(t=Uc(t,e.mode,n)).return=e,t;case P:return h(e,(0,t._init)(t._payload),n)}if(te(t)||L(t))return(t=Rc(t,e.mode,n,null)).return=e,t;qa(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:s(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?c(e,t,n,r):null;case x:return n.key===i?l(e,t,n,r):null;case P:return d(e,t,(i=n._init)(n._payload),r)}if(te(n)||L(n))return null!==i?null:f(e,t,n,r,null);qa(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return s(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case x:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case P:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||L(r))return f(t,e=e.get(n)||null,r,i,null);qa(t,r)}return null}function v(i,a,u,s){for(var c=null,l=null,f=a,v=a=0,m=null;null!==f&&v<u.length;v++){f.index>v?(m=f,f=null):m=f.sibling;var y=d(i,f,u[v],s);if(null===y){null===f&&(f=m);break}e&&f&&null===y.alternate&&t(i,f),a=o(y,a,v),null===l?c=y:l.sibling=y,l=y,f=m}if(v===u.length)return n(i,f),Pa&&Ia(i,v),c;if(null===f){for(;v<u.length;v++)null!==(f=h(i,u[v],s))&&(a=o(f,a,v),null===l?c=f:l.sibling=f,l=f);return Pa&&Ia(i,v),c}for(f=r(i,f);v<u.length;v++)null!==(m=p(f,i,v,u[v],s))&&(e&&null!==m.alternate&&f.delete(null===m.key?v:m.key),a=o(m,a,v),null===l?c=m:l.sibling=m,l=m);return e&&f.forEach((function(e){return t(i,e)})),Pa&&Ia(i,v),c}function m(i,u,s,c){var l=L(s);if("function"!==typeof l)throw Error(a(150));if(null==(s=l.call(s)))throw Error(a(151));for(var f=l=null,v=u,m=u=0,y=null,g=s.next();null!==v&&!g.done;m++,g=s.next()){v.index>m?(y=v,v=null):y=v.sibling;var k=d(i,v,g.value,c);if(null===k){null===v&&(v=y);break}e&&v&&null===k.alternate&&t(i,v),u=o(k,u,m),null===f?l=k:f.sibling=k,f=k,v=y}if(g.done)return n(i,v),Pa&&Ia(i,m),l;if(null===v){for(;!g.done;m++,g=s.next())null!==(g=h(i,g.value,c))&&(u=o(g,u,m),null===f?l=g:f.sibling=g,f=g);return Pa&&Ia(i,m),l}for(v=r(i,v);!g.done;m++,g=s.next())null!==(g=p(v,i,m,g.value,c))&&(e&&null!==g.alternate&&v.delete(null===g.key?m:g.key),u=o(g,u,m),null===f?l=g:f.sibling=g,f=g);return e&&v.forEach((function(e){return t(i,e)})),Pa&&Ia(i,m),l}return function e(r,a,o,s){if("object"===typeof o&&null!==o&&o.type===S&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case w:e:{for(var c=o.key,l=a;null!==l;){if(l.key===c){if((c=o.type)===S){if(7===l.tag){n(r,l.sibling),(a=i(l,o.props.children)).return=r,r=a;break e}}else if(l.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===P&&Ha(c)===l.type){n(r,l.sibling),(a=i(l,o.props)).ref=za(r,l,o),a.return=r,r=a;break e}n(r,l);break}t(r,l),l=l.sibling}o.type===S?((a=Rc(o.props.children,r.mode,s,o.key)).return=r,r=a):((s=Dc(o.type,o.key,o.props,null,r.mode,s)).ref=za(r,a,o),s.return=r,r=s)}return u(r);case x:e:{for(l=o.key;null!==a;){if(a.key===l){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){n(r,a.sibling),(a=i(a,o.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=Uc(o,r.mode,s)).return=r,r=a}return u(r);case P:return e(r,a,(l=o._init)(o._payload),s)}if(te(o))return v(r,a,o,s);if(L(o))return m(r,a,o,s);qa(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,o)).return=r,r=a):(n(r,a),(a=Mc(o,r.mode,s)).return=r,r=a),u(r)):n(r,a)}}var Ga=Ka(!0),Wa=Ka(!1),Ya={},Qa=_i(Ya),$a=_i(Ya),Xa=_i(Ya);function Ja(e){if(e===Ya)throw Error(a(174));return e}function Za(e,t){switch(Ii(Xa,t),Ii($a,e),Ii(Qa,Ya),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:se(null,"");break;default:t=se(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ei(Qa),Ii(Qa,t)}function eo(){Ei(Qa),Ei($a),Ei(Xa)}function to(e){Ja(Xa.current);var t=Ja(Qa.current),n=se(t,e.type);t!==n&&(Ii($a,e),Ii(Qa,n))}function no(e){$a.current===e&&(Ei(Qa),Ei($a))}var ro=_i(0);function io(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ao=[];function oo(){for(var e=0;e<ao.length;e++)ao[e]._workInProgressVersionPrimary=null;ao.length=0}var uo=b.ReactCurrentDispatcher,so=b.ReactCurrentBatchConfig,co=0,lo=null,fo=null,ho=null,po=!1,vo=!1,mo=0,yo=0;function go(){throw Error(a(321))}function ko(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ur(e[n],t[n]))return!1;return!0}function bo(e,t,n,r,i,o){if(co=o,lo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,uo.current=null===e||null===e.memoizedState?ru:iu,e=n(r,i),vo){o=0;do{if(vo=!1,mo=0,25<=o)throw Error(a(301));o+=1,ho=fo=null,t.updateQueue=null,uo.current=au,e=n(r,i)}while(vo)}if(uo.current=nu,t=null!==fo&&null!==fo.next,co=0,ho=fo=lo=null,po=!1,t)throw Error(a(300));return e}function wo(){var e=0!==mo;return mo=0,e}function xo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ho?lo.memoizedState=ho=e:ho=ho.next=e,ho}function So(){if(null===fo){var e=lo.alternate;e=null!==e?e.memoizedState:null}else e=fo.next;var t=null===ho?lo.memoizedState:ho.next;if(null!==t)ho=t,fo=e;else{if(null===e)throw Error(a(310));e={memoizedState:(fo=e).memoizedState,baseState:fo.baseState,baseQueue:fo.baseQueue,queue:fo.queue,next:null},null===ho?lo.memoizedState=ho=e:ho=ho.next=e}return ho}function _o(e,t){return"function"===typeof t?t(e):t}function Eo(e){var t=So(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=fo,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var u=i.next;i.next=o.next,o.next=u}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var s=u=null,c=null,l=o;do{var f=l.lane;if((co&f)===f)null!==c&&(c=c.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:e(r,l.action);else{var h={lane:f,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};null===c?(s=c=h,u=r):c=c.next=h,lo.lanes|=f,Ds|=f}l=l.next}while(null!==l&&l!==o);null===c?u=r:c.next=s,ur(r,t.memoizedState)||(wu=!0),t.memoizedState=r,t.baseState=u,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,lo.lanes|=o,Ds|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Io(e){var t=So(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var u=i=i.next;do{o=e(o,u.action),u=u.next}while(u!==i);ur(o,t.memoizedState)||(wu=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function To(){}function Co(e,t){var n=lo,r=So(),i=t(),o=!ur(r.memoizedState,i);if(o&&(r.memoizedState=i,wu=!0),r=r.queue,jo(Oo.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==ho&&1&ho.memoizedState.tag){if(n.flags|=2048,Ro(9,No.bind(null,n,r,i,t),void 0,null),null===Is)throw Error(a(349));0!==(30&co)||Ao(n,t,i)}return i}function Ao(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=lo.updateQueue)?(t={lastEffect:null,stores:null},lo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function No(e,t,n,r){t.value=n,t.getSnapshot=r,Po(t)&&Zs(e,1,-1)}function Oo(e,t,n){return n((function(){Po(t)&&Zs(e,1,-1)}))}function Po(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ur(e,n)}catch(r){return!0}}function Do(e){var t=xo();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:_o,lastRenderedState:e},t.queue=e,e=e.dispatch=Xo.bind(null,lo,e),[t.memoizedState,e]}function Ro(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=lo.updateQueue)?(t={lastEffect:null,stores:null},lo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Lo(){return So().memoizedState}function Mo(e,t,n,r){var i=xo();lo.flags|=e,i.memoizedState=Ro(1|t,n,void 0,void 0===r?null:r)}function Uo(e,t,n,r){var i=So();r=void 0===r?null:r;var a=void 0;if(null!==fo){var o=fo.memoizedState;if(a=o.destroy,null!==r&&ko(r,o.deps))return void(i.memoizedState=Ro(t,n,a,r))}lo.flags|=e,i.memoizedState=Ro(1|t,n,a,r)}function Fo(e,t){return Mo(8390656,8,e,t)}function jo(e,t){return Uo(2048,8,e,t)}function Vo(e,t){return Uo(4,2,e,t)}function Bo(e,t){return Uo(4,4,e,t)}function zo(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function qo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Uo(4,4,zo.bind(null,t,e),n)}function Ho(){}function Ko(e,t){var n=So();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ko(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Go(e,t){var n=So();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ko(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Wo(e,t,n){return 0===(21&co)?(e.baseState&&(e.baseState=!1,wu=!0),e.memoizedState=n):(ur(n,t)||(n=vt(),lo.lanes|=n,Ds|=n,e.baseState=!0),t)}function Yo(e,t){var n=kt;kt=0!==n&&4>n?n:4,e(!0);var r=so.transition;so.transition={};try{e(!1),t()}finally{kt=n,so.transition=r}}function Qo(){return So().memoizedState}function $o(e,t,n){var r=Js(e);n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Jo(e)?Zo(t,n):(eu(e,t,n),null!==(e=Zs(e,r,n=Xs()))&&tu(e,t,r))}function Xo(e,t,n){var r=Js(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Jo(e))Zo(t,i);else{eu(e,t,i);var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,u=a(o,n);if(i.hasEagerState=!0,i.eagerState=u,ur(u,o))return}catch(s){}null!==(e=Zs(e,r,n=Xs()))&&tu(e,t,r)}}function Jo(e){var t=e.alternate;return e===lo||null!==t&&t===lo}function Zo(e,t){vo=po=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function eu(e,t,n){tc(e)?(null===(e=t.interleaved)?(n.next=n,null===ea?ea=[t]:ea.push(t)):(n.next=e.next,e.next=n),t.interleaved=n):(null===(e=t.pending)?n.next=n:(n.next=e.next,e.next=n),t.pending=n)}function tu(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}var nu={readContext:Zi,useCallback:go,useContext:go,useEffect:go,useImperativeHandle:go,useInsertionEffect:go,useLayoutEffect:go,useMemo:go,useReducer:go,useRef:go,useState:go,useDebugValue:go,useDeferredValue:go,useTransition:go,useMutableSource:go,useSyncExternalStore:go,useId:go,unstable_isNewReconciler:!1},ru={readContext:Zi,useCallback:function(e,t){return xo().memoizedState=[e,void 0===t?null:t],e},useContext:Zi,useEffect:Fo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Mo(4194308,4,zo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Mo(4194308,4,e,t)},useInsertionEffect:function(e,t){return Mo(4,2,e,t)},useMemo:function(e,t){var n=xo();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=xo();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=$o.bind(null,lo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},xo().memoizedState=e},useState:Do,useDebugValue:Ho,useDeferredValue:function(e){return xo().memoizedState=e},useTransition:function(){var e=Do(!1),t=e[0];return e=Yo.bind(null,e[1]),xo().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=lo,i=xo();if(Pa){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===Is)throw Error(a(349));0!==(30&co)||Ao(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,Fo(Oo.bind(null,r,o,e),[e]),r.flags|=2048,Ro(9,No.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=xo(),t=Is.identifierPrefix;if(Pa){var n=Ea;t=":"+t+"R"+(n=(_a&~(1<<32-ot(_a)-1)).toString(32)+n),0<(n=mo++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=yo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},iu={readContext:Zi,useCallback:Ko,useContext:Zi,useEffect:jo,useImperativeHandle:qo,useInsertionEffect:Vo,useLayoutEffect:Bo,useMemo:Go,useReducer:Eo,useRef:Lo,useState:function(){return Eo(_o)},useDebugValue:Ho,useDeferredValue:function(e){return Wo(So(),fo.memoizedState,e)},useTransition:function(){return[Eo(_o)[0],So().memoizedState]},useMutableSource:To,useSyncExternalStore:Co,useId:Qo,unstable_isNewReconciler:!1},au={readContext:Zi,useCallback:Ko,useContext:Zi,useEffect:jo,useImperativeHandle:qo,useInsertionEffect:Vo,useLayoutEffect:Bo,useMemo:Go,useReducer:Io,useRef:Lo,useState:function(){return Io(_o)},useDebugValue:Ho,useDeferredValue:function(e){var t=So();return null===fo?t.memoizedState=e:Wo(t,fo.memoizedState,e)},useTransition:function(){return[Io(_o)[0],So().memoizedState]},useMutableSource:To,useSyncExternalStore:Co,useId:Qo,unstable_isNewReconciler:!1};function ou(e,t){try{var n="",r=t;do{n+=B(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i}}function uu(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var su,cu,lu,fu="function"===typeof WeakMap?WeakMap:Map;function hu(e,t,n){(n=ia(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Bs||(Bs=!0,zs=r),uu(0,t)},n}function du(e,t,n){(n=ia(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){uu(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){uu(0,t),"function"!==typeof r&&(null===qs?qs=new Set([this]):qs.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function pu(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new fu;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=_c.bind(null,e,t,n),t.then(e,e))}function vu(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function mu(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=ia(-1,1)).tag=2,aa(n,t))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}function yu(e,t){if(!Pa)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function gu(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function ku(e,t,n){var r=t.pendingProps;switch(Aa(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return gu(t),null;case 1:case 17:return Pi(t.type)&&Di(),gu(t),null;case 3:return r=t.stateNode,eo(),Ei(Ai),Ei(Ci),oo(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(ja(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==Da&&(ac(Da),Da=null))),gu(t),null;case 5:no(t);var i=Ja(Xa.current);if(n=t.type,null!==e&&null!=t.stateNode)cu(e,t,n,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return gu(t),null}if(e=Ja(Qa.current),ja(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[hi]=t,r[di]=o,e=0!==(1&t.mode),n){case"dialog":jr("cancel",r),jr("close",r);break;case"iframe":case"object":case"embed":jr("load",r);break;case"video":case"audio":for(i=0;i<Lr.length;i++)jr(Lr[i],r);break;case"source":jr("error",r);break;case"img":case"image":case"link":jr("error",r),jr("load",r);break;case"details":jr("toggle",r);break;case"input":$(r,o),jr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},jr("invalid",r);break;case"textarea":ie(r,o),jr("invalid",r)}for(var s in ge(n,o),i=null,o)if(o.hasOwnProperty(s)){var c=o[s];"children"===s?"string"===typeof c?r.textContent!==c&&(!0!==o.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==o.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",""+c]):u.hasOwnProperty(s)&&null!=c&&"onScroll"===s&&jr("scroll",r)}switch(n){case"input":G(r),Z(r,o,!0);break;case"textarea":G(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{s=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ue(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=s.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),"select"===n&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[hi]=t,e[di]=r,su(e,t),t.stateNode=e;e:{switch(s=ke(n,r),n){case"dialog":jr("cancel",e),jr("close",e),i=r;break;case"iframe":case"object":case"embed":jr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Lr.length;i++)jr(Lr[i],e);i=r;break;case"source":jr("error",e),i=r;break;case"img":case"image":case"link":jr("error",e),jr("load",e),i=r;break;case"details":jr("toggle",e),i=r;break;case"input":$(e,r),i=Q(e,r),jr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=U({},r,{value:void 0}),jr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),jr("invalid",e)}for(o in ge(n,i),c=i)if(c.hasOwnProperty(o)){var l=c[o];"style"===o?me(e,l):"dangerouslySetInnerHTML"===o?null!=(l=l?l.__html:void 0)&&fe(e,l):"children"===o?"string"===typeof l?("textarea"!==n||""!==l)&&he(e,l):"number"===typeof l&&he(e,""+l):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(u.hasOwnProperty(o)?null!=l&&"onScroll"===o&&jr("scroll",e):null!=l&&k(e,o,l,s))}switch(n){case"input":G(e),Z(e,r,!1);break;case"textarea":G(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+H(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return gu(t),null;case 6:if(e&&null!=t.stateNode)lu(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(n=Ja(Xa.current),Ja(Qa.current),ja(t)){if(r=t.stateNode,n=t.memoizedProps,r[hi]=t,(o=r.nodeValue!==n)&&null!==(e=Na))switch(e.tag){case 3:Jr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Jr(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hi]=t,t.stateNode=r}return gu(t),null;case 13:if(Ei(ro),r=t.memoizedState,Pa&&null!==Oa&&0!==(1&t.mode)&&0===(128&t.flags)){for(r=Oa;r;)r=ci(r.nextSibling);return Va(),t.flags|=98560,t}if(null!==r&&null!==r.dehydrated){if(r=ja(t),null===e){if(!r)throw Error(a(318));if(!(r=null!==(r=t.memoizedState)?r.dehydrated:null))throw Error(a(317));r[hi]=t}else Va(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;return gu(t),null}return null!==Da&&(ac(Da),Da=null),0!==(128&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?ja(t):n=null!==e.memoizedState,r!==n&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&ro.current)?0===Os&&(Os=3):pc())),null!==t.updateQueue&&(t.flags|=4),gu(t),null);case 4:return eo(),null===e&&zr(t.stateNode.containerInfo),gu(t),null;case 10:return $i(t.type._context),gu(t),null;case 19:if(Ei(ro),null===(o=t.memoizedState))return gu(t),null;if(r=0!==(128&t.flags),null===(s=o.rendering))if(r)yu(o,!1);else{if(0!==Os||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(s=io(e))){for(t.flags|=128,yu(o,!1),null!==(r=s.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(s=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,e=s.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ii(ro,1&ro.current|2),t.child}e=e.sibling}null!==o.tail&&Xe()>js&&(t.flags|=128,r=!0,yu(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=io(s))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),yu(o,!0),null===o.tail&&"hidden"===o.tailMode&&!s.alternate&&!Pa)return gu(t),null}else 2*Xe()-o.renderingStartTime>js&&1073741824!==n&&(t.flags|=128,r=!0,yu(o,!1),t.lanes=4194304);o.isBackwards?(s.sibling=t.child,t.child=s):(null!==(n=o.last)?n.sibling=s:t.child=s,o.last=s)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Xe(),t.sibling=null,n=ro.current,Ii(ro,r?1&n|2:1&n),t):(gu(t),null);case 22:case 23:return lc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&As)&&(gu(t),6&t.subtreeFlags&&(t.flags|=8192)):gu(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}su=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},cu=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Ja(Qa.current);var a,o=null;switch(n){case"input":i=Q(e,i),r=Q(e,r),o=[];break;case"select":i=U({},i,{value:void 0}),r=U({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(l in ge(n,r),n=null,i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&null!=i[l])if("style"===l){var s=i[l];for(a in s)s.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==l&&"children"!==l&&"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(u.hasOwnProperty(l)?o||(o=[]):(o=o||[]).push(l,null));for(l in r){var c=r[l];if(s=null!=i?i[l]:void 0,r.hasOwnProperty(l)&&c!==s&&(null!=c||null!=s))if("style"===l)if(s){for(a in s)!s.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&s[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(o||(o=[]),o.push(l,n)),n=c;else"dangerouslySetInnerHTML"===l?(c=c?c.__html:void 0,s=s?s.__html:void 0,null!=c&&s!==c&&(o=o||[]).push(l,c)):"children"===l?"string"!==typeof c&&"number"!==typeof c||(o=o||[]).push(l,""+c):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&(u.hasOwnProperty(l)?(null!=c&&"onScroll"===l&&jr("scroll",e),o||s===c||(o=[])):(o=o||[]).push(l,c))}n&&(o=o||[]).push("style",n);var l=o;(t.updateQueue=l)&&(t.flags|=4)}},lu=function(e,t,n,r){n!==r&&(t.flags|=4)};var bu=b.ReactCurrentOwner,wu=!1;function xu(e,t,n,r){t.child=null===e?Wa(t,null,n,r):Ga(t,e.child,n,r)}function Su(e,t,n,r,i){n=n.render;var a=t.ref;return Ji(t,i),r=bo(e,t,n,r,a,i),n=wo(),null===e||wu?(Pa&&n&&Ca(t),t.flags|=1,xu(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Hu(e,t,i))}function _u(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||Oc(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Dc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Eu(e,t,a,r,i))}if(a=e.child,0===(e.lanes&i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:sr)(o,r)&&e.ref===t.ref)return Hu(e,t,i)}return t.flags|=1,(e=Pc(a,r)).ref=t.ref,e.return=t,t.child=e}function Eu(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(sr(a,r)&&e.ref===t.ref){if(wu=!1,t.pendingProps=r=a,0===(e.lanes&i))return t.lanes=e.lanes,Hu(e,t,i);0!==(131072&e.flags)&&(wu=!0)}}return Cu(e,t,n,r,i)}function Iu(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ii(Ns,As),As|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ii(Ns,As),As|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,Ii(Ns,As),As|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,Ii(Ns,As),As|=r;return xu(e,t,i,n),t.child}function Tu(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Cu(e,t,n,r,i){var a=Pi(n)?Ni:Ci.current;return a=Oi(t,a),Ji(t,i),n=bo(e,t,n,r,a,i),r=wo(),null===e||wu?(Pa&&r&&Ca(t),t.flags|=1,xu(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Hu(e,t,i))}function Au(e,t,n,r,i){if(Pi(n)){var a=!0;Mi(t)}else a=!1;if(Ji(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),pa(t,n,r),ma(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,u=t.memoizedProps;o.props=u;var s=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=Zi(c):c=Oi(t,c=Pi(n)?Ni:Ci.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==r||s!==c)&&va(t,o,r,c),ta=!1;var h=t.memoizedState;o.state=h,sa(t,r,o,i),s=t.memoizedState,u!==r||h!==s||Ai.current||ta?("function"===typeof l&&(fa(t,n,l,r),s=t.memoizedState),(u=ta||da(t,n,u,r,h,s,c))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=s),o.props=r,o.state=s,o.context=c,r=u):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,ra(e,t),u=t.memoizedProps,c=t.type===t.elementType?u:Hi(t.type,u),o.props=c,f=t.pendingProps,h=o.context,"object"===typeof(s=n.contextType)&&null!==s?s=Zi(s):s=Oi(t,s=Pi(n)?Ni:Ci.current);var d=n.getDerivedStateFromProps;(l="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==f||h!==s)&&va(t,o,r,s),ta=!1,h=t.memoizedState,o.state=h,sa(t,r,o,i);var p=t.memoizedState;u!==f||h!==p||Ai.current||ta?("function"===typeof d&&(fa(t,n,d,r),p=t.memoizedState),(c=ta||da(t,n,c,r,h,p,s)||!1)?(l||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,s),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,s)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=s,r=c):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Nu(e,t,n,r,a,i)}function Nu(e,t,n,r,i,a){Tu(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&Ui(t,n,!1),Hu(e,t,a);r=t.stateNode,bu.current=t;var u=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Ga(t,e.child,null,a),t.child=Ga(t,null,u,a)):xu(e,t,u,a),t.memoizedState=r.state,i&&Ui(t,n,!0),t.child}function Ou(e){var t=e.stateNode;t.pendingContext?Ri(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Ri(0,t.context,!1),Za(e,t.containerInfo)}function Pu(e,t,n,r,i){return Va(),Ba(i),t.flags|=256,xu(e,t,n,r),t.child}var Du={dehydrated:null,treeContext:null,retryLane:0};function Ru(e){return{baseLanes:e,cachePool:null,transitions:null}}function Lu(e,t){return{baseLanes:e.baseLanes|t,cachePool:null,transitions:e.transitions}}function Mu(e,t,n){var r,i=t.pendingProps,o=ro.current,u=!1,s=0!==(128&t.flags);if((r=s)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(u=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Ii(ro,1&o),null===e)return Ua(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(o=i.children,e=i.fallback,u?(i=t.mode,u=t.child,o={mode:"hidden",children:o},0===(1&i)&&null!==u?(u.childLanes=0,u.pendingProps=o):u=Lc(o,i,0,null),e=Rc(e,i,n,null),u.return=t,e.return=t,u.sibling=e,t.child=u,t.child.memoizedState=Ru(n),t.memoizedState=Du,e):Uu(t,o));if(null!==(o=e.memoizedState)){if(null!==(r=o.dehydrated)){if(s)return 256&t.flags?(t.flags&=-257,Vu(e,t,n,Error(a(422)))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(u=i.fallback,o=t.mode,i=Lc({mode:"visible",children:i.children},o,0,null),(u=Rc(u,o,n,null)).flags|=2,i.return=t,u.return=t,i.sibling=u,t.child=i,0!==(1&t.mode)&&Ga(t,e.child,null,n),t.child.memoizedState=Ru(n),t.memoizedState=Du,u);if(0===(1&t.mode))t=Vu(e,t,n,null);else if("$!"===r.data)t=Vu(e,t,n,Error(a(419)));else if(i=0!==(n&e.childLanes),wu||i){if(null!==(i=Is)){switch(n&-n){case 4:u=2;break;case 16:u=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:u=32;break;case 536870912:u=268435456;break;default:u=0}0!==(i=0!==(u&(i.suspendedLanes|n))?0:u)&&i!==o.retryLane&&(o.retryLane=i,Zs(e,i,-1))}pc(),t=Vu(e,t,n,Error(a(421)))}else"$?"===r.data?(t.flags|=128,t.child=e.child,t=Ic.bind(null,e),r._reactRetry=t,t=null):(n=o.treeContext,Oa=ci(r.nextSibling),Na=t,Pa=!0,Da=null,null!==n&&(wa[xa++]=_a,wa[xa++]=Ea,wa[xa++]=Sa,_a=n.id,Ea=n.overflow,Sa=t),(t=Uu(t,t.pendingProps.children)).flags|=4096);return t}return u?(i=ju(e,t,i.children,i.fallback,n),u=t.child,o=e.child.memoizedState,u.memoizedState=null===o?Ru(n):Lu(o,n),u.childLanes=e.childLanes&~n,t.memoizedState=Du,i):(n=Fu(e,t,i.children,n),t.memoizedState=null,n)}return u?(i=ju(e,t,i.children,i.fallback,n),u=t.child,o=e.child.memoizedState,u.memoizedState=null===o?Ru(n):Lu(o,n),u.childLanes=e.childLanes&~n,t.memoizedState=Du,i):(n=Fu(e,t,i.children,n),t.memoizedState=null,n)}function Uu(e,t){return(t=Lc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Fu(e,t,n,r){var i=e.child;return e=i.sibling,n=Pc(i,{mode:"visible",children:n}),0===(1&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n}function ju(e,t,n,r,i){var a=t.mode,o=(e=e.child).sibling,u={mode:"hidden",children:n};return 0===(1&a)&&t.child!==e?((n=t.child).childLanes=0,n.pendingProps=u,t.deletions=null):(n=Pc(e,u)).subtreeFlags=14680064&e.subtreeFlags,null!==o?r=Pc(o,r):(r=Rc(r,a,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function Vu(e,t,n,r){return null!==r&&Ba(r),Ga(t,e.child,null,n),(e=Uu(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Bu(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Xi(e.return,t,n)}function zu(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function qu(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(xu(e,t,r.children,n),0!==(2&(r=ro.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Bu(e,n,t);else if(19===e.tag)Bu(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ii(ro,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===io(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),zu(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===io(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}zu(t,!0,n,null,a);break;case"together":zu(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Hu(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ds|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Pc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Pc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ku(e,t){switch(Aa(t),t.tag){case 1:return Pi(t.type)&&Di(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return eo(),Ei(Ai),Ei(Ci),oo(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return no(t),null;case 13:if(Ei(ro),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));Va()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ei(ro),null;case 4:return eo(),null;case 10:return $i(t.type._context),null;case 22:case 23:return lc(),null;default:return null}}var Gu=!1,Wu=!1,Yu="function"===typeof WeakSet?WeakSet:Set,Qu=null;function $u(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Sc(e,t,r)}else n.current=null}function Xu(e,t,n){try{n()}catch(r){Sc(e,t,r)}}var Ju=!1;function Zu(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&Xu(t,n,a)}i=i.next}while(i!==r)}}function es(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function ts(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function ns(e){var t=e.alternate;null!==t&&(e.alternate=null,ns(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hi],delete t[di],delete t[vi],delete t[mi],delete t[yi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function rs(e){return 5===e.tag||3===e.tag||4===e.tag}function is(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||rs(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function as(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(as(e,t,n),e=e.sibling;null!==e;)as(e,t,n),e=e.sibling}function os(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(os(e,t,n),e=e.sibling;null!==e;)os(e,t,n),e=e.sibling}var us=null,ss=!1;function cs(e,t,n){for(n=n.child;null!==n;)ls(e,t,n),n=n.sibling}function ls(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(it,n)}catch(u){}switch(n.tag){case 5:Wu||$u(n,t);case 6:var r=us,i=ss;us=null,cs(e,t,n),ss=i,null!==(us=r)&&(ss?(e=us,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):us.removeChild(n.stateNode));break;case 18:null!==us&&(ss?(e=us,n=n.stateNode,8===e.nodeType?si(e.parentNode,n):1===e.nodeType&&si(e,n),zt(e)):si(us,n.stateNode));break;case 4:r=us,i=ss,us=n.stateNode.containerInfo,ss=!0,cs(e,t,n),us=r,ss=i;break;case 0:case 11:case 14:case 15:if(!Wu&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,void 0!==o&&(0!==(2&a)||0!==(4&a))&&Xu(n,t,o),i=i.next}while(i!==r)}cs(e,t,n);break;case 1:if(!Wu&&($u(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(u){Sc(n,t,u)}cs(e,t,n);break;case 21:cs(e,t,n);break;case 22:1&n.mode?(Wu=(r=Wu)||null!==n.memoizedState,cs(e,t,n),Wu=r):cs(e,t,n);break;default:cs(e,t,n)}}function fs(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Yu),t.forEach((function(t){var r=Tc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function hs(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,u=t,s=u;e:for(;null!==s;){switch(s.tag){case 5:us=s.stateNode,ss=!1;break e;case 3:case 4:us=s.stateNode.containerInfo,ss=!0;break e}s=s.return}if(null===us)throw Error(a(160));ls(o,u,i),us=null,ss=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(l){Sc(i,t,l)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)ds(t,e),t=t.sibling}function ds(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(hs(t,e),ps(e),4&r){try{Zu(3,e,e.return),es(3,e)}catch(v){Sc(e,e.return,v)}try{Zu(5,e,e.return)}catch(v){Sc(e,e.return,v)}}break;case 1:hs(t,e),ps(e),512&r&&null!==n&&$u(n,n.return);break;case 5:if(hs(t,e),ps(e),512&r&&null!==n&&$u(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(v){Sc(e,e.return,v)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,u=null!==n?n.memoizedProps:o,s=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===s&&"radio"===o.type&&null!=o.name&&X(i,o),ke(s,u);var l=ke(s,o);for(u=0;u<c.length;u+=2){var f=c[u],h=c[u+1];"style"===f?me(i,h):"dangerouslySetInnerHTML"===f?fe(i,h):"children"===f?he(i,h):k(i,f,h,l)}switch(s){case"input":J(i,o);break;case"textarea":ae(i,o);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?ne(i,!!o.multiple,p,!1):d!==!!o.multiple&&(null!=o.defaultValue?ne(i,!!o.multiple,o.defaultValue,!0):ne(i,!!o.multiple,o.multiple?[]:"",!1))}i[di]=o}catch(v){Sc(e,e.return,v)}}break;case 6:if(hs(t,e),ps(e),4&r){if(null===e.stateNode)throw Error(a(162));l=e.stateNode,f=e.memoizedProps;try{l.nodeValue=f}catch(v){Sc(e,e.return,v)}}break;case 3:if(hs(t,e),ps(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{zt(t.containerInfo)}catch(v){Sc(e,e.return,v)}break;case 4:default:hs(t,e),ps(e);break;case 13:hs(t,e),ps(e),8192&(l=e.child).flags&&null!==l.memoizedState&&(null===l.alternate||null===l.alternate.memoizedState)&&(Fs=Xe()),4&r&&fs(e);break;case 22:if(l=null!==n&&null!==n.memoizedState,1&e.mode?(Wu=(f=Wu)||l,hs(t,e),Wu=f):hs(t,e),ps(e),8192&r){f=null!==e.memoizedState;e:for(h=null,d=e;;){if(5===d.tag){if(null===h){h=d;try{i=d.stateNode,f?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(s=d.stateNode,u=void 0!==(c=d.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,s.style.display=ve("display",u))}catch(v){Sc(e,e.return,v)}}}else if(6===d.tag){if(null===h)try{d.stateNode.nodeValue=f?"":d.memoizedProps}catch(v){Sc(e,e.return,v)}}else if((22!==d.tag&&23!==d.tag||null===d.memoizedState||d===e)&&null!==d.child){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;null===d.sibling;){if(null===d.return||d.return===e)break e;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}if(f&&!l&&0!==(1&e.mode))for(Qu=e,e=e.child;null!==e;){for(l=Qu=e;null!==Qu;){switch(h=(f=Qu).child,f.tag){case 0:case 11:case 14:case 15:Zu(4,f,f.return);break;case 1:if($u(f,f.return),"function"===typeof(o=f.stateNode).componentWillUnmount){d=f,p=f.return;try{i=d,o.props=i.memoizedProps,o.state=i.memoizedState,o.componentWillUnmount()}catch(v){Sc(d,p,v)}}break;case 5:$u(f,f.return);break;case 22:if(null!==f.memoizedState){gs(l);continue}}null!==h?(h.return=f,Qu=h):gs(l)}e=e.sibling}}break;case 19:hs(t,e),ps(e),4&r&&fs(e);case 21:}}function ps(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(rs(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),os(e,is(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;as(e,is(e),o);break;default:throw Error(a(161))}}catch(u){Sc(e,e.return,u)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function vs(e,t,n){Qu=e,ms(e,t,n)}function ms(e,t,n){for(var r=0!==(1&e.mode);null!==Qu;){var i=Qu,a=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||Gu;if(!o){var u=i.alternate,s=null!==u&&null!==u.memoizedState||Wu;u=Gu;var c=Wu;if(Gu=o,(Wu=s)&&!c)for(Qu=i;null!==Qu;)s=(o=Qu).child,22===o.tag&&null!==o.memoizedState?ks(i):null!==s?(s.return=o,Qu=s):ks(i);for(;null!==a;)Qu=a,ms(a,t,n),a=a.sibling;Qu=i,Gu=u,Wu=c}ys(e)}else 0!==(8772&i.subtreeFlags)&&null!==a?(a.return=i,Qu=a):ys(e)}}function ys(e){for(;null!==Qu;){var t=Qu;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Wu||es(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Wu)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:Hi(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&ca(t,o,r);break;case 3:var u=t.updateQueue;if(null!==u){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}ca(t,u,n)}break;case 5:var s=t.stateNode;if(null===n&&4&t.flags){n=s;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:break;case 13:if(null===t.memoizedState){var l=t.alternate;if(null!==l){var f=l.memoizedState;if(null!==f){var h=f.dehydrated;null!==h&&zt(h)}}}break;default:throw Error(a(163))}Wu||512&t.flags&&ts(t)}catch(d){Sc(t,t.return,d)}}if(t===e){Qu=null;break}if(null!==(n=t.sibling)){n.return=t.return,Qu=n;break}Qu=t.return}}function gs(e){for(;null!==Qu;){var t=Qu;if(t===e){Qu=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Qu=n;break}Qu=t.return}}function ks(e){for(;null!==Qu;){var t=Qu;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{es(4,t)}catch(s){Sc(t,n,s)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(s){Sc(t,i,s)}}var a=t.return;try{ts(t)}catch(s){Sc(t,a,s)}break;case 5:var o=t.return;try{ts(t)}catch(s){Sc(t,o,s)}}}catch(s){Sc(t,t.return,s)}if(t===e){Qu=null;break}var u=t.sibling;if(null!==u){u.return=t.return,Qu=u;break}Qu=t.return}}var bs,ws=Math.ceil,xs=b.ReactCurrentDispatcher,Ss=b.ReactCurrentOwner,_s=b.ReactCurrentBatchConfig,Es=0,Is=null,Ts=null,Cs=0,As=0,Ns=_i(0),Os=0,Ps=null,Ds=0,Rs=0,Ls=0,Ms=null,Us=null,Fs=0,js=1/0,Vs=null,Bs=!1,zs=null,qs=null,Hs=!1,Ks=null,Gs=0,Ws=0,Ys=null,Qs=-1,$s=0;function Xs(){return 0!==(6&Es)?Xe():-1!==Qs?Qs:Qs=Xe()}function Js(e){return 0===(1&e.mode)?1:0!==(2&Es)&&0!==Cs?Cs&-Cs:null!==qi.transition?(0===$s&&($s=vt()),$s):0!==(e=kt)?e:e=void 0===(e=window.event)?16:$t(e.type)}function Zs(e,t,n){if(50<Ws)throw Ws=0,Ys=null,Error(a(185));var r=ec(e,t);return null===r?null:(yt(r,t,n),0!==(2&Es)&&r===Is||(r===Is&&(0===(2&Es)&&(Rs|=t),4===Os&&oc(r,Cs)),nc(r,n),1===t&&0===Es&&0===(1&e.mode)&&(js=Xe()+500,ji&&zi())),r)}function ec(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function tc(e){return(null!==Is||null!==ea)&&0!==(1&e.mode)&&0===(2&Es)}function nc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-ot(a),u=1<<o,s=i[o];-1===s?0!==(u&n)&&0===(u&r)||(i[o]=dt(u,t)):s<=t&&(e.expiredLanes|=u),a&=~u}}(e,t);var r=ht(e,e===Is?Cs:0);if(0===r)null!==n&&Ye(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Ye(n),1===t)0===e.tag?function(e){ji=!0,Bi(e)}(uc.bind(null,e)):Bi(uc.bind(null,e)),oi((function(){0===Es&&zi()})),n=null;else{switch(bt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Cc(n,rc.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function rc(e,t){if(Qs=-1,$s=0,0!==(6&Es))throw Error(a(327));var n=e.callbackNode;if(wc()&&e.callbackNode!==n)return null;var r=ht(e,e===Is?Cs:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=vc(e,r);else{t=r;var i=Es;Es|=2;var o=dc();for(Is===e&&Cs===t||(Vs=null,js=Xe()+500,fc(e,t));;)try{yc();break}catch(s){hc(e,s)}Qi(),xs.current=o,Es=i,null!==Ts?t=0:(Is=null,Cs=0,t=Os)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=ic(e,i))),1===t)throw n=Ps,fc(e,0),oc(e,r),nc(e,Xe()),n;if(6===t)oc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!ur(a(),i))return!1}catch(u){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=vc(e,r))&&(0!==(o=pt(e))&&(r=o,t=ic(e,o))),1===t))throw n=Ps,fc(e,0),oc(e,r),nc(e,Xe()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:bc(e,Us,Vs);break;case 3:if(oc(e,r),(130023424&r)===r&&10<(t=Fs+500-Xe())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){Xs(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(bc.bind(null,e,Us,Vs),t);break}bc(e,Us,Vs);break;case 4:if(oc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var u=31-ot(r);o=1<<u,(u=t[u])>i&&(i=u),r&=~o}if(r=i,10<(r=(120>(r=Xe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*ws(r/1960))-r)){e.timeoutHandle=ri(bc.bind(null,e,Us,Vs),r);break}bc(e,Us,Vs);break;default:throw Error(a(329))}}}return nc(e,Xe()),e.callbackNode===n?rc.bind(null,e):null}function ic(e,t){var n=Ms;return e.current.memoizedState.isDehydrated&&(fc(e,t).flags|=256),2!==(e=vc(e,t))&&(t=Us,Us=n,null!==t&&ac(t)),e}function ac(e){null===Us?Us=e:Us.push.apply(Us,e)}function oc(e,t){for(t&=~Ls,t&=~Rs,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function uc(e){if(0!==(6&Es))throw Error(a(327));wc();var t=ht(e,0);if(0===(1&t))return nc(e,Xe()),null;var n=vc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=ic(e,r))}if(1===n)throw n=Ps,fc(e,0),oc(e,t),nc(e,Xe()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,bc(e,Us,Vs),nc(e,Xe()),null}function sc(e,t){var n=Es;Es|=1;try{return e(t)}finally{0===(Es=n)&&(js=Xe()+500,ji&&zi())}}function cc(e){null!==Ks&&0===Ks.tag&&0===(6&Es)&&wc();var t=Es;Es|=1;var n=_s.transition,r=kt;try{if(_s.transition=null,kt=1,e)return e()}finally{kt=r,_s.transition=n,0===(6&(Es=t))&&zi()}}function lc(){As=Ns.current,Ei(Ns)}function fc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Ts)for(n=Ts.return;null!==n;){var r=n;switch(Aa(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Di();break;case 3:eo(),Ei(Ai),Ei(Ci),oo();break;case 5:no(r);break;case 4:eo();break;case 13:case 19:Ei(ro);break;case 10:$i(r.type._context);break;case 22:case 23:lc()}n=n.return}if(Is=e,Ts=e=Pc(e.current,null),Cs=As=t,Os=0,Ps=null,Ls=Rs=Ds=0,Us=Ms=null,null!==ea){for(t=0;t<ea.length;t++)if(null!==(r=(n=ea[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var o=a.next;a.next=i,r.next=o}n.pending=r}ea=null}return e}function hc(e,t){for(;;){var n=Ts;try{if(Qi(),uo.current=nu,po){for(var r=lo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}po=!1}if(co=0,ho=fo=lo=null,vo=!1,mo=0,Ss.current=null,null===n||null===n.return){Os=1,Ps=t,Ts=null;break}e:{var o=e,u=n.return,s=n,c=t;if(t=Cs,s.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var l=c,f=s,h=f.tag;if(0===(1&f.mode)&&(0===h||11===h||15===h)){var d=f.alternate;d?(f.updateQueue=d.updateQueue,f.memoizedState=d.memoizedState,f.lanes=d.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=vu(u);if(null!==p){p.flags&=-257,mu(p,u,s,0,t),1&p.mode&&pu(o,l,t),c=l;var v=(t=p).updateQueue;if(null===v){var m=new Set;m.add(c),t.updateQueue=m}else v.add(c);break e}if(0===(1&t)){pu(o,l,t),pc();break e}c=Error(a(426))}else if(Pa&&1&s.mode){var y=vu(u);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),mu(y,u,s,0,t),Ba(c);break e}}o=c,4!==Os&&(Os=2),null===Ms?Ms=[o]:Ms.push(o),c=ou(c,s),s=u;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t,ua(s,hu(0,c,t));break e;case 1:o=c;var g=s.type,k=s.stateNode;if(0===(128&s.flags)&&("function"===typeof g.getDerivedStateFromError||null!==k&&"function"===typeof k.componentDidCatch&&(null===qs||!qs.has(k)))){s.flags|=65536,t&=-t,s.lanes|=t,ua(s,du(s,o,t));break e}}s=s.return}while(null!==s)}kc(n)}catch(b){t=b,Ts===n&&null!==n&&(Ts=n=n.return);continue}break}}function dc(){var e=xs.current;return xs.current=nu,null===e?nu:e}function pc(){0!==Os&&3!==Os&&2!==Os||(Os=4),null===Is||0===(268435455&Ds)&&0===(268435455&Rs)||oc(Is,Cs)}function vc(e,t){var n=Es;Es|=2;var r=dc();for(Is===e&&Cs===t||(Vs=null,fc(e,t));;)try{mc();break}catch(i){hc(e,i)}if(Qi(),Es=n,xs.current=r,null!==Ts)throw Error(a(261));return Is=null,Cs=0,Os}function mc(){for(;null!==Ts;)gc(Ts)}function yc(){for(;null!==Ts&&!Qe();)gc(Ts)}function gc(e){var t=bs(e.alternate,e,As);e.memoizedProps=e.pendingProps,null===t?kc(e):Ts=t,Ss.current=null}function kc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=ku(n,t,As)))return void(Ts=n)}else{if(null!==(n=Ku(n,t)))return n.flags&=32767,void(Ts=n);if(null===e)return Os=6,void(Ts=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Ts=t);Ts=t=e}while(null!==t);0===Os&&(Os=5)}function bc(e,t,n){var r=kt,i=_s.transition;try{_s.transition=null,kt=1,function(e,t,n,r){do{wc()}while(null!==Ks);if(0!==(6&Es))throw Error(a(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,o),e===Is&&(Ts=Is=null,Cs=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Hs||(Hs=!0,Cc(tt,(function(){return wc(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=_s.transition,_s.transition=null;var u=kt;kt=1;var s=Es;Es|=4,Ss.current=null,function(e,t){if(ei=Ht,dr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(x){n=null;break e}var u=0,s=-1,c=-1,l=0,f=0,h=e,d=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(s=u+i),h!==o||0!==r&&3!==h.nodeType||(c=u+r),3===h.nodeType&&(u+=h.nodeValue.length),null!==(p=h.firstChild);)d=h,h=p;for(;;){if(h===e)break t;if(d===n&&++l===i&&(s=u),d===o&&++f===r&&(c=u),null!==(p=h.nextSibling))break;d=(h=d).parentNode}h=p}n=-1===s||-1===c?null:{start:s,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Ht=!1,Qu=t;null!==Qu;)if(e=(t=Qu).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Qu=e;else for(;null!==Qu;){t=Qu;try{var v=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==v){var m=v.memoizedProps,y=v.memoizedState,g=t.stateNode,k=g.getSnapshotBeforeUpdate(t.elementType===t.type?m:Hi(t.type,m),y);g.__reactInternalSnapshotBeforeUpdate=k}break;case 3:var b=t.stateNode.containerInfo;if(1===b.nodeType)b.textContent="";else if(9===b.nodeType){var w=b.body;null!=w&&(w.textContent="")}break;default:throw Error(a(163))}}catch(x){Sc(t,t.return,x)}if(null!==(e=t.sibling)){e.return=t.return,Qu=e;break}Qu=t.return}v=Ju,Ju=!1}(e,n),ds(n,e),pr(ti),Ht=!!ei,ti=ei=null,e.current=n,vs(n,e,i),$e(),Es=s,kt=u,_s.transition=o}else e.current=n;if(Hs&&(Hs=!1,Ks=e,Gs=i),0===(o=e.pendingLanes)&&(qs=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),nc(e,Xe()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)r(t[n]);if(Bs)throw Bs=!1,e=zs,zs=null,e;0!==(1&Gs)&&0!==e.tag&&wc(),0!==(1&(o=e.pendingLanes))?e===Ys?Ws++:(Ws=0,Ys=e):Ws=0,zi()}(e,t,n,r)}finally{_s.transition=i,kt=r}return null}function wc(){if(null!==Ks){var e=bt(Gs),t=_s.transition,n=kt;try{if(_s.transition=null,kt=16>e?16:e,null===Ks)var r=!1;else{if(e=Ks,Ks=null,Gs=0,0!==(6&Es))throw Error(a(331));var i=Es;for(Es|=4,Qu=e.current;null!==Qu;){var o=Qu,u=o.child;if(0!==(16&Qu.flags)){var s=o.deletions;if(null!==s){for(var c=0;c<s.length;c++){var l=s[c];for(Qu=l;null!==Qu;){var f=Qu;switch(f.tag){case 0:case 11:case 15:Zu(8,f,o)}var h=f.child;if(null!==h)h.return=f,Qu=h;else for(;null!==Qu;){var d=(f=Qu).sibling,p=f.return;if(ns(f),f===l){Qu=null;break}if(null!==d){d.return=p,Qu=d;break}Qu=p}}}var v=o.alternate;if(null!==v){var m=v.child;if(null!==m){v.child=null;do{var y=m.sibling;m.sibling=null,m=y}while(null!==m)}}Qu=o}}if(0!==(2064&o.subtreeFlags)&&null!==u)u.return=o,Qu=u;else e:for(;null!==Qu;){if(0!==(2048&(o=Qu).flags))switch(o.tag){case 0:case 11:case 15:Zu(9,o,o.return)}var g=o.sibling;if(null!==g){g.return=o.return,Qu=g;break e}Qu=o.return}}var k=e.current;for(Qu=k;null!==Qu;){var b=(u=Qu).child;if(0!==(2064&u.subtreeFlags)&&null!==b)b.return=u,Qu=b;else e:for(u=k;null!==Qu;){if(0!==(2048&(s=Qu).flags))try{switch(s.tag){case 0:case 11:case 15:es(9,s)}}catch(x){Sc(s,s.return,x)}if(s===u){Qu=null;break e}var w=s.sibling;if(null!==w){w.return=s.return,Qu=w;break e}Qu=s.return}}if(Es=i,zi(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(it,e)}catch(x){}r=!0}return r}finally{kt=n,_s.transition=t}}return!1}function xc(e,t,n){aa(e,t=hu(0,t=ou(n,t),1)),t=Xs(),null!==(e=ec(e,1))&&(yt(e,1,t),nc(e,t))}function Sc(e,t,n){if(3===e.tag)xc(e,e,n);else for(;null!==t;){if(3===t.tag){xc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===qs||!qs.has(r))){aa(t,e=du(t,e=ou(n,e),1)),e=Xs(),null!==(t=ec(t,1))&&(yt(t,1,e),nc(t,e));break}}t=t.return}}function _c(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=Xs(),e.pingedLanes|=e.suspendedLanes&n,Is===e&&(Cs&n)===n&&(4===Os||3===Os&&(130023424&Cs)===Cs&&500>Xe()-Fs?fc(e,0):Ls|=n),nc(e,t)}function Ec(e,t){0===t&&(0===(1&e.mode)?t=1:(t=lt,0===(130023424&(lt<<=1))&&(lt=4194304)));var n=Xs();null!==(e=ec(e,t))&&(yt(e,t,n),nc(e,n))}function Ic(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Ec(e,n)}function Tc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),Ec(e,n)}function Cc(e,t){return We(e,t)}function Ac(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Nc(e,t,n,r){return new Ac(e,t,n,r)}function Oc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Pc(e,t){var n=e.alternate;return null===n?((n=Nc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Dc(e,t,n,r,i,o){var u=2;if(r=e,"function"===typeof e)Oc(e)&&(u=1);else if("string"===typeof e)u=5;else e:switch(e){case S:return Rc(n.children,i,o,t);case _:u=8,i|=8;break;case E:return(e=Nc(12,n,t,2|i)).elementType=E,e.lanes=o,e;case A:return(e=Nc(13,n,t,i)).elementType=A,e.lanes=o,e;case N:return(e=Nc(19,n,t,i)).elementType=N,e.lanes=o,e;case D:return Lc(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case I:u=10;break e;case T:u=9;break e;case C:u=11;break e;case O:u=14;break e;case P:u=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Nc(u,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Rc(e,t,n,r){return(e=Nc(7,e,r,t)).lanes=n,e}function Lc(e,t,n,r){return(e=Nc(22,e,r,t)).elementType=D,e.lanes=n,e.stateNode={},e}function Mc(e,t,n){return(e=Nc(6,e,null,t)).lanes=n,e}function Uc(e,t,n){return(t=Nc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Fc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function jc(e,t,n,r,i,a,o,u,s){return e=new Fc(e,t,n,u,s),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Nc(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},na(a),e}function Vc(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:x,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function Bc(e){if(!e)return Ti;e:{if(ze(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Pi(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Pi(n))return Li(e,n,t)}return t}function zc(e,t,n,r,i,a,o,u,s){return(e=jc(n,r,!0,e,0,a,0,u,s)).context=Bc(null),n=e.current,(a=ia(r=Xs(),i=Js(n))).callback=void 0!==t&&null!==t?t:null,aa(n,a),e.current.lanes=i,yt(e,i,r),nc(e,r),e}function qc(e,t,n,r){var i=t.current,a=Xs(),o=Js(i);return n=Bc(n),null===t.context?t.context=n:t.pendingContext=n,(t=ia(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),aa(i,t),null!==(e=Zs(i,o,a))&&oa(e,i,o),o}function Hc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Kc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Gc(e,t){Kc(e,t),(e=e.alternate)&&Kc(e,t)}bs=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ai.current)wu=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return wu=!1,function(e,t,n){switch(t.tag){case 3:Ou(t),Va();break;case 5:to(t);break;case 1:Pi(t.type)&&Mi(t);break;case 4:Za(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ii(Ki,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ii(ro,1&ro.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Mu(e,t,n):(Ii(ro,1&ro.current),null!==(e=Hu(e,t,n))?e.sibling:null);Ii(ro,1&ro.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return qu(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ii(ro,ro.current),r)break;return null;case 22:case 23:return t.lanes=0,Iu(e,t,n)}return Hu(e,t,n)}(e,t,n);wu=0!==(131072&e.flags)}else wu=!1,Pa&&0!==(1048576&t.flags)&&Ta(t,ba,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps;var i=Oi(t,Ci.current);Ji(t,n),i=bo(null,t,r,e,i,n);var o=wo();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Pi(r)?(o=!0,Mi(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,na(t),i.updater=ha,t.stateNode=i,i._reactInternals=t,ma(t,r,e,n),t=Nu(null,t,r,!0,o,n)):(t.tag=0,Pa&&o&&Ca(t),xu(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Oc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===C)return 11;if(e===O)return 14}return 2}(r),e=Hi(r,e),i){case 0:t=Cu(null,t,r,e,n);break e;case 1:t=Au(null,t,r,e,n);break e;case 11:t=Su(null,t,r,e,n);break e;case 14:t=_u(null,t,r,Hi(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Cu(e,t,r,i=t.elementType===r?i:Hi(r,i),n);case 1:return r=t.type,i=t.pendingProps,Au(e,t,r,i=t.elementType===r?i:Hi(r,i),n);case 3:e:{if(Ou(t),null===e)throw Error(a(387));r=t.pendingProps,i=(o=t.memoizedState).element,ra(e,t),sa(t,r,null,n);var u=t.memoizedState;if(r=u.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:u.cache,pendingSuspenseBoundaries:u.pendingSuspenseBoundaries,transitions:u.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Pu(e,t,r,n,i=Error(a(423)));break e}if(r!==i){t=Pu(e,t,r,n,i=Error(a(424)));break e}for(Oa=ci(t.stateNode.containerInfo.firstChild),Na=t,Pa=!0,Da=null,n=Wa(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(Va(),r===i){t=Hu(e,t,n);break e}xu(e,t,r,n)}t=t.child}return t;case 5:return to(t),null===e&&Ua(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,u=i.children,ni(r,i)?u=null:null!==o&&ni(r,o)&&(t.flags|=32),Tu(e,t),xu(e,t,u,n),t.child;case 6:return null===e&&Ua(t),null;case 13:return Mu(e,t,n);case 4:return Za(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Ga(t,null,r,n):xu(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Su(e,t,r,i=t.elementType===r?i:Hi(r,i),n);case 7:return xu(e,t,t.pendingProps,n),t.child;case 8:case 12:return xu(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,u=i.value,Ii(Ki,r._currentValue),r._currentValue=u,null!==o)if(ur(o.value,u)){if(o.children===i.children&&!Ai.current){t=Hu(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var s=o.dependencies;if(null!==s){u=o.child;for(var c=s.firstContext;null!==c;){if(c.context===r){if(1===o.tag){(c=ia(-1,n&-n)).tag=2;var l=o.updateQueue;if(null!==l){var f=(l=l.shared).pending;null===f?c.next=c:(c.next=f.next,f.next=c),l.pending=c}}o.lanes|=n,null!==(c=o.alternate)&&(c.lanes|=n),Xi(o.return,n,t),s.lanes|=n;break}c=c.next}}else if(10===o.tag)u=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(u=o.return))throw Error(a(341));u.lanes|=n,null!==(s=u.alternate)&&(s.lanes|=n),Xi(u,n,t),u=o.sibling}else u=o.child;if(null!==u)u.return=o;else for(u=o;null!==u;){if(u===t){u=null;break}if(null!==(o=u.sibling)){o.return=u.return,u=o;break}u=u.return}o=u}xu(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Ji(t,n),r=r(i=Zi(i)),t.flags|=1,xu(e,t,r,n),t.child;case 14:return i=Hi(r=t.type,t.pendingProps),_u(e,t,r,i=Hi(r.type,i),n);case 15:return Eu(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Hi(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,Pi(r)?(e=!0,Mi(t)):e=!1,Ji(t,n),pa(t,r,i),ma(t,r,i,n),Nu(null,t,r,!0,e,n);case 19:return qu(e,t,n);case 22:return Iu(e,t,n)}throw Error(a(156,t.tag))};var Wc="function"===typeof reportError?reportError:function(e){console.error(e)};function Yc(e){this._internalRoot=e}function Qc(e){this._internalRoot=e}function $c(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Xc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Jc(){}function Zc(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if("function"===typeof i){var u=i;i=function(){var e=Hc(o);u.call(e)}}qc(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var a=r;r=function(){var e=Hc(o);a.call(e)}}var o=zc(t,r,e,0,null,!1,0,"",Jc);return e._reactRootContainer=o,e[pi]=o.current,zr(8===e.nodeType?e.parentNode:e),cc(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var u=r;r=function(){var e=Hc(s);u.call(e)}}var s=jc(e,0,!1,null,0,!1,0,"",Jc);return e._reactRootContainer=s,e[pi]=s.current,zr(8===e.nodeType?e.parentNode:e),cc((function(){qc(t,s,n,r)})),s}(n,t,e,i,r);return Hc(o)}Qc.prototype.render=Yc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));qc(e,t,null,null)},Qc.prototype.unmount=Yc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;cc((function(){qc(null,e,null,null)})),t[pi]=null}},Qc.prototype.unstable_scheduleHydration=function(e){if(e){var t=_t();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Dt.length&&0!==t&&t<Dt[n].priority;n++);Dt.splice(n,0,e),0===n&&Ut(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ft(t.pendingLanes);0!==n&&(gt(t,1|n),nc(t,Xe()),0===(6&Es)&&(js=Xe()+500,zi()))}break;case 13:var r=Xs();cc((function(){return Zs(e,1,r)})),Gc(e,1)}},xt=function(e){13===e.tag&&(Zs(e,134217728,Xs()),Gc(e,134217728))},St=function(e){if(13===e.tag){var t=Xs(),n=Js(e);Zs(e,n,t),Gc(e,n)}},_t=function(){return kt},Et=function(e,t){var n=kt;try{return kt=e,t()}finally{kt=n}},xe=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=wi(r);if(!i)throw Error(a(90));W(r),J(r,i)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ce=sc,Ae=cc;var el={usingClientEntryPoint:!1,Events:[ki,bi,wi,Ie,Te,sc]},tl={findFiberByHostInstance:gi,bundleType:0,version:"18.1.0",rendererPackageName:"react-dom"},nl={bundleType:tl.bundleType,version:tl.version,rendererPackageName:tl.rendererPackageName,rendererConfig:tl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ke(e))?null:e.stateNode},findFiberByHostInstance:tl.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.1.0-next-22edb9f77-20220426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var rl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rl.isDisabled&&rl.supportsFiber)try{it=rl.inject(nl),at=rl}catch(le){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=el,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!$c(t))throw Error(a(200));return Vc(e,t,null,n)},t.createRoot=function(e,t){if(!$c(e))throw Error(a(299));var n=!1,r="",i=Wc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=jc(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,zr(8===e.nodeType?e.parentNode:e),new Yc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=Ke(t))?null:e.stateNode},t.flushSync=function(e){return cc(e)},t.hydrate=function(e,t,n){if(!Xc(t))throw Error(a(200));return Zc(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!$c(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",u=Wc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(u=n.onRecoverableError)),t=zc(t,null,e,1,null!=n?n:null,i,0,o,u),e[pi]=t.current,zr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Qc(t)},t.render=function(e,t,n){if(!Xc(t))throw Error(a(200));return Zc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Xc(e))throw Error(a(40));return!!e._reactRootContainer&&(cc((function(){Zc(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=sc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Xc(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return Zc(e,t,n,!1,r)},t.version="18.1.0-next-22edb9f77-20220426"},250:function(e,t,n){"use strict";var r=n(164);t.s=r.createRoot,r.hydrateRoot},164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},372:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,u=n?Symbol.for("react.profiler"):60114,s=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,d=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,v=n?Symbol.for("react.memo"):60115,m=n?Symbol.for("react.lazy"):60116,y=n?Symbol.for("react.block"):60121,g=n?Symbol.for("react.fundamental"):60117,k=n?Symbol.for("react.responder"):60118,b=n?Symbol.for("react.scope"):60119;function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case l:case f:case a:case u:case o:case d:return e;default:switch(e=e&&e.$$typeof){case c:case h:case m:case v:case s:return e;default:return t}}case i:return t}}}function x(e){return w(e)===f}t.AsyncMode=l,t.ConcurrentMode=f,t.ContextConsumer=c,t.ContextProvider=s,t.Element=r,t.ForwardRef=h,t.Fragment=a,t.Lazy=m,t.Memo=v,t.Portal=i,t.Profiler=u,t.StrictMode=o,t.Suspense=d,t.isAsyncMode=function(e){return x(e)||w(e)===l},t.isConcurrentMode=x,t.isContextConsumer=function(e){return w(e)===c},t.isContextProvider=function(e){return w(e)===s},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return w(e)===h},t.isFragment=function(e){return w(e)===a},t.isLazy=function(e){return w(e)===m},t.isMemo=function(e){return w(e)===v},t.isPortal=function(e){return w(e)===i},t.isProfiler=function(e){return w(e)===u},t.isStrictMode=function(e){return w(e)===o},t.isSuspense=function(e){return w(e)===d},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===a||e===f||e===u||e===o||e===d||e===p||"object"===typeof e&&null!==e&&(e.$$typeof===m||e.$$typeof===v||e.$$typeof===s||e.$$typeof===c||e.$$typeof===h||e.$$typeof===g||e.$$typeof===k||e.$$typeof===b||e.$$typeof===y)},t.typeOf=w},441:function(e,t,n){"use strict";e.exports=n(372)},459:function(e,t){"use strict";var n,r=Symbol.for("react.element"),i=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),c=Symbol.for("react.context"),l=Symbol.for("react.server_context"),f=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),m=Symbol.for("react.offscreen");function y(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case a:case u:case o:case h:case d:return e;default:switch(e=e&&e.$$typeof){case l:case c:case f:case v:case p:case s:return e;default:return t}}case i:return t}}}n=Symbol.for("react.module.reference"),t.isContextConsumer=function(e){return y(e)===c}},900:function(e,t,n){"use strict";e.exports=n(459)},210:function(e,t,n){"use strict";var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=u(n(791)),o=u(n(7));function u(e){return e&&e.__esModule?e:{default:e}}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var c=!1,l=!1,f=!1,h=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onScriptLoaded=function(){t.stripeHandler||(t.stripeHandler=StripeCheckout.configure({key:n.props.stripeKey}),n.hasPendingClick&&n.showStripeDialog())},n.onScriptError=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];n.hideLoadingDialog(),n.props.onScriptError&&n.props.onScriptError.apply(n,t)},n.onClosed=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];n._isMounted&&n.setState({open:!1}),n.props.closed&&n.props.closed.apply(n,t)},n.onOpened=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];n.setState({open:!0}),n.props.opened&&n.props.opened.apply(n,t)},n.getConfig=function(){return["token","image","name","description","amount","locale","currency","panelLabel","zipCode","shippingAddress","billingAddress","email","allowRememberMe","bitcoin","alipay","alipayReusable"].reduce((function(e,t){return r({},e,n.props.hasOwnProperty(t)&&s({},t,n.props[t]))}),{opened:n.onOpened,closed:n.onClosed})},n.onClick=function(){if(!n.props.disabled)if(f)try{throw new Error("Tried to call onClick, but StripeCheckout failed to load")}catch(e){}else t.stripeHandler?n.showStripeDialog():(n.showLoadingDialog(),n.hasPendingClick=!0)},n.handleOnMouseDown=function(){n.setState({buttonActive:!0})},n.handleOnMouseUp=function(){n.setState({buttonActive:!1})},n.state={open:!1,buttonActive:!1},n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"componentDidMount",value:function(){var e=this;if(this._isMounted=!0,!l&&!c){c=!0;var t=document.createElement("script");"function"===typeof this.props.onScriptTagCreated&&this.props.onScriptTagCreated(t),t.src="https://checkout.stripe.com/checkout.js",t.async=1,this.loadPromise=function(){var n=!1,r=new Promise((function(n,r){t.onload=function(){l=!0,c=!1,n(),e.onScriptLoaded()},t.onerror=function(t){f=!0,c=!1,r(t),e.onScriptError(t)}}));return{promise:new Promise((function(e,t){r.then((function(){return n?t({isCanceled:!0}):e()})),r.catch((function(e){return t(n?{isCanceled:!0}:e)}))})),cancel:function(){n=!0}}}(),this.loadPromise.promise.then(this.onScriptLoaded).catch(this.onScriptError),document.body.appendChild(t)}}},{key:"componentDidUpdate",value:function(){c||this.updateStripeHandler()}},{key:"componentWillUnmount",value:function(){this._isMounted=!1,this.loadPromise&&this.loadPromise.cancel(),t.stripeHandler&&this.state.open&&t.stripeHandler.close()}},{key:"updateStripeHandler",value:function(){t.stripeHandler&&!this.props.reconfigureOnUpdate||(t.stripeHandler=StripeCheckout.configure({key:this.props.stripeKey}))}},{key:"showLoadingDialog",value:function(){if(this.props.showLoadingDialog){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];this.props.showLoadingDialog.apply(this,t)}}},{key:"hideLoadingDialog",value:function(){if(this.props.hideLoadingDialog){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];this.props.hideLoadingDialog.apply(this,t)}}},{key:"showStripeDialog",value:function(){this.hideLoadingDialog(),t.stripeHandler.open(this.getConfig())}},{key:"renderDefaultStripeButton",value:function(){return a.default.createElement("button",r({},s({},this.props.triggerEvent,this.onClick),{className:this.props.className,onMouseDown:this.handleOnMouseDown,onFocus:this.handleOnMouseDown,onMouseUp:this.handleOnMouseUp,onMouseOut:this.handleOnMouseUp,onBlur:this.handleOnMouseUp,style:r({},{overflow:"hidden",display:"inline-block",background:"linear-gradient(#28a0e5,#015e94)",border:0,padding:1,textDecoration:"none",borderRadius:5,boxShadow:"0 1px 0 rgba(0,0,0,0.2)",cursor:"pointer",visibility:"visible",userSelect:"none"},this.state.buttonActive&&{background:"#005d93"},this.props.style)}),a.default.createElement("span",{style:r({},{backgroundImage:"linear-gradient(#7dc5ee,#008cdd 85%,#30a2e4)",fontFamily:'"Helvetica Neue",Helvetica,Arial,sans-serif',fontSize:14,position:"relative",padding:"0 12px",display:"block",height:30,lineHeight:"30px",color:"#fff",fontWeight:"bold",boxShadow:"inset 0 1px 0 rgba(255,255,255,0.25)",textShadow:"0 -1px 0 rgba(0,0,0,0.25)",borderRadius:4},this.state.buttonActive&&{color:"#eee",boxShadow:"inset 0 1px 0 rgba(0,0,0,0.1)",backgroundImage:"linear-gradient(#008cdd,#008cdd 85%,#239adf)"},this.props.textStyle)},this.props.label))}},{key:"renderDisabledButton",value:function(){return a.default.createElement("button",{disabled:!0,style:{background:"rgba(0,0,0,0.2)",overflow:"hidden",display:"inline-block",border:0,padding:1,textDecoration:"none",borderRadius:5,userSelect:"none"}},a.default.createElement("span",{style:{boxShadow:"inset 0 1px 0 rgba(255,255,255,0.25)",fontFamily:'"Helvetica Neue",Helvetica,Arial,sans-serif',fontSize:14,position:"relative",padding:"0 12px",display:"block",height:30,lineHeight:"30px",borderRadius:4,color:"#999",background:"#f8f9fa",textShadow:"0 1px 0 rgba(255,255,255,0.5)"}},this.props.label))}},{key:"render",value:function(){!0!==this.props.desktopShowModal||this.state.open?!1===this.props.desktopShowModal&&this.state.open&&t.stripeHandler.close():this.onClick();var e=this.props.ComponentClass;return this.props.children?a.default.createElement(e,r({},s({},this.props.triggerEvent,this.onClick),{children:this.props.children})):this.props.disabled?this.renderDisabledButton():this.renderDefaultStripeButton()}}]),t}(a.default.Component);h.defaultProps={className:"StripeCheckout",label:"Pay With Card",locale:"auto",ComponentClass:"span",reconfigureOnUpdate:!1,triggerEvent:"onClick"},h.propTypes={desktopShowModal:o.default.bool,triggerEvent:o.default.oneOf(["onClick","onTouchTap","onTouchStart"]),label:o.default.string,style:o.default.object,textStyle:o.default.object,disabled:o.default.bool,ComponentClass:o.default.string,showLoadingDialog:o.default.func,hideLoadingDialog:o.default.func,onScriptError:o.default.func,onScriptTagCreated:o.default.func,reconfigureOnUpdate:o.default.bool,stripeKey:o.default.string.isRequired,token:o.default.func.isRequired,name:o.default.string,description:o.default.string,image:o.default.string,amount:o.default.number,locale:o.default.oneOf(["auto","zh","da","nl","en","fr","de","it","ja","no","es","sv"]),currency:o.default.oneOf(["AED","AFN","ALL","AMD","ANG","AOA","ARS","AUD","AWG","AZN","BAM","BBD","BDT","BGN","BIF","BMD","BND","BOB","BRL","BSD","BWP","BZD","CAD","CDF","CHF","CLP","CNY","COP","CRC","CVE","CZK","DJF","DKK","DOP","DZD","EEK","EGP","ETB","EUR","FJD","FKP","GBP","GEL","GIP","GMD","GNF","GTQ","GYD","HKD","HNL","HRK","HTG","HUF","IDR","ILS","INR","ISK","JMD","JPY","KES","KGS","KHR","KMF","KRW","KYD","KZT","LAK","LBP","LKR","LRD","LSL","LTL","LVL","MAD","MDL","MGA","MKD","MNT","MOP","MRO","MUR","MVR","MWK","MXN","MYR","MZN","NAD","NGN","NIO","NOK","NPR","NZD","PAB","PEN","PGK","PHP","PKR","PLN","PYG","QAR","RON","RSD","RUB","RWF","SAR","SBD","SCR","SEK","SGD","SHP","SLL","SOS","SRD","STD","SVC","SZL","THB","TJS","TOP","TRY","TTD","TWD","TZS","UAH","UGX","USD","UYU","UZS","VND","VUV","WST","XAF","XCD","XOF","XPF","YER","ZAR","ZMW"]),panelLabel:o.default.string,zipCode:o.default.bool,billingAddress:o.default.bool,shippingAddress:o.default.bool,email:o.default.string,allowRememberMe:o.default.bool,bitcoin:o.default.bool,alipay:o.default.oneOf(["auto",!0,!1]),alipayReusable:o.default.bool,opened:o.default.func,closed:o.default.func},h._isMounted=!1,t.Z=h},374:function(e,t,n){"use strict";var r=n(791),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,u=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)o.call(t,r)&&!s.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:a,_owner:u.current}}t.Fragment=a,t.jsx=c,t.jsxs=c},117:function(e,t){"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),s=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),d=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,m={};function y(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function g(){}function k(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},g.prototype=y.prototype;var b=k.prototype=new g;b.constructor=k,v(b,y.prototype),b.isPureReactComponent=!0;var w=Array.isArray,x=Object.prototype.hasOwnProperty,S={current:null},_={key:!0,ref:!0,__self:!0,__source:!0};function E(e,t,r){var i,a={},o=null,u=null;if(null!=t)for(i in void 0!==t.ref&&(u=t.ref),void 0!==t.key&&(o=""+t.key),t)x.call(t,i)&&!_.hasOwnProperty(i)&&(a[i]=t[i]);var s=arguments.length-2;if(1===s)a.children=r;else if(1<s){for(var c=Array(s),l=0;l<s;l++)c[l]=arguments[l+2];a.children=c}if(e&&e.defaultProps)for(i in s=e.defaultProps)void 0===a[i]&&(a[i]=s[i]);return{$$typeof:n,type:e,key:o,ref:u,props:a,_owner:S.current}}function I(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var T=/\/+/g;function C(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function A(e,t,i,a,o){var u=typeof e;"undefined"!==u&&"boolean"!==u||(e=null);var s=!1;if(null===e)s=!0;else switch(u){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case n:case r:s=!0}}if(s)return o=o(s=e),e=""===a?"."+C(s,0):a,w(o)?(i="",null!=e&&(i=e.replace(T,"$&/")+"/"),A(o,t,i,"",(function(e){return e}))):null!=o&&(I(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||s&&s.key===o.key?"":(""+o.key).replace(T,"$&/")+"/")+e)),t.push(o)),1;if(s=0,a=""===a?".":a+":",w(e))for(var c=0;c<e.length;c++){var l=a+C(u=e[c],c);s+=A(u,t,i,l,o)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(u=e.next()).done;)s+=A(u=u.value,t,i,l=a+C(u,c++),o);else if("object"===u)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function N(e,t,n){if(null==e)return e;var r=[],i=0;return A(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function O(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var P={current:null},D={transition:null},R={ReactCurrentDispatcher:P,ReactCurrentBatchConfig:D,ReactCurrentOwner:S};t.Children={map:N,forEach:function(e,t,n){N(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return N(e,(function(){t++})),t},toArray:function(e){return N(e,(function(e){return e}))||[]},only:function(e){if(!I(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=i,t.Profiler=o,t.PureComponent=k,t.StrictMode=a,t.Suspense=l,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=R,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=v({},e.props),a=e.key,o=e.ref,u=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,u=S.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(c in t)x.call(t,c)&&!_.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==s?s[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){s=Array(c);for(var l=0;l<c;l++)s[l]=arguments[l+2];i.children=s}return{$$typeof:n,type:e.type,key:a,ref:o,props:i,_owner:u}},t.createContext=function(e){return(e={$$typeof:s,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:u,_context:e},e.Consumer=e},t.createElement=E,t.createFactory=function(e){var t=E.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=I,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:O}},t.memo=function(e,t){return{$$typeof:f,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=D.transition;D.transition={};try{e()}finally{D.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return P.current.useCallback(e,t)},t.useContext=function(e){return P.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return P.current.useDeferredValue(e)},t.useEffect=function(e,t){return P.current.useEffect(e,t)},t.useId=function(){return P.current.useId()},t.useImperativeHandle=function(e,t,n){return P.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return P.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return P.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return P.current.useMemo(e,t)},t.useReducer=function(e,t,n){return P.current.useReducer(e,t,n)},t.useRef=function(e){return P.current.useRef(e)},t.useState=function(e){return P.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return P.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return P.current.useTransition()},t.version="18.1.0"},791:function(e,t,n){"use strict";e.exports=n(117)},184:function(e,t,n){"use strict";e.exports=n(374)},896:function(e,t,n){!function(e){"use strict";function t(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}function r(e,t){Object.defineProperty(this,"kind",{value:e,enumerable:!0}),t&&t.length&&Object.defineProperty(this,"path",{value:t,enumerable:!0})}function i(e,t,n){i.super_.call(this,"E",e),Object.defineProperty(this,"lhs",{value:t,enumerable:!0}),Object.defineProperty(this,"rhs",{value:n,enumerable:!0})}function a(e,t){a.super_.call(this,"N",e),Object.defineProperty(this,"rhs",{value:t,enumerable:!0})}function o(e,t){o.super_.call(this,"D",e),Object.defineProperty(this,"lhs",{value:t,enumerable:!0})}function u(e,t,n){u.super_.call(this,"A",e),Object.defineProperty(this,"index",{value:t,enumerable:!0}),Object.defineProperty(this,"item",{value:n,enumerable:!0})}function s(e,t,n){var r=e.slice((n||t)+1||e.length);return e.length=t<0?e.length+t:t,e.push.apply(e,r),e}function c(e){var t="undefined"==typeof e?"undefined":N(e);return"object"!==t?t:e===Math?"math":null===e?"null":Array.isArray(e)?"array":"[object Date]"===Object.prototype.toString.call(e)?"date":"function"==typeof e.toString&&/^\/.*\//.test(e.toString())?"regexp":"object"}function l(e,t,n,r,f,h,d){d=d||[];var p=(f=f||[]).slice(0);if("undefined"!=typeof h){if(r){if("function"==typeof r&&r(p,h))return;if("object"===("undefined"==typeof r?"undefined":N(r))){if(r.prefilter&&r.prefilter(p,h))return;if(r.normalize){var v=r.normalize(p,h,e,t);v&&(e=v[0],t=v[1])}}}p.push(h)}"regexp"===c(e)&&"regexp"===c(t)&&(e=e.toString(),t=t.toString());var m="undefined"==typeof e?"undefined":N(e),y="undefined"==typeof t?"undefined":N(t),g="undefined"!==m||d&&d[d.length-1].lhs&&d[d.length-1].lhs.hasOwnProperty(h),k="undefined"!==y||d&&d[d.length-1].rhs&&d[d.length-1].rhs.hasOwnProperty(h);if(!g&&k)n(new a(p,t));else if(!k&&g)n(new o(p,e));else if(c(e)!==c(t))n(new i(p,e,t));else if("date"===c(e)&&e-t!==0)n(new i(p,e,t));else if("object"===m&&null!==e&&null!==t)if(d.filter((function(t){return t.lhs===e})).length)e!==t&&n(new i(p,e,t));else{if(d.push({lhs:e,rhs:t}),Array.isArray(e)){var b;for(e.length,b=0;b<e.length;b++)b>=t.length?n(new u(p,b,new o(void 0,e[b]))):l(e[b],t[b],n,r,p,b,d);for(;b<t.length;)n(new u(p,b,new a(void 0,t[b++])))}else{var w=Object.keys(e),x=Object.keys(t);w.forEach((function(i,a){var o=x.indexOf(i);o>=0?(l(e[i],t[i],n,r,p,i,d),x=s(x,o)):l(e[i],void 0,n,r,p,i,d)})),x.forEach((function(e){l(void 0,t[e],n,r,p,e,d)}))}d.length=d.length-1}else e!==t&&("number"===m&&isNaN(e)&&isNaN(t)||n(new i(p,e,t)))}function f(e,t,n,r){return r=r||[],l(e,t,(function(e){e&&r.push(e)}),n),r.length?r:void 0}function h(e,t,n){if(n.path&&n.path.length){var r,i=e[t],a=n.path.length-1;for(r=0;r<a;r++)i=i[n.path[r]];switch(n.kind){case"A":h(i[n.path[r]],n.index,n.item);break;case"D":delete i[n.path[r]];break;case"E":case"N":i[n.path[r]]=n.rhs}}else switch(n.kind){case"A":h(e[t],n.index,n.item);break;case"D":e=s(e,t);break;case"E":case"N":e[t]=n.rhs}return e}function d(e,t,n){if(e&&t&&n&&n.kind){for(var r=e,i=-1,a=n.path?n.path.length-1:0;++i<a;)"undefined"==typeof r[n.path[i]]&&(r[n.path[i]]="number"==typeof n.path[i]?[]:{}),r=r[n.path[i]];switch(n.kind){case"A":h(n.path?r[n.path[i]]:r,n.index,n.item);break;case"D":delete r[n.path[i]];break;case"E":case"N":r[n.path[i]]=n.rhs}}}function p(e,t,n){if(n.path&&n.path.length){var r,i=e[t],a=n.path.length-1;for(r=0;r<a;r++)i=i[n.path[r]];switch(n.kind){case"A":p(i[n.path[r]],n.index,n.item);break;case"D":case"E":i[n.path[r]]=n.lhs;break;case"N":delete i[n.path[r]]}}else switch(n.kind){case"A":p(e[t],n.index,n.item);break;case"D":case"E":e[t]=n.lhs;break;case"N":e=s(e,t)}return e}function v(e,t,n){if(e&&t&&n&&n.kind){var r,i,a=e;for(i=n.path.length-1,r=0;r<i;r++)"undefined"==typeof a[n.path[r]]&&(a[n.path[r]]={}),a=a[n.path[r]];switch(n.kind){case"A":p(a[n.path[r]],n.index,n.item);break;case"D":case"E":a[n.path[r]]=n.lhs;break;case"N":delete a[n.path[r]]}}}function m(e,t,n){e&&t&&l(e,t,(function(r){n&&!n(e,t,r)||d(e,t,r)}))}function y(e){return"color: "+D[e].color+"; font-weight: bold"}function g(e){var t=e.kind,n=e.path,r=e.lhs,i=e.rhs,a=e.index,o=e.item;switch(t){case"E":return[n.join("."),r,"\u2192",i];case"N":return[n.join("."),i];case"D":return[n.join(".")];case"A":return[n.join(".")+"["+a+"]",o];default:return[]}}function k(e,t,n,r){var i=f(e,t);try{r?n.groupCollapsed("diff"):n.group("diff")}catch(e){n.log("diff")}i?i.forEach((function(e){var t=e.kind,r=g(e);n.log.apply(n,["%c "+D[t].text,y(t)].concat(O(r)))})):n.log("\u2014\u2014 no diff \u2014\u2014");try{n.groupEnd()}catch(e){n.log("\u2014\u2014 diff end \u2014\u2014 ")}}function b(e,t,n,r){switch("undefined"==typeof e?"undefined":N(e)){case"object":return"function"==typeof e[r]?e[r].apply(e,O(n)):e[r];case"function":return e(t);default:return e}}function w(e){var t=e.timestamp,n=e.duration;return function(e,r,i){var a=["action"];return a.push("%c"+String(e.type)),t&&a.push("%c@ "+r),n&&a.push("%c(in "+i.toFixed(2)+" ms)"),a.join(" ")}}function x(e,t){var n=t.logger,r=t.actionTransformer,i=t.titleFormatter,a=void 0===i?w(t):i,o=t.collapsed,u=t.colors,s=t.level,c=t.diff,l="undefined"==typeof t.titleFormatter;e.forEach((function(i,f){var h=i.started,d=i.startedTime,p=i.action,v=i.prevState,m=i.error,y=i.took,g=i.nextState,w=e[f+1];w&&(g=w.prevState,y=w.started-h);var x=r(p),S="function"==typeof o?o((function(){return g}),p,i):o,_=C(d),E=u.title?"color: "+u.title(x)+";":"",I=["color: gray; font-weight: lighter;"];I.push(E),t.timestamp&&I.push("color: gray; font-weight: lighter;"),t.duration&&I.push("color: gray; font-weight: lighter;");var T=a(x,_,y);try{S?u.title&&l?n.groupCollapsed.apply(n,["%c "+T].concat(I)):n.groupCollapsed(T):u.title&&l?n.group.apply(n,["%c "+T].concat(I)):n.group(T)}catch(e){n.log(T)}var A=b(s,x,[v],"prevState"),N=b(s,x,[x],"action"),O=b(s,x,[m,v],"error"),P=b(s,x,[g],"nextState");if(A)if(u.prevState){var D="color: "+u.prevState(v)+"; font-weight: bold";n[A]("%c prev state",D,v)}else n[A]("prev state",v);if(N)if(u.action){var R="color: "+u.action(x)+"; font-weight: bold";n[N]("%c action    ",R,x)}else n[N]("action    ",x);if(m&&O)if(u.error){var L="color: "+u.error(m,v)+"; font-weight: bold;";n[O]("%c error     ",L,m)}else n[O]("error     ",m);if(P)if(u.nextState){var M="color: "+u.nextState(g)+"; font-weight: bold";n[P]("%c next state",M,g)}else n[P]("next state",g);c&&k(v,g,n,S);try{n.groupEnd()}catch(e){n.log("\u2014\u2014 log end \u2014\u2014")}}))}function S(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object.assign({},R,e),n=t.logger,r=t.stateTransformer,i=t.errorTransformer,a=t.predicate,o=t.logErrors,u=t.diffPredicate;if("undefined"==typeof n)return function(){return function(e){return function(t){return e(t)}}};if(e.getState&&e.dispatch)return console.error("[redux-logger] redux-logger not installed. Make sure to pass logger instance as middleware:\n// Logger with default options\nimport { logger } from 'redux-logger'\nconst store = createStore(\n  reducer,\n  applyMiddleware(logger)\n)\n// Or you can create your own logger with custom options http://bit.ly/redux-logger-options\nimport createLogger from 'redux-logger'\nconst logger = createLogger({\n  // ...options\n});\nconst store = createStore(\n  reducer,\n  applyMiddleware(logger)\n)\n"),function(){return function(e){return function(t){return e(t)}}};var s=[];return function(e){var n=e.getState;return function(e){return function(c){if("function"==typeof a&&!a(n,c))return e(c);var l={};s.push(l),l.started=A.now(),l.startedTime=new Date,l.prevState=r(n()),l.action=c;var f=void 0;if(o)try{f=e(c)}catch(e){l.error=i(e)}else f=e(c);l.took=A.now()-l.started,l.nextState=r(n());var h=t.diff&&"function"==typeof u?u(n,c):t.diff;if(x(s,Object.assign({},t,{diff:h})),s.length=0,l.error)throw l.error;return f}}}}var _,E,I=function(e,t){return new Array(t+1).join(e)},T=function(e,t){return I("0",t-e.toString().length)+e},C=function(e){return T(e.getHours(),2)+":"+T(e.getMinutes(),2)+":"+T(e.getSeconds(),2)+"."+T(e.getMilliseconds(),3)},A="undefined"!=typeof performance&&null!==performance&&"function"==typeof performance.now?performance:Date,N="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},O=function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)},P=[];_="object"===("undefined"==typeof n.g?"undefined":N(n.g))&&n.g?n.g:"undefined"!=typeof window?window:{},(E=_.DeepDiff)&&P.push((function(){"undefined"!=typeof E&&_.DeepDiff===f&&(_.DeepDiff=E,E=void 0)})),t(i,r),t(a,r),t(o,r),t(u,r),Object.defineProperties(f,{diff:{value:f,enumerable:!0},observableDiff:{value:l,enumerable:!0},applyDiff:{value:m,enumerable:!0},applyChange:{value:d,enumerable:!0},revertChange:{value:v,enumerable:!0},isConflict:{value:function(){return"undefined"!=typeof E},enumerable:!0},noConflict:{value:function(){return P&&(P.forEach((function(e){e()})),P=null),f},enumerable:!0}});var D={E:{color:"#2196F3",text:"CHANGED:"},N:{color:"#4CAF50",text:"ADDED:"},D:{color:"#F44336",text:"DELETED:"},A:{color:"#2196F3",text:"ARRAY:"}},R={level:"log",logger:console,logErrors:!0,collapsed:void 0,predicate:void 0,duration:!1,timestamp:!0,stateTransformer:function(e){return e},actionTransformer:function(e){return e},errorTransformer:function(e){return e},colors:{title:function(){return"inherit"},prevState:function(){return"#9E9E9E"},action:function(){return"#03A9F4"},nextState:function(){return"#4CAF50"},error:function(){return"#F20404"}},diff:!1,diffPredicate:void 0,transformer:void 0},L=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.dispatch,n=e.getState;return"function"==typeof t||"function"==typeof n?S()({dispatch:t,getState:n}):void console.error("\n[redux-logger v3] BREAKING CHANGE\n[redux-logger v3] Since 3.0.0 redux-logger exports by default logger with default settings.\n[redux-logger v3] Change\n[redux-logger v3] import createLogger from 'redux-logger'\n[redux-logger v3] to\n[redux-logger v3] import { createLogger } from 'redux-logger'\n")};e.defaults=R,e.createLogger=S,e.logger=L,e.default=L,Object.defineProperty(e,"__esModule",{value:!0})}(t)},315:function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){var t=(0,i.default)(e);return{getItem:function(e){return new Promise((function(n,r){n(t.getItem(e))}))},setItem:function(e,n){return new Promise((function(r,i){r(t.setItem(e,n))}))},removeItem:function(e){return new Promise((function(n,r){n(t.removeItem(e))}))}}};var r,i=(r=n(53))&&r.__esModule?r:{default:r}},53:function(e,t){"use strict";function n(e){return n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function r(){}t.__esModule=!0,t.default=function(e){var t="".concat(e,"Storage");return function(e){if("object"!==("undefined"===typeof self?"undefined":n(self))||!(e in self))return!1;try{var t=self[e],r="redux-persist ".concat(e," test");t.setItem(r,"test"),t.getItem(r),t.removeItem(r)}catch(i){return!1}return!0}(t)?self[t]:i};var i={getItem:r,setItem:r,removeItem:r}},752:function(e,t,n){"use strict";var r;t.Z=void 0;var i=(0,((r=n(315))&&r.__esModule?r:{default:r}).default)("local");t.Z=i},727:function(e){var t=function(e){"use strict";var t,n=Object.prototype,r=n.hasOwnProperty,i="function"===typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(O){s=function(e,t,n){return e[t]=n}}function c(e,t,n,r){var i=t&&t.prototype instanceof m?t:m,a=Object.create(i.prototype),o=new C(r||[]);return a._invoke=function(e,t,n){var r=f;return function(i,a){if(r===d)throw new Error("Generator is already running");if(r===p){if("throw"===i)throw a;return N()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var u=E(o,n);if(u){if(u===v)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===f)throw r=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=d;var s=l(e,t,n);if("normal"===s.type){if(r=n.done?p:h,s.arg===v)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r=p,n.method="throw",n.arg=s.arg)}}}(e,n,o),a}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(O){return{type:"throw",arg:O}}}e.wrap=c;var f="suspendedStart",h="suspendedYield",d="executing",p="completed",v={};function m(){}function y(){}function g(){}var k={};s(k,a,(function(){return this}));var b=Object.getPrototypeOf,w=b&&b(b(A([])));w&&w!==n&&r.call(w,a)&&(k=w);var x=g.prototype=m.prototype=Object.create(k);function S(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function _(e,t){function n(i,a,o,u){var s=l(e[i],e,a);if("throw"!==s.type){var c=s.arg,f=c.value;return f&&"object"===typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,o,u)}),(function(e){n("throw",e,o,u)})):t.resolve(f).then((function(e){c.value=e,o(c)}),(function(e){return n("throw",e,o,u)}))}u(s.arg)}var i;this._invoke=function(e,r){function a(){return new t((function(t,i){n(e,r,t,i)}))}return i=i?i.then(a,a):a()}}function E(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,E(e,n),"throw"===n.method))return v;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var i=l(r,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,v):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function I(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(I,this),this.reset(!0)}function A(e){if(e){var n=e[a];if(n)return n.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}return{next:N}}function N(){return{value:t,done:!0}}return y.prototype=g,s(x,"constructor",g),s(g,"constructor",y),y.displayName=s(g,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,s(e,u,"GeneratorFunction")),e.prototype=Object.create(x),e},e.awrap=function(e){return{__await:e}},S(_.prototype),s(_.prototype,o,(function(){return this})),e.AsyncIterator=_,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new _(c(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},S(x),s(x,u,"Generator"),s(x,a,(function(){return this})),s(x,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=A,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(T),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return u.type="throw",u.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],u=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),c=r.call(o,"finallyLoc");if(s&&c){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,v):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),T(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;T(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:A(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),v}},e}(e.exports);try{regeneratorRuntime=t}catch(n){"object"===typeof globalThis?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}},813:function(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var u=2*(r+1)-1,s=e[u],c=u+1,l=e[c];if(0>a(s,n))c<i&&0>a(l,s)?(e[r]=l,e[c]=n,r=c):(e[r]=s,e[u]=n,r=u);else{if(!(c<i&&0>a(l,n)))break e;e[r]=l,e[c]=n,r=c}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var u=Date,s=u.now();t.unstable_now=function(){return u.now()-s}}var c=[],l=[],f=1,h=null,d=3,p=!1,v=!1,m=!1,y="function"===typeof setTimeout?setTimeout:null,g="function"===typeof clearTimeout?clearTimeout:null,k="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=r(l);null!==t;){if(null===t.callback)i(l);else{if(!(t.startTime<=e))break;i(l),t.sortIndex=t.expirationTime,n(c,t)}t=r(l)}}function w(e){if(m=!1,b(e),!v)if(null!==r(c))v=!0,D(x);else{var t=r(l);null!==t&&R(w,t.startTime-e)}}function x(e,n){v=!1,m&&(m=!1,g(I),I=-1),p=!0;var a=d;try{for(b(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!A());){var o=h.callback;if("function"===typeof o){h.callback=null,d=h.priorityLevel;var u=o(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof u?h.callback=u:h===r(c)&&i(c),b(n)}else i(c);h=r(c)}if(null!==h)var s=!0;else{var f=r(l);null!==f&&R(w,f.startTime-n),s=!1}return s}finally{h=null,d=a,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var S,_=!1,E=null,I=-1,T=5,C=-1;function A(){return!(t.unstable_now()-C<T)}function N(){if(null!==E){var e=t.unstable_now();C=e;var n=!0;try{n=E(!0,e)}finally{n?S():(_=!1,E=null)}}else _=!1}if("function"===typeof k)S=function(){k(N)};else if("undefined"!==typeof MessageChannel){var O=new MessageChannel,P=O.port2;O.port1.onmessage=N,S=function(){P.postMessage(null)}}else S=function(){y(N,0)};function D(e){E=e,_||(_=!0,S())}function R(e,n){I=y((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,D(x))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(d){case 1:case 2:case 3:var t=3;break;default:t=d}var n=d;d=t;try{return e()}finally{d=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=d;d=e;try{return t()}finally{d=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var u=-1;break;case 2:u=250;break;case 5:u=1073741823;break;case 4:u=1e4;break;default:u=5e3}return e={id:f++,callback:i,priorityLevel:e,startTime:a,expirationTime:u=a+u,sortIndex:-1},a>o?(e.sortIndex=a,n(l,e),null===r(c)&&e===r(l)&&(m?(g(I),I=-1):m=!0,R(w,a-o))):(e.sortIndex=u,n(c,e),v||p||(v=!0,D(x))),e},t.unstable_shouldYield=A,t.unstable_wrapCallback=function(e){var t=d;return function(){var n=d;d=t;try{return e.apply(this,arguments)}finally{d=n}}}},296:function(e,t,n){"use strict";e.exports=n(813)},613:function(e){e.exports=function(e,t,n,r){var i=n?n.call(r,e,t):void 0;if(void 0!==i)return!!i;if(e===t)return!0;if("object"!==typeof e||!e||"object"!==typeof t||!t)return!1;var a=Object.keys(e),o=Object.keys(t);if(a.length!==o.length)return!1;for(var u=Object.prototype.hasOwnProperty.bind(t),s=0;s<a.length;s++){var c=a[s];if(!u(c))return!1;var l=e[c],f=t[c];if(!1===(i=n?n.call(r,l,f,c):void 0)||void 0===i&&l!==f)return!1}return!0}},561:function(e,t,n){"use strict";var r=n(791);var i="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},a=r.useState,o=r.useEffect,u=r.useLayoutEffect,s=r.useDebugValue;function c(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!i(e,n)}catch(r){return!0}}var l="undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),r=a({inst:{value:n,getSnapshot:t}}),i=r[0].inst,l=r[1];return u((function(){i.value=n,i.getSnapshot=t,c(i)&&l({inst:i})}),[e,n,t]),o((function(){return c(i)&&l({inst:i}),e((function(){c(i)&&l({inst:i})}))}),[e]),s(n),n};t.useSyncExternalStore=void 0!==r.useSyncExternalStore?r.useSyncExternalStore:l},595:function(e,t,n){"use strict";var r=n(791),i=n(248);var a="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},o=i.useSyncExternalStore,u=r.useRef,s=r.useEffect,c=r.useMemo,l=r.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var f=u(null);if(null===f.current){var h={hasValue:!1,value:null};f.current=h}else h=f.current;f=c((function(){function e(e){if(!s){if(s=!0,o=e,e=r(e),void 0!==i&&h.hasValue){var t=h.value;if(i(t,e))return u=t}return u=e}if(t=u,a(o,e))return t;var n=r(e);return void 0!==i&&i(t,n)?t:(o=e,u=n)}var o,u,s=!1,c=void 0===n?null:n;return[function(){return e(t())},null===c?void 0:function(){return e(c())}]}),[t,n,r,i]);var d=o(e,f[0],f[1]);return s((function(){h.hasValue=!0,h.value=d}),[d]),l(d),d}},248:function(e,t,n){"use strict";e.exports=n(561)},327:function(e,t,n){"use strict";e.exports=n(595)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r].call(a.exports,a,a.exports,n),a.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/F1_Ticket_Manager/",function(){"use strict";var e={};n.r(e),n.d(e,{FirebaseError:function(){return zr},SDK_VERSION:function(){return Qi},_DEFAULT_ENTRY_NAME:function(){return Mi},_addComponent:function(){return Vi},_addOrOverwriteComponent:function(){return Bi},_apps:function(){return Fi},_clearComponents:function(){return Ki},_components:function(){return ji},_getProvider:function(){return qi},_registerComponent:function(){return zi},_removeServiceInstance:function(){return Hi},deleteApp:function(){return Zi},getApp:function(){return Xi},getApps:function(){return Ji},initializeApp:function(){return $i},onLog:function(){return na},registerVersion:function(){return ta},setLogLevel:function(){return ra}});var t=n(791);function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function o(e,t){return o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},o(e,t)}function u(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&o(e,t)}function s(e){return s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},s(e)}function c(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function l(e){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e,t){if(t&&("object"===l(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return f(e)}function d(e){var t=c();return function(){var n,r=s(e);if(t){var i=s(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return h(this,n)}}function p(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,o(e,t)}function v(){return v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},v.apply(this,arguments)}function m(e){return"/"===e.charAt(0)}function y(e,t){for(var n=t,r=n+1,i=e.length;r<i;n+=1,r+=1)e[n]=e[r];e.pop()}var g=function(e,t){void 0===t&&(t="");var n,r=e&&e.split("/")||[],i=t&&t.split("/")||[],a=e&&m(e),o=t&&m(t),u=a||o;if(e&&m(e)?i=r:r.length&&(i.pop(),i=i.concat(r)),!i.length)return"/";if(i.length){var s=i[i.length-1];n="."===s||".."===s||""===s}else n=!1;for(var c=0,l=i.length;l>=0;l--){var f=i[l];"."===f?y(i,l):".."===f?(y(i,l),c++):c&&(y(i,l),c--)}if(!u)for(;c--;c)i.unshift("..");!u||""===i[0]||i[0]&&m(i[0])||i.unshift("");var h=i.join("/");return n&&"/"!==h.substr(-1)&&(h+="/"),h};function k(e){return e.valueOf?e.valueOf():Object.prototype.valueOf.call(e)}var b=function e(t,n){if(t===n)return!0;if(null==t||null==n)return!1;if(Array.isArray(t))return Array.isArray(n)&&t.length===n.length&&t.every((function(t,r){return e(t,n[r])}));if("object"===typeof t||"object"===typeof n){var r=k(t),i=k(n);return r!==t||i!==n?e(r,i):Object.keys(Object.assign({},t,n)).every((function(r){return e(t[r],n[r])}))}return!1},w="Invariant failed";function x(e,t){if(!e)throw new Error(w)}function S(e){return"/"===e.charAt(0)?e:"/"+e}function _(e){return"/"===e.charAt(0)?e.substr(1):e}function E(e,t){return function(e,t){return 0===e.toLowerCase().indexOf(t.toLowerCase())&&-1!=="/?#".indexOf(e.charAt(t.length))}(e,t)?e.substr(t.length):e}function I(e){return"/"===e.charAt(e.length-1)?e.slice(0,-1):e}function T(e){var t=e.pathname,n=e.search,r=e.hash,i=t||"/";return n&&"?"!==n&&(i+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(i+="#"===r.charAt(0)?r:"#"+r),i}function C(e,t,n,r){var i;"string"===typeof e?(i=function(e){var t=e||"/",n="",r="",i=t.indexOf("#");-1!==i&&(r=t.substr(i),t=t.substr(0,i));var a=t.indexOf("?");return-1!==a&&(n=t.substr(a),t=t.substr(0,a)),{pathname:t,search:"?"===n?"":n,hash:"#"===r?"":r}}(e),i.state=t):(void 0===(i=v({},e)).pathname&&(i.pathname=""),i.search?"?"!==i.search.charAt(0)&&(i.search="?"+i.search):i.search="",i.hash?"#"!==i.hash.charAt(0)&&(i.hash="#"+i.hash):i.hash="",void 0!==t&&void 0===i.state&&(i.state=t));try{i.pathname=decodeURI(i.pathname)}catch(a){throw a instanceof URIError?new URIError('Pathname "'+i.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):a}return n&&(i.key=n),r?i.pathname?"/"!==i.pathname.charAt(0)&&(i.pathname=g(i.pathname,r.pathname)):i.pathname=r.pathname:i.pathname||(i.pathname="/"),i}function A(){var e=null;var t=[];return{setPrompt:function(t){return e=t,function(){e===t&&(e=null)}},confirmTransitionTo:function(t,n,r,i){if(null!=e){var a="function"===typeof e?e(t,n):e;"string"===typeof a?"function"===typeof r?r(a,i):i(!0):i(!1!==a)}else i(!0)},appendListener:function(e){var n=!0;function r(){n&&e.apply(void 0,arguments)}return t.push(r),function(){n=!1,t=t.filter((function(e){return e!==r}))}},notifyListeners:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.forEach((function(e){return e.apply(void 0,n)}))}}}var N=!("undefined"===typeof window||!window.document||!window.document.createElement);function O(e,t){t(window.confirm(e))}var P="popstate",D="hashchange";function R(){try{return window.history.state||{}}catch(e){return{}}}function L(e){void 0===e&&(e={}),N||x(!1);var t=window.history,n=function(){var e=window.navigator.userAgent;return(-1===e.indexOf("Android 2.")&&-1===e.indexOf("Android 4.0")||-1===e.indexOf("Mobile Safari")||-1!==e.indexOf("Chrome")||-1!==e.indexOf("Windows Phone"))&&window.history&&"pushState"in window.history}(),r=!(-1===window.navigator.userAgent.indexOf("Trident")),i=e,a=i.forceRefresh,o=void 0!==a&&a,u=i.getUserConfirmation,s=void 0===u?O:u,c=i.keyLength,l=void 0===c?6:c,f=e.basename?I(S(e.basename)):"";function h(e){var t=e||{},n=t.key,r=t.state,i=window.location,a=i.pathname+i.search+i.hash;return f&&(a=E(a,f)),C(a,r,n)}function d(){return Math.random().toString(36).substr(2,l)}var p=A();function m(e){v(V,e),V.length=t.length,p.notifyListeners(V.location,V.action)}function y(e){(function(e){return void 0===e.state&&-1===navigator.userAgent.indexOf("CriOS")})(e)||b(h(e.state))}function g(){b(h(R()))}var k=!1;function b(e){if(k)k=!1,m();else{p.confirmTransitionTo(e,"POP",s,(function(t){t?m({action:"POP",location:e}):function(e){var t=V.location,n=_.indexOf(t.key);-1===n&&(n=0);var r=_.indexOf(e.key);-1===r&&(r=0);var i=n-r;i&&(k=!0,M(i))}(e)}))}}var w=h(R()),_=[w.key];function L(e){return f+T(e)}function M(e){t.go(e)}var U=0;function F(e){1===(U+=e)&&1===e?(window.addEventListener(P,y),r&&window.addEventListener(D,g)):0===U&&(window.removeEventListener(P,y),r&&window.removeEventListener(D,g))}var j=!1;var V={length:t.length,action:"POP",location:w,createHref:L,push:function(e,r){var i="PUSH",a=C(e,r,d(),V.location);p.confirmTransitionTo(a,i,s,(function(e){if(e){var r=L(a),u=a.key,s=a.state;if(n)if(t.pushState({key:u,state:s},null,r),o)window.location.href=r;else{var c=_.indexOf(V.location.key),l=_.slice(0,c+1);l.push(a.key),_=l,m({action:i,location:a})}else window.location.href=r}}))},replace:function(e,r){var i="REPLACE",a=C(e,r,d(),V.location);p.confirmTransitionTo(a,i,s,(function(e){if(e){var r=L(a),u=a.key,s=a.state;if(n)if(t.replaceState({key:u,state:s},null,r),o)window.location.replace(r);else{var c=_.indexOf(V.location.key);-1!==c&&(_[c]=a.key),m({action:i,location:a})}else window.location.replace(r)}}))},go:M,goBack:function(){M(-1)},goForward:function(){M(1)},block:function(e){void 0===e&&(e=!1);var t=p.setPrompt(e);return j||(F(1),j=!0),function(){return j&&(j=!1,F(-1)),t()}},listen:function(e){var t=p.appendListener(e);return F(1),function(){F(-1),t()}}};return V}var M="hashchange",U={hashbang:{encodePath:function(e){return"!"===e.charAt(0)?e:"!/"+_(e)},decodePath:function(e){return"!"===e.charAt(0)?e.substr(1):e}},noslash:{encodePath:_,decodePath:S},slash:{encodePath:S,decodePath:S}};function F(e){var t=e.indexOf("#");return-1===t?e:e.slice(0,t)}function j(){var e=window.location.href,t=e.indexOf("#");return-1===t?"":e.substring(t+1)}function V(e){window.location.replace(F(window.location.href)+"#"+e)}function B(e){void 0===e&&{},N||x(!1);var t=window.history,n=(window.navigator.userAgent.indexOf("Firefox"),e),r=n.getUserConfirmation,i=void 0===r?O:r,a=n.hashType,o=void 0===a?"slash":a,u=e.basename?I(S(e.basename)):"",s=U[o],c=s.encodePath,l=s.decodePath;function f(){var e=l(j());return u&&E(e,u),C(e)}var h=A();function d(e){v(L,e),L.length=t.length,h.notifyListeners(L.location,L.action)}var p=!1,m=null;function y(){var e=j(),t=c(e);if(e!==t)V(t);else{var n=f(),r=L.location;if(!p&&function(e,t){return e.pathname===t.pathname&&e.search===t.search&&e.hash===t.hash}(r,n))return;if(m===T(n))return;null,function(e){if(p)!1,d();else{var t="POP";h.confirmTransitionTo(e,t,i,(function(n){n?d({action:t,location:e}):function(e){var t=L.location,n=w.lastIndexOf(T(t));-1===n&&0;var r=w.lastIndexOf(T(e));-1===r&&0;var i=n-r;i&&(!0,_(i))}(e)}))}}(n)}}var g=j(),k=c(g);g!==k&&V(k);var b=f(),w=[T(b)];function _(e){t.go(e)}var P=0;function D(e){1===(P+=e)&&1===e?window.addEventListener(M,y):0===P&&window.removeEventListener(M,y)}var R=!1;var L={length:t.length,action:"POP",location:b,createHref:function(e){var t=document.querySelector("base"),n="";return t&&t.getAttribute("href")&&F(window.location.href),n+"#"+c(u+T(e))},push:function(e,t){var n="PUSH",r=C(e,void 0,void 0,L.location);h.confirmTransitionTo(r,n,i,(function(e){if(e){var t=T(r),i=c(u+t);if(j()!==i){t,function(e){window.location.hash=e}(i);var a=w.lastIndexOf(T(L.location)),o=w.slice(0,a+1);o.push(t),o,d({action:n,location:r})}else d()}}))},replace:function(e,t){var n="REPLACE",r=C(e,void 0,void 0,L.location);h.confirmTransitionTo(r,n,i,(function(e){if(e){var t=T(r),i=c(u+t);j()!==i&&(t,V(i));var a=w.indexOf(T(L.location));-1!==a&&(w[a]=t),d({action:n,location:r})}}))},go:_,goBack:function(){_(-1)},goForward:function(){_(1)},block:function(e){void 0===e&&!1;var t=h.setPrompt(e);return R||(D(1),!0),function(){return R&&(!1,D(-1)),t()}},listen:function(e){var t=h.appendListener(e);return D(1),function(){D(-1),t()}}};return L}function z(e,t,n){return Math.min(Math.max(e,t),n)}function q(e){void 0===e&&{};var t=e,n=t.getUserConfirmation,r=t.initialEntries,i=void 0===r?["/"]:r,a=t.initialIndex,o=void 0===a?0:a,u=t.keyLength,s=void 0===u?6:u,c=A();function l(e){v(y,e),y.length=y.entries.length,c.notifyListeners(y.location,y.action)}function f(){return Math.random().toString(36).substr(2,s)}var h=z(o,0,i.length-1),d=i.map((function(e){return C(e,void 0,"string"===typeof e?f():e.key||f())})),p=T;function m(e){var t=z(y.index+e,0,y.entries.length-1),r=y.entries[t];c.confirmTransitionTo(r,"POP",n,(function(e){e?l({action:"POP",location:r,index:t}):l()}))}var y={length:d.length,action:"POP",location:d[h],index:h,entries:d,createHref:p,push:function(e,t){var r="PUSH",i=C(e,t,f(),y.location);c.confirmTransitionTo(i,r,n,(function(e){if(e){var t=y.index+1,n=y.entries.slice(0);n.length>t?n.splice(t,n.length-t,i):n.push(i),l({action:r,location:i,index:t,entries:n})}}))},replace:function(e,t){var r="REPLACE",i=C(e,t,f(),y.location);c.confirmTransitionTo(i,r,n,(function(e){e&&(y.entries[y.index]=i,l({action:r,location:i}))}))},go:m,goBack:function(){m(-1)},goForward:function(){m(1)},canGo:function(e){var t=y.index+e;return t>=0&&t<y.entries.length},block:function(e){return void 0===e&&!1,c.setPrompt(e)},listen:function(e){return c.appendListener(e)}};return y}var H=n(7),K=n.n(H),G=1073741823,W="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:{};function Y(e){var t=[];return{on:function(e){t.push(e)},off:function(e){t=t.filter((function(t){return t!==e}))},get:function(){return e},set:function(n,r){e=n,t.forEach((function(t){return t(e,r)}))}}}var Q=t.createContext||function(e,n){var r,i,a="__create-react-context-"+function(){var e="__global_unique_id__";return W[e]=(W[e]||0)+1}()+"__",o=function(e){function t(){var t;return(t=e.apply(this,arguments)||this).emitter=Y(t.props.value),t}p(t,e);var r=t.prototype;return r.getChildContext=function(){var e;return(e={})[a]=this.emitter,e},r.componentWillReceiveProps=function(e){if(this.props.value!==e.value){var t,r=this.props.value,i=e.value;!function(e,t){return e===t?0!==e||1/e===1/t:e!==e&&t!==t}(r,i)?(t="function"===typeof n?n(r,i):G,0!==(t|=0)&&this.emitter.set(e.value,t)):t=0}},r.render=function(){return this.props.children},t}(t.Component);o.childContextTypes=((r={})[a]=K().object.isRequired,r);var u=function(t){function n(){var e;return(e=t.apply(this,arguments)||this).state={value:e.getValue()},e.onUpdate=function(t,n){0!==((0|e.observedBits)&n)&&e.setState({value:e.getValue()})},e}p(n,t);var r=n.prototype;return r.componentWillReceiveProps=function(e){var t=e.observedBits;this.observedBits=void 0===t||null===t?G:t},r.componentDidMount=function(){this.context[a]&&this.context[a].on(this.onUpdate);var e=this.props.observedBits;this.observedBits=void 0===e||null===e?G:e},r.componentWillUnmount=function(){this.context[a]&&this.context[a].off(this.onUpdate)},r.getValue=function(){return this.context[a]?this.context[a].get():e},r.render=function(){return(e=this.props.children,Array.isArray(e)?e[0]:e)(this.state.value);var e},n}(t.Component);return u.contextTypes=((i={})[a]=K().object,i),{Provider:o,Consumer:u}},$=Q,X=n(151),J=n.n(X),Z=n(441);function ee(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var te=n(110),ne=n.n(te),re=function(e){var t=$();return t.displayName=e,t},ie=re("Router-History"),ae=function(e){var t=$();return t.displayName=e,t},oe=ae("Router"),ue=function(e){function n(t){var n;return(n=e.call(this,t)||this).state={location:t.history.location},n._isMounted=!1,n._pendingLocation=null,t.staticContext||(n.unlisten=t.history.listen((function(e){n._isMounted?n.setState({location:e}):n._pendingLocation=e}))),n}p(n,e),n.computeRootMatch=function(e){return{path:"/",url:"/",params:{},isExact:"/"===e}};var r=n.prototype;return r.componentDidMount=function(){this._isMounted=!0,this._pendingLocation&&this.setState({location:this._pendingLocation})},r.componentWillUnmount=function(){this.unlisten&&this.unlisten()},r.render=function(){return t.createElement(oe.Provider,{value:{history:this.props.history,location:this.state.location,match:n.computeRootMatch(this.state.location.pathname),staticContext:this.props.staticContext}},t.createElement(ie.Provider,{children:this.props.children||null,value:this.props.history}))},n}(t.Component);t.Component;var se=function(e){function t(){return e.apply(this,arguments)||this}p(t,e);var n=t.prototype;return n.componentDidMount=function(){this.props.onMount&&this.props.onMount.call(this,this)},n.componentDidUpdate=function(e){this.props.onUpdate&&this.props.onUpdate.call(this,this,e)},n.componentWillUnmount=function(){this.props.onUnmount&&this.props.onUnmount.call(this,this)},n.render=function(){return null},t}(t.Component);var ce={},le=0;function fe(e,t){return void 0===e&&(e="/"),void 0===t&&(t={}),"/"===e?e:function(e){if(ce[e])return ce[e];var t=J().compile(e);return le<1e4&&(ce[e]=t,le++),t}(e)(t,{pretty:!0})}function he(e){var n=e.computedMatch,r=e.to,i=e.push,a=void 0!==i&&i;return t.createElement(oe.Consumer,null,(function(e){e||x(!1);var i=e.history,o=e.staticContext,u=a?i.push:i.replace,s=C(n?"string"===typeof r?fe(r,n.params):v({},r,{pathname:fe(r.pathname,n.params)}):r);return o?(u(s),null):t.createElement(se,{onMount:function(){u(s)},onUpdate:function(e,t){var n=C(t.to);(function(e,t){return e.pathname===t.pathname&&e.search===t.search&&e.hash===t.hash&&e.key===t.key&&b(e.state,t.state)})(n,v({},s,{key:n.key}))||u(s)},to:r})}))}var de={},pe=0;function ve(e,t){void 0===t&&(t={}),("string"===typeof t||Array.isArray(t))&&(t={path:t});var n=t,r=n.path,i=n.exact,a=void 0!==i&&i,o=n.strict,u=void 0!==o&&o,s=n.sensitive,c=void 0!==s&&s;return[].concat(r).reduce((function(t,n){if(!n&&""!==n)return null;if(t)return t;var r=function(e,t){var n=""+t.end+t.strict+t.sensitive,r=de[n]||(de[n]={});if(r[e])return r[e];var i=[],a={regexp:J()(e,i,t),keys:i};return pe<1e4&&(r[e]=a,pe++),a}(n,{end:a,strict:u,sensitive:c}),i=r.regexp,o=r.keys,s=i.exec(e);if(!s)return null;var l=s[0],f=s.slice(1),h=e===l;return a&&!h?null:{path:n,url:"/"===n&&""===l?"/":l,isExact:h,params:o.reduce((function(e,t,n){return e[t.name]=f[n],e}),{})}}),null)}var me=function(e){function n(){return e.apply(this,arguments)||this}return p(n,e),n.prototype.render=function(){var e=this;return t.createElement(oe.Consumer,null,(function(n){n||x(!1);var r=e.props.location||n.location,i=v({},n,{location:r,match:e.props.computedMatch?e.props.computedMatch:e.props.path?ve(r.pathname,e.props):n.match}),a=e.props,o=a.children,u=a.component,s=a.render;return Array.isArray(o)&&0===o.length&&(o=null),t.createElement(oe.Provider,{value:i},i.match?o?"function"===typeof o?o(i):o:u?t.createElement(u,i):s?s(i):null:"function"===typeof o?o(i):null)}))},n}(t.Component);function ye(e){return"/"===e.charAt(0)?e:"/"+e}function ge(e,t){if(!e)return t;var n=ye(e);return 0!==t.pathname.indexOf(n)?t:v({},t,{pathname:t.pathname.substr(n.length)})}function ke(e){return"string"===typeof e?e:T(e)}function be(e){return function(){x(!1)}}function we(){}t.Component;var xe=function(e){function n(){return e.apply(this,arguments)||this}return p(n,e),n.prototype.render=function(){var e=this;return t.createElement(oe.Consumer,null,(function(n){n||x(!1);var r,i,a=e.props.location||n.location;return t.Children.forEach(e.props.children,(function(e){if(null==i&&t.isValidElement(e)){r=e;var o=e.props.path||e.props.from;i=o?ve(a.pathname,v({},e.props,{path:o})):n.match}})),i?t.cloneElement(r,{location:a,computedMatch:i}):null}))},n}(t.Component);function Se(e){var n="withRouter("+(e.displayName||e.name)+")",r=function(n){var r=n.wrappedComponentRef,i=ee(n,["wrappedComponentRef"]);return t.createElement(oe.Consumer,null,(function(n){return n||x(!1),t.createElement(e,v({},i,n,{ref:r}))}))};return r.displayName=n,r.WrappedComponent=e,ne()(r,e)}t.useContext;var _e=n(248),Ee=n(327),Ie=n(164);var Te=function(e){e()},Ce=function(){return Te},Ae=t.createContext(null);var Ne=function(){throw new Error("uSES not initialized!")};function Oe(e){if(Array.isArray(e))return e}function Pe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function De(e,t){if(e){if("string"===typeof e)return Pe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Pe(e,t):void 0}}function Re(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Le(e,t){return Oe(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,u=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(s){u=!0,i=s}finally{try{o||null==n.return||n.return()}finally{if(u)throw i}}return a}}(e,t)||De(e,t)||Re()}function Me(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function Ue(e){return function(e){if(Array.isArray(e))return Pe(e)}(e)||Me(e)||De(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Fe=n(900),je=["initMapStateToProps","initMapDispatchToProps","initMergeProps"];function Ve(e,t,n,r,i){var a,o,u,s,c,l=i.areStatesEqual,f=i.areOwnPropsEqual,h=i.areStatePropsEqual,d=!1;function p(i,d){var p=!f(d,o),v=!l(i,a);return a=i,o=d,p&&v?(u=e(a,o),t.dependsOnOwnProps&&(s=t(r,o)),c=n(u,s,o)):p?(e.dependsOnOwnProps&&(u=e(a,o)),t.dependsOnOwnProps&&(s=t(r,o)),c=n(u,s,o)):v?function(){var t=e(a,o),r=!h(t,u);return u=t,r&&(c=n(u,s,o)),c}():c}return function(i,l){return d?p(i,l):(u=e(a=i,o=l),s=t(r,o),c=n(u,s,o),d=!0,c)}}function Be(e,t){var n=t.initMapStateToProps,r=t.initMapDispatchToProps,i=t.initMergeProps,a=ee(t,je);return Ve(n(e,a),r(e,a),i(e,a),e,a)}function ze(e){return function(t){var n=e(t);function r(){return n}return r.dependsOnOwnProps=!1,r}}function qe(e){return e.dependsOnOwnProps?Boolean(e.dependsOnOwnProps):1!==e.length}function He(e,t){return function(t,n){n.displayName;var r=function(e,t){return r.dependsOnOwnProps?r.mapToProps(e,t):r.mapToProps(e,void 0)};return r.dependsOnOwnProps=!0,r.mapToProps=function(t,n){r.mapToProps=e,r.dependsOnOwnProps=qe(e);var i=r(t,n);return"function"===typeof i&&(r.mapToProps=i,r.dependsOnOwnProps=qe(i),i=r(t,n)),i},r}}function Ke(e,t){return function(n,r){throw new Error("Invalid value of type ".concat(typeof e," for ").concat(t," argument when connecting component ").concat(r.wrappedComponentName,"."))}}function Ge(e){return e&&"object"===typeof e?ze((function(t){return function(e,t){var n={},r=function(r){var i=e[r];"function"===typeof i&&(n[r]=function(){return t(i.apply(void 0,arguments))})};for(var i in e)r(i);return n}(e,t)})):e?"function"===typeof e?He(e):Ke(e,"mapDispatchToProps"):ze((function(e){return{dispatch:e}}))}function We(e){return e?"function"===typeof e?He(e):Ke(e,"mapStateToProps"):ze((function(){return{}}))}function Ye(e,t,n){return v({},n,e,t)}function Qe(e){return e?"function"===typeof e?function(e){return function(t,n){n.displayName;var r,i=n.areMergedPropsEqual,a=!1;return function(t,n,o){var u=e(t,n,o);return a?i(u,r)||(r=u):(a=!0,r=u),r}}}(e):Ke(e,"mergeProps"):function(){return Ye}}var $e={notify:function(){},get:function(){return[]}};function Xe(e,t){var n,r=$e;function i(){o.onStateChange&&o.onStateChange()}function a(){n||(n=t?t.addNestedSub(i):e.subscribe(i),r=function(){var e=Ce(),t=null,n=null;return{clear:function(){t=null,n=null},notify:function(){e((function(){for(var e=t;e;)e.callback(),e=e.next}))},get:function(){for(var e=[],n=t;n;)e.push(n),n=n.next;return e},subscribe:function(e){var r=!0,i=n={callback:e,next:null,prev:n};return i.prev?i.prev.next=i:t=i,function(){r&&null!==t&&(r=!1,i.next?i.next.prev=i.prev:n=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}())}var o={addNestedSub:function(e){return a(),r.subscribe(e)},notifyNestedSubs:function(){r.notify()},handleChangeWrapper:i,isSubscribed:function(){return Boolean(n)},trySubscribe:a,tryUnsubscribe:function(){n&&(n(),n=void 0,r.clear(),r=$e)},getListeners:function(){return r}};return o}var Je=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement)?t.useLayoutEffect:t.useEffect;function Ze(e,t){return e===t?0!==e||0!==t||1/e===1/t:e!==e&&t!==t}function et(e,t){if(Ze(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(t,n[i])||!Ze(e[n[i]],t[n[i]]))return!1;return!0}var tt=["reactReduxForwardedRef"],nt=Ne,rt=[null,null];function it(e,t,n){Je((function(){return e.apply(void 0,Ue(t))}),n)}function at(e,t,n,r,i,a){e.current=r,n.current=!1,i.current&&(i.current=null,a())}function ot(e,t,n,r,i,a,o,u,s,c,l){if(!e)return function(){};var f=!1,h=null,d=function(){if(!f&&u.current){var e,n,d=t.getState();try{e=r(d,i.current)}catch(p){n=p,h=p}n||(h=null),e===a.current?o.current||c():(a.current=e,s.current=e,o.current=!0,l())}};n.onStateChange=d,n.trySubscribe(),d();return function(){if(f=!0,n.tryUnsubscribe(),n.onStateChange=null,h)throw h}}function ut(e,t){return e===t}var st=function(e,n,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(i.pure,i.areStatesEqual),o=void 0===a?ut:a,u=i.areOwnPropsEqual,s=void 0===u?et:u,c=i.areStatePropsEqual,l=void 0===c?et:c,f=i.areMergedPropsEqual,h=void 0===f?et:f,d=i.forwardRef,p=void 0!==d&&d,m=i.context,y=void 0===m?Ae:m,g=y,k=We(e),b=Ge(n),w=Qe(r),x=Boolean(e),S=function(e){var n=e.displayName||e.name||"Component",r="Connect(".concat(n,")"),i={shouldHandleStateChanges:x,displayName:r,wrappedComponentName:n,WrappedComponent:e,initMapStateToProps:k,initMapDispatchToProps:b,initMergeProps:w,areStatesEqual:o,areStatePropsEqual:l,areOwnPropsEqual:s,areMergedPropsEqual:h};function a(n){var r=(0,t.useMemo)((function(){var e=n.reactReduxForwardedRef,t=ee(n,tt);return[n.context,e,t]}),[n]),a=Le(r,3),o=a[0],u=a[1],s=a[2],c=(0,t.useMemo)((function(){return o&&o.Consumer&&(0,Fe.isContextConsumer)(t.createElement(o.Consumer,null))?o:g}),[o,g]),l=(0,t.useContext)(c),f=Boolean(n.store)&&Boolean(n.store.getState)&&Boolean(n.store.dispatch),h=Boolean(l)&&Boolean(l.store);var d=f?n.store:l.store,p=h?l.getServerState:d.getState,m=(0,t.useMemo)((function(){return Be(d.dispatch,i)}),[d]),y=(0,t.useMemo)((function(){if(!x)return rt;var e=Xe(d,f?void 0:l.subscription),t=e.notifyNestedSubs.bind(e);return[e,t]}),[d,f,l]),k=Le(y,2),b=k[0],w=k[1],S=(0,t.useMemo)((function(){return f?l:v({},l,{subscription:b})}),[f,l,b]),_=(0,t.useRef)(),E=(0,t.useRef)(s),I=(0,t.useRef)(),T=(0,t.useRef)(!1),C=((0,t.useRef)(!1),(0,t.useRef)(!1)),A=(0,t.useRef)();Je((function(){return C.current=!0,function(){C.current=!1}}),[]);var N,O=(0,t.useMemo)((function(){return function(){return I.current&&s===E.current?I.current:m(d.getState(),s)}}),[d,s]),P=(0,t.useMemo)((function(){return function(e){return b?ot(x,d,b,m,E,_,T,C,I,w,e):function(){}}}),[b]);it(at,[E,_,T,s,I,w]);try{N=nt(P,O,p?function(){return m(p(),s)}:O)}catch(R){throw A.current&&(R.message+="\nThe error may be correlated with this previous error:\n".concat(A.current.stack,"\n\n")),R}Je((function(){A.current=void 0,I.current=void 0,_.current=N}));var D=(0,t.useMemo)((function(){return t.createElement(e,v({},N,{ref:u}))}),[u,e,N]);return(0,t.useMemo)((function(){return x?t.createElement(c.Provider,{value:S},D):D}),[c,D,S])}var u=t.memo(a);if(u.WrappedComponent=e,u.displayName=a.displayName=r,p){var c=t.forwardRef((function(e,n){return t.createElement(u,v({},e,{reactReduxForwardedRef:n}))}));return c.displayName=r,c.WrappedComponent=e,ne()(c,e)}return ne()(u,e)};return S};var ct=function(e){var n=e.store,r=e.context,i=e.children,a=e.serverState,o=(0,t.useMemo)((function(){var e=Xe(n);return{store:n,subscription:e,getServerState:a?function(){return a}:void 0}}),[n,a]),u=(0,t.useMemo)((function(){return n.getState()}),[n]);Je((function(){var e=o.subscription;return e.onStateChange=e.notifyNestedSubs,e.trySubscribe(),u!==n.getState()&&e.notifyNestedSubs(),function(){e.tryUnsubscribe(),e.onStateChange=void 0}}),[o,u]);var s=r||Ae;return t.createElement(s.Provider,{value:o},i)};var lt;!function(e){e}(Ee.useSyncExternalStoreWithSelector),function(e){nt=e}(_e.useSyncExternalStore),lt=Ie.unstable_batchedUpdates,Te=lt;var ft="NOT_FOUND";var ht=function(e,t){return e===t};function dt(e,t){var n="object"===typeof t?t:{equalityCheck:t},r=n.equalityCheck,i=void 0===r?ht:r,a=n.maxSize,o=void 0===a?1:a,u=n.resultEqualityCheck,s=function(e){return function(t,n){if(null===t||null===n||t.length!==n.length)return!1;for(var r=t.length,i=0;i<r;i++)if(!e(t[i],n[i]))return!1;return!0}}(i),c=1===o?function(e){var t;return{get:function(n){return t&&e(t.key,n)?t.value:ft},put:function(e,n){t={key:e,value:n}},getEntries:function(){return t?[t]:[]},clear:function(){t=void 0}}}(s):function(e,t){var n=[];function r(e){var r=n.findIndex((function(n){return t(e,n.key)}));if(r>-1){var i=n[r];return r>0&&(n.splice(r,1),n.unshift(i)),i.value}return ft}return{get:r,put:function(t,i){r(t)===ft&&(n.unshift({key:t,value:i}),n.length>e&&n.pop())},getEntries:function(){return n},clear:function(){n=[]}}}(o,s);function l(){var t=c.get(arguments);if(t===ft){if(t=e.apply(null,arguments),u){var n=c.getEntries(),r=n.find((function(e){return u(e.value,t)}));r&&(t=r.value)}c.put(arguments,t)}return t}return l.clearCache=function(){return c.clear()},l}function pt(e){var t=Array.isArray(e[0])?e[0]:e;if(!t.every((function(e){return"function"===typeof e}))){var n=t.map((function(e){return"function"===typeof e?"function "+(e.name||"unnamed")+"()":typeof e})).join(", ");throw new Error("createSelector expects all input-selectors to be functions, but received the following types: ["+n+"]")}return t}function vt(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=function(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];var a,o=0,u={memoizeOptions:void 0},s=r.pop();if("object"===typeof s&&(u=s,s=r.pop()),"function"!==typeof s)throw new Error("createSelector expects an output function after the inputs, but received: ["+typeof s+"]");var c=u,l=c.memoizeOptions,f=void 0===l?n:l,h=Array.isArray(f)?f:[f],d=pt(r),p=e.apply(void 0,[function(){return o++,s.apply(null,arguments)}].concat(h)),v=e((function(){for(var e=[],t=d.length,n=0;n<t;n++)e.push(d[n].apply(null,arguments));return a=p.apply(null,e)}));return Object.assign(v,{resultFunc:s,memoizedResultFunc:p,dependencies:d,lastResult:function(){return a},recomputations:function(){return o},resetRecomputations:function(){return o=0}}),v};return i}var mt=vt(dt),yt=function(e,t){if(void 0===t&&(t=mt),"object"!==typeof e)throw new Error("createStructuredSelector expects first argument to be an object where each property is a selector, instead received a "+typeof e);var n=Object.keys(e),r=t(n.map((function(t){return e[t]})),(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.reduce((function(e,t,r){return e[n[r]]=t,e}),{})}));return r};function gt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function kt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function bt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?kt(Object(n),!0).forEach((function(t){gt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function wt(e,t){if(null==e)return{};var n,r,i=ee(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var xt=mt([function(e){return e.directory}],(function(e){return e.sections})),St=n(184),_t=Se((function(e){var t=e.title,n=e.imageUrl,r=e.size;e.history,e.linkUrl,e.match;return(0,St.jsxs)("div",{className:"".concat(r," menu-item"),children:[(0,St.jsx)("div",{className:"background-image",style:{backgroundImage:"url(".concat(n,")")}}),(0,St.jsxs)("div",{className:"content",children:[(0,St.jsx)("h1",{className:"title",children:t.toUpperCase()}),(0,St.jsx)("span",{className:"subtitle",children:"TO BE MODIFIED"})]})]})})),Et=["id"];st(yt({sections:xt}))((function(e){var t=e.sections;return(0,St.jsx)("div",{className:"directory-menu",children:t.map((function(e){var t=e.id,n=wt(e,Et);return(0,St.jsx)(_t,bt({},n),t)}))})}));function It(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var Tt=n(613),Ct=n.n(Tt);var At=function(e){function t(e,r,s,c,h){for(var d,p,v,m,b,x=0,S=0,_=0,E=0,I=0,P=0,R=v=d=0,M=0,U=0,F=0,j=0,V=s.length,B=V-1,z="",q="",H="",K="";M<V;){if(p=s.charCodeAt(M),M===B&&0!==S+E+_+x&&(0!==S&&(p=47===S?10:47),E=_=x=0,V++,B++),0===S+E+_+x){if(M===B&&(0<U&&(z=z.replace(f,"")),0<z.trim().length)){switch(p){case 32:case 9:case 59:case 13:case 10:break;default:z+=s.charAt(M)}p=59}switch(p){case 123:for(d=(z=z.trim()).charCodeAt(0),v=1,j=++M;M<V;){switch(p=s.charCodeAt(M)){case 123:v++;break;case 125:v--;break;case 47:switch(p=s.charCodeAt(M+1)){case 42:case 47:e:{for(R=M+1;R<B;++R)switch(s.charCodeAt(R)){case 47:if(42===p&&42===s.charCodeAt(R-1)&&M+2!==R){M=R+1;break e}break;case 10:if(47===p){M=R+1;break e}}M=R}}break;case 91:p++;case 40:p++;case 34:case 39:for(;M++<B&&s.charCodeAt(M)!==p;);}if(0===v)break;M++}if(v=s.substring(j,M),0===d&&(d=(z=z.replace(l,"").trim()).charCodeAt(0)),64===d){switch(0<U&&(z=z.replace(f,"")),p=z.charCodeAt(1)){case 100:case 109:case 115:case 45:U=r;break;default:U=O}if(j=(v=t(r,U,v,p,h+1)).length,0<D&&(b=u(3,v,U=n(O,z,F),r,C,T,j,p,h,c),z=U.join(""),void 0!==b&&0===(j=(v=b.trim()).length)&&(p=0,v="")),0<j)switch(p){case 115:z=z.replace(w,o);case 100:case 109:case 45:v=z+"{"+v+"}";break;case 107:v=(z=z.replace(y,"$1 $2"))+"{"+v+"}",v=1===N||2===N&&a("@"+v,3)?"@-webkit-"+v+"@"+v:"@"+v;break;default:v=z+v,112===c&&(q+=v,v="")}else v=""}else v=t(r,n(r,z,F),v,c,h+1);H+=v,v=F=U=R=d=0,z="",p=s.charCodeAt(++M);break;case 125:case 59:if(1<(j=(z=(0<U?z.replace(f,""):z).trim()).length))switch(0===R&&(d=z.charCodeAt(0),45===d||96<d&&123>d)&&(j=(z=z.replace(" ",":")).length),0<D&&void 0!==(b=u(1,z,r,e,C,T,q.length,c,h,c))&&0===(j=(z=b.trim()).length)&&(z="\0\0"),d=z.charCodeAt(0),p=z.charCodeAt(1),d){case 0:break;case 64:if(105===p||99===p){K+=z+s.charAt(M);break}default:58!==z.charCodeAt(j-1)&&(q+=i(z,d,p,z.charCodeAt(2)))}F=U=R=d=0,z="",p=s.charCodeAt(++M)}}switch(p){case 13:case 10:47===S?S=0:0===1+d&&107!==c&&0<z.length&&(U=1,z+="\0"),0<D*L&&u(0,z,r,e,C,T,q.length,c,h,c),T=1,C++;break;case 59:case 125:if(0===S+E+_+x){T++;break}default:switch(T++,m=s.charAt(M),p){case 9:case 32:if(0===E+x+S)switch(I){case 44:case 58:case 9:case 32:m="";break;default:32!==p&&(m=" ")}break;case 0:m="\\0";break;case 12:m="\\f";break;case 11:m="\\v";break;case 38:0===E+S+x&&(U=F=1,m="\f"+m);break;case 108:if(0===E+S+x+A&&0<R)switch(M-R){case 2:112===I&&58===s.charCodeAt(M-3)&&(A=I);case 8:111===P&&(A=P)}break;case 58:0===E+S+x&&(R=M);break;case 44:0===S+_+E+x&&(U=1,m+="\r");break;case 34:case 39:0===S&&(E=E===p?0:0===E?p:E);break;case 91:0===E+S+_&&x++;break;case 93:0===E+S+_&&x--;break;case 41:0===E+S+x&&_--;break;case 40:if(0===E+S+x){if(0===d)if(2*I+3*P===533);else d=1;_++}break;case 64:0===S+_+E+x+R+v&&(v=1);break;case 42:case 47:if(!(0<E+x+_))switch(S){case 0:switch(2*p+3*s.charCodeAt(M+1)){case 235:S=47;break;case 220:j=M,S=42}break;case 42:47===p&&42===I&&j+2!==M&&(33===s.charCodeAt(j+2)&&(q+=s.substring(j,M+1)),m="",S=0)}}0===S&&(z+=m)}P=I,I=p,M++}if(0<(j=q.length)){if(U=r,0<D&&(void 0!==(b=u(2,q,U,e,C,T,j,c,h,c))&&0===(q=b).length))return K+q+H;if(q=U.join(",")+"{"+q+"}",0!==N*A){switch(2!==N||a(q,2)||(A=0),A){case 111:q=q.replace(k,":-moz-$1")+q;break;case 112:q=q.replace(g,"::-webkit-input-$1")+q.replace(g,"::-moz-$1")+q.replace(g,":-ms-input-$1")+q}A=0}}return K+q+H}function n(e,t,n){var i=t.trim().split(v);t=i;var a=i.length,o=e.length;switch(o){case 0:case 1:var u=0;for(e=0===o?"":e[0]+" ";u<a;++u)t[u]=r(e,t[u],n).trim();break;default:var s=u=0;for(t=[];u<a;++u)for(var c=0;c<o;++c)t[s++]=r(e[c]+" ",i[u],n).trim()}return t}function r(e,t,n){var r=t.charCodeAt(0);switch(33>r&&(r=(t=t.trim()).charCodeAt(0)),r){case 38:return t.replace(m,"$1"+e.trim());case 58:return e.trim()+t.replace(m,"$1"+e.trim());default:if(0<1*n&&0<t.indexOf("\f"))return t.replace(m,(58===e.charCodeAt(0)?"":"$1")+e.trim())}return e+t}function i(e,t,n,r){var o=e+";",u=2*t+3*n+4*r;if(944===u){e=o.indexOf(":",9)+1;var s=o.substring(e,o.length-1).trim();return s=o.substring(0,e).trim()+s+";",1===N||2===N&&a(s,1)?"-webkit-"+s+s:s}if(0===N||2===N&&!a(o,1))return o;switch(u){case 1015:return 97===o.charCodeAt(10)?"-webkit-"+o+o:o;case 951:return 116===o.charCodeAt(3)?"-webkit-"+o+o:o;case 963:return 110===o.charCodeAt(5)?"-webkit-"+o+o:o;case 1009:if(100!==o.charCodeAt(4))break;case 969:case 942:return"-webkit-"+o+o;case 978:return"-webkit-"+o+"-moz-"+o+o;case 1019:case 983:return"-webkit-"+o+"-moz-"+o+"-ms-"+o+o;case 883:if(45===o.charCodeAt(8))return"-webkit-"+o+o;if(0<o.indexOf("image-set(",11))return o.replace(I,"$1-webkit-$2")+o;break;case 932:if(45===o.charCodeAt(4))switch(o.charCodeAt(5)){case 103:return"-webkit-box-"+o.replace("-grow","")+"-webkit-"+o+"-ms-"+o.replace("grow","positive")+o;case 115:return"-webkit-"+o+"-ms-"+o.replace("shrink","negative")+o;case 98:return"-webkit-"+o+"-ms-"+o.replace("basis","preferred-size")+o}return"-webkit-"+o+"-ms-"+o+o;case 964:return"-webkit-"+o+"-ms-flex-"+o+o;case 1023:if(99!==o.charCodeAt(8))break;return"-webkit-box-pack"+(s=o.substring(o.indexOf(":",15)).replace("flex-","").replace("space-between","justify"))+"-webkit-"+o+"-ms-flex-pack"+s+o;case 1005:return d.test(o)?o.replace(h,":-webkit-")+o.replace(h,":-moz-")+o:o;case 1e3:switch(t=(s=o.substring(13).trim()).indexOf("-")+1,s.charCodeAt(0)+s.charCodeAt(t)){case 226:s=o.replace(b,"tb");break;case 232:s=o.replace(b,"tb-rl");break;case 220:s=o.replace(b,"lr");break;default:return o}return"-webkit-"+o+"-ms-"+s+o;case 1017:if(-1===o.indexOf("sticky",9))break;case 975:switch(t=(o=e).length-10,u=(s=(33===o.charCodeAt(t)?o.substring(0,t):o).substring(e.indexOf(":",7)+1).trim()).charCodeAt(0)+(0|s.charCodeAt(7))){case 203:if(111>s.charCodeAt(8))break;case 115:o=o.replace(s,"-webkit-"+s)+";"+o;break;case 207:case 102:o=o.replace(s,"-webkit-"+(102<u?"inline-":"")+"box")+";"+o.replace(s,"-webkit-"+s)+";"+o.replace(s,"-ms-"+s+"box")+";"+o}return o+";";case 938:if(45===o.charCodeAt(5))switch(o.charCodeAt(6)){case 105:return s=o.replace("-items",""),"-webkit-"+o+"-webkit-box-"+s+"-ms-flex-"+s+o;case 115:return"-webkit-"+o+"-ms-flex-item-"+o.replace(S,"")+o;default:return"-webkit-"+o+"-ms-flex-line-pack"+o.replace("align-content","").replace(S,"")+o}break;case 973:case 989:if(45!==o.charCodeAt(3)||122===o.charCodeAt(4))break;case 931:case 953:if(!0===E.test(e))return 115===(s=e.substring(e.indexOf(":")+1)).charCodeAt(0)?i(e.replace("stretch","fill-available"),t,n,r).replace(":fill-available",":stretch"):o.replace(s,"-webkit-"+s)+o.replace(s,"-moz-"+s.replace("fill-",""))+o;break;case 962:if(o="-webkit-"+o+(102===o.charCodeAt(5)?"-ms-"+o:"")+o,211===n+r&&105===o.charCodeAt(13)&&0<o.indexOf("transform",10))return o.substring(0,o.indexOf(";",27)+1).replace(p,"$1-webkit-$2")+o}return o}function a(e,t){var n=e.indexOf(1===t?":":"{"),r=e.substring(0,3!==t?n:10);return n=e.substring(n+1,e.length-1),R(2!==t?r:r.replace(_,"$1"),n,t)}function o(e,t){var n=i(t,t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2));return n!==t+";"?n.replace(x," or ($1)").substring(4):"("+t+")"}function u(e,t,n,r,i,a,o,u,s,l){for(var f,h=0,d=t;h<D;++h)switch(f=P[h].call(c,e,d,n,r,i,a,o,u,s,l)){case void 0:case!1:case!0:case null:break;default:d=f}if(d!==t)return d}function s(e){return void 0!==(e=e.prefix)&&(R=null,e?"function"!==typeof e?N=1:(N=2,R=e):N=0),s}function c(e,n){var r=e;if(33>r.charCodeAt(0)&&(r=r.trim()),r=[r],0<D){var i=u(-1,n,r,r,C,T,0,0,0,0);void 0!==i&&"string"===typeof i&&(n=i)}var a=t(O,r,n,0,0);return 0<D&&(void 0!==(i=u(-2,a,r,r,C,T,a.length,0,0,0))&&(a=i)),"",A=0,T=C=1,a}var l=/^\0+/g,f=/[\0\r\f]/g,h=/: */g,d=/zoo|gra/,p=/([,: ])(transform)/g,v=/,\r+?/g,m=/([\t\r\n ])*\f?&/g,y=/@(k\w+)\s*(\S*)\s*/,g=/::(place)/g,k=/:(read-only)/g,b=/[svh]\w+-[tblr]{2}/,w=/\(\s*(.*)\s*\)/g,x=/([\s\S]*?);/g,S=/-self|flex-/g,_=/[^]*?(:[rp][el]a[\w-]+)[^]*/,E=/stretch|:\s*\w+\-(?:conte|avail)/,I=/([^-])(image-set\()/,T=1,C=1,A=0,N=1,O=[],P=[],D=0,R=null,L=0;return c.use=function e(t){switch(t){case void 0:case null:D=P.length=0;break;default:if("function"===typeof t)P[D++]=t;else if("object"===typeof t)for(var n=0,r=t.length;n<r;++n)e(t[n]);else L=0|!!t}return e},c.set=s,void 0!==e&&s(e),c},Nt={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};var Ot=function(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}},Pt=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,Dt=Ot((function(e){return Pt.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91}));function Rt(){return(Rt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var Lt=function(e,t){for(var n=[e[0]],r=0,i=t.length;r<i;r+=1)n.push(t[r],e[r+1]);return n},Mt=function(e){return null!==e&&"object"==typeof e&&"[object Object]"===(e.toString?e.toString():Object.prototype.toString.call(e))&&!(0,Z.typeOf)(e)},Ut=Object.freeze([]),Ft=Object.freeze({});function jt(e){return"function"==typeof e}function Vt(e){return e.displayName||e.name||"Component"}function Bt(e){return e&&"string"==typeof e.styledComponentId}var zt="undefined"!=typeof process&&({NODE_ENV:"production",PUBLIC_URL:"/F1_Ticket_Manager",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_ATTR||{NODE_ENV:"production",PUBLIC_URL:"/F1_Ticket_Manager",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_ATTR)||"data-styled",qt="undefined"!=typeof window&&"HTMLElement"in window,Ht=Boolean("boolean"==typeof SC_DISABLE_SPEEDY?SC_DISABLE_SPEEDY:"undefined"!=typeof process&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"/F1_Ticket_Manager",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY&&""!=={NODE_ENV:"production",PUBLIC_URL:"/F1_Ticket_Manager",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY?"false"!=={NODE_ENV:"production",PUBLIC_URL:"/F1_Ticket_Manager",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY&&{NODE_ENV:"production",PUBLIC_URL:"/F1_Ticket_Manager",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY:"undefined"!=typeof process&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"/F1_Ticket_Manager",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY&&""!=={NODE_ENV:"production",PUBLIC_URL:"/F1_Ticket_Manager",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY&&("false"!=={NODE_ENV:"production",PUBLIC_URL:"/F1_Ticket_Manager",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY&&{NODE_ENV:"production",PUBLIC_URL:"/F1_Ticket_Manager",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY));function Kt(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw new Error("An error occurred. See https://git.io/JUIaE#"+e+" for more information."+(n.length>0?" Args: "+n.join(", "):""))}var Gt=function(){function e(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}var t=e.prototype;return t.indexOfGroup=function(e){for(var t=0,n=0;n<e;n++)t+=this.groupSizes[n];return t},t.insertRules=function(e,t){if(e>=this.groupSizes.length){for(var n=this.groupSizes,r=n.length,i=r;e>=i;)(i<<=1)<0&&Kt(16,""+e);this.groupSizes=new Uint32Array(i),this.groupSizes.set(n),this.length=i;for(var a=r;a<i;a++)this.groupSizes[a]=0}for(var o=this.indexOfGroup(e+1),u=0,s=t.length;u<s;u++)this.tag.insertRule(o,t[u])&&(this.groupSizes[e]++,o++)},t.clearGroup=function(e){if(e<this.length){var t=this.groupSizes[e],n=this.indexOfGroup(e),r=n+t;this.groupSizes[e]=0;for(var i=n;i<r;i++)this.tag.deleteRule(n)}},t.getGroup=function(e){var t="";if(e>=this.length||0===this.groupSizes[e])return t;for(var n=this.groupSizes[e],r=this.indexOfGroup(e),i=r+n,a=r;a<i;a++)t+=this.tag.getRule(a)+"/*!sc*/\n";return t},e}(),Wt=new Map,Yt=new Map,Qt=1,$t=function(e){if(Wt.has(e))return Wt.get(e);for(;Yt.has(Qt);)Qt++;var t=Qt++;return Wt.set(e,t),Yt.set(t,e),t},Xt=function(e){return Yt.get(e)},Jt=function(e,t){t>=Qt&&(Qt=t+1),Wt.set(e,t),Yt.set(t,e)},Zt="style["+zt+'][data-styled-version="5.3.5"]',en=new RegExp("^"+zt+'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)'),tn=function(e,t,n){for(var r,i=n.split(","),a=0,o=i.length;a<o;a++)(r=i[a])&&e.registerName(t,r)},nn=function(e,t){for(var n=(t.textContent||"").split("/*!sc*/\n"),r=[],i=0,a=n.length;i<a;i++){var o=n[i].trim();if(o){var u=o.match(en);if(u){var s=0|parseInt(u[1],10),c=u[2];0!==s&&(Jt(c,s),tn(e,c,u[3]),e.getTag().insertRules(s,r)),r.length=0}else r.push(o)}}},rn=function(){return"undefined"!=typeof window&&void 0!==window.__webpack_nonce__?window.__webpack_nonce__:null},an=function(e){var t=document.head,n=e||t,r=document.createElement("style"),i=function(e){for(var t=e.childNodes,n=t.length;n>=0;n--){var r=t[n];if(r&&1===r.nodeType&&r.hasAttribute(zt))return r}}(n),a=void 0!==i?i.nextSibling:null;r.setAttribute(zt,"active"),r.setAttribute("data-styled-version","5.3.5");var o=rn();return o&&r.setAttribute("nonce",o),n.insertBefore(r,a),r},on=function(){function e(e){var t=this.element=an(e);t.appendChild(document.createTextNode("")),this.sheet=function(e){if(e.sheet)return e.sheet;for(var t=document.styleSheets,n=0,r=t.length;n<r;n++){var i=t[n];if(i.ownerNode===e)return i}Kt(17)}(t),this.length=0}var t=e.prototype;return t.insertRule=function(e,t){try{return this.sheet.insertRule(t,e),this.length++,!0}catch(e){return!1}},t.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},t.getRule=function(e){var t=this.sheet.cssRules[e];return void 0!==t&&"string"==typeof t.cssText?t.cssText:""},e}(),un=function(){function e(e){var t=this.element=an(e);this.nodes=t.childNodes,this.length=0}var t=e.prototype;return t.insertRule=function(e,t){if(e<=this.length&&e>=0){var n=document.createTextNode(t),r=this.nodes[e];return this.element.insertBefore(n,r||null),this.length++,!0}return!1},t.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},t.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},e}(),sn=function(){function e(e){this.rules=[],this.length=0}var t=e.prototype;return t.insertRule=function(e,t){return e<=this.length&&(this.rules.splice(e,0,t),this.length++,!0)},t.deleteRule=function(e){this.rules.splice(e,1),this.length--},t.getRule=function(e){return e<this.length?this.rules[e]:""},e}(),cn=qt,ln={isServer:!qt,useCSSOMInjection:!Ht},fn=function(){function e(e,t,n){void 0===e&&(e=Ft),void 0===t&&(t={}),this.options=Rt({},ln,{},e),this.gs=t,this.names=new Map(n),this.server=!!e.isServer,!this.server&&qt&&cn&&(cn=!1,function(e){for(var t=document.querySelectorAll(Zt),n=0,r=t.length;n<r;n++){var i=t[n];i&&"active"!==i.getAttribute(zt)&&(nn(e,i),i.parentNode&&i.parentNode.removeChild(i))}}(this))}e.registerId=function(e){return $t(e)};var t=e.prototype;return t.reconstructWithOptions=function(t,n){return void 0===n&&(n=!0),new e(Rt({},this.options,{},t),this.gs,n&&this.names||void 0)},t.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},t.getTag=function(){return this.tag||(this.tag=(n=(t=this.options).isServer,r=t.useCSSOMInjection,i=t.target,e=n?new sn(i):r?new on(i):new un(i),new Gt(e)));var e,t,n,r,i},t.hasNameForId=function(e,t){return this.names.has(e)&&this.names.get(e).has(t)},t.registerName=function(e,t){if($t(e),this.names.has(e))this.names.get(e).add(t);else{var n=new Set;n.add(t),this.names.set(e,n)}},t.insertRules=function(e,t,n){this.registerName(e,t),this.getTag().insertRules($t(e),n)},t.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},t.clearRules=function(e){this.getTag().clearGroup($t(e)),this.clearNames(e)},t.clearTag=function(){this.tag=void 0},t.toString=function(){return function(e){for(var t=e.getTag(),n=t.length,r="",i=0;i<n;i++){var a=Xt(i);if(void 0!==a){var o=e.names.get(a),u=t.getGroup(i);if(o&&u&&o.size){var s=zt+".g"+i+'[id="'+a+'"]',c="";void 0!==o&&o.forEach((function(e){e.length>0&&(c+=e+",")})),r+=""+u+s+'{content:"'+c+'"}/*!sc*/\n'}}}return r}(this)},e}(),hn=/(a)(d)/gi,dn=function(e){return String.fromCharCode(e+(e>25?39:97))};function pn(e){var t,n="";for(t=Math.abs(e);t>52;t=t/52|0)n=dn(t%52)+n;return(dn(t%52)+n).replace(hn,"$1-$2")}var vn=function(e,t){for(var n=t.length;n;)e=33*e^t.charCodeAt(--n);return e},mn=function(e){return vn(5381,e)};function yn(e){for(var t=0;t<e.length;t+=1){var n=e[t];if(jt(n)&&!Bt(n))return!1}return!0}var gn=mn("5.3.5"),kn=function(){function e(e,t,n){this.rules=e,this.staticRulesId="",this.isStatic=(void 0===n||n.isStatic)&&yn(e),this.componentId=t,this.baseHash=vn(gn,t),this.baseStyle=n,fn.registerId(t)}return e.prototype.generateAndInjectStyles=function(e,t,n){var r=this.componentId,i=[];if(this.baseStyle&&i.push(this.baseStyle.generateAndInjectStyles(e,t,n)),this.isStatic&&!n.hash)if(this.staticRulesId&&t.hasNameForId(r,this.staticRulesId))i.push(this.staticRulesId);else{var a=Un(this.rules,e,t,n).join(""),o=pn(vn(this.baseHash,a)>>>0);if(!t.hasNameForId(r,o)){var u=n(a,"."+o,void 0,r);t.insertRules(r,o,u)}i.push(o),this.staticRulesId=o}else{for(var s=this.rules.length,c=vn(this.baseHash,n.hash),l="",f=0;f<s;f++){var h=this.rules[f];if("string"==typeof h)l+=h;else if(h){var d=Un(h,e,t,n),p=Array.isArray(d)?d.join(""):d;c=vn(c,p+f),l+=p}}if(l){var v=pn(c>>>0);if(!t.hasNameForId(r,v)){var m=n(l,"."+v,void 0,r);t.insertRules(r,v,m)}i.push(v)}}return i.join(" ")},e}(),bn=/^\s*\/\/.*$/gm,wn=[":","[",".","#"];function xn(e){var t,n,r,i,a=void 0===e?Ft:e,o=a.options,u=void 0===o?Ft:o,s=a.plugins,c=void 0===s?Ut:s,l=new At(u),f=[],h=function(e){function t(t){if(t)try{e(t+"}")}catch(e){}}return function(n,r,i,a,o,u,s,c,l,f){switch(n){case 1:if(0===l&&64===r.charCodeAt(0))return e(r+";"),"";break;case 2:if(0===c)return r+"/*|*/";break;case 3:switch(c){case 102:case 112:return e(i[0]+r),"";default:return r+(0===f?"/*|*/":"")}case-2:r.split("/*|*/}").forEach(t)}}}((function(e){f.push(e)})),d=function(e,r,a){return 0===r&&-1!==wn.indexOf(a[n.length])||a.match(i)?e:"."+t};function p(e,a,o,u){void 0===u&&(u="&");var s=e.replace(bn,""),c=a&&o?o+" "+a+" { "+s+" }":s;return t=u,n=a,r=new RegExp("\\"+n+"\\b","g"),i=new RegExp("(\\"+n+"\\b){2,}"),l(o||!a?"":a,c)}return l.use([].concat(c,[function(e,t,i){2===e&&i.length&&i[0].lastIndexOf(n)>0&&(i[0]=i[0].replace(r,d))},h,function(e){if(-2===e){var t=f;return f=[],t}}])),p.hash=c.length?c.reduce((function(e,t){return t.name||Kt(15),vn(e,t.name)}),5381).toString():"",p}var Sn=t.createContext(),_n=(Sn.Consumer,t.createContext()),En=(_n.Consumer,new fn),In=xn();function Tn(){return(0,t.useContext)(Sn)||En}function Cn(){return(0,t.useContext)(_n)||In}function An(e){var n=(0,t.useState)(e.stylisPlugins),r=n[0],i=n[1],a=Tn(),o=(0,t.useMemo)((function(){var t=a;return e.sheet?t=e.sheet:e.target&&(t=t.reconstructWithOptions({target:e.target},!1)),e.disableCSSOMInjection&&(t=t.reconstructWithOptions({useCSSOMInjection:!1})),t}),[e.disableCSSOMInjection,e.sheet,e.target]),u=(0,t.useMemo)((function(){return xn({options:{prefix:!e.disableVendorPrefixes},plugins:r})}),[e.disableVendorPrefixes,r]);return(0,t.useEffect)((function(){Ct()(r,e.stylisPlugins)||i(e.stylisPlugins)}),[e.stylisPlugins]),t.createElement(Sn.Provider,{value:o},t.createElement(_n.Provider,{value:u},e.children))}var Nn=function(){function e(e,t){var n=this;this.inject=function(e,t){void 0===t&&(t=In);var r=n.name+t.hash;e.hasNameForId(n.id,r)||e.insertRules(n.id,r,t(n.rules,r,"@keyframes"))},this.toString=function(){return Kt(12,String(n.name))},this.name=e,this.id="sc-keyframes-"+e,this.rules=t}return e.prototype.getName=function(e){return void 0===e&&(e=In),this.name+e.hash},e}(),On=/([A-Z])/,Pn=/([A-Z])/g,Dn=/^ms-/,Rn=function(e){return"-"+e.toLowerCase()};function Ln(e){return On.test(e)?e.replace(Pn,Rn).replace(Dn,"-ms-"):e}var Mn=function(e){return null==e||!1===e||""===e};function Un(e,t,n,r){if(Array.isArray(e)){for(var i,a=[],o=0,u=e.length;o<u;o+=1)""!==(i=Un(e[o],t,n,r))&&(Array.isArray(i)?a.push.apply(a,i):a.push(i));return a}return Mn(e)?"":Bt(e)?"."+e.styledComponentId:jt(e)?"function"!=typeof(s=e)||s.prototype&&s.prototype.isReactComponent||!t?e:Un(e(t),t,n,r):e instanceof Nn?n?(e.inject(n,r),e.getName(r)):e:Mt(e)?function e(t,n){var r,i,a=[];for(var o in t)t.hasOwnProperty(o)&&!Mn(t[o])&&(Array.isArray(t[o])&&t[o].isCss||jt(t[o])?a.push(Ln(o)+":",t[o],";"):Mt(t[o])?a.push.apply(a,e(t[o],o)):a.push(Ln(o)+": "+(r=o,(null==(i=t[o])||"boolean"==typeof i||""===i?"":"number"!=typeof i||0===i||r in Nt?String(i).trim():i+"px")+";")));return n?[n+" {"].concat(a,["}"]):a}(e):e.toString();var s}var Fn=function(e){return Array.isArray(e)&&(e.isCss=!0),e};function jn(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return jt(e)||Mt(e)?Fn(Un(Lt(Ut,[e].concat(n)))):0===n.length&&1===e.length&&"string"==typeof e[0]?e:Fn(Un(Lt(e,n)))}new Set;var Vn=function(e,t,n){return void 0===n&&(n=Ft),e.theme!==n.theme&&e.theme||t||n.theme},Bn=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,zn=/(^-|-$)/g;function qn(e){return e.replace(Bn,"-").replace(zn,"")}var Hn=function(e){return pn(mn(e)>>>0)};function Kn(e){return"string"==typeof e&&!0}var Gn=function(e){return"function"==typeof e||"object"==typeof e&&null!==e&&!Array.isArray(e)},Wn=function(e){return"__proto__"!==e&&"constructor"!==e&&"prototype"!==e};function Yn(e,t,n){var r=e[n];Gn(t)&&Gn(r)?Qn(r,t):e[n]=t}function Qn(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];if(Gn(o))for(var u in o)Wn(u)&&Yn(e,o[u],u)}return e}var $n=t.createContext();$n.Consumer;var Xn={};function Jn(e,n,r){var i=Bt(e),a=!Kn(e),o=n.attrs,u=void 0===o?Ut:o,s=n.componentId,c=void 0===s?function(e,t){var n="string"!=typeof e?"sc":qn(e);Xn[n]=(Xn[n]||0)+1;var r=n+"-"+Hn("5.3.5"+n+Xn[n]);return t?t+"-"+r:r}(n.displayName,n.parentComponentId):s,l=n.displayName,f=void 0===l?function(e){return Kn(e)?"styled."+e:"Styled("+Vt(e)+")"}(e):l,h=n.displayName&&n.componentId?qn(n.displayName)+"-"+n.componentId:n.componentId||c,d=i&&e.attrs?Array.prototype.concat(e.attrs,u).filter(Boolean):u,p=n.shouldForwardProp;i&&e.shouldForwardProp&&(p=n.shouldForwardProp?function(t,r,i){return e.shouldForwardProp(t,r,i)&&n.shouldForwardProp(t,r,i)}:e.shouldForwardProp);var v,m=new kn(r,h,i?e.componentStyle:void 0),y=m.isStatic&&0===u.length,g=function(e,n){return function(e,n,r,i){var a=e.attrs,o=e.componentStyle,u=e.defaultProps,s=e.foldedComponentIds,c=e.shouldForwardProp,l=e.styledComponentId,f=e.target,h=function(e,t,n){void 0===e&&(e=Ft);var r=Rt({},t,{theme:e}),i={};return n.forEach((function(e){var t,n,a,o=e;for(t in jt(o)&&(o=o(r)),o)r[t]=i[t]="className"===t?(n=i[t],a=o[t],n&&a?n+" "+a:n||a):o[t]})),[r,i]}(Vn(n,(0,t.useContext)($n),u)||Ft,n,a),d=h[0],p=h[1],v=function(e,t,n,r){var i=Tn(),a=Cn();return t?e.generateAndInjectStyles(Ft,i,a):e.generateAndInjectStyles(n,i,a)}(o,i,d),m=r,y=p.$as||n.$as||p.as||n.as||f,g=Kn(y),k=p!==n?Rt({},n,{},p):n,b={};for(var w in k)"$"!==w[0]&&"as"!==w&&("forwardedAs"===w?b.as=k[w]:(c?c(w,Dt,y):!g||Dt(w))&&(b[w]=k[w]));return n.style&&p.style!==n.style&&(b.style=Rt({},n.style,{},p.style)),b.className=Array.prototype.concat(s,l,v!==l?v:null,n.className,p.className).filter(Boolean).join(" "),b.ref=m,(0,t.createElement)(y,b)}(v,e,n,y)};return g.displayName=f,(v=t.forwardRef(g)).attrs=d,v.componentStyle=m,v.displayName=f,v.shouldForwardProp=p,v.foldedComponentIds=i?Array.prototype.concat(e.foldedComponentIds,e.styledComponentId):Ut,v.styledComponentId=h,v.target=i?e.target:e,v.withComponent=function(e){var t=n.componentId,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(n,["componentId"]),a=t&&t+"-"+(Kn(e)?e:qn(Vt(e)));return Jn(e,Rt({},i,{attrs:d,componentId:a}),r)},Object.defineProperty(v,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(t){this._foldedDefaultProps=i?Qn({},e.defaultProps,t):t}}),v.toString=function(){return"."+v.styledComponentId},a&&ne()(v,e,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0,withComponent:!0}),v}var Zn=function(e){return function e(t,n,r){if(void 0===r&&(r=Ft),!(0,Z.isValidElementType)(n))return Kt(1,String(n));var i=function(){return t(n,r,jn.apply(void 0,arguments))};return i.withConfig=function(i){return e(t,n,Rt({},r,{},i))},i.attrs=function(i){return e(t,n,Rt({},r,{attrs:Array.prototype.concat(r.attrs,i).filter(Boolean)}))},i}(Jn,e)};["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","textPath","tspan"].forEach((function(e){Zn[e]=Zn(e)}));!function(){function e(e,t){this.rules=e,this.componentId=t,this.isStatic=yn(e),fn.registerId(this.componentId+1)}var t=e.prototype;t.createStyles=function(e,t,n,r){var i=r(Un(this.rules,t,n,r).join(""),""),a=this.componentId+e;n.insertRules(a,a,i)},t.removeStyles=function(e,t){t.clearRules(this.componentId+e)},t.renderStyles=function(e,t,n,r){e>2&&fn.registerId(this.componentId+e),this.removeStyles(e,n),this.createStyles(e,t,n,r)}}();!function(){function e(){var e=this;this._emitSheetCSS=function(){var t=e.instance.toString();if(!t)return"";var n=rn();return"<style "+[n&&'nonce="'+n+'"',zt+'="true"','data-styled-version="5.3.5"'].filter(Boolean).join(" ")+">"+t+"</style>"},this.getStyleTags=function(){return e.sealed?Kt(2):e._emitSheetCSS()},this.getStyleElement=function(){var n;if(e.sealed)return Kt(2);var r=((n={})[zt]="",n["data-styled-version"]="5.3.5",n.dangerouslySetInnerHTML={__html:e.instance.toString()},n),i=rn();return i&&(r.nonce=i),[t.createElement("style",Rt({},r,{key:"sc-0-0"}))]},this.seal=function(){e.sealed=!0},this.instance=new fn({isServer:!0}),this.sealed=!1}var n=e.prototype;n.collectStyles=function(e){return this.sealed?Kt(2):t.createElement(An,{sheet:this.instance},e)},n.interleaveWithNodeStream=function(e){return Kt(3)}}();var er,tr=Zn,nr=(tr.div(er||(er=It(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  padding: 20px 80px;\n  background-color: wheat;\n"]))),"Modal_darkBG__Tt54y"),rr="Modal_centered__uyPUl",ir="Modal_modal__d+1WZ",ar="Modal_modalHeader__DAC4t",or="Modal_heading__mFwPO",ur="Modal_modalContent__C-t9S",sr="Modal_modalActions__P-anA",cr="Modal_actionsContainer__slVKA",lr="Modal_deleteBtn__saXVm",fr=n(702);function hr(e,t){void 0===t&&(t={});var n=function(e){if(e&&"j"===e[0]&&":"===e[1])return e.substr(2);return e}(e);if(function(e,t){return"undefined"===typeof t&&(t=!e||"{"!==e[0]&&"["!==e[0]&&'"'!==e[0]),!t}(n,t.doNotParse))try{return JSON.parse(n)}catch(r){}return e}var dr=function(){return dr=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},dr.apply(this,arguments)},pr=function(){function e(e,t){var n=this;this.changeListeners=[],this.HAS_DOCUMENT_COOKIE=!1,this.cookies=function(e,t){return"string"===typeof e?fr.Q(e,t):"object"===typeof e&&null!==e?e:{}}(e,t),new Promise((function(){n.HAS_DOCUMENT_COOKIE="object"===typeof document&&"string"===typeof document.cookie})).catch((function(){}))}return e.prototype._updateBrowserValues=function(e){this.HAS_DOCUMENT_COOKIE&&(this.cookies=fr.Q(document.cookie,e))},e.prototype._emitChange=function(e){for(var t=0;t<this.changeListeners.length;++t)this.changeListeners[t](e)},e.prototype.get=function(e,t,n){return void 0===t&&(t={}),this._updateBrowserValues(n),hr(this.cookies[e],t)},e.prototype.getAll=function(e,t){void 0===e&&(e={}),this._updateBrowserValues(t);var n={};for(var r in this.cookies)n[r]=hr(this.cookies[r],e);return n},e.prototype.set=function(e,t,n){var r;"object"===typeof t&&(t=JSON.stringify(t)),this.cookies=dr(dr({},this.cookies),((r={})[e]=t,r)),this.HAS_DOCUMENT_COOKIE&&(document.cookie=fr.q(e,t,n)),this._emitChange({name:e,value:t,options:n})},e.prototype.remove=function(e,t){var n=t=dr(dr({},t),{expires:new Date(1970,1,1,0,0,1),maxAge:0});this.cookies=dr({},this.cookies),delete this.cookies[e],this.HAS_DOCUMENT_COOKIE&&(document.cookie=fr.q(e,"",n)),this._emitChange({name:e,value:void 0,options:t})},e.prototype.addChangeListener=function(e){this.changeListeners.push(e)},e.prototype.removeChangeListener=function(e){var t=this.changeListeners.indexOf(e);t>=0&&this.changeListeners.splice(t,1)},e}(),vr=pr,mr=function(e){var t=e.setIsOpen,n=new vr;return(0,St.jsxs)(St.Fragment,{children:[(0,St.jsx)("div",{className:nr}),(0,St.jsx)("div",{className:rr,children:(0,St.jsxs)("div",{className:ir,children:[(0,St.jsx)("div",{className:ar,children:(0,St.jsx)("h5",{className:or,children:"ATTENTION"})}),(0,St.jsxs)("div",{className:ur,children:[(0,St.jsx)("p",{children:"The only purpose of this website is to imitate the process of buying and validating tickets for Formula 1\xae Grand Prix weekends!"}),(0,St.jsx)("p",{children:"For buying the official tickets please visit https://f1experiences.com/ or any related official sources!"}),(0,St.jsx)("p",{children:"All rights reserved by QuintEvents International and Formula One Digital Media Limited."})]}),(0,St.jsx)("div",{className:sr,children:(0,St.jsx)("div",{className:cr,children:(0,St.jsx)("button",{className:lr,onClick:function(){t(!1),n.set("modalAccepted","true",{path:"/"})},children:"Understood"})})})]})})]})},yr=function(){var e=Le((0,t.useState)(!0),2),n=(e[0],e[1]),r=!0,i=new vr;return r=void 0===i.getAll().modalAccepted||"false"===i.getAll().modalAccepted,(0,St.jsx)("main",{children:r&&(0,St.jsx)(mr,{setIsOpen:n})})},gr=function(){return(0,St.jsxs)("div",{className:"homepage",children:[(0,St.jsx)("div",{className:"attentionBox",children:(0,St.jsx)(yr,{})}),(0,St.jsx)("div",{className:"welcomeMessage",children:(0,St.jsx)("h1",{children:"Welcome to F1 Ticket Manager!"})})]})},kr={FETCH_COLLECTIONS_START:"FETCH_COLLECTIONS_START",FETCH_COLLECTIONS_SUCCESS:"FETCH_COLLECTIONS_SUCCESS",FETCH_COLLECTIONS_FAILURE:"FETCH_COLLECTIONS_FAILURE"};function br(e,t,n,r,i,a,o){try{var u=e[a](o),s=u.value}catch(c){return void n(c)}u.done?t(s):Promise.resolve(s).then(r,i)}function wr(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){br(a,r,i,o,u,"next",e)}function u(e){br(a,r,i,o,u,"throw",e)}o(void 0)}))}}var xr=n(757),Sr=n.n(xr);function _r(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=De(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){u=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(u)throw a}}}}function Er(e,t,n){return Er=c()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&o(i,n.prototype),i},Er.apply(null,arguments)}function Ir(e){var t="function"===typeof Map?new Map:void 0;return Ir=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return Er(e,arguments,s(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),o(n,e)},Ir(e)}var Tr=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},Cr={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,u=o?e[i+1]:0,s=i+2<e.length,c=s?e[i+2]:0,l=a>>2,f=(3&a)<<4|u>>4,h=(15&u)<<2|c>>6,d=63&c;s||(d=64,o||(h=64)),r.push(n[l],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Tr(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var u=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&u)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,u=++i<e.length?n[e.charAt(i)]:64,s=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==u||null==s)throw Error();var c=a<<2|o>>4;if(r.push(c),64!==u){var l=o<<4&240|u>>2;if(r.push(l),64!==s){var f=u<<6&192|s;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},Ar=function(e){return function(e){var t=Tr(e);return Cr.encodeByteArray(t,!0)}(e).replace(/\./g,"")},Nr=function(e){try{return Cr.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function Or(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&Pr(n)&&(e[n]=Or(e[n],t[n]));return e}function Pr(e){return"__proto__"!==e}var Dr=function(){function e(){var t=this;r(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return a(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function Rr(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Ar(JSON.stringify({alg:"none",type:"JWT"})),Ar(JSON.stringify(a)),""].join(".")}function Lr(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function Mr(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Lr())}function Ur(){try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(e){return!1}}function Fr(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function jr(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function Vr(){var e=Lr();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function Br(){return"object"===typeof indexedDB}var zr=function(e){u(n,e);var t=d(n);function n(e,i,a){var o;return r(this,n),(o=t.call(this,i)).code=e,o.customData=a,o.name="FirebaseError",Object.setPrototypeOf(f(o),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(f(o),qr.prototype.create),o}return a(n)}(Ir(Error)),qr=function(){function e(t,n,i){r(this,e),this.service=t,this.serviceName=n,this.errors=i}return a(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?Hr(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,")."),o=new zr(n,a,t);return o}}]),e}();function Hr(e,t){return e.replace(Kr,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}var Kr=/\{\$([^}]+)}/g;function Gr(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Wr(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var u=e[o],s=t[o];if(Yr(u)&&Yr(s)){if(!Wr(u,s))return!1}else if(u!==s)return!1}for(var c=0,l=r;c<l.length;c++){var f=l[c];if(!n.includes(f))return!1}return!0}function Yr(e){return null!==e&&"object"===typeof e}function Qr(e){for(var t=[],n=function(){var e=Le(i[r],2),n=e[0],a=e[1];Array.isArray(a)?a.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))},r=0,i=Object.entries(e);r<i.length;r++)n();return t.length?"&"+t.join("&"):""}function $r(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=Le(e.split("="),2),r=n[0],i=n[1];t[decodeURIComponent(r)]=decodeURIComponent(i)}})),t}function Xr(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function Jr(e,t){var n=new Zr(e,t);return n.subscribe.bind(n)}var Zr=function(){function e(t,n){var i=this;r(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(i)})).catch((function(e){i.error(e)}))}return a(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=_r(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=ei),void 0===r.error&&(r.error=ei),void 0===r.complete&&(r.complete=ei);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function ei(){}function ti(e){return e&&e._delegate?e._delegate:e}var ni=function(){function e(t,n,i){r(this,e),this.name=t,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return a(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),ri="[DEFAULT]",ii=function(){function e(t,n){r(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return a(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new Dr;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:ri})}catch(s){}var t,n=_r(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=Le(t.value,2),i=r[0],a=r[1],o=this.normalizeInstanceIdentifier(i);try{var u=this.getOrInitializeService({instanceIdentifier:o});a.resolve(u)}catch(s){}}}catch(c){n.e(c)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ri;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=wr(xr.mark((function e(){var t;return xr.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat(Ue(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),Ue(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ri;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ri;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,a=this.getOrInitializeService({instanceIdentifier:r,options:n}),o=_r(this.instancesDeferred.entries());try{for(o.s();!(i=o.n()).done;){var u=Le(i.value,2),s=u[0],c=u[1],l=this.normalizeInstanceIdentifier(s);r===l&&c.resolve(a)}}catch(f){o.e(f)}finally{o.f()}return a}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=_r(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(zg){}}}catch(o){i.e(o)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,a=this.instances.get(n);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===ri?void 0:t),options:i}),this.instances.set(n,a),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(a,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,a)}catch(zg){}return a||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ri;return this.component?this.component.multipleInstances?e:ri:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();var ai,oi,ui=function(){function e(t){r(this,e),this.name=t,this.providers=new Map}return a(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new ii(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),si=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(oi||(oi={}));var ci={debug:oi.DEBUG,verbose:oi.VERBOSE,info:oi.INFO,warn:oi.WARN,error:oi.ERROR,silent:oi.SILENT},li=oi.INFO,fi=(gt(ai={},oi.DEBUG,"log"),gt(ai,oi.VERBOSE,"log"),gt(ai,oi.INFO,"info"),gt(ai,oi.WARN,"warn"),gt(ai,oi.ERROR,"error"),ai),hi=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=fi[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),u=2;u<a;u++)o[u-2]=arguments[u];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},di=function(){function e(t){r(this,e),this.name=t,this._logLevel=li,this._logHandler=hi,this._userLogHandler=null,si.push(this)}return a(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in oi))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?ci[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,oi.DEBUG].concat(t)),this._logHandler.apply(this,[this,oi.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,oi.VERBOSE].concat(t)),this._logHandler.apply(this,[this,oi.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,oi.INFO].concat(t)),this._logHandler.apply(this,[this,oi.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,oi.WARN].concat(t)),this._logHandler.apply(this,[this,oi.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,oi.ERROR].concat(t)),this._logHandler.apply(this,[this,oi.ERROR].concat(t))}}]),e}();var pi,vi;var mi=new WeakMap,yi=new WeakMap,gi=new WeakMap,ki=new WeakMap,bi=new WeakMap;var wi={get:function(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return yi.get(e);if("objectStoreNames"===t)return e.objectStoreNames||gi.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return _i(e[t])},set:function(e,t,n){return e[t]=n,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function xi(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(vi||(vi=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(Ei(this),n),_i(mi.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return _i(e.apply(Ei(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=e.call.apply(e,[Ei(this),t].concat(r));return gi.set(a,t.sort?t.sort():[t]),_i(a)}}function Si(e){return"function"===typeof e?xi(e):(e instanceof IDBTransaction&&function(e){if(!yi.has(e)){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=function(){t(),r()},a=function(){n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)}));yi.set(e,t)}}(e),function(e,t){return t.some((function(t){return e instanceof t}))}(e,pi||(pi=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,wi):e)}function _i(e){if(e instanceof IDBRequest)return function(e){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("success",i),e.removeEventListener("error",a)},i=function(){t(_i(e.result)),r()},a=function(){n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)}));return t.then((function(t){t instanceof IDBCursor&&mi.set(t,e)})).catch((function(){})),bi.set(t,e),t}(e);if(ki.has(e))return ki.get(e);var t=Si(e);return t!==e&&(ki.set(e,t),bi.set(t,e)),t}var Ei=function(e){return bi.get(e)};var Ii,Ti,Ci=["get","getKey","getAll","getAllKeys","count"],Ai=["put","add","delete","clear"],Ni=new Map;function Oi(e,t){if(e instanceof IDBDatabase&&!(t in e)&&"string"===typeof t){if(Ni.get(t))return Ni.get(t);var n=t.replace(/FromIndex$/,""),r=t!==n,i=Ai.includes(n);if(n in(r?IDBIndex:IDBObjectStore).prototype&&(i||Ci.includes(n))){var a=function(){var e=wr(xr.mark((function e(t){var a,o,u,s,c,l,f=arguments;return xr.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(o=this.transaction(t,i?"readwrite":"readonly"),u=o.store,s=f.length,c=new Array(s>1?s-1:0),l=1;l<s;l++)c[l-1]=f[l];return r&&(u=u.index(c.shift())),e.next=6,Promise.all([(a=u)[n].apply(a,c),i&&o.done]);case 6:return e.abrupt("return",e.sent[0]);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();return Ni.set(t,a),a}}}wi=function(e){return bt(bt({},e),{},{get:function(t,n,r){return Oi(t,n)||e.get(t,n,r)},has:function(t,n){return!!Oi(t,n)||e.has(t,n)}})}(wi);var Pi=function(){function e(t){r(this,e),this.container=t}return a(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var Di="@firebase/app",Ri="0.7.24",Li=new di("@firebase/app"),Mi="[DEFAULT]",Ui=(gt(Ii={},Di,"fire-core"),gt(Ii,"@firebase/app-compat","fire-core-compat"),gt(Ii,"@firebase/analytics","fire-analytics"),gt(Ii,"@firebase/analytics-compat","fire-analytics-compat"),gt(Ii,"@firebase/app-check","fire-app-check"),gt(Ii,"@firebase/app-check-compat","fire-app-check-compat"),gt(Ii,"@firebase/auth","fire-auth"),gt(Ii,"@firebase/auth-compat","fire-auth-compat"),gt(Ii,"@firebase/database","fire-rtdb"),gt(Ii,"@firebase/database-compat","fire-rtdb-compat"),gt(Ii,"@firebase/functions","fire-fn"),gt(Ii,"@firebase/functions-compat","fire-fn-compat"),gt(Ii,"@firebase/installations","fire-iid"),gt(Ii,"@firebase/installations-compat","fire-iid-compat"),gt(Ii,"@firebase/messaging","fire-fcm"),gt(Ii,"@firebase/messaging-compat","fire-fcm-compat"),gt(Ii,"@firebase/performance","fire-perf"),gt(Ii,"@firebase/performance-compat","fire-perf-compat"),gt(Ii,"@firebase/remote-config","fire-rc"),gt(Ii,"@firebase/remote-config-compat","fire-rc-compat"),gt(Ii,"@firebase/storage","fire-gcs"),gt(Ii,"@firebase/storage-compat","fire-gcs-compat"),gt(Ii,"@firebase/firestore","fire-fst"),gt(Ii,"@firebase/firestore-compat","fire-fst-compat"),gt(Ii,"fire-js","fire-js"),gt(Ii,"firebase","fire-js-all"),Ii),Fi=new Map,ji=new Map;function Vi(e,t){try{e.container.addComponent(t)}catch(n){Li.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function Bi(e,t){e.container.addOrOverwriteComponent(t)}function zi(e){var t=e.name;if(ji.has(t))return Li.debug("There were multiple attempts to register component ".concat(t,".")),!1;ji.set(t,e);var n,r=_r(Fi.values());try{for(r.s();!(n=r.n()).done;){Vi(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function qi(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function Hi(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Mi;qi(e,t).clearInstance(n)}function Ki(){ji.clear()}var Gi=(gt(Ti={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),gt(Ti,"bad-app-name","Illegal App name: '{$appName}"),gt(Ti,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),gt(Ti,"app-deleted","Firebase App named '{$appName}' already deleted"),gt(Ti,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),gt(Ti,"invalid-log-argument","First argument to `onLog` must be null or a function."),gt(Ti,"storage-open","Error thrown when opening storage. Original error: {$originalErrorMessage}."),gt(Ti,"storage-get","Error thrown when reading from storage. Original error: {$originalErrorMessage}."),gt(Ti,"storage-set","Error thrown when writing to storage. Original error: {$originalErrorMessage}."),gt(Ti,"storage-delete","Error thrown when deleting from storage. Original error: {$originalErrorMessage}."),Ti),Wi=new qr("app","Firebase",Gi),Yi=function(){function e(t,n,i){var a=this;r(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new ni("app",(function(){return a}),"PUBLIC"))}return a(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw Wi.create("app-deleted",{appName:this._name})}}]),e}(),Qi="9.8.1";function $i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("object"!==typeof t){var n=t;t={name:n}}var r=Object.assign({name:Mi,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw Wi.create("bad-app-name",{appName:String(i)});var a=Fi.get(i);if(a){if(Wr(e,a.options)&&Wr(r,a.config))return a;throw Wi.create("duplicate-app",{appName:i})}var o,u=new ui(i),s=_r(ji.values());try{for(s.s();!(o=s.n()).done;){var c=o.value;u.addComponent(c)}}catch(f){s.e(f)}finally{s.f()}var l=new Yi(e,r,u);return Fi.set(i,l),l}function Xi(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Mi,t=Fi.get(e);if(!t)throw Wi.create("no-app",{appName:e});return t}function Ji(){return Array.from(Fi.values())}function Zi(e){return ea.apply(this,arguments)}function ea(){return(ea=wr(xr.mark((function e(t){var n;return xr.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.name,!Fi.has(n)){e.next=6;break}return Fi.delete(n),e.next=5,Promise.all(t.container.getProviders().map((function(e){return e.delete()})));case 5:t.isDeleted=!0;case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ta(e,t,n){var r,i=null!==(r=Ui[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var u=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&u.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&u.push("and"),o&&u.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void Li.warn(u.join(" "))}zi(new ni("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}function na(e,t){if(null!==e&&"function"!==typeof e)throw Wi.create("invalid-log-argument");!function(e,t){var n,r=_r(si);try{var i=function(){var r=n.value,i=null;t&&t.level&&(i=ci[t.level]),r.userLogHandler=null===e?null:function(t,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),o=2;o<r;o++)a[o-2]=arguments[o];var u=a.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==i&&void 0!==i?i:t.logLevel)&&e({level:oi[n].toLowerCase(),message:u,args:a,type:t.name})}};for(r.s();!(n=r.n()).done;)i()}catch(a){r.e(a)}finally{r.f()}}(e,t)}function ra(e){var t;t=e,si.forEach((function(e){e.setLogLevel(t)}))}var ia="firebase-heartbeat-store",aa=null;function oa(){return aa||(aa=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.blocked,i=n.upgrade,a=n.blocking,o=n.terminated,u=indexedDB.open(e,t),s=_i(u);return i&&u.addEventListener("upgradeneeded",(function(e){i(_i(u.result),e.oldVersion,e.newVersion,_i(u.transaction))})),r&&u.addEventListener("blocked",(function(){return r()})),s.then((function(e){o&&e.addEventListener("close",(function(){return o()})),a&&e.addEventListener("versionchange",(function(){return a()}))})).catch((function(){})),s}("firebase-heartbeat-database",1,{upgrade:function(e,t){if(0===t)e.createObjectStore(ia)}}).catch((function(e){throw Wi.create("storage-open",{originalErrorMessage:e.message})}))),aa}function ua(e){return sa.apply(this,arguments)}function sa(){return sa=wr(xr.mark((function e(t){var n;return xr.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,oa();case 3:return n=e.sent,e.abrupt("return",n.transaction(ia).objectStore(ia).get(fa(t)));case 7:throw e.prev=7,e.t0=e.catch(0),Wi.create("storage-get",{originalErrorMessage:e.t0.message});case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),sa.apply(this,arguments)}function ca(e,t){return la.apply(this,arguments)}function la(){return la=wr(xr.mark((function e(t,n){var r,i,a;return xr.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,oa();case 3:return r=e.sent,i=r.transaction(ia,"readwrite"),a=i.objectStore(ia),e.next=8,a.put(n,fa(t));case 8:return e.abrupt("return",i.done);case 11:throw e.prev=11,e.t0=e.catch(0),Wi.create("storage-set",{originalErrorMessage:e.t0.message});case 14:case"end":return e.stop()}}),e,null,[[0,11]])}))),la.apply(this,arguments)}function fa(e){return"".concat(e.name,"!").concat(e.options.appId)}var ha=function(){function e(t){var n=this;r(this,e),this.container=t,this._heartbeatsCache=null;var i=this.container.getProvider("app").getImmediate();this._storage=new ya(i),this._heartbeatsCachePromise=this._storage.read().then((function(e){return n._heartbeatsCache=e,e}))}return a(e,[{key:"triggerHeartbeat",value:function(){var e=wr(xr.mark((function e(){var t,n,r;return xr.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.container.getProvider("platform-logger").getImmediate(),n=t.getPlatformInfoString(),r=da(),null!==this._heartbeatsCache){e.next=7;break}return e.next=6,this._heartbeatsCachePromise;case 6:this._heartbeatsCache=e.sent;case 7:if(this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((function(e){return e.date===r}))){e.next=11;break}return e.abrupt("return");case 11:this._heartbeatsCache.heartbeats.push({date:r,agent:n});case 12:return this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),e.abrupt("return",this._storage.overwrite(this._heartbeatsCache));case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getHeartbeatsHeader",value:function(){var e=wr(xr.mark((function e(){var t,n,r,i,a;return xr.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._heartbeatsCache){e.next=3;break}return e.next=3,this._heartbeatsCachePromise;case 3:if(null!==this._heartbeatsCache&&0!==this._heartbeatsCache.heartbeats.length){e.next=5;break}return e.abrupt("return","");case 5:if(t=da(),n=pa(this._heartbeatsCache.heartbeats),r=n.heartbeatsToSend,i=n.unsentEntries,a=Ar(JSON.stringify({version:2,heartbeats:r})),this._heartbeatsCache.lastSentHeartbeatDate=t,!(i.length>0)){e.next=15;break}return this._heartbeatsCache.heartbeats=i,e.next=13,this._storage.overwrite(this._heartbeatsCache);case 13:e.next=17;break;case 15:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);case 17:return e.abrupt("return",a);case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function da(){return(new Date).toISOString().substring(0,10)}function pa(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024,r=[],i=e.slice(),a=_r(e);try{var o=function(){var e=t.value,a=r.find((function(t){return t.agent===e.agent}));if(a){if(a.dates.push(e.date),ga(r)>n)return a.dates.pop(),"break"}else if(r.push({agent:e.agent,dates:[e.date]}),ga(r)>n)return r.pop(),"break";i=i.slice(1)};for(a.s();!(t=a.n()).done;){var u=o();if("break"===u)break}}catch(s){a.e(s)}finally{a.f()}return{heartbeatsToSend:r,unsentEntries:i}}var va,ma,ya=function(){function e(t){r(this,e),this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return a(e,[{key:"runIndexedDBEnvironmentCheck",value:function(){var e=wr(xr.mark((function e(){return xr.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Br()){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(a){t(a)}})).then((function(){return!0})).catch((function(){return!1})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=wr(xr.mark((function e(){var t;return xr.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return",{heartbeats:[]});case 7:return e.next=9,ua(this.app);case 9:return t=e.sent,e.abrupt("return",t||{heartbeats:[]});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"overwrite",value:function(){var e=wr(xr.mark((function e(t){var n,r;return xr.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",ca(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=wr(xr.mark((function e(t){var n,r;return xr.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",ca(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:[].concat(Ue(r.heartbeats),Ue(t.heartbeats))}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function ga(e){return Ar(JSON.stringify({version:2,heartbeats:e})).length}va="",zi(new ni("platform-logger",(function(e){return new Pi(e)}),"PRIVATE")),zi(new ni("heartbeat",(function(e){return new ha(e)}),"PRIVATE")),ta(Di,Ri,va),ta(Di,Ri,"esm2017"),ta("fire-js","");var ka=function(){function e(t,n){var i=this;r(this,e),this._delegate=t,this.firebase=n,Vi(t,new ni("app-compat",(function(){return i}),"PUBLIC")),this.container=t.container}return a(e,[{key:"automaticDataCollectionEnabled",get:function(){return this._delegate.automaticDataCollectionEnabled},set:function(e){this._delegate.automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this._delegate.name}},{key:"options",get:function(){return this._delegate.options}},{key:"delete",value:function(){var e=this;return new Promise((function(t){e._delegate.checkDestroyed(),t()})).then((function(){return e.firebase.INTERNAL.removeApp(e.name),Zi(e._delegate)}))}},{key:"_getService",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Mi;this._delegate.checkDestroyed();var r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(t=r.getComponent())||void 0===t?void 0:t.instantiationMode)||r.initialize(),r.getImmediate({identifier:n})}},{key:"_removeServiceInstance",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Mi;this._delegate.container.getProvider(e).clearInstance(t)}},{key:"_addComponent",value:function(e){Vi(this._delegate,e)}},{key:"_addOrOverwriteComponent",value:function(e){Bi(this._delegate,e)}},{key:"toJSON",value:function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}]),e}(),ba=(gt(ma={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),gt(ma,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),ma),wa=new qr("app-compat","Firebase",ba);var xa=function t(){var n=function(t){var n={},r={__esModule:!0,initializeApp:function(e){var i=$i(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(Gr(n,i.name))return n[i.name];var a=new t(i,r);return n[i.name]=a,a},app:i,registerVersion:ta,setLogLevel:ra,onLog:na,apps:null,SDK_VERSION:Qi,INTERNAL:{registerComponent:function(e){var n=e.name,a=n.replace("-compat","");if(zi(e)&&"PUBLIC"===e.type){var o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[a])throw wa.create("invalid-app-argument",{appName:n});return e[a]()};void 0!==e.serviceProps&&Or(o,e.serviceProps),r[a]=o,t.prototype[a]=function(){for(var t=this._getService.bind(this,n),r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t.apply(this,e.multipleInstances?i:[])}}return"PUBLIC"===e.type?r[a]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!Gr(n,e=e||Mi))throw wa.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((function(e){return n[e]}))}}),i.App=t,r}(ka);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){Or(n,e)},createSubscribe:Jr,ErrorFactory:qr,deepExtend:Or}),n}(),Sa=new di("@firebase/app-compat");if("object"===typeof self&&self.self===self&&void 0!==self.firebase){Sa.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var _a=self.firebase.SDK_VERSION;_a&&_a.indexOf("LITE")>=0&&Sa.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var Ea=xa;!function(e){ta("@firebase/app-compat","0.1.25",e)}();function Ia(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=s(e)););return e}function Ta(){return Ta="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=Ia(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},Ta.apply(this,arguments)}Ea.registerVersion("firebase","9.8.1","app-compat");var Ca,Aa="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},Na={},Oa=Oa||{},Pa=Aa||self;function Da(){}function Ra(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function La(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var Ma="closure_uid_"+(1e9*Math.random()>>>0),Ua=0;function Fa(e,t,n){return e.call.apply(e.bind,arguments)}function ja(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function Va(e,t,n){return(Va=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Fa:ja).apply(null,arguments)}function Ba(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function za(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function qa(){this.s=this.s,this.o=this.o}var Ha={};qa.prototype.s=!1,qa.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var e=function(e){return Object.prototype.hasOwnProperty.call(e,Ma)&&e[Ma]||(e[Ma]=++Ua)}(this);delete Ha[e]}},qa.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var Ka=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},Ga=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"===typeof e?e.split(""):e,a=0;a<r;a++)a in i&&t.call(n,i[a],a,e)};function Wa(e){return Array.prototype.concat.apply([],arguments)}function Ya(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function Qa(e){return/^[\s\xa0]*$/.test(e)}var $a,Xa=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function Ja(e,t){return-1!=e.indexOf(t)}function Za(e,t){return e<t?-1:e>t?1:0}e:{var eo=Pa.navigator;if(eo){var to=eo.userAgent;if(to){$a=to;break e}}$a=""}function no(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function ro(e){var t={};for(var n in e)t[n]=e[n];return t}var io="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ao(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<io.length;a++)n=io[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function oo(e){return oo[" "](e),e}oo[" "]=Da;var uo,so=Ja($a,"Opera"),co=Ja($a,"Trident")||Ja($a,"MSIE"),lo=Ja($a,"Edge"),fo=lo||co,ho=Ja($a,"Gecko")&&!(Ja($a.toLowerCase(),"webkit")&&!Ja($a,"Edge"))&&!(Ja($a,"Trident")||Ja($a,"MSIE"))&&!Ja($a,"Edge"),po=Ja($a.toLowerCase(),"webkit")&&!Ja($a,"Edge");function vo(){var e=Pa.document;return e?e.documentMode:void 0}e:{var mo="",yo=function(){var e=$a;return ho?/rv:([^\);]+)(\)|;)/.exec(e):lo?/Edge\/([\d\.]+)/.exec(e):co?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):po?/WebKit\/(\S+)/.exec(e):so?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(yo&&(mo=yo?yo[1]:""),co){var go=vo();if(null!=go&&go>parseFloat(mo)){uo=String(go);break e}}uo=mo}var ko,bo={};function wo(){return function(e){var t=bo;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}((function(){for(var e=0,t=Xa(String(uo)).split("."),n=Xa("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var a=t[i]||"",o=n[i]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==a[0].length&&0==o[0].length)break;e=Za(0==a[1].length?0:parseInt(a[1],10),0==o[1].length?0:parseInt(o[1],10))||Za(0==a[2].length,0==o[2].length)||Za(a[2],o[2]),a=a[3],o=o[3]}while(0==e)}return 0<=e}))}if(Pa.document&&co){var xo=vo();ko=xo||(parseInt(uo,10)||void 0)}else ko=void 0;var So=ko,_o=function(){if(!Pa.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{Pa.addEventListener("test",Da,t),Pa.removeEventListener("test",Da,t)}catch(n){}return e}();function Eo(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}function Io(e,t){if(Eo.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(ho){e:{try{oo(t.nodeName);var i=!0;break e}catch(JO){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:To[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Io.Z.h.call(this)}}Eo.prototype.h=function(){this.defaultPrevented=!0},za(Io,Eo);var To={2:"touch",3:"pen",4:"mouse"};Io.prototype.h=function(){Io.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Co="closure_listenable_"+(1e6*Math.random()|0),Ao=0;function No(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=i,this.key=++Ao,this.ca=this.fa=!1}function Oo(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function Po(e){this.src=e,this.g={},this.h=0}function Do(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=Ka(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(Oo(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function Ro(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.ca&&a.listener==t&&a.capture==!!n&&a.ia==r)return i}return-1}Po.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=Ro(e,t,r,i);return-1<o?(t=e[o],n||(t.fa=!1)):((t=new No(t,this.src,a,!!r,i)).fa=n,e.push(t)),t};var Lo="closure_lm_"+(1e6*Math.random()|0),Mo={};function Uo(e,t,n,r,i){if(r&&r.once)return jo(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)Uo(e,t[a],n,r,i);return null}return n=Go(n),e&&e[Co]?e.N(t,n,La(r)?!!r.capture:!!r,i):Fo(e,t,n,!1,r,i)}function Fo(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=La(i)?!!i.capture:!!i,u=Ho(e);if(u||(e[Lo]=u=new Po(e)),(n=u.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=qo;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)_o||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(zo(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function jo(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)jo(e,t[a],n,r,i);return null}return n=Go(n),e&&e[Co]?e.O(t,n,La(r)?!!r.capture:!!r,i):Fo(e,t,n,!0,r,i)}function Vo(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)Vo(e,t[a],n,r,i);else r=La(r)?!!r.capture:!!r,n=Go(n),e&&e[Co]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=Ro(a=e.g[t],n,r,i))&&(Oo(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=Ho(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Ro(t,n,r,i)),(n=-1<e?t[e]:null)&&Bo(n))}function Bo(e){if("number"!==typeof e&&e&&!e.ca){var t=e.src;if(t&&t[Co])Do(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(zo(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Ho(t))?(Do(n,e),0==n.h&&(n.src=null,t[Lo]=null)):Oo(e)}}}function zo(e){return e in Mo?Mo[e]:Mo[e]="on"+e}function qo(e,t){if(e.ca)e=!0;else{t=new Io(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&Bo(e),e=n.call(r,t)}return e}function Ho(e){return(e=e[Lo])instanceof Po?e:null}var Ko="__closure_events_fn_"+(1e9*Math.random()>>>0);function Go(e){return"function"===typeof e?e:(e[Ko]||(e[Ko]=function(t){return e.handleEvent(t)}),e[Ko])}function Wo(){qa.call(this),this.i=new Po(this),this.P=this,this.I=null}function Yo(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"===typeof t)t=new Eo(t,e);else if(t instanceof Eo)t.target=t.target||e;else{var i=t;ao(t=new Eo(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=Qo(o,r,!0,t)&&i}if(i=Qo(o=t.g=e,r,!0,t)&&i,i=Qo(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=Qo(o=t.g=n[a],r,!1,t)&&i}function Qo(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.ca&&o.capture==n){var u=o.listener,s=o.ia||o.src;o.fa&&Do(e.i,o),i=!1!==u.call(s,r)&&i}}return i&&!r.defaultPrevented}za(Wo,qa),Wo.prototype[Co]=!0,Wo.prototype.removeEventListener=function(e,t,n,r){Vo(this,e,t,n,r)},Wo.prototype.M=function(){if(Wo.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Oo(n[r]);delete t.g[e],t.h--}}this.I=null},Wo.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Wo.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var $o=Pa.JSON.stringify;function Xo(){var e=au,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var Jo,Zo=function(){function e(){r(this,e),this.h=this.g=null}return a(e,[{key:"add",value:function(e,t){var n=eu.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),eu=new(function(){function e(t,n){r(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return a(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}())((function(){return new tu}),(function(e){return e.reset()})),tu=function(){function e(){r(this,e),this.next=this.g=this.h=null}return a(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function nu(e){Pa.setTimeout((function(){throw e}),0)}function ru(e,t){Jo||function(){var e=Pa.Promise.resolve(void 0);Jo=function(){e.then(ou)}}(),iu||(Jo(),iu=!0),au.add(e,t)}var iu=!1,au=new Zo;function ou(){for(var e;e=Xo();){try{e.h.call(e.g)}catch(n){nu(n)}var t=eu;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}iu=!1}function uu(e,t){Wo.call(this),this.h=e||1,this.g=t||Pa,this.j=Va(this.kb,this),this.l=Date.now()}function su(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}function cu(e,t,n){if("function"===typeof e)n&&(e=Va(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=Va(e.handleEvent,e)}return 2147483647<Number(t)?-1:Pa.setTimeout(e,t||0)}function lu(e){e.g=cu((function(){e.g=null,e.i&&(e.i=!1,lu(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}za(uu,Wo),(Ca=uu.prototype).da=!1,Ca.S=null,Ca.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Yo(this,"tick"),this.da&&(su(this),this.start()))}},Ca.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Ca.M=function(){uu.Z.M.call(this),su(this),delete this.g};var fu=function(e){u(n,e);var t=d(n);function n(e,i){var a;return r(this,n),(a=t.call(this)).m=e,a.j=i,a.h=null,a.i=!1,a.g=null,a}return a(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:lu(this)}},{key:"M",value:function(){Ta(s(n.prototype),"M",this).call(this),this.g&&(Pa.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(qa);function hu(e){qa.call(this),this.h=e,this.g={}}za(hu,qa);var du=[];function pu(e,t,n,r){Array.isArray(n)||(n&&(du[0]=n.toString()),n=du);for(var i=0;i<n.length;i++){var a=Uo(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function vu(e){no(e.g,(function(e,t){this.g.hasOwnProperty(t)&&Bo(e)}),e),e.g={}}function mu(){this.g=!0}function yu(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return $o(n)}catch(KO){return t}}(e,n)+(r?" "+r:"")}))}hu.prototype.M=function(){hu.Z.M.call(this),vu(this)},hu.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},mu.prototype.Aa=function(){this.g=!1},mu.prototype.info=function(){};var gu={},ku=null;function bu(){return ku=ku||new Wo}function wu(e){Eo.call(this,gu.Ma,e)}function xu(e){var t=bu();Yo(t,new wu(t,e))}function Su(e,t){Eo.call(this,gu.STAT_EVENT,e),this.stat=t}function _u(e){var t=bu();Yo(t,new Su(t,e))}function Eu(e,t){Eo.call(this,gu.Na,e),this.size=t}function Iu(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return Pa.setTimeout((function(){e()}),t)}gu.Ma="serverreachability",za(wu,Eo),gu.STAT_EVENT="statevent",za(Su,Eo),gu.Na="timingevent",za(Eu,Eo);var Tu={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},Cu={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Au(){}function Nu(e){return e.h||(e.h=e.i())}function Ou(){}Au.prototype.h=null;var Pu,Du={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Ru(){Eo.call(this,"d")}function Lu(){Eo.call(this,"c")}function Mu(){}function Uu(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new hu(this),this.P=ju,e=fo?125:void 0,this.W=new uu(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new Fu}function Fu(){this.i=null,this.g="",this.h=!1}za(Ru,Eo),za(Lu,Eo),za(Mu,Au),Mu.prototype.g=function(){return new XMLHttpRequest},Mu.prototype.i=function(){return{}},Pu=new Mu;var ju=45e3,Vu={},Bu={};function zu(e,t,n){e.K=1,e.v=fs(as(t)),e.s=n,e.U=!0,qu(e,null)}function qu(e,t){e.F=Date.now(),Wu(e),e.A=as(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),_s(n.h,"t",r),e.C=0,n=e.l.H,e.h=new Fu,e.g=Ec(e.l,n?t:null,!e.s),0<e.O&&(e.L=new fu(Va(e.Ia,e,e.g),e.O)),pu(e.V,e.g,"readystatechange",e.gb),t=e.H?ro(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),xu(1),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",u=a.split("&"),s=0;s<u.length;s++){var c=u[s].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");o=2<=f.length&&"type"==f[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.X,e.s)}function Hu(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Ba)}function Ku(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if((r=Gu(e,n))==Bu){4==t&&(e.o=4,_u(14),i=!1),yu(e.j,e.m,null,"[Incomplete Response]");break}if(r==Vu){e.o=4,_u(15),yu(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}yu(e.j,e.m,r,null),Ju(e,r)}Hu(e)&&r!=Bu&&r!=Vu&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,_u(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.aa&&(e.aa=!0,(t=e.l).g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),yc(t),t.L=!0,_u(11))):(yu(e.j,e.m,n,"[Invalid Chunked Response]"),Xu(e),$u(e))}function Gu(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Bu:(n=Number(t.substring(n,r)),isNaN(n)?Vu:(r+=1)+n>t.length?Bu:(t=t.substr(r,n),e.C=r+n,t))}function Wu(e){e.Y=Date.now()+e.P,Yu(e,e.P)}function Yu(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Iu(Va(e.eb,e),t)}function Qu(e){e.B&&(Pa.clearTimeout(e.B),e.B=null)}function $u(e){0==e.l.G||e.I||bc(e.l,e)}function Xu(e){Qu(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,su(e.W),vu(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function Ju(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||Os(n.i,e)))if(n.I=e.N,!e.J&&Os(n.i,e)&&3==n.G){try{var r=n.Ca.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;kc(n),sc(n)}mc(n),_u(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=Iu(Va(n.ab,n),6e3));if(1>=Ns(n.i)&&n.ka){try{n.ka()}catch(a){}n.ka=void 0}}else xc(n,11)}else if((e.J||n.g==e)&&kc(n),!Qa(t))for(i=n.Ca.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.U=a[0],a=a[1],2==n.G)if("c"==a[0]){n.J=a[1],n.la=a[2];var o=a[3];null!=o&&(n.ma=o,n.h.info("VER="+n.ma));var u=a[4];null!=u&&(n.za=u,n.h.info("SVER="+n.za));var s=a[5];null!=s&&"number"===typeof s&&0<s&&(r=1.5*s,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=r.i;!f.g&&(Ja(l,"spdy")||Ja(l,"quic")||Ja(l,"h2"))&&(f.j=f.l,f.g=new Set,f.h&&(Ps(f,f.h),f.h=null))}if(r.D){var h=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.sa=h,ls(r.F,r.D,h))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms"));var d=e;if((r=n).oa=_c(r,r.H?r.la:null,r.W),d.J){Ds(r.i,d);var p=d,v=r.K;v&&p.setTimeout(v),p.B&&(Qu(p),Wu(p)),r.g=d}else vc(r);0<n.l.length&&fc(n)}else"stop"!=a[0]&&"close"!=a[0]||xc(n,7);else 3==n.G&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?xc(n,7):uc(n):"noop"!=a[0]&&n.j&&n.j.wa(a),n.A=0)}xu(4)}catch(a){}}function Zu(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(Ra(e)||"string"===typeof e)Ga(e,t,void 0);else{if(e.T&&"function"==typeof e.T)var n=e.T();else if(e.R&&"function"==typeof e.R)n=void 0;else if(Ra(e)||"string"===typeof e){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;r=function(e){if(e.R&&"function"==typeof e.R)return e.R();if("string"===typeof e)return e.split("");if(Ra(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length;for(var a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}}function es(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof es)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function ts(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];ns(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var i={};for(n=t=0;t<e.g.length;)ns(i,r=e.g[t])||(e.g[n++]=r,i[r]=1),t++;e.g.length=n}}function ns(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(Ca=Uu.prototype).setTimeout=function(e){this.P=e},Ca.gb=function(e){e=e.target;var t=this.L;t&&3==nc(e)?t.l():this.Ia(e)},Ca.Ia=function(e){try{if(e==this.g)e:{var t=nc(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>t)&&(3!=t||fo||this.g&&(this.h.h||this.g.ga()||rc(this.g)))){this.I||4!=t||7==n||xu(8==n||0>=r?3:2),Qu(this);var i=this.g.ba();this.N=i;t:if(Hu(this)){var a=rc(this.g);e="";var o=a.length,u=4==nc(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Xu(this),$u(this);var s="";break t}this.h.i=new Pa.TextDecoder}for(n=0;n<o;n++)this.h.h=!0,e+=this.h.i.decode(a[n],{stream:u&&n==o-1});a.splice(0,o),this.h.g+=e,this.C=0,s=this.h.g}else s=this.g.ga();if(this.i=200==i,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.u,this.A,this.m,this.X,t,i),this.i){if(this.$&&!this.J){t:{if(this.g){var c,l=this.g;if((c=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Qa(c)){var f=c;break t}}f=null}if(!(i=f)){this.i=!1,this.o=3,_u(12),Xu(this),$u(this);break e}yu(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Ju(this,i)}this.U?(Ku(this,t,s),fo&&this.i&&3==t&&(pu(this.V,this.W,"tick",this.fb),this.W.start())):(yu(this.j,this.m,s,null),Ju(this,s)),4==t&&Xu(this),this.i&&!this.I&&(4==t?bc(this.l,this):(this.i=!1,Wu(this)))}else 400==i&&0<s.indexOf("Unknown SID")?(this.o=3,_u(12)):(this.o=0,_u(13)),Xu(this),$u(this)}}}catch(t){}},Ca.fb=function(){if(this.g){var e=nc(this.g),t=this.g.ga();this.C<t.length&&(Qu(this),Ku(this,e,t),this.i&&4!=e&&Wu(this))}},Ca.cancel=function(){this.I=!0,Xu(this)},Ca.eb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(xu(3),_u(17)),Xu(this),this.o=2,$u(this)):Yu(this,this.Y-e)},(Ca=es.prototype).R=function(){ts(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e},Ca.T=function(){return ts(this),this.g.concat()},Ca.get=function(e,t){return ns(this.h,e)?this.h[e]:t},Ca.set=function(e,t){ns(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t},Ca.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],a=this.get(i);e.call(t,a,i,this)}};var rs=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function is(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof is){this.g=void 0!==t?t:e.g,os(this,e.j),this.s=e.s,us(this,e.i),ss(this,e.m),this.l=e.l,t=e.h;var n=new bs;n.i=t.i,t.g&&(n.g=new es(t.g),n.h=t.h),cs(this,n),this.o=e.o}else e&&(n=String(e).match(rs))?(this.g=!!t,os(this,n[1]||"",!0),this.s=hs(n[2]||""),us(this,n[3]||"",!0),ss(this,n[4]),this.l=hs(n[5]||"",!0),cs(this,n[6]||"",!0),this.o=hs(n[7]||"")):(this.g=!!t,this.h=new bs(null,this.g))}function as(e){return new is(e)}function os(e,t,n){e.j=n?hs(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function us(e,t,n){e.i=n?hs(t,!0):t}function ss(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function cs(e,t,n){t instanceof bs?(e.h=t,function(e,t){t&&!e.j&&(ws(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(xs(this,t),_s(this,n,e))}),e)),e.j=t}(e.h,e.g)):(n||(t=ds(t,gs)),e.h=new bs(t,e.g))}function ls(e,t,n){e.h.set(t,n)}function fs(e){return ls(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function hs(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function ds(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,ps),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function ps(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}is.prototype.toString=function(){var e=[],t=this.j;t&&e.push(ds(t,vs,!0),":");var n=this.i;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(ds(t,vs,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&e.push("/"),e.push(ds(n,"/"==n.charAt(0)?ys:ms,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",ds(n,ks)),e.join("")};var vs=/[#\/\?@]/g,ms=/[#\?:]/g,ys=/[#\?]/g,gs=/[#\?@]/g,ks=/#/g;function bs(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function ws(e){e.g||(e.g=new es,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function xs(e,t){ws(e),t=Es(e,t),ns(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,ns((e=e.g).h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&ts(e)))}function Ss(e,t){return ws(e),t=Es(e,t),ns(e.g.h,t)}function _s(e,t,n){xs(e,t),0<n.length&&(e.i=null,e.g.set(Es(e,t),Ya(n)),e.h+=n.length)}function Es(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(Ca=bs.prototype).add=function(e,t){ws(this),this.i=null,e=Es(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},Ca.forEach=function(e,t){ws(this),this.g.forEach((function(n,r){Ga(n,(function(n){e.call(t,n,r,this)}),this)}),this)},Ca.T=function(){ws(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},Ca.R=function(e){ws(this);var t=[];if("string"===typeof e)Ss(this,e)&&(t=Wa(t,this.g.get(Es(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=Wa(t,e[n])}return t},Ca.set=function(e,t){return ws(this),this.i=null,Ss(this,e=Es(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},Ca.get=function(e,t){return e&&0<(e=this.R(e)).length?String(e[0]):t},Ca.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.R(r);for(var a=0;a<r.length;a++){var o=i;""!==r[a]&&(o+="="+encodeURIComponent(String(r[a]))),e.push(o)}}return this.i=e.join("&")};var Is=a((function e(t,n){r(this,e),this.h=t,this.g=n}));function Ts(e){this.l=e||Cs,Pa.PerformanceNavigationTiming?e=0<(e=Pa.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(Pa.g&&Pa.g.Ea&&Pa.g.Ea()&&Pa.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Cs=10;function As(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Ns(e){return e.h?1:e.g?e.g.size:0}function Os(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Ps(e,t){e.g?e.g.add(t):e.h=t}function Ds(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function Rs(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=_r(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.D)}}catch(a){r.e(a)}finally{r.f()}return n}return Ya(e.i)}function Ls(){}function Ms(){this.g=new Ls}function Us(e,t,n){var r=n||"";try{Zu(e,(function(e,n){var i=e;La(e)&&(i=$o(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function Fs(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(JO){}}function js(e){this.l=e.$b||null,this.j=e.ib||!1}function Vs(e,t){Wo.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=Bs,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Ts.prototype.cancel=function(){if(this.i=Rs(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=_r(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}},Ls.prototype.stringify=function(e){return Pa.JSON.stringify(e,void 0)},Ls.prototype.parse=function(e){return Pa.JSON.parse(e,void 0)},za(js,Au),js.prototype.g=function(){return new Vs(this.l,this.j)},js.prototype.i=function(e){return function(){return e}}({}),za(Vs,Wo);var Bs=0;function zs(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}function qs(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Hs(e)}function Hs(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(Ca=Vs.prototype).open=function(e,t){if(this.readyState!=Bs)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Hs(this)},Ca.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||Pa).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},Ca.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,qs(this)),this.readyState=Bs},Ca.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Hs(this)),this.g&&(this.readyState=3,Hs(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if("undefined"!==typeof Pa.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;zs(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))},Ca.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?qs(this):Hs(this),3==this.readyState&&zs(this)}},Ca.Ua=function(e){this.g&&(this.response=this.responseText=e,qs(this))},Ca.Ta=function(e){this.g&&(this.response=e,qs(this))},Ca.ha=function(){this.g&&qs(this)},Ca.setRequestHeader=function(e,t){this.v.append(e,t)},Ca.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},Ca.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Vs.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var Ks=Pa.JSON.parse;function Gs(e){Wo.call(this),this.headers=new es,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Ws,this.K=this.L=!1}za(Gs,Wo);var Ws="",Ys=/^https?$/i,Qs=["POST","PUT"];function $s(e){return"content-type"==e.toLowerCase()}function Xs(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Js(e),ec(e)}function Js(e){e.D||(e.D=!0,Yo(e,"complete"),Yo(e,"error"))}function Zs(e){if(e.h&&"undefined"!=typeof Oa&&(!e.C[1]||4!=nc(e)||2!=e.ba()))if(e.v&&4==nc(e))cu(e.Fa,0,e);else if(Yo(e,"readystatechange"),4==nc(e)){e.h=!1;try{var t,n=e.ba();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.H).match(rs)[1]||null;if(!a&&Pa.self&&Pa.self.location){var o=Pa.self.location.protocol;a=o.substr(0,o.length-1)}i=!Ys.test(a?a.toLowerCase():"")}t=i}if(t)Yo(e,"complete"),Yo(e,"success");else{e.m=6;try{var u=2<nc(e)?e.g.statusText:""}catch($O){u=""}e.j=u+" ["+e.ba()+"]",Js(e)}}finally{ec(e)}}}function ec(e,t){if(e.g){tc(e);var n=e.g,r=e.C[0]?Da:null;e.g=null,e.C=null,t||Yo(e,"ready");try{n.onreadystatechange=r}catch(i){}}}function tc(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(Pa.clearTimeout(e.A),e.A=null)}function nc(e){return e.g?e.g.readyState:0}function rc(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case Ws:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(jt){return null}}function ic(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(e){var t="";return no(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):ls(e,t,n))}function ac(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function oc(e){this.za=0,this.l=[],this.h=new mu,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=ac("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=ac("baseRetryDelayMs",5e3,e),this.$a=ac("retryDelaySeedMs",1e4,e),this.Ya=ac("forwardChannelMaxRetries",2,e),this.ra=ac("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new Ts(e&&e.concurrentRequestLimit),this.Ca=new Ms,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||!1!==e.Xb}function uc(e){if(cc(e),3==e.G){var t=e.V++,n=as(e.F);ls(n,"SID",e.J),ls(n,"RID",t),ls(n,"TYPE","terminate"),dc(e,n),(t=new Uu(e,e.h,t,void 0)).K=2,t.v=fs(as(n)),n=!1,Pa.navigator&&Pa.navigator.sendBeacon&&(n=Pa.navigator.sendBeacon(t.v.toString(),"")),!n&&Pa.Image&&((new Image).src=t.v,n=!0),n||(t.g=Ec(t.l,null),t.g.ea(t.v)),t.F=Date.now(),Wu(t)}Sc(e)}function sc(e){e.g&&(yc(e),e.g.cancel(),e.g=null)}function cc(e){sc(e),e.u&&(Pa.clearTimeout(e.u),e.u=null),kc(e),e.i.cancel(),e.m&&("number"===typeof e.m&&Pa.clearTimeout(e.m),e.m=null)}function lc(e,t){e.l.push(new Is(e.Za++,t)),3==e.G&&fc(e)}function fc(e){As(e.i)||e.m||(e.m=!0,ru(e.Ha,e),e.C=0)}function hc(e,t){var n;n=t?t.m:e.V++;var r=as(e.F);ls(r,"SID",e.J),ls(r,"RID",n),ls(r,"AID",e.U),dc(e,r),e.o&&e.s&&ic(r,e.o,e.s),n=new Uu(e,e.h,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=pc(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),Ps(e.i,n),zu(n,r,t)}function dc(e,t){e.j&&Zu({},(function(e,n){ls(t,n,e)}))}function pc(e,t,n){n=Math.min(e.l.length,n);var r=e.j?Va(e.j.Oa,e.j,e):null;e:for(var i=e.l,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].h,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var u=!0,s=0;s<n;s++){var c=i[s].h,l=i[s].g;if(0>(c-=a))a=Math.max(0,i[s].h-100),u=!1;else try{Us(l,o,"req"+c+"_")}catch(Zt){r&&r(l)}}if(u){r=o.join("&");break e}}return e=e.l.splice(0,n),t.D=e,r}function vc(e){e.g||e.u||(e.Y=1,ru(e.Ga,e),e.A=0)}function mc(e){return!(e.g||e.u||3<=e.A)&&(e.Y++,e.u=Iu(Va(e.Ga,e),wc(e,e.A)),e.A++,!0)}function yc(e){null!=e.B&&(Pa.clearTimeout(e.B),e.B=null)}function gc(e){e.g=new Uu(e,e.h,"rpc",e.Y),null===e.o&&(e.g.H=e.s),e.g.O=0;var t=as(e.oa);ls(t,"RID","rpc"),ls(t,"SID",e.J),ls(t,"CI",e.N?"0":"1"),ls(t,"AID",e.U),dc(e,t),ls(t,"TYPE","xmlhttp"),e.o&&e.s&&ic(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=fs(as(t)),n.s=null,n.U=!0,qu(n,e)}function kc(e){null!=e.v&&(Pa.clearTimeout(e.v),e.v=null)}function bc(e,t){var n=null;if(e.g==t){kc(e),yc(e),e.g=null;var r=2}else{if(!Os(e.i,t))return;n=t.D,Ds(e.i,t),r=1}if(e.I=t.N,0!=e.G)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;Yo(r=bu(),new Eu(r,n,t,i)),fc(e)}else vc(e);else if(3==(i=t.o)||0==i&&0<e.I||!(1==r&&function(e,t){return!(Ns(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.l=t.D.concat(e.l),!0):!(1==e.G||2==e.G||e.C>=(e.Xa?0:e.Ya))&&(e.m=Iu(Va(e.Ha,e,t),wc(e,e.C)),e.C++,!0))}(e,t)||2==r&&mc(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:xc(e,5);break;case 4:xc(e,10);break;case 3:xc(e,6);break;default:xc(e,2)}}function wc(e,t){var n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function xc(e,t){if(e.h.info("Error code "+t),2==t){var n=null;e.j&&(n=null);var r=Va(e.jb,e);n||(n=new is("//www.google.com/images/cleardot.gif"),Pa.location&&"http"==Pa.location.protocol||os(n,"https"),fs(n)),function(e,t){var n=new mu;if(Pa.Image){var r=new Image;r.onload=Ba(Fs,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Ba(Fs,n,r,"TestLoadImage: error",!1,t),r.onabort=Ba(Fs,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Ba(Fs,n,r,"TestLoadImage: timeout",!1,t),Pa.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else _u(2);e.G=0,e.j&&e.j.va(t),Sc(e),cc(e)}function Sc(e){e.G=0,e.I=-1,e.j&&(0==Rs(e.i).length&&0==e.l.length||(e.i.i.length=0,Ya(e.l),e.l.length=0),e.j.ua())}function _c(e,t,n){var r=function(e){return e instanceof is?as(e):new is(e,void 0)}(n);if(""!=r.i)t&&us(r,t+"."+r.i),ss(r,r.m);else{var i=Pa.location;r=function(e,t,n,r){var i=new is(null,void 0);return e&&os(i,e),t&&us(i,t),n&&ss(i,n),r&&(i.l=r),i}(i.protocol,t?t+"."+i.hostname:i.hostname,+i.port,n)}return e.aa&&no(e.aa,(function(e,t){ls(r,t,e)})),t=e.D,n=e.sa,t&&n&&ls(r,t,n),ls(r,"VER",e.ma),dc(e,r),r}function Ec(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ba&&!e.qa?new Gs(new js({ib:!0})):new Gs(e.qa)).L=e.H,t}function Ic(){}function Tc(){if(co&&!(10<=Number(So)))throw Error("Environmental error: no available transport.")}function Cc(e,t){Wo.call(this),this.g=new oc(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!Qa(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Qa(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new Oc(this)}function Ac(e){Ru.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function Nc(){Lu.call(this),this.status=1}function Oc(e){this.g=e}(Ca=Gs.prototype).ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Pu.g(),this.C=this.u?Nu(this.u):Nu(Pu),this.g.onreadystatechange=Va(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(JO){return void Xs(this,JO)}e=n||"";var i=new es(this.headers);r&&Zu(r,(function(e,t){i.set(t,e)})),r=function(e){e:{for(var t=$s,n=e.length,r="string"===typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"===typeof e?e.charAt(t):e[t]}(i.T()),n=Pa.FormData&&e instanceof Pa.FormData,!(0<=Ka(Qs,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(e,t){this.g.setRequestHeader(t,e)}),this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{tc(this),0<this.B&&((this.K=function(e){return co&&wo()&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Va(this.pa,this)):this.A=cu(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(JO){Xs(this,JO)}},Ca.pa=function(){"undefined"!=typeof Oa&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Yo(this,"timeout"),this.abort(8))},Ca.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Yo(this,"complete"),Yo(this,"abort"),ec(this))},Ca.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),ec(this,!0)),Gs.Z.M.call(this)},Ca.Fa=function(){this.s||(this.F||this.v||this.l?Zs(this):this.cb())},Ca.cb=function(){Zs(this)},Ca.ba=function(){try{return 2<nc(this)?this.g.status:-1}catch(XO){return-1}},Ca.ga=function(){try{return this.g?this.g.responseText:""}catch(XO){return""}},Ca.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),Ks(t)}},Ca.Da=function(){return this.m},Ca.La=function(){return"string"===typeof this.j?this.j:String(this.j)},(Ca=oc.prototype).ma=8,Ca.G=1,Ca.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch(jt){}},Ca.Ha=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;var t=new Uu(this,this.h,e,void 0),n=this.s;if(this.P&&(n?ao(n=ro(n),this.P):n=this.P),null===this.o&&(t.H=n),this.ja)e:{for(var r=0,i=0;i<this.l.length;i++){var a=this.l[i];if(void 0===(a="__data__"in a.g&&"string"===typeof(a=a.g.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.l.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=pc(this,t,r),ls(i=as(this.F),"RID",e),ls(i,"CVER",22),this.D&&ls(i,"X-HTTP-Session-Id",this.D),dc(this,i),this.o&&n&&ic(i,this.o,n),Ps(this.i,t),this.Ra&&ls(i,"TYPE","init"),this.ja?(ls(i,"$req",r),ls(i,"SID","null"),t.$=!0,zu(t,i,null)):zu(t,i,r),this.G=2}}else 3==this.G&&(e?hc(this,e):0==this.l.length||As(this.i)||hc(this))},Ca.Ga=function(){if(this.u=null,gc(this),this.$&&!(this.L||null==this.g||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=Iu(Va(this.bb,this),e)}},Ca.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,_u(10),sc(this),gc(this))},Ca.ab=function(){null!=this.v&&(this.v=null,sc(this),mc(this),_u(19))},Ca.jb=function(e){e?(this.h.info("Successfully pinged google.com"),_u(2)):(this.h.info("Failed to ping google.com"),_u(1))},(Ca=Ic.prototype).xa=function(){},Ca.wa=function(){},Ca.va=function(){},Ca.ua=function(){},Ca.Oa=function(){},Tc.prototype.g=function(e,t){return new Cc(e,t)},za(Cc,Wo),Cc.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),ru(Va(e.hb,e,t))),_u(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=_c(e,null,e.W),fc(e)},Cc.prototype.close=function(){uc(this.g)},Cc.prototype.u=function(e){if("string"===typeof e){var t={};t.__data__=e,lc(this.g,t)}else this.v?((t={}).__data__=$o(e),lc(this.g,t)):lc(this.g,e)},Cc.prototype.M=function(){this.g.j=null,delete this.j,uc(this.g),delete this.g,Cc.Z.M.call(this)},za(Ac,Ru),za(Nc,Lu),za(Oc,Ic),Oc.prototype.xa=function(){Yo(this.g,"a")},Oc.prototype.wa=function(e){Yo(this.g,new Ac(e))},Oc.prototype.va=function(e){Yo(this.g,new Nc(e))},Oc.prototype.ua=function(){Yo(this.g,"b")},Tc.prototype.createWebChannel=Tc.prototype.g,Cc.prototype.send=Cc.prototype.u,Cc.prototype.open=Cc.prototype.m,Cc.prototype.close=Cc.prototype.close,Tu.NO_ERROR=0,Tu.TIMEOUT=8,Tu.HTTP_ERROR=6,Cu.COMPLETE="complete",Ou.EventType=Du,Du.OPEN="a",Du.CLOSE="b",Du.ERROR="c",Du.MESSAGE="d",Wo.prototype.listen=Wo.prototype.N,Gs.prototype.listenOnce=Gs.prototype.O,Gs.prototype.getLastError=Gs.prototype.La,Gs.prototype.getLastErrorCode=Gs.prototype.Da,Gs.prototype.getStatus=Gs.prototype.ba,Gs.prototype.getResponseJson=Gs.prototype.Qa,Gs.prototype.getResponseText=Gs.prototype.ga,Gs.prototype.send=Gs.prototype.ea;var Pc=Na.createWebChannelTransport=function(){return new Tc},Dc=Na.getStatEventTarget=function(){return bu()},Rc=Na.ErrorCode=Tu,Lc=Na.EventType=Cu,Mc=Na.Event=gu,Uc=Na.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},Fc=Na.FetchXmlHttpFactory=js,jc=Na.WebChannel=Ou,Vc=Na.XhrIo=Gs,Bc="@firebase/firestore",zc=function(){function e(t){r(this,e),this.uid=t}return a(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();zc.UNAUTHENTICATED=new zc(null),zc.GOOGLE_CREDENTIALS=new zc("google-credentials-uid"),zc.FIRST_PARTY=new zc("first-party-uid"),zc.MOCK_USER=new zc("mock-user");var qc="9.8.0",Hc=new di("@firebase/firestore");function Kc(){return Hc.logLevel}function Gc(e){if(Hc.logLevel<=oi.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Qc);Hc.debug.apply(Hc,["Firestore (".concat(qc,"): ").concat(e)].concat(Ue(i)))}}function Wc(e){if(Hc.logLevel<=oi.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Qc);Hc.error.apply(Hc,["Firestore (".concat(qc,"): ").concat(e)].concat(Ue(i)))}}function Yc(e){if(Hc.logLevel<=oi.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Qc);Hc.warn.apply(Hc,["Firestore (".concat(qc,"): ").concat(e)].concat(Ue(i)))}}function Qc(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function $c(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(qc,") INTERNAL ASSERTION FAILED: ")+e;throw Wc(t),new Error(t)}function Xc(e,t){e||$c()}function Jc(e,t){return e}var Zc={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},el=function(e){u(n,e);var t=d(n);function n(e,i){var a;return r(this,n),(a=t.call(this,e,i)).code=e,a.message=i,a.toString=function(){return"".concat(a.name,": [code=").concat(a.code,"]: ").concat(a.message)},a}return a(n)}(zr),tl=a((function e(){var t=this;r(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),nl=a((function e(t,n){r(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),rl=function(){function e(){r(this,e)}return a(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(zc.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),il=function(){function e(t){r(this,e),this.token=t,this.changeListener=null}return a(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),al=function(){function e(t){r(this,e),this.t=t,this.currentUser=zc.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return a(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new tl;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new tl,e.enqueueRetryable((function(){return i(n.currentUser)}))};var o=function(){var t=a;e.enqueueRetryable(wr(Sr().mark((function e(){return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},u=function(e){Gc("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),o()};this.t.onInit((function(e){return u(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?u(e):(Gc("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new tl)}}),0),o()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(Gc("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(Xc("string"==typeof n.accessToken),new nl(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return Xc(null===e||"string"==typeof e),new zc(e)}}]),e}(),ol=a((function e(t,n,i){r(this,e),this.type="FirstParty",this.user=zc.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",n);var a=t.auth.getAuthHeaderValueForFirstParty([]);a&&this.headers.set("Authorization",a),i&&this.headers.set("X-Goog-Iam-Authorization-Token",i)})),ul=function(){function e(t,n,i){r(this,e),this.h=t,this.l=n,this.m=i}return a(e,[{key:"getToken",value:function(){return Promise.resolve(new ol(this.h,this.l,this.m))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(zc.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),sl=a((function e(t){r(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),cl=function(){function e(t){r(this,e),this.g=t,this.forceRefresh=!1,this.appCheck=null,this.p=null}return a(e,[{key:"start",value:function(e,t){var n=this,r=function(e){null!=e.error&&Gc("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));var r=e.token!==n.p;return n.p=e.token,Gc("FirebaseAppCheckTokenProvider","Received ".concat(r?"new":"existing"," token.")),r?t(e.token):Promise.resolve()};this.o=function(t){e.enqueueRetryable((function(){return r(t)}))};var i=function(e){Gc("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.g.onInit((function(e){return i(e)})),setTimeout((function(){if(!n.appCheck){var e=n.g.getImmediate({optional:!0});e?i(e):Gc("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this,t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((function(t){return t?(Xc("string"==typeof t.token),e.p=t.token,new sl(t.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}(),ll=function(){function e(t,n){var i=this;r(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return i.I(e)},this.T=function(e){return n.writeSequenceNumber(e)})}return a(e,[{key:"I",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.T&&this.T(e),e}}]),e}();function fl(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}ll.A=-1;var hl=function(){function e(){r(this,e)}return a(e,null,[{key:"R",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=fl(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n}}]),e}();function dl(e,t){return e<t?-1:e>t?1:0}function pl(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function vl(e){return e+"\0"}var ml=function(){function e(t,n){if(r(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new el(Zc.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new el(Zc.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new el(Zc.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new el(Zc.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return a(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?dl(this.nanoseconds,e.nanoseconds):dl(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),yl=function(){function e(t){r(this,e),this.timestamp=t}return a(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new ml(0,0))}},{key:"max",value:function(){return new e(new ml(253402300799,999999999))}}]),e}();function gl(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function kl(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function bl(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var wl=function(){function e(t,n,i){r(this,e),void 0===n?n=0:n>t.length&&$c(),void 0===i?i=t.length-n:i>t.length-n&&$c(),this.segments=t,this.offset=n,this.len=i}return a(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),xl=function(e){u(n,e);var t=d(n);function n(){return r(this,n),t.apply(this,arguments)}return a(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var u=o[a];if(u.indexOf("//")>=0)throw new el(Zc.INVALID_ARGUMENT,"Invalid segment (".concat(u,"). Paths must not contain // in them."));e.push.apply(e,Ue(u.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(wl),Sl=/^[_a-zA-Z][_a-zA-Z0-9]*$/,_l=function(e){u(n,e);var t=d(n);function n(){return r(this,n),t.apply(this,arguments)}return a(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return Sl.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new el(Zc.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var u=e[i];if("\\"===u){if(i+1===e.length)throw new el(Zc.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var s=e[i+1];if("\\"!==s&&"."!==s&&"`"!==s)throw new el(Zc.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=s,i+=2}else"`"===u?(o=!o,i++):"."!==u||o?(r+=u,i++):(a(),i++)}if(a(),o)throw new el(Zc.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(wl),El=function(){function e(t){r(this,e),this.fields=t,t.sort(_l.comparator)}return a(e,[{key:"covers",value:function(e){var t,n=_r(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return pl(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}]),e}();var Il=function(e){function t(e){r(this,t),this.binaryString=e}return a(t,[{key:Symbol.iterator,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return dl(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){return new t(atob(e))}},{key:"fromUint8Array",value:function(e){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new t(n)}}]),t}();Il.EMPTY_BYTE_STRING=new Il("");var Tl=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Cl(e){if(Xc(!!e),"string"==typeof e){var t=0,n=Tl.exec(e);if(Xc(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Al(e.seconds),nanos:Al(e.nanos)}}function Al(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Nl(e){return"string"==typeof e?Il.fromBase64String(e):Il.fromUint8Array(e)}function Ol(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Pl(e){var t=e.mapValue.fields.__previous_value__;return Ol(t)?Pl(t):t}function Dl(e){var t=Cl(e.mapValue.fields.__local_write_time__.timestampValue);return new ml(t.seconds,t.nanos)}var Rl=a((function e(t,n,i,a,o,u,s,c){r(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=i,this.host=a,this.ssl=o,this.forceLongPolling=u,this.autoDetectLongPolling=s,this.useFetchStreams=c})),Ll=function(){function e(t,n){r(this,e),this.projectId=t,this.database=n||"(default)"}return a(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}],[{key:"empty",value:function(){return new e("","")}}]),e}();function Ml(e){return null==e}function Ul(e){return 0===e&&1/e==-1/0}function Fl(e){return"number"==typeof e&&Number.isInteger(e)&&!Ul(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var jl=function(){function e(t){r(this,e),this.path=t}return a(e,[{key:"collectionGroup",get:function(){return this.path.popLast().lastSegment()}},{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"getCollectionGroup",value:function(){return this.path.get(this.path.length-2)}},{key:"getCollectionPath",value:function(){return this.path.popLast()}},{key:"isEqual",value:function(e){return null!==e&&0===xl.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(xl.fromString(t))}},{key:"fromName",value:function(t){return new e(xl.fromString(t).popFirst(5))}},{key:"empty",value:function(){return new e(xl.emptyPath())}},{key:"comparator",value:function(e,t){return xl.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new xl(t.slice()))}}]),e}(),Vl={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Bl={nullValue:"NULL_VALUE"};function zl(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Ol(e)?4:nf(e)?9007199254740991:10:$c()}function ql(e,t){if(e===t)return!0;var n=zl(e);if(n!==zl(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Dl(e).isEqual(Dl(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=Cl(e.timestampValue),r=Cl(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Nl(e.bytesValue).isEqual(Nl(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Al(e.geoPointValue.latitude)===Al(t.geoPointValue.latitude)&&Al(e.geoPointValue.longitude)===Al(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Al(e.integerValue)===Al(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=Al(e.doubleValue),r=Al(t.doubleValue);return n===r?Ul(n)===Ul(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return pl(e.arrayValue.values||[],t.arrayValue.values||[],ql);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(gl(n)!==gl(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!ql(n[i],r[i])))return!1;return!0}(e,t);default:return $c()}}function Hl(e,t){return void 0!==(e.values||[]).find((function(e){return ql(e,t)}))}function Kl(e,t){if(e===t)return 0;var n=zl(e),r=zl(t);if(n!==r)return dl(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return dl(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=Al(e.integerValue||e.doubleValue),r=Al(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Gl(e.timestampValue,t.timestampValue);case 4:return Gl(Dl(e),Dl(t));case 5:return dl(e.stringValue,t.stringValue);case 6:return function(e,t){var n=Nl(e),r=Nl(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=dl(n[i],r[i]);if(0!==a)return a}return dl(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=dl(Al(e.latitude),Al(t.latitude));return 0!==n?n:dl(Al(e.longitude),Al(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=Kl(n[i],r[i]);if(a)return a}return dl(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===Vl.mapValue&&t===Vl.mapValue)return 0;if(e===Vl.mapValue)return 1;if(t===Vl.mapValue)return-1;var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var u=dl(r[o],a[o]);if(0!==u)return u;var s=Kl(n[r[o]],i[a[o]]);if(0!==s)return s}return dl(r.length,a.length)}(e.mapValue,t.mapValue);default:throw $c()}}function Gl(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return dl(e,t);var n=Cl(e),r=Cl(t),i=dl(n.seconds,r.seconds);return 0!==i?i:dl(n.nanos,r.nanos)}function Wl(e){return Yl(e)}function Yl(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=Cl(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?Nl(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,jl.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){var t,n="[",r=!0,i=_r(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=Yl(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=_r(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+="".concat(a,":").concat(Yl(e.fields[a]))}}catch(o){i.e(o)}finally{i.f()}return n+"}"}(e.mapValue):$c();var t,n}function Ql(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function $l(e){return!!e&&"integerValue"in e}function Xl(e){return!!e&&"arrayValue"in e}function Jl(e){return!!e&&"nullValue"in e}function Zl(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function ef(e){return!!e&&"mapValue"in e}function tf(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return kl(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=tf(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=tf(e.arrayValue.values[r]);return n}return Object.assign({},e)}function nf(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}function rf(e){return"nullValue"in e?Bl:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?Ql(Ll.empty(),jl.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?{mapValue:{}}:$c()}function af(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?Ql(Ll.empty(),jl.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?{mapValue:{}}:"mapValue"in e?Vl:$c()}function of(e,t){var n=Kl(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function uf(e,t){var n=Kl(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}var sf=function(){function e(t){r(this,e),this.value=t}return a(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!ef(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=tf(t)}},{key:"setAll",value:function(e){var t=this,n=_l.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=tf(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());ef(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return ql(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];ef(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){kl(t,(function(t,n){return e[t]=n}));var r,i=_r(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(tf(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function cf(e){var t=[];return kl(e.fields,(function(e,n){var r=new _l([e]);if(ef(n)){var i=cf(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=_r(i);try{for(o.s();!(a=o.n()).done;){var u=a.value;t.push(r.child(u))}}catch(s){o.e(s)}finally{o.f()}}}else t.push(r)})),new El(t)}var lf=function(){function e(t,n,i,a,o,u){r(this,e),this.key=t,this.documentType=n,this.version=i,this.readTime=a,this.data=o,this.documentState=u}return a(e,[{key:"convertToFoundDocument",value:function(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=sf.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=sf.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this}},{key:"setReadTime",value:function(e){return this.readTime=e,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,yl.min(),yl.min(),sf.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r){return new e(t,1,n,yl.min(),r,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,yl.min(),sf.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,yl.min(),sf.empty(),2)}}]),e}(),ff=a((function e(t,n,i,a){r(this,e),this.indexId=t,this.collectionGroup=n,this.fields=i,this.indexState=a}));function hf(e){return e.fields.find((function(e){return 2===e.kind}))}function df(e){return e.fields.filter((function(e){return 2!==e.kind}))}ff.UNKNOWN_ID=-1;var pf=a((function e(t,n){r(this,e),this.fieldPath=t,this.kind=n})),vf=function(){function e(t,n){r(this,e),this.sequenceNumber=t,this.offset=n}return a(e,null,[{key:"empty",value:function(){return new e(0,gf.min())}}]),e}();function mf(e,t){var n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=yl.fromTimestamp(1e9===r?new ml(n+1,0):new ml(n,r));return new gf(i,jl.empty(),t)}function yf(e){return new gf(e.readTime,e.key,-1)}var gf=function(){function e(t,n,i){r(this,e),this.readTime=t,this.documentKey=n,this.largestBatchId=i}return a(e,null,[{key:"min",value:function(){return new e(yl.min(),jl.empty(),-1)}},{key:"max",value:function(){return new e(yl.max(),jl.empty(),-1)}}]),e}();function kf(e,t){var n=e.readTime.compareTo(t.readTime);return 0!==n?n:0!==(n=jl.comparator(e.documentKey,t.documentKey))?n:dl(e.largestBatchId,t.largestBatchId)}var bf=function(){function e(t,n){r(this,e),this.comparator=t,this.root=n||xf.EMPTY}return a(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,xf.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,xf.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new wf(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new wf(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new wf(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new wf(this.root,e,this.comparator,!0)}}]),e}(),wf=function(){function e(t,n,i,a){r(this,e),this.isReverse=a,this.nodeStack=[];for(var o=1;!t.isEmpty();)if(o=n?i(t.key,n):1,n&&a&&(o*=-1),o<0)t=this.isReverse?t.left:t.right;else{if(0===o){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return a(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),xf=function(){function e(t,n,i,a,o){r(this,e),this.key=t,this.value=n,this.color=null!=i?i:e.RED,this.left=null!=a?a:e.EMPTY,this.right=null!=o?o:e.EMPTY,this.size=this.left.size+1+this.right.size}return a(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw $c();if(this.right.isRed())throw $c();var e=this.left.check();if(e!==this.right.check())throw $c();return e+(this.isRed()?0:1)}}]),e}();xf.EMPTY=null,xf.RED=!0,xf.BLACK=!1,xf.EMPTY=new(function(){function e(){r(this,e),this.size=0}return a(e,[{key:"key",get:function(){throw $c()}},{key:"value",get:function(){throw $c()}},{key:"color",get:function(){throw $c()}},{key:"left",get:function(){throw $c()}},{key:"right",get:function(){throw $c()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new xf(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var Sf=function(){function e(t){r(this,e),this.comparator=t,this.data=new bf(this.comparator)}return a(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new _f(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new _f(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),_f=function(){function e(t){r(this,e),this.iter=t}return a(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}();function Ef(e){return e.hasNext()?e.getNext():void 0}var If=a((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;r(this,e),this.path=t,this.collectionGroup=n,this.orderBy=i,this.filters=a,this.limit=o,this.startAt=u,this.endAt=s,this.P=null}));function Tf(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;return new If(e,t,n,r,i,a,o)}function Cf(e){var t=Jc(e);if(null===t.P){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return(t=e).field.canonicalString()+t.op.toString()+Wl(t.value);var t})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),Ml(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((function(e){return Wl(e)})).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((function(e){return Wl(e)})).join(",")),t.P=n}return t.P}function Af(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!Kf(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(i=e.filters[r],a=t.filters[r],i.op!==a.op||!i.field.isEqual(a.field)||!ql(i.value,a.value))return!1;var i,a;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Wf(e.startAt,t.startAt)&&Wf(e.endAt,t.endAt)}function Nf(e){return jl.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function Of(e,t){return e.filters.filter((function(e){return e instanceof Rf&&e.field.isEqual(t)}))}function Pf(e,t,n){var r,i=Bl,a=!0,o=_r(Of(e,t));try{for(o.s();!(r=o.n()).done;){var u=r.value,s=Bl,c=!0;switch(u.op){case"<":case"<=":s=rf(u.value);break;case"==":case"in":case">=":s=u.value;break;case">":s=u.value,c=!1;break;case"!=":case"not-in":s=Bl}of({value:i,inclusive:a},{value:s,inclusive:c})<0&&(i=s,a=c)}}catch(h){o.e(h)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];of({value:i,inclusive:a},{value:f,inclusive:n.inclusive})<0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}function Df(e,t,n){var r,i=Vl,a=!0,o=_r(Of(e,t));try{for(o.s();!(r=o.n()).done;){var u=r.value,s=Vl,c=!0;switch(u.op){case">=":case">":s=af(u.value),c=!1;break;case"==":case"in":case"<=":s=u.value;break;case"<":s=u.value,c=!1;break;case"!=":case"not-in":s=Vl}uf({value:i,inclusive:a},{value:s,inclusive:c})>0&&(i=s,a=c)}}catch(h){o.e(h)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];uf({value:i,inclusive:a},{value:f,inclusive:n.inclusive})>0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}var Rf=function(e){u(n,e);var t=d(n);function n(e,i,a){var o;return r(this,n),(o=t.call(this)).field=e,o.op=i,o.value=a,o}return a(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.v(Kl(t,this.value)):null!==t&&zl(this.value)===zl(t)&&this.v(Kl(t,this.value))}},{key:"v",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return $c()}}},{key:"S",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.V(e,t,r):new Lf(e,t,r):"array-contains"===t?new jf(e,r):"in"===t?new Vf(e,r):"not-in"===t?new Bf(e,r):"array-contains-any"===t?new zf(e,r):new n(e,t,r)}},{key:"V",value:function(e,t,n){return"in"===t?new Mf(e,n):new Uf(e,n)}}]),n}(function(){return a((function e(){r(this,e)}))}()),Lf=function(e){u(n,e);var t=d(n);function n(e,i,a){var o;return r(this,n),(o=t.call(this,e,i,a)).key=jl.fromName(a.referenceValue),o}return a(n,[{key:"matches",value:function(e){var t=jl.comparator(e.key,this.key);return this.v(t)}}]),n}(Rf),Mf=function(e){u(n,e);var t=d(n);function n(e,i){var a;return r(this,n),(a=t.call(this,e,"in",i)).keys=Ff("in",i),a}return a(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(Rf),Uf=function(e){u(n,e);var t=d(n);function n(e,i){var a;return r(this,n),(a=t.call(this,e,"not-in",i)).keys=Ff("not-in",i),a}return a(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(Rf);function Ff(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return jl.fromName(e.referenceValue)}))}var jf=function(e){u(n,e);var t=d(n);function n(e,i){return r(this,n),t.call(this,e,"array-contains",i)}return a(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return Xl(t)&&Hl(t.arrayValue,this.value)}}]),n}(Rf),Vf=function(e){u(n,e);var t=d(n);function n(e,i){return r(this,n),t.call(this,e,"in",i)}return a(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&Hl(this.value.arrayValue,t)}}]),n}(Rf),Bf=function(e){u(n,e);var t=d(n);function n(e,i){return r(this,n),t.call(this,e,"not-in",i)}return a(n,[{key:"matches",value:function(e){if(Hl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!Hl(this.value.arrayValue,t)}}]),n}(Rf),zf=function(e){u(n,e);var t=d(n);function n(e,i){return r(this,n),t.call(this,e,"array-contains-any",i)}return a(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!Xl(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return Hl(t.value.arrayValue,e)}))}}]),n}(Rf),qf=a((function e(t,n){r(this,e),this.position=t,this.inclusive=n})),Hf=a((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";r(this,e),this.field=t,this.dir=n}));function Kf(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function Gf(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?jl.comparator(jl.fromName(o.referenceValue),n.key):Kl(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function Wf(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!ql(e.position[n],t.position[n]))return!1;return!0}var Yf=a((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,c=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;r(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=a,this.limit=o,this.limitType=u,this.startAt=s,this.endAt=c,this.D=null,this.C=null,this.startAt,this.endAt}));function Qf(e,t,n,r,i,a,o,u){return new Yf(e,t,n,r,i,a,o,u)}function $f(e){return new Yf(e)}function Xf(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function Jf(e){var t,n=_r(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.S())return r.field}}catch(i){n.e(i)}finally{n.f()}return null}function Zf(e){return null!==e.collectionGroup}function eh(e){var t=Jc(e);if(null===t.D){t.D=[];var n=Jf(t),r=Xf(t);if(null!==n&&null===r)n.isKeyField()||t.D.push(new Hf(n)),t.D.push(new Hf(_l.keyField(),"asc"));else{var i,a=!1,o=_r(t.explicitOrderBy);try{for(o.s();!(i=o.n()).done;){var u=i.value;t.D.push(u),u.field.isKeyField()&&(a=!0)}}catch(c){o.e(c)}finally{o.f()}if(!a){var s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.D.push(new Hf(_l.keyField(),s))}}}return t.D}function th(e){var t=Jc(e);if(!t.C)if("F"===t.limitType)t.C=Tf(t.path,t.collectionGroup,eh(t),t.filters,t.limit,t.startAt,t.endAt);else{var n,r=[],i=_r(eh(t));try{for(i.s();!(n=i.n()).done;){var a=n.value,o="desc"===a.dir?"asc":"desc";r.push(new Hf(a.field,o))}}catch(c){i.e(c)}finally{i.f()}var u=t.endAt?new qf(t.endAt.position,t.endAt.inclusive):null,s=t.startAt?new qf(t.startAt.position,t.startAt.inclusive):null;t.C=Tf(t.path,t.collectionGroup,r,t.filters,t.limit,u,s)}return t.C}function nh(e,t,n){return new Yf(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function rh(e,t){return Af(th(e),th(t))&&e.limitType===t.limitType}function ih(e){return"".concat(Cf(th(e)),"|lt:").concat(e.limitType)}function ah(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return"".concat((t=e).field.canonicalString()," ").concat(t.op," ").concat(Wl(t.value));var t})).join(", "),"]")),Ml(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((function(e){return Wl(e)})).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((function(e){return Wl(e)})).join(",")),"Target(".concat(t,")")}(th(e)),"; limitType=").concat(e.limitType,")")}function oh(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):jl.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=_r(e.explicitOrderBy);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=_r(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){var r=Gf(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,eh(e),t))&&!(e.endAt&&!function(e,t,n){var r=Gf(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,eh(e),t))}(e,t)}function uh(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function sh(e){return function(t,n){var r,i=!1,a=_r(eh(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,u=ch(o,t,n);if(0!==u)return u;i=i||o.field.isKeyField()}}catch(s){a.e(s)}finally{a.f()}return 0}}function ch(e,t,n){var r=e.field.isKeyField()?jl.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Kl(r,i):$c()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return $c()}}function lh(e,t){if(e.N){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ul(t)?"-0":t}}function fh(e){return{integerValue:""+e}}function hh(e,t){return Fl(t)?fh(t):lh(e,t)}var dh=a((function e(){r(this,e),this._=void 0}));function ph(e,t,n){return e instanceof yh?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof gh?kh(e,t):e instanceof bh?wh(e,t):function(e,t){var n=mh(e,t),r=Sh(n)+Sh(e.k);return $l(n)&&$l(e.k)?fh(r):lh(e.M,r)}(e,t)}function vh(e,t,n){return e instanceof gh?kh(e,t):e instanceof bh?wh(e,t):n}function mh(e,t){return e instanceof xh?$l(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var yh=function(e){u(n,e);var t=d(n);function n(){return r(this,n),t.apply(this,arguments)}return a(n)}(dh),gh=function(e){u(n,e);var t=d(n);function n(e){var i;return r(this,n),(i=t.call(this)).elements=e,i}return a(n)}(dh);function kh(e,t){var n,r=_h(t),i=_r(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return ql(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var bh=function(e){u(n,e);var t=d(n);function n(e){var i;return r(this,n),(i=t.call(this)).elements=e,i}return a(n)}(dh);function wh(e,t){var n,r=_h(t),i=_r(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!ql(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var xh=function(e){u(n,e);var t=d(n);function n(e,i){var a;return r(this,n),(a=t.call(this)).M=e,a.k=i,a}return a(n)}(dh);function Sh(e){return Al(e.integerValue||e.doubleValue)}function _h(e){return Xl(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var Eh=a((function e(t,n){r(this,e),this.field=t,this.transform=n}));var Ih=a((function e(t,n){r(this,e),this.version=t,this.transformResults=n})),Th=function(){function e(t,n){r(this,e),this.updateTime=t,this.exists=n}return a(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function Ch(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var Ah=a((function e(){r(this,e)}));function Nh(e,t,n){e instanceof Lh?function(e,t,n){var r=e.value.clone(),i=Fh(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Mh?function(e,t,n){if(Ch(e.precondition,t)){var r=Fh(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Uh(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Oh(e,t,n){e instanceof Lh?function(e,t,n){if(Ch(e.precondition,t)){var r=e.value.clone(),i=jh(e.fieldTransforms,n,t);r.setAll(i),t.convertToFoundDocument(Rh(t),r).setHasLocalMutations()}}(e,t,n):e instanceof Mh?function(e,t,n){if(Ch(e.precondition,t)){var r=jh(e.fieldTransforms,n,t),i=t.data;i.setAll(Uh(e)),i.setAll(r),t.convertToFoundDocument(Rh(t),i).setHasLocalMutations()}}(e,t,n):function(e,t){Ch(e.precondition,t)&&t.convertToNoDocument(yl.min())}(e,t)}function Ph(e,t){var n,r=null,i=_r(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),u=mh(a.transform,o||null);null!=u&&(null==r&&(r=sf.empty()),r.set(a.field,u))}}catch(s){i.e(s)}finally{i.f()}return r||null}function Dh(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&pl(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof gh&&t instanceof gh||e instanceof bh&&t instanceof bh?pl(e.elements,t.elements,ql):e instanceof xh&&t instanceof xh?ql(e.k,t.k):e instanceof yh&&t instanceof yh}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function Rh(e){return e.isFoundDocument()?e.version:yl.min()}var Lh=function(e){u(n,e);var t=d(n);function n(e,i,a){var o,u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return r(this,n),(o=t.call(this)).key=e,o.value=i,o.precondition=a,o.fieldTransforms=u,o.type=0,o}return a(n)}(Ah),Mh=function(e){u(n,e);var t=d(n);function n(e,i,a,o){var u,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return r(this,n),(u=t.call(this)).key=e,u.data=i,u.fieldMask=a,u.precondition=o,u.fieldTransforms=s,u.type=1,u}return a(n)}(Ah);function Uh(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function Fh(e,t,n){var r=new Map;Xc(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,u=t.data.field(a.field);r.set(a.field,vh(o,u,n[i]))}return r}function jh(e,t,n){var r,i=new Map,a=_r(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,u=o.transform,s=n.data.field(o.field);i.set(o.field,ph(u,s,t))}}catch(c){a.e(c)}finally{a.f()}return i}var Vh,Bh,zh=function(e){u(n,e);var t=d(n);function n(e,i){var a;return r(this,n),(a=t.call(this)).key=e,a.precondition=i,a.type=2,a.fieldTransforms=[],a}return a(n)}(Ah),qh=function(e){u(n,e);var t=d(n);function n(e,i){var a;return r(this,n),(a=t.call(this)).key=e,a.precondition=i,a.type=3,a.fieldTransforms=[],a}return a(n)}(Ah),Hh=a((function e(t){r(this,e),this.count=t}));function Kh(e){switch(e){default:return $c();case Zc.CANCELLED:case Zc.UNKNOWN:case Zc.DEADLINE_EXCEEDED:case Zc.RESOURCE_EXHAUSTED:case Zc.INTERNAL:case Zc.UNAVAILABLE:case Zc.UNAUTHENTICATED:return!1;case Zc.INVALID_ARGUMENT:case Zc.NOT_FOUND:case Zc.ALREADY_EXISTS:case Zc.PERMISSION_DENIED:case Zc.FAILED_PRECONDITION:case Zc.ABORTED:case Zc.OUT_OF_RANGE:case Zc.UNIMPLEMENTED:case Zc.DATA_LOSS:return!0}}function Gh(e){if(void 0===e)return Wc("GRPC error has no .code"),Zc.UNKNOWN;switch(e){case Vh.OK:return Zc.OK;case Vh.CANCELLED:return Zc.CANCELLED;case Vh.UNKNOWN:return Zc.UNKNOWN;case Vh.DEADLINE_EXCEEDED:return Zc.DEADLINE_EXCEEDED;case Vh.RESOURCE_EXHAUSTED:return Zc.RESOURCE_EXHAUSTED;case Vh.INTERNAL:return Zc.INTERNAL;case Vh.UNAVAILABLE:return Zc.UNAVAILABLE;case Vh.UNAUTHENTICATED:return Zc.UNAUTHENTICATED;case Vh.INVALID_ARGUMENT:return Zc.INVALID_ARGUMENT;case Vh.NOT_FOUND:return Zc.NOT_FOUND;case Vh.ALREADY_EXISTS:return Zc.ALREADY_EXISTS;case Vh.PERMISSION_DENIED:return Zc.PERMISSION_DENIED;case Vh.FAILED_PRECONDITION:return Zc.FAILED_PRECONDITION;case Vh.ABORTED:return Zc.ABORTED;case Vh.OUT_OF_RANGE:return Zc.OUT_OF_RANGE;case Vh.UNIMPLEMENTED:return Zc.UNIMPLEMENTED;case Vh.DATA_LOSS:return Zc.DATA_LOSS;default:return $c()}}(Bh=Vh||(Vh={}))[Bh.OK=0]="OK",Bh[Bh.CANCELLED=1]="CANCELLED",Bh[Bh.UNKNOWN=2]="UNKNOWN",Bh[Bh.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Bh[Bh.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Bh[Bh.NOT_FOUND=5]="NOT_FOUND",Bh[Bh.ALREADY_EXISTS=6]="ALREADY_EXISTS",Bh[Bh.PERMISSION_DENIED=7]="PERMISSION_DENIED",Bh[Bh.UNAUTHENTICATED=16]="UNAUTHENTICATED",Bh[Bh.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Bh[Bh.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Bh[Bh.ABORTED=10]="ABORTED",Bh[Bh.OUT_OF_RANGE=11]="OUT_OF_RANGE",Bh[Bh.UNIMPLEMENTED=12]="UNIMPLEMENTED",Bh[Bh.INTERNAL=13]="INTERNAL",Bh[Bh.UNAVAILABLE=14]="UNAVAILABLE",Bh[Bh.DATA_LOSS=15]="DATA_LOSS";var Wh=function(){function e(t,n){r(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}return a(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=_r(n);try{for(i.s();!(r=i.n()).done;){var a=Le(r.value,2),o=a[0],u=a[1];if(this.equalsFn(o,e))return u}}catch(s){i.e(s)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}},{key:"forEach",value:function(e){kl(this.inner,(function(t,n){var r,i=_r(n);try{for(i.s();!(r=i.n()).done;){var a=Le(r.value,2),o=a[0],u=a[1];e(o,u)}}catch(s){i.e(s)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return bl(this.inner)}},{key:"size",value:function(){return this.innerSize}}]),e}(),Yh=new bf(jl.comparator);function Qh(){return Yh}var $h=new bf(jl.comparator);function Xh(){for(var e=$h,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.insert(o.key,o)}return e}function Jh(){return new Wh((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)}))}var Zh=new bf(jl.comparator),ed=new Sf(jl.comparator);function td(){for(var e=ed,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var nd=new Sf(dl);function rd(){return nd}var id=function(){function e(t,n,i,a,o){r(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=a,this.resolvedLimboDocuments=o}return a(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n){var r=new Map;return r.set(t,ad.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(yl.min(),r,rd(),Qh(),td())}}]),e}(),ad=function(){function e(t,n,i,a,o){r(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=i,this.modifiedDocuments=a,this.removedDocuments=o}return a(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n){return new e(Il.EMPTY_BYTE_STRING,n,td(),td(),td())}}]),e}(),od=a((function e(t,n,i,a){r(this,e),this.O=t,this.removedTargetIds=n,this.key=i,this.F=a})),ud=a((function e(t,n){r(this,e),this.targetId=t,this.$=n})),sd=a((function e(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Il.EMPTY_BYTE_STRING,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;r(this,e),this.state=t,this.targetIds=n,this.resumeToken=i,this.cause=a})),cd=function(){function e(){r(this,e),this.B=0,this.L=hd(),this.U=Il.EMPTY_BYTE_STRING,this.q=!1,this.K=!0}return a(e,[{key:"current",get:function(){return this.q}},{key:"resumeToken",get:function(){return this.U}},{key:"G",get:function(){return 0!==this.B}},{key:"j",get:function(){return this.K}},{key:"W",value:function(e){e.approximateByteSize()>0&&(this.K=!0,this.U=e)}},{key:"H",value:function(){var e=td(),t=td(),n=td();return this.L.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:$c()}})),new ad(this.U,this.q,e,t,n)}},{key:"J",value:function(){this.K=!1,this.L=hd()}},{key:"Y",value:function(e,t){this.K=!0,this.L=this.L.insert(e,t)}},{key:"X",value:function(e){this.K=!0,this.L=this.L.remove(e)}},{key:"Z",value:function(){this.B+=1}},{key:"tt",value:function(){this.B-=1}},{key:"et",value:function(){this.K=!0,this.q=!0}}]),e}(),ld=function(){function e(t){r(this,e),this.nt=t,this.st=new Map,this.it=Qh(),this.rt=fd(),this.ot=new Sf(dl)}return a(e,[{key:"ut",value:function(e){var t,n=_r(e.O);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.F&&e.F.isFoundDocument()?this.at(r,e.F):this.ct(r,e.key,e.F)}}catch(u){n.e(u)}finally{n.f()}var i,a=_r(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.ct(o,e.key,e.F)}}catch(u){a.e(u)}finally{a.f()}}},{key:"ht",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.lt(n);switch(e.state){case 0:t.ft(n)&&r.W(e.resumeToken);break;case 1:r.tt(),r.G||r.J(),r.W(e.resumeToken);break;case 2:r.tt(),r.G||t.removeTarget(n);break;case 3:t.ft(n)&&(r.et(),r.W(e.resumeToken));break;case 4:t.ft(n)&&(t.dt(n),r.W(e.resumeToken));break;default:$c()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.st.forEach((function(e,r){n.ft(r)&&t(r)}))}},{key:"_t",value:function(e){var t=e.targetId,n=e.$.count,r=this.wt(t);if(r){var i=r.target;if(Nf(i))if(0===n){var a=new jl(i.path);this.ct(t,a,lf.newNoDocument(a,yl.min()))}else Xc(1===n);else this.gt(t)!==n&&(this.dt(t),this.ot=this.ot.add(t))}}},{key:"yt",value:function(e){var t=this,n=new Map;this.st.forEach((function(r,i){var a=t.wt(i);if(a){if(r.current&&Nf(a.target)){var o=new jl(a.target.path);null!==t.it.get(o)||t.It(i,o)||t.ct(i,o,lf.newNoDocument(o,e))}r.j&&(n.set(i,r.H()),r.J())}}));var r=td();this.rt.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.wt(e);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))})),this.it.forEach((function(t,n){return n.setReadTime(e)}));var i=new id(e,n,this.ot,this.it,r);return this.it=Qh(),this.rt=fd(),this.ot=new Sf(dl),i}},{key:"at",value:function(e,t){if(this.ft(e)){var n=this.It(e,t.key)?2:0;this.lt(e).Y(t.key,n),this.it=this.it.insert(t.key,t),this.rt=this.rt.insert(t.key,this.Tt(t.key).add(e))}}},{key:"ct",value:function(e,t,n){if(this.ft(e)){var r=this.lt(e);this.It(e,t)?r.Y(t,1):r.X(t),this.rt=this.rt.insert(t,this.Tt(t).delete(e)),n&&(this.it=this.it.insert(t,n))}}},{key:"removeTarget",value:function(e){this.st.delete(e)}},{key:"gt",value:function(e){var t=this.lt(e).H();return this.nt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"Z",value:function(e){this.lt(e).Z()}},{key:"lt",value:function(e){var t=this.st.get(e);return t||(t=new cd,this.st.set(e,t)),t}},{key:"Tt",value:function(e){var t=this.rt.get(e);return t||(t=new Sf(dl),this.rt=this.rt.insert(e,t)),t}},{key:"ft",value:function(e){var t=null!==this.wt(e);return t||Gc("WatchChangeAggregator","Detected inactive target",e),t}},{key:"wt",value:function(e){var t=this.st.get(e);return t&&t.G?null:this.nt.Et(e)}},{key:"dt",value:function(e){var t=this;this.st.set(e,new cd),this.nt.getRemoteKeysForTarget(e).forEach((function(n){t.ct(e,n,null)}))}},{key:"It",value:function(e,t){return this.nt.getRemoteKeysForTarget(e).has(t)}}]),e}();function fd(){return new bf(jl.comparator)}function hd(){return new bf(jl.comparator)}var dd={asc:"ASCENDING",desc:"DESCENDING"},pd={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},vd=a((function e(t,n){r(this,e),this.databaseId=t,this.N=n}));function md(e,t){return e.N?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function yd(e,t){return e.N?t.toBase64():t.toUint8Array()}function gd(e,t){return md(e,t.toTimestamp())}function kd(e){return Xc(!!e),yl.fromTimestamp(function(e){var t=Cl(e);return new ml(t.seconds,t.nanos)}(e))}function bd(e,t){return function(e){return new xl(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function wd(e){var t=xl.fromString(e);return Xc(Hd(t)),t}function xd(e,t){return bd(e.databaseId,t.path)}function Sd(e,t){var n=wd(t);if(n.get(1)!==e.databaseId.projectId)throw new el(Zc.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new el(Zc.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new jl(Td(n))}function _d(e,t){return bd(e.databaseId,t)}function Ed(e){var t=wd(e);return 4===t.length?xl.emptyPath():Td(t)}function Id(e){return new xl(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Td(e){return Xc(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function Cd(e,t,n){return{name:xd(e,t),fields:n.value.mapValue.fields}}function Ad(e,t,n){var r=Sd(e,t.name),i=kd(t.updateTime),a=new sf({mapValue:{fields:t.fields}}),o=lf.newFoundDocument(r,i,a);return n&&o.setHasCommittedMutations(),n?o.setHasCommittedMutations():o}function Nd(e,t){return"found"in t?function(e,t){Xc(!!t.found),t.found.name,t.found.updateTime;var n=Sd(e,t.found.name),r=kd(t.found.updateTime),i=new sf({mapValue:{fields:t.found.fields}});return lf.newFoundDocument(n,r,i)}(e,t):"missing"in t?function(e,t){Xc(!!t.missing),Xc(!!t.readTime);var n=Sd(e,t.missing),r=kd(t.readTime);return lf.newNoDocument(n,r)}(e,t):$c()}function Od(e,t){var n;if(t instanceof Lh)n={update:Cd(e,t.key,t.value)};else if(t instanceof zh)n={delete:xd(e,t.key)};else if(t instanceof Mh)n={update:Cd(e,t.key,t.data),updateMask:qd(t.fieldMask)};else{if(!(t instanceof qh))return $c();n={verify:xd(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof yh)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof gh)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof bh)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof xh)return{fieldPath:t.field.canonicalString(),increment:n.k};throw $c()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:gd(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:$c()}(e,t.precondition)),n}function Pd(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?Th.updateTime(kd(e.updateTime)):void 0!==e.exists?Th.exists(e.exists):Th.none()}(t.currentDocument):Th.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)Xc("REQUEST_TIME"===t.setToServerValue),n=new yh;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new gh(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new bh(i)}else"increment"in t?n=new xh(e,t.increment):$c();var a=_l.fromServerFormat(t.fieldPath);return new Eh(a,n)}(e,t)})):[];if(t.update){t.update.name;var i=Sd(e,t.update.name),a=new sf({mapValue:{fields:t.update.fields}});if(t.updateMask){var o=function(e){var t=e.fieldPaths||[];return new El(t.map((function(e){return _l.fromServerFormat(e)})))}(t.updateMask);return new Mh(i,a,o,n,r)}return new Lh(i,a,n,r)}if(t.delete){var u=Sd(e,t.delete);return new zh(u,n)}if(t.verify){var s=Sd(e,t.verify);return new qh(s,n)}return $c()}function Dd(e,t){return{documents:[_d(e,t.path)]}}function Rd(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=_d(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=_d(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length){var t=e.map((function(e){return function(e){if("=="===e.op){if(Zl(e.value))return{unaryFilter:{field:jd(e.field),op:"IS_NAN"}};if(Jl(e.value))return{unaryFilter:{field:jd(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Zl(e.value))return{unaryFilter:{field:jd(e.field),op:"IS_NOT_NAN"}};if(Jl(e.value))return{unaryFilter:{field:jd(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:jd(e.field),op:Fd(e.op),value:e.value}}}(e)}));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:jd(e.field),direction:Ud(e.dir)}}(e)}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o,u=function(e,t){return e.N||Ml(t)?t:{value:t}}(e,t.limit);return null!==u&&(n.structuredQuery.limit=u),t.startAt&&(n.structuredQuery.startAt={before:(o=t.startAt).inclusive,values:o.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function Ld(e){var t=Ed(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Xc(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=Md(n.where));var u=[];n.orderBy&&(u=n.orderBy.map((function(e){return function(e){return new Hf(Vd(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var s=null;n.limit&&(s=function(e){var t;return Ml(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=function(e){var t=!!e.before,n=e.values||[];return new qf(n,t)}(n.startAt));var l=null;return n.endAt&&(l=function(e){var t=!e.before,n=e.values||[];return new qf(n,t)}(n.endAt)),Qf(t,i,u,o,s,"F",c,l)}function Md(e){return e?void 0!==e.unaryFilter?[zd(e)]:void 0!==e.fieldFilter?[Bd(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return Md(e)})).reduce((function(e,t){return e.concat(t)})):$c():[]}function Ud(e){return dd[e]}function Fd(e){return pd[e]}function jd(e){return{fieldPath:e.canonicalString()}}function Vd(e){return _l.fromServerFormat(e.fieldPath)}function Bd(e){return Rf.create(Vd(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return $c()}}(e.fieldFilter.op),e.fieldFilter.value)}function zd(e){switch(e.unaryFilter.op){case"IS_NAN":var t=Vd(e.unaryFilter.field);return Rf.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=Vd(e.unaryFilter.field);return Rf.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Vd(e.unaryFilter.field);return Rf.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Vd(e.unaryFilter.field);return Rf.create(i,"!=",{nullValue:"NULL_VALUE"});default:return $c()}}function qd(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function Hd(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function Kd(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=Wd(t)),t=Gd(e.get(n),t);return Wd(t)}function Gd(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var a=e.charAt(i);switch(a){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=a}}return n}function Wd(e){return e+"\x01\x01"}function Yd(e){var t=e.length;if(Xc(t>=2),2===t)return Xc("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),xl.emptyPath();for(var n=t-2,r=[],i="",a=0;a<t;){var o=e.indexOf("\x01",a);switch((o<0||o>n)&&$c(),e.charAt(o+1)){case"\x01":var u=e.substring(a,o),s=void 0;0===i.length?s=u:(s=i+=u,i=""),r.push(s);break;case"\x10":i+=e.substring(a,o),i+="\0";break;case"\x11":i+=e.substring(a,o+1);break;default:$c()}a=o+2}return new xl(r)}var Qd=["userId","batchId"];function $d(e,t){return[e,Kd(t)]}function Xd(e,t,n){return[e,Kd(t),n]}var Jd={},Zd=["prefixPath","collectionGroup","readTime","documentId"],ep=["prefixPath","collectionGroup","documentId"],tp=["collectionGroup","readTime","prefixPath","documentId"],np=["canonicalId","targetId"],rp=["targetId","path"],ip=["path","targetId"],ap=["collectionId","parent"],op=["indexId","uid"],up=["uid","sequenceNumber"],sp=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],cp=["indexId","uid","orderedDocumentKey"],lp=["userId","collectionPath","documentId"],fp=["userId","collectionPath","largestBatchId"],hp=["userId","collectionGroup","largestBatchId"],dp=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments"].concat(["clientMetadata"]).concat(["remoteDocumentGlobal"]).concat(["collectionParents"]).concat(["bundles","namedQueries"]),pp=[].concat(Ue(dp),["documentOverlays"]),vp=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],mp=[].concat(vp,["indexConfiguration","indexState","indexEntries"]),yp="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",gp=function(){function e(){r(this,e),this.onCommittedListeners=[]}return a(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}(),kp=function(){function e(t){var n=this;r(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return a(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&$c(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=_r(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}}]),e}(),bp=function(){function e(t,n){var i=this;r(this,e),this.action=t,this.transaction=n,this.aborted=!1,this.At=new tl,this.transaction.oncomplete=function(){i.At.resolve()},this.transaction.onabort=function(){n.error?i.At.reject(new Sp(t,n.error)):i.At.resolve()},this.transaction.onerror=function(e){var n=Cp(e.target.error);i.At.reject(new Sp(t,n))}}return a(e,[{key:"Rt",get:function(){return this.At.promise}},{key:"abort",value:function(e){e&&this.At.reject(e),this.aborted||(Gc("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}},{key:"bt",value:function(){var e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}},{key:"store",value:function(e){var t=this.transaction.objectStore(e);return new Ep(t)}}],[{key:"open",value:function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new Sp(n,t)}}}]),e}(),wp=function(){function e(t,n,i){r(this,e),this.name=t,this.version=n,this.Pt=i,12.2===e.Vt(Lr())&&Wc("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return a(e,[{key:"Nt",value:function(){var e=wr(Sr().mark((function e(t){var n=this;return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.db,e.t0){e.next=6;break}return Gc("SimpleDb","Opening database:",this.name),e.next=5,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new Sp(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new el(Zc.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===n.name?r(new el(Zc.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+n)):r(new Sp(t,n))},i.onupgradeneeded=function(e){Gc("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.Pt.kt(t,i.transaction,e.oldVersion,n.version).next((function(){Gc("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}));case 5:this.db=e.sent;case 6:return this.Mt&&(this.db.onversionchange=function(e){return n.Mt(e)}),e.abrupt("return",this.db);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Ot",value:function(e){this.Mt=e,this.db&&(this.db.onversionchange=function(t){return e(t)})}},{key:"runTransaction",value:function(){var e=wr(Sr().mark((function e(t,n,r,i){var a,o,u,s,c=this;return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a="readonly"===n,o=0;case 2:return++o,e.prev=3,e.delegateYield(Sr().mark((function e(){var n,o;return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.Nt(t);case 2:return c.db=e.sent,n=bp.open(c.db,t,a?"readonly":"readwrite",r),o=i(n).next((function(e){return n.bt(),e})).catch((function(e){return n.abort(e),kp.reject(e)})).toPromise(),o.catch((function(){})),e.next=7,n.Rt;case 7:return e.t0=o,e.abrupt("return",{v:e.t0});case 9:case"end":return e.stop()}}),e)}))(),"t0",5);case 5:if("object"!==typeof(u=e.t0)){e.next=8;break}return e.abrupt("return",u.v);case 8:e.next=15;break;case 10:if(e.prev=10,e.t1=e.catch(3),s="FirebaseError"!==e.t1.name&&o<3,Gc("SimpleDb","Transaction failed with error:",e.t1.message,"Retrying:",s),this.close(),s){e.next=15;break}return e.abrupt("return",Promise.reject(e.t1));case 15:e.next=2;break;case 17:case"end":return e.stop()}}),e,this,[[3,10]])})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"close",value:function(){this.db&&this.db.close(),this.db=void 0}}],[{key:"delete",value:function(e){return Gc("SimpleDb","Removing database:",e),Ip(window.indexedDB.deleteDatabase(e)).toPromise()}},{key:"vt",value:function(){if(!Br())return!1;if(e.St())return!0;var t=Lr(),n=e.Vt(t),r=0<n&&n<10,i=e.Dt(t),a=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||a)}},{key:"St",value:function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:"/F1_Ticket_Manager",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})||void 0===e?void 0:e.Ct)}},{key:"xt",value:function(e,t){return e.store(t)}},{key:"Vt",value:function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}},{key:"Dt",value:function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}}]),e}(),xp=function(){function e(t){r(this,e),this.Ft=t,this.$t=!1,this.Bt=null}return a(e,[{key:"isDone",get:function(){return this.$t}},{key:"Lt",get:function(){return this.Bt}},{key:"cursor",set:function(e){this.Ft=e}},{key:"done",value:function(){this.$t=!0}},{key:"Ut",value:function(e){this.Bt=e}},{key:"delete",value:function(){return Ip(this.Ft.delete())}}]),e}(),Sp=function(e){u(n,e);var t=d(n);function n(e,i){var a;return r(this,n),(a=t.call(this,Zc.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(i))).name="IndexedDbTransactionError",a}return a(n)}(el);function _p(e){return"IndexedDbTransactionError"===e.name}var Ep=function(){function e(t){r(this,e),this.store=t}return a(e,[{key:"put",value:function(e,t){var n;return void 0!==t?(Gc("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(Gc("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),Ip(n)}},{key:"add",value:function(e){return Gc("SimpleDb","ADD",this.store.name,e,e),Ip(this.store.add(e))}},{key:"get",value:function(e){var t=this;return Ip(this.store.get(e)).next((function(n){return void 0===n&&(n=null),Gc("SimpleDb","GET",t.store.name,e,n),n}))}},{key:"delete",value:function(e){return Gc("SimpleDb","DELETE",this.store.name,e),Ip(this.store.delete(e))}},{key:"count",value:function(){return Gc("SimpleDb","COUNT",this.store.name),Ip(this.store.count())}},{key:"qt",value:function(e,t){var n=this.options(e,t);if(n.index||"function"!=typeof this.store.getAll){var r=this.cursor(n),i=[];return this.Kt(r,(function(e,t){i.push(t)})).next((function(){return i}))}var a=this.store.getAll(n.range);return new kp((function(e,t){a.onerror=function(e){t(e.target.error)},a.onsuccess=function(t){e(t.target.result)}}))}},{key:"Gt",value:function(e,t){var n=this.store.getAll(e,null===t?void 0:t);return new kp((function(e,t){n.onerror=function(e){t(e.target.error)},n.onsuccess=function(t){e(t.target.result)}}))}},{key:"Qt",value:function(e,t){Gc("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.jt=!1;var r=this.cursor(n);return this.Kt(r,(function(e,t,n){return n.delete()}))}},{key:"Wt",value:function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.Kt(r,t)}},{key:"zt",value:function(e){var t=this.cursor({});return new kp((function(n,r){t.onerror=function(e){var t=Cp(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))}},{key:"Kt",value:function(e,t){var n=[];return new kp((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var a=new xp(i),o=t(i.primaryKey,i.value,a);if(o instanceof kp){var u=o.catch((function(e){return a.done(),kp.reject(e)}));n.push(u)}a.isDone?r():null===a.Lt?i.continue():i.continue(a.Lt)}else r()}})).next((function(){return kp.waitFor(n)}))}},{key:"options",value:function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}},{key:"cursor",value:function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.jt?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}]),e}();function Ip(e){return new kp((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=Cp(e.target.error);n(t)}}))}var Tp=!1;function Cp(e){var t=wp.Vt(Lr());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new el("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(n,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return Tp||(Tp=!0,setTimeout((function(){throw r}),0)),r}}return e}var Ap=function(e){u(n,e);var t=d(n);function n(e,i){var a;return r(this,n),(a=t.call(this)).Ht=e,a.currentSequenceNumber=i,a}return a(n)}(gp);function Np(e,t){var n=Jc(e);return wp.xt(n.Ht,t)}var Op=function(){function e(t,n,i,a){r(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=i,this.mutations=a}return a(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&Nh(i,e,n[r])}}},{key:"applyToLocalView",value:function(e){var t,n=_r(this.baseMutations);try{for(n.s();!(t=n.n()).done;){var r=t.value;r.key.isEqual(e.key)&&Oh(r,e,this.localWriteTime)}}catch(u){n.e(u)}finally{n.f()}var i,a=_r(this.mutations);try{for(a.s();!(i=a.n()).done;){var o=i.value;o.key.isEqual(e.key)&&Oh(o,e,this.localWriteTime)}}catch(u){a.e(u)}finally{a.f()}}},{key:"applyToLocalDocumentSet",value:function(e){var t=this;this.mutations.forEach((function(n){var r=e.get(n.key),i=r;t.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(yl.min())}))}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),td())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&pl(this.mutations,e.mutations,(function(e,t){return Dh(e,t)}))&&pl(this.baseMutations,e.baseMutations,(function(e,t){return Dh(e,t)}))}}]),e}(),Pp=function(){function e(t,n,i,a){r(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=i,this.docVersions=a}return a(e,null,[{key:"from",value:function(t,n,r){Xc(t.mutations.length===r.length);for(var i=Zh,a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),Dp=function(){function e(t,n){r(this,e),this.largestBatchId=t,this.mutation=n}return a(e,[{key:"getKey",value:function(){return this.mutation.key}},{key:"isEqual",value:function(e){return null!==e&&this.mutation===e.mutation}},{key:"toString",value:function(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}]),e}(),Rp=function(){function e(t,n,i,a){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:yl.min(),u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:yl.min(),s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Il.EMPTY_BYTE_STRING;r(this,e),this.target=t,this.targetId=n,this.purpose=i,this.sequenceNumber=a,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=s}return a(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}]),e}(),Lp=a((function e(t){r(this,e),this.Jt=t}));function Mp(e,t){var n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:Up(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:xd(e,t.key),fields:t.data.value.mapValue.fields,updateTime:md(e,t.version.toTimestamp())}}(e.Jt,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:Fp(t.version)};else{if(!t.isUnknownDocument())return $c();r.unknownDocument={path:n.path.toArray(),version:Fp(t.version)}}return r}function Up(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function Fp(e){var t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function jp(e){var t=new ml(e.seconds,e.nanoseconds);return yl.fromTimestamp(t)}function Vp(e,t){for(var n=(t.baseMutations||[]).map((function(t){return Pd(e.Jt,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var a=t.mutations[r+1];i.updateTransforms=a.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var o=t.mutations.map((function(t){return Pd(e.Jt,t)})),u=ml.fromMillis(t.localWriteTimeMs);return new Op(t.batchId,u,n,o)}function Bp(e){var t,n,r=jp(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?jp(e.lastLimboFreeSnapshotVersion):yl.min();return void 0!==e.query.documents?(Xc(1===(n=e.query).documents.length),t=th($f(Ed(n.documents[0])))):t=function(e){return th(Ld(e))}(e.query),new Rp(t,e.targetId,0,e.lastListenSequenceNumber,r,i,Il.fromBase64String(e.resumeToken))}function zp(e,t){var n,r=Fp(t.snapshotVersion),i=Fp(t.lastLimboFreeSnapshotVersion);n=Nf(t.target)?Dd(e.Jt,t.target):Rd(e.Jt,t.target);var a=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:Cf(t.target),readTime:r,resumeToken:a,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:n}}function qp(e){var t=Ld({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?nh(t,t.limit,"L"):t}function Hp(e,t){return new Dp(t.largestBatchId,Pd(e.Jt,t.overlayMutation))}function Kp(e,t){var n=t.path.lastSegment();return[e,Kd(t.path.popLast()),n]}var Gp=function(){function e(){r(this,e)}return a(e,[{key:"getBundleMetadata",value:function(e,t){return Wp(e).get(t).next((function(e){if(e)return{id:(t=e).bundleId,createTime:jp(t.createTime),version:t.version};var t}))}},{key:"saveBundleMetadata",value:function(e,t){return Wp(e).put({bundleId:(n=t).id,createTime:Fp(kd(n.createTime)),version:n.version});var n}},{key:"getNamedQuery",value:function(e,t){return Yp(e).get(t).next((function(e){if(e)return{name:(t=e).name,query:qp(t.bundledQuery),readTime:jp(t.readTime)};var t}))}},{key:"saveNamedQuery",value:function(e,t){return Yp(e).put(function(e){return{name:e.name,readTime:Fp(kd(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}]),e}();function Wp(e){return Np(e,"bundles")}function Yp(e){return Np(e,"namedQueries")}var Qp=function(){function e(t,n){r(this,e),this.M=t,this.userId=n}return a(e,[{key:"getOverlay",value:function(e,t){var n=this;return $p(e).get(Kp(this.userId,t)).next((function(e){return e?Hp(n.M,e):null}))}},{key:"saveOverlays",value:function(e,t,n){var r=this,i=[];return n.forEach((function(n,a){var o=new Dp(t,a);i.push(r.Xt(e,o))})),kp.waitFor(i)}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=new Set;t.forEach((function(e){return i.add(Kd(e.getCollectionPath()))}));var a=[];return i.forEach((function(t){var i=IDBKeyRange.bound([r.userId,t,n],[r.userId,t,n+1],!1,!0);a.push($p(e).Qt("collectionPathOverlayIndex",i))})),kp.waitFor(a)}},{key:"getOverlaysForCollection",value:function(e,t,n){var r=this,i=Jh(),a=Kd(t),o=IDBKeyRange.bound([this.userId,a,n],[this.userId,a,Number.POSITIVE_INFINITY],!0);return $p(e).qt("collectionPathOverlayIndex",o).next((function(e){var t,n=_r(e);try{for(n.s();!(t=n.n()).done;){var a=t.value,o=Hp(r.M,a);i.set(o.getKey(),o)}}catch(u){n.e(u)}finally{n.f()}return i}))}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){var i,a=this,o=Jh(),u=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return $p(e).Wt({index:"collectionGroupOverlayIndex",range:u},(function(e,t,n){var u=Hp(a.M,t);o.size()<r||u.largestBatchId===i?(o.set(u.getKey(),u),i=u.largestBatchId):n.done()})).next((function(){return o}))}},{key:"Xt",value:function(e,t){return $p(e).put(function(e,t,n){var r=Le(Kp(t,n.mutation.key),3);r[0];return{userId:t,collectionPath:r[1],documentId:r[2],collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:Od(e.Jt,n.mutation)}}(this.M,this.userId,t))}}],[{key:"Yt",value:function(t,n){return new e(t,n.uid||"")}}]),e}();function $p(e){return Np(e,"documentOverlays")}var Xp=function(){function e(){r(this,e)}return a(e,[{key:"Zt",value:function(e,t){this.te(e,t),t.ee()}},{key:"te",value:function(e,t){if("nullValue"in e)this.ne(t,5);else if("booleanValue"in e)this.ne(t,10),t.se(e.booleanValue?1:0);else if("integerValue"in e)this.ne(t,15),t.se(Al(e.integerValue));else if("doubleValue"in e){var n=Al(e.doubleValue);isNaN(n)?this.ne(t,13):(this.ne(t,15),Ul(n)?t.se(0):t.se(n))}else if("timestampValue"in e){var r=e.timestampValue;this.ne(t,20),"string"==typeof r?t.ie(r):(t.ie("".concat(r.seconds||"")),t.se(r.nanos||0))}else if("stringValue"in e)this.re(e.stringValue,t),this.oe(t);else if("bytesValue"in e)this.ne(t,30),t.ue(Nl(e.bytesValue)),this.oe(t);else if("referenceValue"in e)this.ae(e.referenceValue,t);else if("geoPointValue"in e){var i=e.geoPointValue;this.ne(t,45),t.se(i.latitude||0),t.se(i.longitude||0)}else"mapValue"in e?nf(e)?this.ne(t,Number.MAX_SAFE_INTEGER):(this.ce(e.mapValue,t),this.oe(t)):"arrayValue"in e?(this.he(e.arrayValue,t),this.oe(t)):$c()}},{key:"re",value:function(e,t){this.ne(t,25),this.le(e,t)}},{key:"le",value:function(e,t){t.ie(e)}},{key:"ce",value:function(e,t){var n=e.fields||{};this.ne(t,55);for(var r=0,i=Object.keys(n);r<i.length;r++){var a=i[r];this.re(a,t),this.te(n[a],t)}}},{key:"he",value:function(e,t){var n=e.values||[];this.ne(t,50);var r,i=_r(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;this.te(a,t)}}catch(o){i.e(o)}finally{i.f()}}},{key:"ae",value:function(e,t){var n=this;this.ne(t,37),jl.fromName(e).path.forEach((function(e){n.ne(t,60),n.le(e,t)}))}},{key:"ne",value:function(e,t){e.se(t)}},{key:"oe",value:function(e){e.se(2)}}]),e}();function Jp(e){if(0===e)return 8;var t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function Zp(e){var t=64-function(e){for(var t=0,n=0;n<8;++n){var r=Jp(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}Xp.fe=new Xp;var ev=function(){function e(){r(this,e),this.buffer=new Uint8Array(1024),this.position=0}return a(e,[{key:"de",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this._e(n.value),n=t.next();this.we()}},{key:"me",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.ge(n.value),n=t.next();this.ye()}},{key:"pe",value:function(e){var t,n=_r(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this._e(i);else if(i<2048)this._e(960|i>>>6),this._e(128|63&i);else if(r<"\ud800"||"\udbff"<r)this._e(480|i>>>12),this._e(128|63&i>>>6),this._e(128|63&i);else{var a=r.codePointAt(0);this._e(240|a>>>18),this._e(128|63&a>>>12),this._e(128|63&a>>>6),this._e(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.we()}},{key:"Ie",value:function(e){var t,n=_r(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.ge(i);else if(i<2048)this.ge(960|i>>>6),this.ge(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.ge(480|i>>>12),this.ge(128|63&i>>>6),this.ge(128|63&i);else{var a=r.codePointAt(0);this.ge(240|a>>>18),this.ge(128|63&a>>>12),this.ge(128|63&a>>>6),this.ge(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.ye()}},{key:"Te",value:function(e){var t=this.Ee(e),n=Zp(t);this.Ae(1+n),this.buffer[this.position++]=255&n;for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}},{key:"Re",value:function(e){var t=this.Ee(e),n=Zp(t);this.Ae(1+n),this.buffer[this.position++]=~(255&n);for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}},{key:"be",value:function(){this.Pe(255),this.Pe(255)}},{key:"Ve",value:function(){this.ve(255),this.ve(255)}},{key:"reset",value:function(){this.position=0}},{key:"seed",value:function(e){this.Ae(e.length),this.buffer.set(e,this.position),this.position+=e.length}},{key:"Se",value:function(){return this.buffer.slice(0,this.position)}},{key:"Ee",value:function(e){var t=function(e){var t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(var r=1;r<t.length;++r)t[r]^=n?255:0;return t}},{key:"_e",value:function(e){var t=255&e;0===t?(this.Pe(0),this.Pe(255)):255===t?(this.Pe(255),this.Pe(0)):this.Pe(t)}},{key:"ge",value:function(e){var t=255&e;0===t?(this.ve(0),this.ve(255)):255===t?(this.ve(255),this.ve(0)):this.ve(e)}},{key:"we",value:function(){this.Pe(0),this.Pe(1)}},{key:"ye",value:function(){this.ve(0),this.ve(1)}},{key:"Pe",value:function(e){this.Ae(1),this.buffer[this.position++]=e}},{key:"ve",value:function(e){this.Ae(1),this.buffer[this.position++]=~e}},{key:"Ae",value:function(e){var t=e+this.position;if(!(t<=this.buffer.length)){var n=2*this.buffer.length;n<t&&(n=t);var r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}}]),e}(),tv=function(){function e(t){r(this,e),this.De=t}return a(e,[{key:"ue",value:function(e){this.De.de(e)}},{key:"ie",value:function(e){this.De.pe(e)}},{key:"se",value:function(e){this.De.Te(e)}},{key:"ee",value:function(){this.De.be()}}]),e}(),nv=function(){function e(t){r(this,e),this.De=t}return a(e,[{key:"ue",value:function(e){this.De.me(e)}},{key:"ie",value:function(e){this.De.Ie(e)}},{key:"se",value:function(e){this.De.Re(e)}},{key:"ee",value:function(){this.De.Ve()}}]),e}(),rv=function(){function e(){r(this,e),this.De=new ev,this.Ce=new tv(this.De),this.xe=new nv(this.De)}return a(e,[{key:"seed",value:function(e){this.De.seed(e)}},{key:"Ne",value:function(e){return 0===e?this.Ce:this.xe}},{key:"Se",value:function(){return this.De.Se()}},{key:"reset",value:function(){this.De.reset()}}]),e}(),iv=function(){function e(t,n,i,a){r(this,e),this.indexId=t,this.documentKey=n,this.arrayValue=i,this.directionalValue=a}return a(e,[{key:"ke",value:function(){var t=this.directionalValue.length,n=0===t||255===this.directionalValue[t-1]?t+1:t,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==t?r.set([0],this.directionalValue.length):++r[r.length-1],new e(this.indexId,this.documentKey,this.arrayValue,r)}}]),e}();function av(e,t){var n=e.indexId-t.indexId;return 0!==n?n:0!==(n=ov(e.arrayValue,t.arrayValue))?n:0!==(n=ov(e.directionalValue,t.directionalValue))?n:jl.comparator(e.documentKey,t.documentKey)}function ov(e,t){for(var n=0;n<e.length&&n<t.length;++n){var r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}var uv=function(){function e(t){r(this,e),this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Me=t.orderBy,this.Oe=[];var n,i=_r(t.filters);try{for(i.s();!(n=i.n()).done;){var a=n.value;a.S()?this.Fe=a:this.Oe.push(a)}}catch(o){i.e(o)}finally{i.f()}}return a(e,[{key:"$e",value:function(e){var t=hf(e);if(void 0!==t&&!this.Be(t))return!1;for(var n=df(e),r=0,i=0;r<n.length&&this.Be(n[r]);++r);if(r===n.length)return!0;if(void 0!==this.Fe){var a=n[r];if(!this.Le(this.Fe,a)||!this.Ue(this.Me[i++],a))return!1;++r}for(;r<n.length;++r){var o=n[r];if(i>=this.Me.length||!this.Ue(this.Me[i++],o))return!1}return!0}},{key:"Be",value:function(e){var t,n=_r(this.Oe);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(this.Le(r,e))return!0}}catch(i){n.e(i)}finally{n.f()}return!1}},{key:"Le",value:function(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;var n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}},{key:"Ue",value:function(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}]),e}(),sv=function(){function e(){r(this,e),this.qe=new cv}return a(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.qe.add(t),kp.resolve()}},{key:"getCollectionParents",value:function(e,t){return kp.resolve(this.qe.getEntries(t))}},{key:"addFieldIndex",value:function(e,t){return kp.resolve()}},{key:"deleteFieldIndex",value:function(e,t){return kp.resolve()}},{key:"getDocumentsMatchingTarget",value:function(e,t){return kp.resolve(null)}},{key:"getIndexType",value:function(e,t){return kp.resolve(0)}},{key:"getFieldIndexes",value:function(e,t){return kp.resolve([])}},{key:"getNextCollectionGroupToUpdate",value:function(e){return kp.resolve(null)}},{key:"getMinOffset",value:function(e,t){return kp.resolve(gf.min())}},{key:"updateCollectionGroup",value:function(e,t,n){return kp.resolve()}},{key:"updateIndexEntries",value:function(e,t){return kp.resolve()}}]),e}(),cv=function(){function e(){r(this,e),this.index={}}return a(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Sf(xl.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new Sf(xl.comparator)).toArray()}}]),e}(),lv=new Uint8Array(0),fv=function(){function e(t,n){r(this,e),this.user=t,this.databaseId=n,this.Ke=new cv,this.Ge=new Wh((function(e){return Cf(e)}),(function(e,t){return Af(e,t)})),this.uid=t.uid||""}return a(e,[{key:"addToCollectionParentIndex",value:function(e,t){var n=this;if(!this.Ke.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.Ke.add(t)}));var a={collectionId:r,parent:Kd(i)};return hv(e).put(a)}return kp.resolve()}},{key:"getCollectionParents",value:function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[vl(t),""],!1,!0);return hv(e).qt(r).next((function(e){var r,i=_r(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(a.collectionId!==t)break;n.push(Yd(a.parent))}}catch(o){i.e(o)}finally{i.f()}return n}))}},{key:"addFieldIndex",value:function(e,t){var n=pv(e),r=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map((function(e){return[e.fieldPath.canonicalString(),e.kind]}))}}(t);return delete r.indexId,n.add(r).next()}},{key:"deleteFieldIndex",value:function(e,t){var n=pv(e),r=vv(e),i=dv(e);return n.delete(t.indexId).next((function(){return r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))})).next((function(){return i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))}))}},{key:"getDocumentsMatchingTarget",value:function(e,t){var n=this,r=dv(e),i=!0,a=new Map;return kp.forEach(this.Qe(t),(function(t){return n.je(e,t).next((function(e){i&&(i=!!e),a.set(t,e)}))})).next((function(){if(i){var e=td(),o=[];return kp.forEach(a,(function(i,a){var u;Gc("IndexedDbIndexManager","Using index ".concat((u=i,"id=".concat(u.indexId,"|cg=").concat(u.collectionGroup,"|f=").concat(u.fields.map((function(e){return"".concat(e.fieldPath,":").concat(e.kind)})).join(",")))," to execute ").concat(Cf(t)));var s=function(e,t){var n=hf(t);if(void 0===n)return null;var r,i=_r(Of(e,n.fieldPath));try{for(i.s();!(r=i.n()).done;){var a=r.value;switch(a.op){case"array-contains-any":return a.value.arrayValue.values||[];case"array-contains":return[a.value]}}}catch(o){i.e(o)}finally{i.f()}return null}(a,i),c=function(e,t){var n,r=new Map,i=_r(df(t));try{for(i.s();!(n=i.n()).done;){var a,o=n.value,u=_r(Of(e,o.fieldPath));try{for(u.s();!(a=u.n()).done;){var s=a.value;switch(s.op){case"==":case"in":r.set(o.fieldPath.canonicalString(),s.value);break;case"not-in":case"!=":return r.set(o.fieldPath.canonicalString(),s.value),Array.from(r.values())}}}catch(c){u.e(c)}finally{u.f()}}}catch(c){i.e(c)}finally{i.f()}return null}(a,i),l=function(e,t){var n,r=[],i=!0,a=_r(df(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,u=0===o.kind?Pf(e,o.fieldPath,e.startAt):Df(e,o.fieldPath,e.startAt);r.push(u.value),i&&(i=u.inclusive)}}catch(s){a.e(s)}finally{a.f()}return new qf(r,i)}(a,i),f=function(e,t){var n,r=[],i=!0,a=_r(df(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,u=0===o.kind?Df(e,o.fieldPath,e.endAt):Pf(e,o.fieldPath,e.endAt);r.push(u.value),i&&(i=u.inclusive)}}catch(s){a.e(s)}finally{a.f()}return new qf(r,i)}(a,i),h=n.We(i,a,l),d=n.We(i,a,f),p=n.ze(i,a,c),v=n.He(i.indexId,s,h,l.inclusive,d,f.inclusive,p);return kp.forEach(v,(function(n){return r.Gt(n,t.limit).next((function(t){t.forEach((function(t){var n=jl.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),o.push(n))}))}))}))})).next((function(){return o}))}return kp.resolve(null)}))}},{key:"Qe",value:function(e){var t=this.Ge.get(e);return t||(t=[e],this.Ge.set(e,t),t)}},{key:"He",value:function(e,t,n,r,i,a,o){for(var u=this,s=(null!=t?t.length:1)*Math.max(n.length,i.length),c=s/(null!=t?t.length:1),l=[],f=function(s){var f=t?u.Je(t[s/c]):lv,h=u.Ye(e,f,n[s%c],r),d=u.Xe(e,f,i[s%c],a),p=o.map((function(t){return u.Ye(e,f,t,!0)}));l.push.apply(l,Ue(u.createRange(h,d,p)))},h=0;h<s;++h)f(h);return l}},{key:"Ye",value:function(e,t,n,r){var i=new iv(e,jl.empty(),t,n);return r?i:i.ke()}},{key:"Xe",value:function(e,t,n,r){var i=new iv(e,jl.empty(),t,n);return r?i.ke():i}},{key:"je",value:function(e,t){var n=new uv(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next((function(e){var t,r=null,i=_r(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;n.$e(a)&&(!r||a.fields.length>r.fields.length)&&(r=a)}}catch(o){i.e(o)}finally{i.f()}return r}))}},{key:"getIndexType",value:function(e,t){var n=this,r=2;return kp.forEach(this.Qe(t),(function(t){return n.je(e,t).next((function(e){e?0!==r&&e.fields.length<function(e){var t,n=new Sf(_l.comparator),r=!1,i=_r(e.filters);try{for(i.s();!(t=i.n()).done;){var a=t.value;a.field.isKeyField()||("array-contains"===a.op||"array-contains-any"===a.op?r=!0:n=n.add(a.field))}}catch(c){i.e(c)}finally{i.f()}var o,u=_r(e.orderBy);try{for(u.s();!(o=u.n()).done;){var s=o.value;s.field.isKeyField()||(n=n.add(s.field))}}catch(c){u.e(c)}finally{u.f()}return n.size+(r?1:0)}(t)&&(r=1):r=0}))})).next((function(){return r}))}},{key:"Ze",value:function(e,t){var n,r=new rv,i=_r(df(e));try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.fieldPath);if(null==o)return null;var u=r.Ne(a.kind);Xp.fe.Zt(o,u)}}catch(s){i.e(s)}finally{i.f()}return r.Se()}},{key:"Je",value:function(e){var t=new rv;return Xp.fe.Zt(e,t.Ne(0)),t.Se()}},{key:"tn",value:function(e,t){var n=new rv;return Xp.fe.Zt(Ql(this.databaseId,t),n.Ne(function(e){var t=df(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.Se()}},{key:"ze",value:function(e,t,n){if(null===n)return[];var r=[];r.push(new rv);var i,a=0,o=_r(df(e));try{for(o.s();!(i=o.n()).done;){var u,s=i.value,c=n[a++],l=_r(r);try{for(l.s();!(u=l.n()).done;){var f=u.value;if(this.en(t,s.fieldPath)&&Xl(c))r=this.nn(r,s,c);else{var h=f.Ne(s.kind);Xp.fe.Zt(c,h)}}}catch(d){l.e(d)}finally{l.f()}}}catch(d){o.e(d)}finally{o.f()}return this.sn(r)}},{key:"We",value:function(e,t,n){return this.ze(e,t,n.position)}},{key:"sn",value:function(e){for(var t=[],n=0;n<e.length;++n)t[n]=e[n].Se();return t}},{key:"nn",value:function(e,t,n){var r,i=Ue(e),a=[],o=_r(n.arrayValue.values||[]);try{for(o.s();!(r=o.n()).done;){var u,s=r.value,c=_r(i);try{for(c.s();!(u=c.n()).done;){var l=u.value,f=new rv;f.seed(l.Se()),Xp.fe.Zt(s,f.Ne(t.kind)),a.push(f)}}catch(h){c.e(h)}finally{c.f()}}}catch(h){o.e(h)}finally{o.f()}return a}},{key:"en",value:function(e,t){return!!e.filters.find((function(e){return e instanceof Rf&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)}))}},{key:"getFieldIndexes",value:function(e,t){var n=this,r=pv(e),i=vv(e);return(t?r.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.qt()).next((function(e){var t=[];return kp.forEach(e,(function(e){return i.get([e.indexId,n.uid]).next((function(n){t.push(function(e,t){var n=t?new vf(t.sequenceNumber,new gf(jp(t.readTime),new jl(Yd(t.documentKey)),t.largestBatchId)):vf.empty(),r=e.fields.map((function(e){var t=Le(e,2),n=t[0],r=t[1];return new pf(_l.fromServerFormat(n),r)}));return new ff(e.indexId,e.collectionGroup,r,n)}(e,n))}))})).next((function(){return t}))}))}},{key:"getNextCollectionGroupToUpdate",value:function(e){return this.getFieldIndexes(e).next((function(e){return 0===e.length?null:(e.sort((function(e,t){var n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:dl(e.collectionGroup,t.collectionGroup)})),e[0].collectionGroup)}))}},{key:"updateCollectionGroup",value:function(e,t,n){var r=this,i=pv(e),a=vv(e);return this.rn(e).next((function(e){return i.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)).next((function(t){return kp.forEach(t,(function(t){return a.put(function(e,t,n,r){return{indexId:e,uid:t.uid||"",sequenceNumber:n,readTime:Fp(r.readTime),documentKey:Kd(r.documentKey.path),largestBatchId:r.largestBatchId}}(t.indexId,r.user,e,n))}))}))}))}},{key:"updateIndexEntries",value:function(e,t){var n=this,r=new Map;return kp.forEach(t,(function(t,i){var a=r.get(t.collectionGroup);return(a?kp.resolve(a):n.getFieldIndexes(e,t.collectionGroup)).next((function(a){return r.set(t.collectionGroup,a),kp.forEach(a,(function(r){return n.on(e,t,r).next((function(t){var a=n.un(i,r);return t.isEqual(a)?kp.resolve():n.an(e,i,r,t,a)}))}))}))}))}},{key:"cn",value:function(e,t,n,r){return dv(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.tn(n,t.key),documentKey:t.key.path.toArray()})}},{key:"hn",value:function(e,t,n,r){return dv(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.tn(n,t.key),t.key.path.toArray()])}},{key:"on",value:function(e,t,n){var r=dv(e),i=new Sf(av);return r.Wt({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.tn(n,t)])},(function(e,r){i=i.add(new iv(n.indexId,t,r.arrayValue,r.directionalValue))})).next((function(){return i}))}},{key:"un",value:function(e,t){var n=new Sf(av),r=this.Ze(t,e);if(null==r)return n;var i=hf(t);if(null!=i){var a=e.data.field(i.fieldPath);if(Xl(a)){var o,u=_r(a.arrayValue.values||[]);try{for(u.s();!(o=u.n()).done;){var s=o.value;n=n.add(new iv(t.indexId,e.key,this.Je(s),r))}}catch(c){u.e(c)}finally{u.f()}}}else n=n.add(new iv(t.indexId,e.key,lv,r));return n}},{key:"an",value:function(e,t,n,r,i){var a=this;Gc("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);var o=[];return function(e,t,n,r,i){for(var a=e.getIterator(),o=t.getIterator(),u=Ef(a),s=Ef(o);u||s;){var c=!1,l=!1;if(u&&s){var f=n(u,s);f<0?l=!0:f>0&&(c=!0)}else null!=u?l=!0:c=!0;c?(r(s),s=Ef(o)):l?(i(u),u=Ef(a)):(u=Ef(a),s=Ef(o))}}(r,i,av,(function(r){o.push(a.cn(e,t,n,r))}),(function(r){o.push(a.hn(e,t,n,r))})),kp.waitFor(o)}},{key:"rn",value:function(e){var t=1;return vv(e).Wt({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(function(e,n,r){r.done(),t=n.sequenceNumber+1})).next((function(){return t}))}},{key:"createRange",value:function(e,t,n){n=n.sort((function(e,t){return av(e,t)})).filter((function(e,t,n){return!t||0!==av(e,n[t-1])}));var r=[];r.push(e);var i,a=_r(n);try{for(a.s();!(i=a.n()).done;){var o=i.value,u=av(o,e),s=av(o,t);if(0===u)r[0]=e.ke();else if(u>0&&s<0)r.push(o),r.push(o.ke());else if(s>0)break}}catch(f){a.e(f)}finally{a.f()}r.push(t);for(var c=[],l=0;l<r.length;l+=2)c.push(IDBKeyRange.bound([r[l].indexId,this.uid,r[l].arrayValue,r[l].directionalValue,lv,[]],[r[l+1].indexId,this.uid,r[l+1].arrayValue,r[l+1].directionalValue,lv,[]]));return c}},{key:"getMinOffset",value:function(e,t){var n,r=this;return kp.forEach(this.Qe(t),(function(t){return r.je(e,t).next((function(e){e?(!n||kf(e.indexState.offset,n)<0)&&(n=e.indexState.offset):n=gf.min()}))})).next((function(){return n}))}}]),e}();function hv(e){return Np(e,"collectionParents")}function dv(e){return Np(e,"indexEntries")}function pv(e){return Np(e,"indexConfiguration")}function vv(e){return Np(e,"indexState")}var mv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},yv=function(){function e(t,n,i){r(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}return a(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();function gv(e,t,n){var r=e.store("mutations"),i=e.store("documentMutations"),a=[],o=IDBKeyRange.only(n.batchId),u=0,s=r.Wt({range:o},(function(e,t,n){return u++,n.delete()}));a.push(s.next((function(){Xc(1===u)})));var c,l=[],f=_r(n.mutations);try{for(f.s();!(c=f.n()).done;){var h=c.value,d=Xd(t,h.key.path,n.batchId);a.push(i.delete(d)),l.push(h.key)}}catch(p){f.e(p)}finally{f.f()}return kp.waitFor(a).next((function(){return l}))}function kv(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw $c();t=e.noDocument}return JSON.stringify(t).length}yv.DEFAULT_COLLECTION_PERCENTILE=10,yv.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,yv.DEFAULT=new yv(41943040,yv.DEFAULT_COLLECTION_PERCENTILE,yv.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),yv.DISABLED=new yv(-1,0,0);var bv=function(){function e(t,n,i,a){r(this,e),this.userId=t,this.M=n,this.indexManager=i,this.referenceDelegate=a,this.ln={}}return a(e,[{key:"checkEmpty",value:function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return xv(e).Wt({index:"userMutationsIndex",range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this,a=Sv(e),o=xv(e);return o.add({}).next((function(u){Xc("number"==typeof u);var s,c=new Op(u,t,n,r),l=function(e,t,n){var r=n.baseMutations.map((function(t){return Od(e.Jt,t)})),i=n.mutations.map((function(t){return Od(e.Jt,t)}));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(i.M,i.userId,c),f=[],h=new Sf((function(e,t){return dl(e.canonicalString(),t.canonicalString())})),d=_r(r);try{for(d.s();!(s=d.n()).done;){var p=s.value,v=Xd(i.userId,p.key.path,u);h=h.add(p.key.path.popLast()),f.push(o.put(l)),f.push(a.put(v,Jd))}}catch(m){d.e(m)}finally{d.f()}return h.forEach((function(t){f.push(i.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.ln[u]=c.keys()})),kp.waitFor(f).next((function(){return c}))}))}},{key:"lookupMutationBatch",value:function(e,t){var n=this;return xv(e).get(t).next((function(e){return e?(Xc(e.userId===n.userId),Vp(n.M,e)):null}))}},{key:"fn",value:function(e,t){var n=this;return this.ln[t]?kp.resolve(this.ln[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.ln[t]=r,r}return null}))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),a=null;return xv(e).Wt({index:"userMutationsIndex",range:i},(function(e,t,i){t.userId===n.userId&&(Xc(t.batchId>=r),a=Vp(n.M,t)),i.done()})).next((function(){return a}))}},{key:"getHighestUnacknowledgedBatchId",value:function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return xv(e).Wt({index:"userMutationsIndex",range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))}},{key:"getAllMutationBatches",value:function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return xv(e).qt("userMutationsIndex",n).next((function(e){return e.map((function(e){return Vp(t.M,e)}))}))}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=$d(this.userId,t.path),i=IDBKeyRange.lowerBound(r),a=[];return Sv(e).Wt({range:i},(function(r,i,o){var u=Le(r,3),s=u[0],c=u[1],l=u[2],f=Yd(c);if(s===n.userId&&t.path.isEqual(f))return xv(e).get(l).next((function(e){if(!e)throw $c();Xc(e.userId===n.userId),a.push(Vp(n.M,e))}));o.done()})).next((function(){return a}))}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new Sf(dl),i=[];return t.forEach((function(t){var a=$d(n.userId,t.path),o=IDBKeyRange.lowerBound(a),u=Sv(e).Wt({range:o},(function(e,i,a){var o=Le(e,3),u=o[0],s=o[1],c=o[2],l=Yd(s);u===n.userId&&t.path.isEqual(l)?r=r.add(c):a.done()}));i.push(u)})),kp.waitFor(i).next((function(){return n.dn(e,r)}))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=this,r=t.path,i=r.length+1,a=$d(this.userId,r),o=IDBKeyRange.lowerBound(a),u=new Sf(dl);return Sv(e).Wt({range:o},(function(e,t,a){var o=Le(e,3),s=o[0],c=o[1],l=o[2],f=Yd(c);s===n.userId&&r.isPrefixOf(f)?f.length===i&&(u=u.add(l)):a.done()})).next((function(){return n.dn(e,u)}))}},{key:"dn",value:function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(xv(e).get(t).next((function(e){if(null===e)throw $c();Xc(e.userId===n.userId),r.push(Vp(n.M,e))})))})),kp.waitFor(i).next((function(){return r}))}},{key:"removeMutationBatch",value:function(e,t){var n=this;return gv(e.Ht,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n._n(t.batchId)})),kp.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))}},{key:"_n",value:function(e){delete this.ln[e]}},{key:"performConsistencyCheck",value:function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return kp.resolve();var r=IDBKeyRange.lowerBound([t.userId]),i=[];return Sv(e).Wt({range:r},(function(e,n,r){if(e[0]===t.userId){var a=Yd(e[1]);i.push(a)}else r.done()})).next((function(){Xc(0===i.length)}))}))}},{key:"containsKey",value:function(e,t){return wv(e,this.userId,t)}},{key:"wn",value:function(e){var t=this;return _v(e).get(this.userId).next((function(e){return e||{userId:t.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}}))}}],[{key:"Yt",value:function(t,n,r,i){return Xc(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)}}]),e}();function wv(e,t,n){var r=$d(t,n.path),i=r[1],a=IDBKeyRange.lowerBound(r),o=!1;return Sv(e).Wt({range:a,jt:!0},(function(e,n,r){var a=Le(e,3),u=a[0],s=a[1];a[2];u===t&&s===i&&(o=!0),r.done()})).next((function(){return o}))}function xv(e){return Np(e,"mutations")}function Sv(e){return Np(e,"documentMutations")}function _v(e){return Np(e,"mutationQueues")}var Ev=function(){function e(t){r(this,e),this.mn=t}return a(e,[{key:"next",value:function(){return this.mn+=2,this.mn}}],[{key:"gn",value:function(){return new e(0)}},{key:"yn",value:function(){return new e(-1)}}]),e}(),Iv=function(){function e(t,n){r(this,e),this.referenceDelegate=t,this.M=n}return a(e,[{key:"allocateTargetId",value:function(e){var t=this;return this.pn(e).next((function(n){var r=new Ev(n.highestTargetId);return n.highestTargetId=r.next(),t.In(e,n).next((function(){return n.highestTargetId}))}))}},{key:"getLastRemoteSnapshotVersion",value:function(e){return this.pn(e).next((function(e){return yl.fromTimestamp(new ml(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))}},{key:"getHighestSequenceNumber",value:function(e){return this.pn(e).next((function(e){return e.highestListenSequenceNumber}))}},{key:"setTargetsMetadata",value:function(e,t,n){var r=this;return this.pn(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.In(e,i)}))}},{key:"addTargetData",value:function(e,t){var n=this;return this.Tn(e,t).next((function(){return n.pn(e).next((function(r){return r.targetCount+=1,n.En(t,r),n.In(e,r)}))}))}},{key:"updateTargetData",value:function(e,t){return this.Tn(e,t)}},{key:"removeTargetData",value:function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return Tv(e).delete(t.targetId)})).next((function(){return n.pn(e)})).next((function(t){return Xc(t.targetCount>0),t.targetCount-=1,n.In(e,t)}))}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return Tv(e).Wt((function(o,u){var s=Bp(u);s.sequenceNumber<=t&&null===n.get(s.targetId)&&(i++,a.push(r.removeTargetData(e,s)))})).next((function(){return kp.waitFor(a)})).next((function(){return i}))}},{key:"forEachTarget",value:function(e,t){return Tv(e).Wt((function(e,n){var r=Bp(n);t(r)}))}},{key:"pn",value:function(e){return Cv(e).get("targetGlobalKey").next((function(e){return Xc(null!==e),e}))}},{key:"In",value:function(e,t){return Cv(e).put("targetGlobalKey",t)}},{key:"Tn",value:function(e,t){return Tv(e).put(zp(this.M,t))}},{key:"En",value:function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}},{key:"getTargetCount",value:function(e){return this.pn(e).next((function(e){return e.targetCount}))}},{key:"getTargetData",value:function(e,t){var n=Cf(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return Tv(e).Wt({range:r,index:"queryTargetsIndex"},(function(e,n,r){var a=Bp(n);Af(t,a.target)&&(i=a,r.done())})).next((function(){return i}))}},{key:"addMatchingKeys",value:function(e,t,n){var r=this,i=[],a=Av(e);return t.forEach((function(t){var o=Kd(t.path);i.push(a.put({targetId:n,path:o})),i.push(r.referenceDelegate.addReference(e,n,t))})),kp.waitFor(i)}},{key:"removeMatchingKeys",value:function(e,t,n){var r=this,i=Av(e);return kp.forEach(t,(function(t){var a=Kd(t.path);return kp.waitFor([i.delete([n,a]),r.referenceDelegate.removeReference(e,n,t)])}))}},{key:"removeMatchingKeysForTargetId",value:function(e,t){var n=Av(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=Av(e),i=td();return r.Wt({range:n,jt:!0},(function(e,t,n){var r=Yd(e[1]),a=new jl(r);i=i.add(a)})).next((function(){return i}))}},{key:"containsKey",value:function(e,t){var n=Kd(t.path),r=IDBKeyRange.bound([n],[vl(n)],!1,!0),i=0;return Av(e).Wt({index:"documentTargetsIndex",jt:!0,range:r},(function(e,t,n){var r=Le(e,2),a=r[0];r[1];0!==a&&(i++,n.done())})).next((function(){return i>0}))}},{key:"Et",value:function(e,t){return Tv(e).get(t).next((function(e){return e?Bp(e):null}))}}]),e}();function Tv(e){return Np(e,"targets")}function Cv(e){return Np(e,"targetGlobal")}function Av(e){return Np(e,"targetDocuments")}function Nv(e){return Ov.apply(this,arguments)}function Ov(){return Ov=wr(Sr().mark((function e(t){return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===Zc.FAILED_PRECONDITION&&t.message===yp){e.next=2;break}throw t;case 2:Gc("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)}))),Ov.apply(this,arguments)}function Pv(e,t){var n=Le(e,2),r=n[0],i=n[1],a=Le(t,2),o=a[0],u=a[1],s=dl(r,o);return 0===s?dl(i,u):s}var Dv=function(){function e(t){r(this,e),this.An=t,this.buffer=new Sf(Pv),this.Rn=0}return a(e,[{key:"bn",value:function(){return++this.Rn}},{key:"Pn",value:function(e){var t=[e,this.bn()];if(this.buffer.size<this.An)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();Pv(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}},{key:"maxValue",get:function(){return this.buffer.last()[0]}}]),e}(),Rv=function(){function e(t,n){r(this,e),this.garbageCollector=t,this.asyncQueue=n,this.Vn=!1,this.vn=null}return a(e,[{key:"start",value:function(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Sn(e)}},{key:"stop",value:function(){this.vn&&(this.vn.cancel(),this.vn=null)}},{key:"started",get:function(){return null!==this.vn}},{key:"Sn",value:function(e){var t=this,n=this.Vn?3e5:6e4;Gc("LruGarbageCollector","Garbage collection scheduled in ".concat(n,"ms")),this.vn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,wr(Sr().mark((function n(){return Sr().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t.vn=null,t.Vn=!0,n.prev=1,n.next=4,e.collectGarbage(t.garbageCollector);case 4:n.next=14;break;case 6:if(n.prev=6,n.t0=n.catch(1),!_p(n.t0)){n.next=12;break}Gc("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n.t0),n.next=14;break;case 12:return n.next=14,Nv(n.t0);case 14:return n.next=16,t.Sn(e);case 16:case"end":return n.stop()}}),n,null,[[1,6]])}))))}}]),e}(),Lv=function(){function e(t,n){r(this,e),this.Dn=t,this.params=n}return a(e,[{key:"calculateTargetCount",value:function(e,t){return this.Dn.Cn(e).next((function(e){return Math.floor(t/100*e)}))}},{key:"nthSequenceNumber",value:function(e,t){var n=this;if(0===t)return kp.resolve(ll.A);var r=new Dv(t);return this.Dn.forEachTarget(e,(function(e){return r.Pn(e.sequenceNumber)})).next((function(){return n.Dn.xn(e,(function(e){return r.Pn(e)}))})).next((function(){return r.maxValue}))}},{key:"removeTargets",value:function(e,t,n){return this.Dn.removeTargets(e,t,n)}},{key:"removeOrphanedDocuments",value:function(e,t){return this.Dn.removeOrphanedDocuments(e,t)}},{key:"collect",value:function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(Gc("LruGarbageCollector","Garbage collection skipped; disabled"),kp.resolve(mv)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(Gc("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(r," is lower than threshold ").concat(n.params.cacheSizeCollectionThreshold)),mv):n.Nn(e,t)}))}},{key:"getCacheSize",value:function(e){return this.Dn.getCacheSize(e)}},{key:"Nn",value:function(e,t){var n,r,i,a,o,u,s,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>c.params.maximumSequenceNumbersToCollect?(Gc("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(c.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=c.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,o=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return i=t,u=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return s=Date.now(),Kc()<=oi.DEBUG&&Gc("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(a-l,"ms\n\tDetermined least recently used ").concat(r," in ")+(o-a)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(u-o)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(s-u)+"ms\n"+"Total Duration: ".concat(s-l,"ms")),kp.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))}}]),e}(),Mv=function(){function e(t,n){r(this,e),this.db=t,this.garbageCollector=function(e,t){return new Lv(e,t)}(this,n)}return a(e,[{key:"Cn",value:function(e){var t=this.kn(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))}},{key:"kn",value:function(e){var t=0;return this.xn(e,(function(e){t++})).next((function(){return t}))}},{key:"forEachTarget",value:function(e,t){return this.db.getTargetCache().forEachTarget(e,t)}},{key:"xn",value:function(e,t){return this.Mn(e,(function(e,n){return t(n)}))}},{key:"addReference",value:function(e,t,n){return Uv(e,n)}},{key:"removeReference",value:function(e,t,n){return Uv(e,n)}},{key:"removeTargets",value:function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}},{key:"markPotentiallyOrphaned",value:function(e,t){return Uv(e,t)}},{key:"On",value:function(e,t){return function(e,t){var n=!1;return _v(e).zt((function(r){return wv(e,r,t).next((function(e){return e&&(n=!0),kp.resolve(!e)}))})).next((function(){return n}))}(e,t)}},{key:"removeOrphanedDocuments",value:function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],a=0;return this.Mn(e,(function(o,u){if(u<=t){var s=n.On(e,o).next((function(t){if(!t)return a++,r.getEntry(e,o).next((function(){return r.removeEntry(o,yl.min()),Av(e).delete([0,Kd(o.path)])}))}));i.push(s)}})).next((function(){return kp.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return a}))}},{key:"removeTarget",value:function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}},{key:"updateLimboDocument",value:function(e,t){return Uv(e,t)}},{key:"Mn",value:function(e,t){var n,r=Av(e),i=ll.A;return r.Wt({index:"documentTargetsIndex"},(function(e,r){var a=Le(e,2),o=a[0],u=(a[1],r.path),s=r.sequenceNumber;0===o?(i!==ll.A&&t(new jl(Yd(n)),i),i=s,n=u):i=ll.A})).next((function(){i!==ll.A&&t(new jl(Yd(n)),i)}))}},{key:"getCacheSize",value:function(e){return this.db.getRemoteDocumentCache().getSize(e)}}]),e}();function Uv(e,t){return Av(e).put(function(e,t){return{targetId:0,path:Kd(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}var Fv=function(){function e(){r(this,e),this.changes=new Wh((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return a(e,[{key:"addEntry",value:function(e){this.assertNotApplied(),this.changes.set(e.key,e)}},{key:"removeEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e,lf.newInvalidDocument(e).setReadTime(t))}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?kp.resolve(n):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}(),jv=function(){function e(t){r(this,e),this.M=t}return a(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t,n){return zv(e).put(n)}},{key:"removeEntry",value:function(e,t,n){return zv(e).delete(function(e,t){var n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],Up(t),n[n.length-1]]}(t,n))}},{key:"updateMetadata",value:function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.Fn(e,r)}))}},{key:"getEntry",value:function(e,t){var n=this,r=lf.newInvalidDocument(t);return zv(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(qv(t))},(function(e,i){r=n.$n(t,i)})).next((function(){return r}))}},{key:"Bn",value:function(e,t){var n=this,r={size:0,document:lf.newInvalidDocument(t)};return zv(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(qv(t))},(function(e,i){r={document:n.$n(t,i),size:kv(i)}})).next((function(){return r}))}},{key:"getEntries",value:function(e,t){var n=this,r=Qh();return this.Ln(e,t,(function(e,t){var i=n.$n(e,t);r=r.insert(e,i)})).next((function(){return r}))}},{key:"Un",value:function(e,t){var n=this,r=Qh(),i=new bf(jl.comparator);return this.Ln(e,t,(function(e,t){var a=n.$n(e,t);r=r.insert(e,a),i=i.insert(e,kv(t))})).next((function(){return{documents:r,qn:i}}))}},{key:"Ln",value:function(e,t,n){if(t.isEmpty())return kp.resolve();var r=new Sf(Kv);t.forEach((function(e){return r=r.add(e)}));var i=IDBKeyRange.bound(qv(r.first()),qv(r.last())),a=r.getIterator(),o=a.getNext();return zv(e).Wt({index:"documentKeyIndex",range:i},(function(e,t,r){for(var i=jl.fromSegments([].concat(Ue(t.prefixPath),[t.collectionGroup,t.documentId]));o&&Kv(o,i)<0;)n(o,null),o=a.getNext();o&&o.isEqual(i)&&(n(o,t),o=a.hasNext()?a.getNext():null),o?r.Ut(qv(o)):r.done()})).next((function(){for(;o;)n(o,null),o=a.hasNext()?a.getNext():null}))}},{key:"getAllFromCollection",value:function(e,t,n){var r=this,i=[t.popLast().toArray(),t.lastSegment(),Up(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],a=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return zv(e).qt(IDBKeyRange.bound(i,a,!0)).next((function(e){var t,n=Qh(),i=_r(e);try{for(i.s();!(t=i.n()).done;){var a=t.value,o=r.$n(jl.fromSegments(a.prefixPath.concat(a.collectionGroup,a.documentId)),a);n=n.insert(o.key,o)}}catch(u){i.e(u)}finally{i.f()}return n}))}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){var i=this,a=Qh(),o=Hv(t,n),u=Hv(t,gf.max());return zv(e).Wt({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,u,!0)},(function(e,t,n){var o=i.$n(jl.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);(a=a.insert(o.key,o)).size===r&&n.done()})).next((function(){return a}))}},{key:"newChangeBuffer",value:function(e){return new Vv(this,!!e&&e.trackRemovals)}},{key:"getSize",value:function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))}},{key:"getMetadata",value:function(e){return Bv(e).get("remoteDocumentGlobalKey").next((function(e){return Xc(!!e),e}))}},{key:"Fn",value:function(e,t){return Bv(e).put("remoteDocumentGlobalKey",t)}},{key:"$n",value:function(e,t){if(t){var n=function(e,t){var n;if(t.document)n=Ad(e.Jt,t.document,!!t.hasCommittedMutations);else if(t.noDocument){var r=jl.fromSegments(t.noDocument.path),i=jp(t.noDocument.readTime);n=lf.newNoDocument(r,i),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return $c();var a=jl.fromSegments(t.unknownDocument.path),o=jp(t.unknownDocument.version);n=lf.newUnknownDocument(a,o)}return t.readTime&&n.setReadTime(function(e){var t=new ml(e[0],e[1]);return yl.fromTimestamp(t)}(t.readTime)),n}(this.M,t);if(!n.isNoDocument()||!n.version.isEqual(yl.min()))return n}return lf.newInvalidDocument(e)}}]),e}(),Vv=function(e){u(n,e);var t=d(n);function n(e,i){var a;return r(this,n),(a=t.call(this)).Kn=e,a.trackRemovals=i,a.Gn=new Wh((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),a}return a(n,[{key:"applyChanges",value:function(e){var t=this,n=[],r=0,i=new Sf((function(e,t){return dl(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(a,o){var u=t.Gn.get(a);if(n.push(t.Kn.removeEntry(e,a,u.readTime)),o.isValidDocument()){var s=Mp(t.Kn.M,o);i=i.add(a.path.popLast());var c=kv(s);r+=c-u.size,n.push(t.Kn.addEntry(e,a,s))}else if(r-=u.size,t.trackRemovals){var l=Mp(t.Kn.M,o.convertToNoDocument(yl.min()));n.push(t.Kn.addEntry(e,a,l))}})),i.forEach((function(r){n.push(t.Kn.indexManager.addToCollectionParentIndex(e,r))})),n.push(this.Kn.updateMetadata(e,r)),kp.waitFor(n)}},{key:"getFromCache",value:function(e,t){var n=this;return this.Kn.Bn(e,t).next((function(e){return n.Gn.set(t,{size:e.size,readTime:e.document.readTime}),e.document}))}},{key:"getAllFromCache",value:function(e,t){var n=this;return this.Kn.Un(e,t).next((function(e){var t=e.documents;return e.qn.forEach((function(e,r){n.Gn.set(e,{size:r,readTime:t.get(e).readTime})})),t}))}}]),n}(Fv);function Bv(e){return Np(e,"remoteDocumentGlobal")}function zv(e){return Np(e,"remoteDocumentsV14")}function qv(e){var t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function Hv(e,t){var n=t.documentKey.path.toArray();return[e,Up(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function Kv(e,t){for(var n=e.path.toArray(),r=t.path.toArray(),i=0,a=0;a<n.length-2&&a<r.length-2;++a)if(i=dl(n[a],r[a]))return i;return(i=dl(n.length,r.length))||((i=dl(n[n.length-2],r[r.length-2]))||dl(n[n.length-1],r[r.length-1]))}var Gv=function(){function e(t){r(this,e),this.M=t}return a(e,[{key:"kt",value:function(e,t,n,r){var i=this,a=new bp("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Qd,{unique:!0}),e.createObjectStore("documentMutations")}(e),Wv(e),function(e){e.createObjectStore("remoteDocuments")}(e));var o=kp.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),Wv(e)),o=o.next((function(){return function(e){var t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:yl.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(a)}))),n<4&&r>=4&&(0!==n&&(o=o.next((function(){return function(e,t){return t.store("mutations").qt().next((function(n){e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Qd,{unique:!0});var r=t.store("mutations"),i=n.map((function(e){return r.put(e)}));return kp.waitFor(i)}))}(e,a)}))),o=o.next((function(){!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)}))),n<5&&r>=5&&(o=o.next((function(){return i.Qn(a)}))),n<6&&r>=6&&(o=o.next((function(){return function(e){e.createObjectStore("remoteDocumentGlobal")}(e),i.jn(a)}))),n<7&&r>=7&&(o=o.next((function(){return i.Wn(a)}))),n<8&&r>=8&&(o=o.next((function(){return i.zn(e,a)}))),n<9&&r>=9&&(o=o.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)}))),n<10&&r>=10&&(o=o.next((function(){return i.Hn(a)}))),n<11&&r>=11&&(o=o.next((function(){!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)}))),n<12&&r>=12&&(o=o.next((function(){!function(e){var t=e.createObjectStore("documentOverlays",{keyPath:lp});t.createIndex("collectionPathOverlayIndex",fp,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",hp,{unique:!1})}(e)}))),n<13&&r>=13&&(o=o.next((function(){return function(e){var t=e.createObjectStore("remoteDocumentsV14",{keyPath:Zd});t.createIndex("documentKeyIndex",ep),t.createIndex("collectionGroupIndex",tp)}(e)})).next((function(){return i.Jn(e,a)})).next((function(){return e.deleteObjectStore("remoteDocuments")}))),n<14&&r>=14&&(o=o.next((function(){!function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:op}).createIndex("sequenceNumberIndex",up,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:sp}).createIndex("documentKeyIndex",cp,{unique:!1})}(e)}))),o}},{key:"jn",value:function(e){var t=0;return e.store("remoteDocuments").Wt((function(e,n){t+=kv(n)})).next((function(){var n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}},{key:"Qn",value:function(e){var t=this,n=e.store("mutationQueues"),r=e.store("mutations");return n.qt().next((function(n){return kp.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.qt("userMutationsIndex",i).next((function(r){return kp.forEach(r,(function(r){Xc(r.userId===n.userId);var i=Vp(t.M,r);return gv(e,n.userId,i).next((function(){}))}))}))}))}))}},{key:"Wn",value:function(e){var t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((function(e){var r=[];return n.Wt((function(n,i){var a=new xl(n),o=function(e){return[0,Kd(e)]}(a);r.push(t.get(o).next((function(n){return n?kp.resolve():function(n){return t.put({targetId:0,path:Kd(n),sequenceNumber:e.highestListenSequenceNumber})}(a)})))})).next((function(){return kp.waitFor(r)}))}))}},{key:"zn",value:function(e,t){e.createObjectStore("collectionParents",{keyPath:ap});var n=t.store("collectionParents"),r=new cv,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:Kd(i)})}};return t.store("remoteDocuments").Wt({jt:!0},(function(e,t){var n=new xl(e);return i(n.popLast())})).next((function(){return t.store("documentMutations").Wt({jt:!0},(function(e,t){var n=Le(e,3),r=(n[0],n[1]),a=(n[2],Yd(r));return i(a.popLast())}))}))}},{key:"Hn",value:function(e){var t=this,n=e.store("targets");return n.Wt((function(e,r){var i=Bp(r),a=zp(t.M,i);return n.put(a)}))}},{key:"Jn",value:function(e,t){var n=t.store("remoteDocuments"),r=[];return n.Wt((function(e,n){var i,a=t.store("remoteDocumentsV14"),o=(i=n,i.document?new jl(xl.fromString(i.document.name).popFirst(5)):i.noDocument?jl.fromSegments(i.noDocument.path):i.unknownDocument?jl.fromSegments(i.unknownDocument.path):$c()).path.toArray(),u={prefixPath:o.slice(0,o.length-2),collectionGroup:o[o.length-2],documentId:o[o.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(a.put(u))})).next((function(){return kp.waitFor(r)}))}}]),e}();function Wv(e){e.createObjectStore("targetDocuments",{keyPath:rp}).createIndex("documentTargetsIndex",ip,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",np,{unique:!0}),e.createObjectStore("targetGlobal")}var Yv="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Qv=function(){function e(t,n,i,a,o,u,s,c,l,f){var h=arguments.length>10&&void 0!==arguments[10]?arguments[10]:13;if(r(this,e),this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=i,this.Yn=o,this.window=u,this.document=s,this.Xn=l,this.Zn=f,this.ts=h,this.es=null,this.ns=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ss=null,this.inForeground=!1,this.rs=null,this.os=null,this.us=Number.NEGATIVE_INFINITY,this.cs=function(e){return Promise.resolve()},!e.vt())throw new el(Zc.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Mv(this,a),this.hs=n+"main",this.M=new Lp(c),this.ls=new wp(this.hs,this.ts,new Gv(this.M)),this.fs=new Iv(this.referenceDelegate,this.M),this.ds=function(e){return new jv(e)}(this.M),this._s=new Gp,this.window&&this.window.localStorage?this.ws=this.window.localStorage:(this.ws=null,!1===f&&Wc("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return a(e,[{key:"start",value:function(){var e=this;return this.gs().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new el(Zc.FAILED_PRECONDITION,Yv);return e.ys(),e.ps(),e.Is(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.fs.getHighestSequenceNumber(t)}))})).then((function(t){e.es=new ll(t,e.Xn)})).then((function(){e.ns=!0})).catch((function(t){return e.ls&&e.ls.close(),Promise.reject(t)}))}},{key:"Ts",value:function(e){var t=this;return this.cs=function(){var n=wr(Sr().mark((function n(r){return Sr().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.started){n.next=2;break}return n.abrupt("return",e(r));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),e(this.isPrimary)}},{key:"setDatabaseDeletedListener",value:function(e){this.ls.Ot(function(){var t=wr(Sr().mark((function t(n){return Sr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=null===n.newVersion,!t.t0){t.next=4;break}return t.next=4,e();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"setNetworkEnabled",value:function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Yn.enqueueAndForget(wr(Sr().mark((function e(){return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.started,!e.t0){e.next=4;break}return e.next=4,t.gs();case 4:case"end":return e.stop()}}),e)})))))}},{key:"gs",value:function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return Xv(t).put({clientId:e.clientId,updateTimeMs:Date.now(),networkEnabled:e.networkEnabled,inForeground:e.inForeground}).next((function(){if(e.isPrimary)return e.Es(t).next((function(t){t||(e.isPrimary=!1,e.Yn.enqueueRetryable((function(){return e.cs(!1)})))}))})).next((function(){return e.As(t)})).next((function(n){return e.isPrimary&&!n?e.Rs(t).next((function(){return!1})):!!n&&e.bs(t).next((function(){return!0}))}))})).catch((function(t){if(_p(t))return Gc("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return Gc("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.Yn.enqueueRetryable((function(){return e.cs(t)})),e.isPrimary=t}))}},{key:"Es",value:function(e){var t=this;return $v(e).get("owner").next((function(e){return kp.resolve(t.Ps(e))}))}},{key:"Vs",value:function(e){return Xv(e).delete(this.clientId)}},{key:"vs",value:function(){var e=wr(Sr().mark((function e(){var t,n,r,i,a=this;return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isPrimary||this.Ss(this.us,18e5)){e.next=6;break}return this.us=Date.now(),e.next=4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=Np(e,"clientMetadata");return t.qt().next((function(e){var n=a.Ds(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return kp.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}));case 4:if(t=e.sent,this.ws){n=_r(t);try{for(n.s();!(r=n.n()).done;)i=r.value,this.ws.removeItem(this.Cs(i.clientId))}catch(o){n.e(o)}finally{n.f()}}case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Is",value:function(){var e=this;this.os=this.Yn.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.gs().then((function(){return e.vs()})).then((function(){return e.Is()}))}))}},{key:"Ps",value:function(e){return!!e&&e.ownerId===this.clientId}},{key:"As",value:function(e){var t=this;return this.Zn?kp.resolve(!0):$v(e).get("owner").next((function(n){if(null!==n&&t.Ss(n.leaseTimestampMs,5e3)&&!t.xs(n.ownerId)){if(t.Ps(n)&&t.networkEnabled)return!0;if(!t.Ps(n)){if(!n.allowTabSynchronization)throw new el(Zc.FAILED_PRECONDITION,Yv);return!1}}return!(!t.networkEnabled||!t.inForeground)||Xv(e).qt().next((function(e){return void 0===t.Ds(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&Gc("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e}))}},{key:"shutdown",value:function(){var e=wr(Sr().mark((function e(){var t=this;return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.ns=!1,this.Ns(),this.os&&(this.os.cancel(),this.os=null),this.ks(),this.Ms(),e.next=7,this.ls.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(function(e){var n=new Ap(e,ll.A);return t.Rs(n).next((function(){return t.Vs(n)}))}));case 7:this.ls.close(),this.Os();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Ds",value:function(e,t){var n=this;return e.filter((function(e){return n.Ss(e.updateTimeMs,t)&&!n.xs(e.clientId)}))}},{key:"Fs",value:function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return Xv(t).qt().next((function(t){return e.Ds(t,18e5).map((function(e){return e.clientId}))}))}))}},{key:"started",get:function(){return this.ns}},{key:"getMutationQueue",value:function(e,t){return bv.Yt(e,this.M,t,this.referenceDelegate)}},{key:"getTargetCache",value:function(){return this.fs}},{key:"getRemoteDocumentCache",value:function(){return this.ds}},{key:"getIndexManager",value:function(e){return new fv(e,this.M.Jt.databaseId)}},{key:"getDocumentOverlayCache",value:function(e){return Qp.Yt(this.M,e)}},{key:"getBundleCache",value:function(){return this._s}},{key:"runTransaction",value:function(e,t,n){var r=this;Gc("IndexedDbPersistence","Starting transaction:",e);var i,a,o="readonly"===t?"readonly":"readwrite",u=14===(i=this.ts)?mp:13===i?vp:12===i?pp:11===i?dp:void $c();return this.ls.runTransaction(e,o,u,(function(i){return a=new Ap(i,r.es?r.es.next():ll.A),"readwrite-primary"===t?r.Es(a).next((function(e){return!!e||r.As(a)})).next((function(t){if(!t)throw Wc("Failed to obtain primary lease for action '".concat(e,"'.")),r.isPrimary=!1,r.Yn.enqueueRetryable((function(){return r.cs(!1)})),new el(Zc.FAILED_PRECONDITION,yp);return n(a)})).next((function(e){return r.bs(a).next((function(){return e}))})):r.$s(a).next((function(){return n(a)}))})).then((function(e){return a.raiseOnCommittedEvent(),e}))}},{key:"$s",value:function(e){var t=this;return $v(e).get("owner").next((function(e){if(null!==e&&t.Ss(e.leaseTimestampMs,5e3)&&!t.xs(e.ownerId)&&!t.Ps(e)&&!(t.Zn||t.allowTabSynchronization&&e.allowTabSynchronization))throw new el(Zc.FAILED_PRECONDITION,Yv)}))}},{key:"bs",value:function(e){var t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return $v(e).put("owner",t)}},{key:"Rs",value:function(e){var t=this,n=$v(e);return n.get("owner").next((function(e){return t.Ps(e)?(Gc("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):kp.resolve()}))}},{key:"Ss",value:function(e,t){var n=Date.now();return!(e<n-t)&&(!(e>n)||(Wc("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}},{key:"ys",value:function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.rs=function(){e.Yn.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.gs()}))},this.document.addEventListener("visibilitychange",this.rs),this.inForeground="visible"===this.document.visibilityState)}},{key:"ks",value:function(){this.rs&&(this.document.removeEventListener("visibilitychange",this.rs),this.rs=null)}},{key:"ps",value:function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ss=function(){t.Ns(),!Ur()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")&&navigator.appVersion.match(/Version\/1[45]/)&&t.Yn.enterRestrictedMode(!0),t.Yn.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("pagehide",this.ss))}},{key:"Ms",value:function(){this.ss&&(this.window.removeEventListener("pagehide",this.ss),this.ss=null)}},{key:"xs",value:function(e){var t;try{var n=null!==(null===(t=this.ws)||void 0===t?void 0:t.getItem(this.Cs(e)));return Gc("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return Wc("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}},{key:"Ns",value:function(){if(this.ws)try{this.ws.setItem(this.Cs(this.clientId),String(Date.now()))}catch(za){Wc("Failed to set zombie client id.",za)}}},{key:"Os",value:function(){if(this.ws)try{this.ws.removeItem(this.Cs(this.clientId))}catch(za){}}},{key:"Cs",value:function(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}],[{key:"vt",value:function(){return wp.vt()}}]),e}();function $v(e){return Np(e,"owner")}function Xv(e){return Np(e,"clientMetadata")}function Jv(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var Zv=function(){function e(t,n,i){r(this,e),this.ds=t,this.Bs=n,this.indexManager=i}return a(e,[{key:"Ls",value:function(e,t){var n=this;return this.Bs.getAllMutationBatchesAffectingDocumentKey(e,t).next((function(r){return n.Us(e,t,r)}))}},{key:"Us",value:function(e,t,n){return this.ds.getEntry(e,t).next((function(e){var t,r=_r(n);try{for(r.s();!(t=r.n()).done;){t.value.applyToLocalView(e)}}catch(i){r.e(i)}finally{r.f()}return e}))}},{key:"qs",value:function(e,t){e.forEach((function(e,n){var r,i=_r(t);try{for(i.s();!(r=i.n()).done;){r.value.applyToLocalView(n)}}catch(a){i.e(a)}finally{i.f()}}))}},{key:"Ks",value:function(e,t){var n=this;return this.ds.getEntries(e,t).next((function(t){return n.Gs(e,t).next((function(){return t}))}))}},{key:"Gs",value:function(e,t){var n=this;return this.Bs.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){return n.qs(t,e)}))}},{key:"Qs",value:function(e,t,n){return function(e){return jl.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.js(e,t.path):Zf(t)?this.Ws(e,t,n):this.zs(e,t,n)}},{key:"js",value:function(e,t){return this.Ls(e,new jl(t)).next((function(e){var t=Xh();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"Ws",value:function(e,t,n){var r=this,i=t.collectionGroup,a=Xh();return this.indexManager.getCollectionParents(e,i).next((function(o){return kp.forEach(o,(function(o){var u=function(e,t){return new Yf(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return r.zs(e,u,n).next((function(e){e.forEach((function(e,t){a=a.insert(e,t)}))}))})).next((function(){return a}))}))}},{key:"zs",value:function(e,t,n){var r,i=this;return this.ds.getAllFromCollection(e,t.path,n).next((function(n){return r=n,i.Bs.getAllMutationBatchesAffectingQuery(e,t)})).next((function(e){var t,n=_r(e);try{for(n.s();!(t=n.n()).done;){var i,a=t.value,o=_r(a.mutations);try{for(o.s();!(i=o.n()).done;){var u=i.value,s=u.key,c=r.get(s);null==c&&(c=lf.newInvalidDocument(s),r=r.insert(s,c)),Oh(u,c,a.localWriteTime),c.isFoundDocument()||(r=r.remove(s))}}catch(l){o.e(l)}finally{o.f()}}}catch(l){n.e(l)}finally{n.f()}})).next((function(){return r.forEach((function(e,n){oh(t,n)||(r=r.remove(e))})),r}))}}]),e}(),em=function(){function e(t,n,i,a){r(this,e),this.targetId=t,this.fromCache=n,this.Hs=i,this.Js=a}return a(e,null,[{key:"Ys",value:function(t,n){var r,i=td(),a=td(),o=_r(n.docChanges);try{for(o.s();!(r=o.n()).done;){var u=r.value;switch(u.type){case 0:i=i.add(u.doc.key);break;case 1:a=a.add(u.doc.key)}}}catch(s){o.e(s)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),tm=function(){function e(){r(this,e),this.Xs=!1}return a(e,[{key:"initialize",value:function(e,t){this.Zs=e,this.indexManager=t,this.Xs=!0}},{key:"Qs",value:function(e,t,n,r){var i=this;return this.ti(e,t).next((function(a){return a||i.ei(e,t,r,n)})).next((function(n){return n||i.ni(e,t)}))}},{key:"ti",value:function(e,t){return kp.resolve(null)}},{key:"ei",value:function(e,t,n,r){var i=this;return function(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}(t)||r.isEqual(yl.min())?this.ni(e,t):this.Zs.Ks(e,n).next((function(a){var o=i.si(t,a);return i.ii(t,o,n,r)?i.ni(e,t):(Kc()<=oi.DEBUG&&Gc("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),ah(t)),i.ri(e,o,t,mf(r,-1)))}))}},{key:"si",value:function(e,t){var n=new Sf(sh(e));return t.forEach((function(t,r){oh(e,r)&&(n=n.add(r))})),n}},{key:"ii",value:function(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;var i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"ni",value:function(e,t){return Kc()<=oi.DEBUG&&Gc("QueryEngine","Using full collection scan to execute query:",ah(t)),this.Zs.Qs(e,t,gf.min())}},{key:"ri",value:function(e,t,n,r){return this.Zs.Qs(e,n,r).next((function(e){return t.forEach((function(t){e=e.insert(t.key,t)})),e}))}}]),e}(),nm=function(){function e(t,n,i,a){r(this,e),this.persistence=t,this.oi=n,this.M=a,this.ui=new bf(dl),this.ai=new Wh((function(e){return Cf(e)}),Af),this.ci=new Map,this.hi=t.getRemoteDocumentCache(),this.fs=t.getTargetCache(),this._s=t.getBundleCache(),this.li(i)}return a(e,[{key:"li",value:function(e){this.indexManager=this.persistence.getIndexManager(e),this.Bs=this.persistence.getMutationQueue(e,this.indexManager),this.fi=new Zv(this.hi,this.Bs,this.indexManager),this.hi.setIndexManager(this.indexManager),this.oi.initialize(this.fi,this.indexManager)}},{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.ui)}))}}]),e}();function rm(e,t,n,r){return new nm(e,t,n,r)}function im(e,t){return am.apply(this,arguments)}function am(){return am=wr(Sr().mark((function e(t,n){var r;return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Jc(t),e.next=3,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.Bs.getAllMutationBatches(e).next((function(i){return t=i,r.li(n),r.Bs.getAllMutationBatches(e)})).next((function(n){var i,a=[],o=[],u=td(),s=_r(t);try{for(s.s();!(i=s.n()).done;){var c=i.value;a.push(c.batchId);var l,f=_r(c.mutations);try{for(f.s();!(l=f.n()).done;){var h=l.value;u=u.add(h.key)}}catch(k){f.e(k)}finally{f.f()}}}catch(k){s.e(k)}finally{s.f()}var d,p=_r(n);try{for(p.s();!(d=p.n()).done;){var v=d.value;o.push(v.batchId);var m,y=_r(v.mutations);try{for(y.s();!(m=y.n()).done;){var g=m.value;u=u.add(g.key)}}catch(k){y.e(k)}finally{y.f()}}}catch(k){p.e(k)}finally{p.f()}return r.fi.Ks(e,u).next((function(e){return{di:e,removedBatchIds:a,addedBatchIds:o}}))}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),am.apply(this,arguments)}function om(e,t){var n=Jc(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.hi.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=kp.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);Xc(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((function(){return e.Bs.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.Bs.performConsistencyCheck(e)})).next((function(){return n.fi.Ks(e,r)}))}))}function um(e){var t=Jc(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.fs.getLastRemoteSnapshotVersion(e)}))}function sm(e,t){var n=Jc(e),r=t.snapshotVersion,i=n.ui;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.hi.newChangeBuffer({trackRemovals:!0});i=n.ui;var o=[];t.targetChanges.forEach((function(a,u){var s=i.get(u);if(s){o.push(n.fs.removeMatchingKeys(e,a.removedDocuments,u).next((function(){return n.fs.addMatchingKeys(e,a.addedDocuments,u)})));var c=s.withSequenceNumber(e.currentSequenceNumber);t.targetMismatches.has(u)?c=c.withResumeToken(Il.EMPTY_BYTE_STRING,yl.min()).withLastLimboFreeSnapshotVersion(yl.min()):a.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(a.resumeToken,r)),i=i.insert(u,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(s,c,a)&&o.push(n.fs.updateTargetData(e,c))}}));var u=Qh();if(t.documentUpdates.forEach((function(r){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(cm(e,a,t.documentUpdates).next((function(e){u=e}))),!r.isEqual(yl.min())){var s=n.fs.getLastRemoteSnapshotVersion(e).next((function(t){return n.fs.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(s)}return kp.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.fi.Gs(e,u)})).next((function(){return u}))})).then((function(e){return n.ui=i,e}))}function cm(e,t,n){var r=td();return n.forEach((function(e){return r=r.add(e)})),t.getEntries(e,r).next((function(e){var r=Qh();return n.forEach((function(n,i){var a=e.get(n);i.isNoDocument()&&i.version.isEqual(yl.min())?(t.removeEntry(n,i.readTime),r=r.insert(n,i)):!a.isValidDocument()||i.version.compareTo(a.version)>0||0===i.version.compareTo(a.version)&&a.hasPendingWrites?(t.addEntry(i),r=r.insert(n,i)):Gc("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",i.version)})),r}))}function lm(e,t){var n=Jc(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.Bs.getNextMutationBatchAfterBatchId(e,t)}))}function fm(e,t){var n=Jc(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.fs.getTargetData(e,t).next((function(i){return i?(r=i,kp.resolve(r)):n.fs.allocateTargetId(e).next((function(i){return r=new Rp(t,i,0,e.currentSequenceNumber),n.fs.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.ui.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.ui=n.ui.insert(e.targetId,e),n.ai.set(t,e.targetId)),e}))}function hm(e,t,n){return dm.apply(this,arguments)}function dm(){return dm=wr(Sr().mark((function e(t,n,r){var i,a,o;return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=Jc(t),a=i.ui.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),_p(e.t1)){e.next=12;break}throw e.t1;case 12:Gc("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.ui=i.ui.remove(n),i.ai.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),dm.apply(this,arguments)}function pm(e,t,n){var r=Jc(e),i=yl.min(),a=td();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=Jc(e),i=r.ai.get(n);return void 0!==i?kp.resolve(r.ui.get(i)):r.fs.getTargetData(t,n)}(r,e,th(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.fs.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.oi.Qs(e,t,n?i:yl.min(),n?a:td())})).next((function(e){return ym(r,uh(t),e),{documents:e,_i:a}}))}))}function vm(e,t){var n=Jc(e),r=Jc(n.fs),i=n.ui.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.Et(e,t).next((function(e){return e?e.target:null}))}))}function mm(e,t){var n=Jc(e),r=n.ci.get(t)||yl.min();return n.persistence.runTransaction("Get new document changes","readonly",(function(e){return n.hi.getAllFromCollectionGroup(e,t,mf(r,-1),Number.MAX_SAFE_INTEGER)})).then((function(e){return ym(n,t,e),e}))}function ym(e,t,n){var r=yl.min();n.forEach((function(e,t){t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.ci.set(t,r)}function gm(e,t,n,r){return km.apply(this,arguments)}function km(){return km=wr(Sr().mark((function e(t,n,r,i){var a,o,u,s,c,l,f,h,d,p;return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=Jc(t),o=td(),u=Qh(),s=_r(r);try{for(s.s();!(c=s.n()).done;)l=c.value,f=n.wi(l.metadata.name),l.document&&(o=o.add(f)),(h=n.mi(l)).setReadTime(n.gi(l.metadata.readTime)),u=u.insert(f,h)}catch(v){s.e(v)}finally{s.f()}return d=a.hi.newChangeBuffer({trackRemovals:!0}),e.next=7,fm(a,function(e){return th($f(xl.fromString("__bundle__/docs/".concat(e))))}(i));case 7:return p=e.sent,e.abrupt("return",a.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return cm(e,d,u).next((function(t){return d.apply(e),t})).next((function(t){return a.fs.removeMatchingKeysForTargetId(e,p.targetId).next((function(){return a.fs.addMatchingKeys(e,o,p.targetId)})).next((function(){return a.fi.Gs(e,t)})).next((function(){return t}))}))})));case 9:case"end":return e.stop()}}),e)}))),km.apply(this,arguments)}function bm(e,t){return wm.apply(this,arguments)}function wm(){return wm=wr(Sr().mark((function e(t,n){var r,i,a,o=arguments;return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]?o[2]:td(),e.next=3,fm(t,th(qp(n.bundledQuery)));case 3:return i=e.sent,a=Jc(t),e.abrupt("return",a.persistence.runTransaction("Save named query","readwrite",(function(e){var t=kd(n.readTime);if(i.snapshotVersion.compareTo(t)>=0)return a._s.saveNamedQuery(e,n);var o=i.withResumeToken(Il.EMPTY_BYTE_STRING,t);return a.ui=a.ui.insert(o.targetId,o),a.fs.updateTargetData(e,o).next((function(){return a.fs.removeMatchingKeysForTargetId(e,i.targetId)})).next((function(){return a.fs.addMatchingKeys(e,r,i.targetId)})).next((function(){return a._s.saveNamedQuery(e,n)}))})));case 6:case"end":return e.stop()}}),e)}))),wm.apply(this,arguments)}var xm=function(){function e(t){r(this,e),this.M=t,this.yi=new Map,this.pi=new Map}return a(e,[{key:"getBundleMetadata",value:function(e,t){return kp.resolve(this.yi.get(t))}},{key:"saveBundleMetadata",value:function(e,t){var n;return this.yi.set(t.id,{id:(n=t).id,version:n.version,createTime:kd(n.createTime)}),kp.resolve()}},{key:"getNamedQuery",value:function(e,t){return kp.resolve(this.pi.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.pi.set(t.name,function(e){return{name:e.name,query:qp(e.bundledQuery),readTime:kd(e.readTime)}}(t)),kp.resolve()}}]),e}(),Sm=function(){function e(){r(this,e),this.overlays=new bf(jl.comparator),this.Ii=new Map}return a(e,[{key:"getOverlay",value:function(e,t){return kp.resolve(this.overlays.get(t))}},{key:"saveOverlays",value:function(e,t,n){var r=this;return n.forEach((function(n,i){r.Xt(e,t,i)})),kp.resolve()}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=this.Ii.get(n);return void 0!==i&&(i.forEach((function(e){return r.overlays=r.overlays.remove(e)})),this.Ii.delete(n)),kp.resolve()}},{key:"getOverlaysForCollection",value:function(e,t,n){for(var r=Jh(),i=t.length+1,a=new jl(t.child("")),o=this.overlays.getIteratorFrom(a);o.hasNext();){var u=o.getNext().value,s=u.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&u.largestBatchId>n&&r.set(u.getKey(),u)}return kp.resolve(r)}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){for(var i=new bf((function(e,t){return e-t})),a=this.overlays.getIterator();a.hasNext();){var o=a.getNext().value;if(o.getKey().getCollectionGroup()===t&&o.largestBatchId>n){var u=i.get(o.largestBatchId);null===u&&(u=Jh(),i=i.insert(o.largestBatchId,u)),u.set(o.getKey(),o)}}for(var s=Jh(),c=i.getIterator();c.hasNext()&&(c.getNext().value.forEach((function(e,t){return s.set(e,t)})),!(s.size()>=r)););return kp.resolve(s)}},{key:"Xt",value:function(e,t,n){if(null!==n){var r=this.overlays.get(n.key);if(null!==r){var i=this.Ii.get(r.largestBatchId).delete(n.key);this.Ii.set(r.largestBatchId,i)}this.overlays=this.overlays.insert(n.key,new Dp(t,n));var a=this.Ii.get(t);void 0===a&&(a=td(),this.Ii.set(t,a)),this.Ii.set(t,a.add(n.key))}}}]),e}(),_m=function(){function e(){r(this,e),this.Ti=new Sf(Em.Ei),this.Ai=new Sf(Em.Ri)}return a(e,[{key:"isEmpty",value:function(){return this.Ti.isEmpty()}},{key:"addReference",value:function(e,t){var n=new Em(e,t);this.Ti=this.Ti.add(n),this.Ai=this.Ai.add(n)}},{key:"bi",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.Pi(new Em(e,t))}},{key:"Vi",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"vi",value:function(e){var t=this,n=new jl(new xl([])),r=new Em(n,e),i=new Em(n,e+1),a=[];return this.Ai.forEachInRange([r,i],(function(e){t.Pi(e),a.push(e.key)})),a}},{key:"Si",value:function(){var e=this;this.Ti.forEach((function(t){return e.Pi(t)}))}},{key:"Pi",value:function(e){this.Ti=this.Ti.delete(e),this.Ai=this.Ai.delete(e)}},{key:"Di",value:function(e){var t=new jl(new xl([])),n=new Em(t,e),r=new Em(t,e+1),i=td();return this.Ai.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new Em(e,0),n=this.Ti.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),Em=function(){function e(t,n){r(this,e),this.key=t,this.Ci=n}return a(e,null,[{key:"Ei",value:function(e,t){return jl.comparator(e.key,t.key)||dl(e.Ci,t.Ci)}},{key:"Ri",value:function(e,t){return dl(e.Ci,t.Ci)||jl.comparator(e.key,t.key)}}]),e}(),Im=function(){function e(t,n){r(this,e),this.indexManager=t,this.referenceDelegate=n,this.Bs=[],this.xi=1,this.Ni=new Sf(Em.Ei)}return a(e,[{key:"checkEmpty",value:function(e){return kp.resolve(0===this.Bs.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.xi;this.xi++,this.Bs.length>0&&this.Bs[this.Bs.length-1];var a=new Op(i,t,n,r);this.Bs.push(a);var o,u=_r(r);try{for(u.s();!(o=u.n()).done;){var s=o.value;this.Ni=this.Ni.add(new Em(s.key,i)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast())}}catch(c){u.e(c)}finally{u.f()}return kp.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return kp.resolve(this.ki(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.Mi(n),i=r<0?0:r;return kp.resolve(this.Bs.length>i?this.Bs[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return kp.resolve(0===this.Bs.length?-1:this.xi-1)}},{key:"getAllMutationBatches",value:function(e){return kp.resolve(this.Bs.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new Em(t,0),i=new Em(t,Number.POSITIVE_INFINITY),a=[];return this.Ni.forEachInRange([r,i],(function(e){var t=n.ki(e.Ci);a.push(t)})),kp.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new Sf(dl);return t.forEach((function(e){var t=new Em(e,0),i=new Em(e,Number.POSITIVE_INFINITY);n.Ni.forEachInRange([t,i],(function(e){r=r.add(e.Ci)}))})),kp.resolve(this.Oi(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;jl.isDocumentKey(i)||(i=i.child(""));var a=new Em(new jl(i),0),o=new Sf(dl);return this.Ni.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.Ci)),!0)}),a),kp.resolve(this.Oi(o))}},{key:"Oi",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t.ki(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;Xc(0===this.Fi(t.batchId,"removed")),this.Bs.shift();var r=this.Ni;return kp.forEach(t.mutations,(function(i){var a=new Em(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.Ni=r}))}},{key:"_n",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new Em(t,0),r=this.Ni.firstAfterOrEqual(n);return kp.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.Bs.length,kp.resolve()}},{key:"Fi",value:function(e,t){return this.Mi(e)}},{key:"Mi",value:function(e){return 0===this.Bs.length?0:e-this.Bs[0].batchId}},{key:"ki",value:function(e){var t=this.Mi(e);return t<0||t>=this.Bs.length?null:this.Bs[t]}}]),e}(),Tm=function(){function e(t){r(this,e),this.$i=t,this.docs=new bf(jl.comparator),this.size=0}return a(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t){var n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.$i(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return kp.resolve(n?n.document.mutableCopy():lf.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=Qh();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():lf.newInvalidDocument(e))})),kp.resolve(r)}},{key:"getAllFromCollection",value:function(e,t,n){for(var r=Qh(),i=new jl(t.child("")),a=this.docs.getIteratorFrom(i);a.hasNext();){var o=a.getNext(),u=o.key,s=o.value.document;if(!t.isPrefixOf(u.path))break;u.path.length>t.length+1||kf(yf(s),n)<=0||(r=r.insert(s.key,s.mutableCopy()))}return kp.resolve(r)}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){$c()}},{key:"Bi",value:function(e,t){return kp.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new Cm(this)}},{key:"getSize",value:function(e){return kp.resolve(this.size)}}]),e}(),Cm=function(e){u(n,e);var t=d(n);function n(e){var i;return r(this,n),(i=t.call(this)).Kn=e,i}return a(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.isValidDocument()?n.push(t.Kn.addEntry(e,i)):t.Kn.removeEntry(r)})),kp.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.Kn.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.Kn.getEntries(e,t)}}]),n}(Fv),Am=function(){function e(t){r(this,e),this.persistence=t,this.Li=new Wh((function(e){return Cf(e)}),Af),this.lastRemoteSnapshotVersion=yl.min(),this.highestTargetId=0,this.Ui=0,this.qi=new _m,this.targetCount=0,this.Ki=Ev.gn()}return a(e,[{key:"forEachTarget",value:function(e,t){return this.Li.forEach((function(e,n){return t(n)})),kp.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return kp.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return kp.resolve(this.Ui)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.Ki.next(),kp.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Ui&&(this.Ui=t),kp.resolve()}},{key:"Tn",value:function(e){this.Li.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.Ki=new Ev(t),this.highestTargetId=t),e.sequenceNumber>this.Ui&&(this.Ui=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.Tn(t),this.targetCount+=1,kp.resolve()}},{key:"updateTargetData",value:function(e,t){return this.Tn(t),kp.resolve()}},{key:"removeTargetData",value:function(e,t){return this.Li.delete(t.target),this.qi.vi(t.targetId),this.targetCount-=1,kp.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.Li.forEach((function(o,u){u.sequenceNumber<=t&&null===n.get(u.targetId)&&(r.Li.delete(o),a.push(r.removeMatchingKeysForTargetId(e,u.targetId)),i++)})),kp.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return kp.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.Li.get(t)||null;return kp.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.qi.bi(t,n),kp.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.qi.Vi(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),kp.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.qi.vi(t),kp.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.qi.Di(t);return kp.resolve(n)}},{key:"containsKey",value:function(e,t){return kp.resolve(this.qi.containsKey(t))}}]),e}(),Nm=function(){function e(t,n){var i=this;r(this,e),this.Gi={},this.overlays={},this.es=new ll(0),this.ns=!1,this.ns=!0,this.referenceDelegate=t(this),this.fs=new Am(this),this.indexManager=new sv,this.ds=new Tm((function(e){return i.referenceDelegate.Qi(e)})),this.M=new Lp(n),this._s=new xm(this.M)}return a(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.ns=!1,Promise.resolve()}},{key:"started",get:function(){return this.ns}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(e){return this.indexManager}},{key:"getDocumentOverlayCache",value:function(e){var t=this.overlays[e.toKey()];return t||(t=new Sm,this.overlays[e.toKey()]=t),t}},{key:"getMutationQueue",value:function(e,t){var n=this.Gi[e.toKey()];return n||(n=new Im(t,this.referenceDelegate),this.Gi[e.toKey()]=n),n}},{key:"getTargetCache",value:function(){return this.fs}},{key:"getRemoteDocumentCache",value:function(){return this.ds}},{key:"getBundleCache",value:function(){return this._s}},{key:"runTransaction",value:function(e,t,n){var r=this;Gc("MemoryPersistence","Starting transaction:",e);var i=new Om(this.es.next());return this.referenceDelegate.ji(),n(i).next((function(e){return r.referenceDelegate.Wi(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"zi",value:function(e,t){return kp.or(Object.values(this.Gi).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),Om=function(e){u(n,e);var t=d(n);function n(e){var i;return r(this,n),(i=t.call(this)).currentSequenceNumber=e,i}return a(n)}(gp),Pm=function(){function e(t){r(this,e),this.persistence=t,this.Hi=new _m,this.Ji=null}return a(e,[{key:"Xi",get:function(){if(this.Ji)return this.Ji;throw $c()}},{key:"addReference",value:function(e,t,n){return this.Hi.addReference(n,t),this.Xi.delete(n.toString()),kp.resolve()}},{key:"removeReference",value:function(e,t,n){return this.Hi.removeReference(n,t),this.Xi.add(n.toString()),kp.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.Xi.add(t.toString()),kp.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.Hi.vi(t.targetId).forEach((function(e){return n.Xi.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.Xi.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"ji",value:function(){this.Ji=new Set}},{key:"Wi",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return kp.forEach(this.Xi,(function(r){var i=jl.fromPath(r);return t.Zi(e,i).next((function(e){e||n.removeEntry(i,yl.min())}))})).next((function(){return t.Ji=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.Zi(e,t).next((function(e){e?n.Xi.delete(t.toString()):n.Xi.add(t.toString())}))}},{key:"Qi",value:function(e){return 0}},{key:"Zi",value:function(e,t){var n=this;return kp.or([function(){return kp.resolve(n.Hi.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.zi(e,t)}])}}],[{key:"Yi",value:function(t){return new e(t)}}]),e}();function Dm(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function Rm(e,t,n){var r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function Lm(e,t){return"firestore_targets_".concat(e,"_").concat(t)}var Mm=function(){function e(t,n,i,a){r(this,e),this.user=t,this.batchId=n,this.state=i,this.error=a}return a(e,[{key:"er",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"tr",value:function(t,n,r){var i,a=JSON.parse(r),o="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return o&&a.error&&((o="string"==typeof a.error.message&&"string"==typeof a.error.code)&&(i=new el(a.error.code,a.error.message))),o?new e(t,n,a.state,i):(Wc("SharedClientState","Failed to parse mutation state for ID '".concat(n,"': ").concat(r)),null)}}]),e}(),Um=function(){function e(t,n,i){r(this,e),this.targetId=t,this.state=n,this.error=i}return a(e,[{key:"er",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"tr",value:function(t,n){var r,i=JSON.parse(n),a="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return a&&i.error&&((a="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new el(i.error.code,i.error.message))),a?new e(t,i.state,r):(Wc("SharedClientState","Failed to parse target state for ID '".concat(t,"': ").concat(n)),null)}}]),e}(),Fm=function(){function e(t,n){r(this,e),this.clientId=t,this.activeTargetIds=n}return a(e,null,[{key:"tr",value:function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,a=rd(),o=0;i&&o<r.activeTargetIds.length;++o)i=Fl(r.activeTargetIds[o]),a=a.add(r.activeTargetIds[o]);return i?new e(t,a):(Wc("SharedClientState","Failed to parse client data for instance '".concat(t,"': ").concat(n)),null)}}]),e}(),jm=function(){function e(t,n){r(this,e),this.clientId=t,this.onlineState=n}return a(e,null,[{key:"tr",value:function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(Wc("SharedClientState","Failed to parse online state: ".concat(t)),null)}}]),e}(),Vm=function(){function e(){r(this,e),this.activeTargetIds=rd()}return a(e,[{key:"nr",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"sr",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"er",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),Bm=function(){function e(t,n,i,a,o){r(this,e),this.window=t,this.Yn=n,this.persistenceKey=i,this.ir=a,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.rr=this.ur.bind(this),this.ar=new bf(dl),this.started=!1,this.cr=[];var u=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=o,this.hr=Dm(this.persistenceKey,this.ir),this.lr=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.ar=this.ar.insert(this.ir,new Vm),this.dr=new RegExp("^firestore_clients_".concat(u,"_([^_]*)$")),this._r=new RegExp("^firestore_mutations_".concat(u,"_(\\d+)(?:_(.*))?$")),this.wr=new RegExp("^firestore_targets_".concat(u,"_(\\d+)$")),this.mr=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.gr=function(e){return"firestore_bundle_loaded_v2_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this.rr)}return a(e,[{key:"start",value:function(){var e=wr(Sr().mark((function e(){var t,n,r,i,a,o,u,s,c,l,f,h=this;return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.syncEngine.Fs();case 2:t=e.sent,n=_r(t),e.prev=4,n.s();case 6:if((r=n.n()).done){e.next=14;break}if((i=r.value)!==this.ir){e.next=10;break}return e.abrupt("continue",12);case 10:(a=this.getItem(Dm(this.persistenceKey,i)))&&(o=Fm.tr(i,a))&&(this.ar=this.ar.insert(o.clientId,o));case 12:e.next=6;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),n.e(e.t0);case 19:return e.prev=19,n.f(),e.finish(19);case 22:this.yr(),(u=this.storage.getItem(this.mr))&&(s=this.pr(u))&&this.Ir(s),c=_r(this.cr);try{for(c.s();!(l=c.n()).done;)f=l.value,this.ur(f)}catch(d){c.e(d)}finally{c.f()}this.cr=[],this.window.addEventListener("pagehide",(function(){return h.shutdown()})),this.started=!0;case 28:case"end":return e.stop()}}),e,this,[[4,16,19,22]])})));return function(){return e.apply(this,arguments)}}()},{key:"writeSequenceNumber",value:function(e){this.setItem(this.lr,JSON.stringify(e))}},{key:"getAllActiveQueryTargets",value:function(){return this.Tr(this.ar)}},{key:"isActiveQueryTarget",value:function(e){var t=!1;return this.ar.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t}},{key:"addPendingMutation",value:function(e){this.Er(e,"pending")}},{key:"updateMutationState",value:function(e,t,n){this.Er(e,t,n),this.Ar(e)}},{key:"addLocalQueryTarget",value:function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(Lm(this.persistenceKey,e));if(n){var r=Um.tr(e,n);r&&(t=r.state)}}return this.Rr.nr(e),this.yr(),t}},{key:"removeLocalQueryTarget",value:function(e){this.Rr.sr(e),this.yr()}},{key:"isLocalQueryTarget",value:function(e){return this.Rr.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){this.removeItem(Lm(this.persistenceKey,e))}},{key:"updateQueryState",value:function(e,t,n){this.br(e,t,n)}},{key:"handleUserChange",value:function(e,t,n){var r=this;t.forEach((function(e){r.Ar(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))}},{key:"setOnlineState",value:function(e){this.Pr(e)}},{key:"notifyBundleLoaded",value:function(e){this.Vr(e)}},{key:"shutdown",value:function(){this.started&&(this.window.removeEventListener("storage",this.rr),this.removeItem(this.hr),this.started=!1)}},{key:"getItem",value:function(e){var t=this.storage.getItem(e);return Gc("SharedClientState","READ",e,t),t}},{key:"setItem",value:function(e,t){Gc("SharedClientState","SET",e,t),this.storage.setItem(e,t)}},{key:"removeItem",value:function(e){Gc("SharedClientState","REMOVE",e),this.storage.removeItem(e)}},{key:"ur",value:function(e){var t=this,n=e;if(n.storageArea===this.storage){if(Gc("SharedClientState","EVENT",n.key,n.newValue),n.key===this.hr)return void Wc("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Yn.enqueueRetryable(wr(Sr().mark((function e(){var r,i,a,o,u,s,c;return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.started){e.next=43;break}if(null===n.key){e.next=41;break}if(!t.dr.test(n.key)){e.next=11;break}if(null!=n.newValue){e.next=6;break}return r=t.vr(n.key),e.abrupt("return",t.Sr(r,null));case 6:if(!(i=t.Dr(n.key,n.newValue))){e.next=9;break}return e.abrupt("return",t.Sr(i.clientId,i));case 9:e.next=41;break;case 11:if(!t._r.test(n.key)){e.next=18;break}if(null===n.newValue){e.next=16;break}if(!(a=t.Cr(n.key,n.newValue))){e.next=16;break}return e.abrupt("return",t.Nr(a));case 16:e.next=41;break;case 18:if(!t.wr.test(n.key)){e.next=25;break}if(null===n.newValue){e.next=23;break}if(!(o=t.kr(n.key,n.newValue))){e.next=23;break}return e.abrupt("return",t.Mr(o));case 23:e.next=41;break;case 25:if(n.key!==t.mr){e.next=32;break}if(null===n.newValue){e.next=30;break}if(!(u=t.pr(n.newValue))){e.next=30;break}return e.abrupt("return",t.Ir(u));case 30:e.next=41;break;case 32:if(n.key!==t.lr){e.next=37;break}s=function(e){var t=ll.A;if(null!=e)try{var n=JSON.parse(e);Xc("number"==typeof n),t=n}catch(e){Wc("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue),s!==ll.A&&t.sequenceNumberHandler(s),e.next=41;break;case 37:if(n.key!==t.gr){e.next=41;break}return c=t.Or(n.newValue),e.next=41,Promise.all(c.map((function(e){return t.syncEngine.Fr(e)})));case 41:e.next=44;break;case 43:t.cr.push(n);case 44:case"end":return e.stop()}}),e)}))))}}},{key:"Rr",get:function(){return this.ar.get(this.ir)}},{key:"yr",value:function(){this.setItem(this.hr,this.Rr.er())}},{key:"Er",value:function(e,t,n){var r=new Mm(this.currentUser,e,t,n),i=Rm(this.persistenceKey,this.currentUser,e);this.setItem(i,r.er())}},{key:"Ar",value:function(e){var t=Rm(this.persistenceKey,this.currentUser,e);this.removeItem(t)}},{key:"Pr",value:function(e){var t={clientId:this.ir,onlineState:e};this.storage.setItem(this.mr,JSON.stringify(t))}},{key:"br",value:function(e,t,n){var r=Lm(this.persistenceKey,e),i=new Um(e,t,n);this.setItem(r,i.er())}},{key:"Vr",value:function(e){var t=JSON.stringify(Array.from(e));this.setItem(this.gr,t)}},{key:"vr",value:function(e){var t=this.dr.exec(e);return t?t[1]:null}},{key:"Dr",value:function(e,t){var n=this.vr(e);return Fm.tr(n,t)}},{key:"Cr",value:function(e,t){var n=this._r.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return Mm.tr(new zc(i),r,t)}},{key:"kr",value:function(e,t){var n=this.wr.exec(e),r=Number(n[1]);return Um.tr(r,t)}},{key:"pr",value:function(e){return jm.tr(e)}},{key:"Or",value:function(e){return JSON.parse(e)}},{key:"Nr",value:function(){var e=wr(Sr().mark((function e(t){return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.user.uid!==this.currentUser.uid){e.next=2;break}return e.abrupt("return",this.syncEngine.$r(t.batchId,t.state,t.error));case 2:Gc("SharedClientState","Ignoring mutation for non-active user ".concat(t.user.uid));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Mr",value:function(e){return this.syncEngine.Br(e.targetId,e.state,e.error)}},{key:"Sr",value:function(e,t){var n=this,r=t?this.ar.insert(e,t):this.ar.remove(e),i=this.Tr(this.ar),a=this.Tr(r),o=[],u=[];return a.forEach((function(e){i.has(e)||o.push(e)})),i.forEach((function(e){a.has(e)||u.push(e)})),this.syncEngine.Lr(o,u).then((function(){n.ar=r}))}},{key:"Ir",value:function(e){this.ar.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}},{key:"Tr",value:function(e){var t=rd();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t}}],[{key:"vt",value:function(e){return!(!e||!e.localStorage)}}]),e}(),zm=function(){function e(){r(this,e),this.Ur=new Vm,this.qr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return a(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.Ur.nr(e),this.qr[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.qr[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.Ur.sr(e)}},{key:"isLocalQueryTarget",value:function(e){return this.Ur.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.qr[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.Ur.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.Ur.activeTargetIds.has(e)}},{key:"start",value:function(){return this.Ur=new Vm,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(e){}}]),e}(),qm=function(){function e(){r(this,e)}return a(e,[{key:"Kr",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),Hm=function(){function e(){var t=this;r(this,e),this.Gr=function(){return t.Qr()},this.jr=function(){return t.Wr()},this.zr=[],this.Hr()}return a(e,[{key:"Kr",value:function(e){this.zr.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.Gr),window.removeEventListener("offline",this.jr)}},{key:"Hr",value:function(){window.addEventListener("online",this.Gr),window.addEventListener("offline",this.jr)}},{key:"Qr",value:function(){Gc("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=_r(this.zr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"Wr",value:function(){Gc("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=_r(this.zr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"vt",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),Km={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},Gm=function(){function e(t){r(this,e),this.Jr=t.Jr,this.Yr=t.Yr}return a(e,[{key:"Xr",value:function(e){this.Zr=e}},{key:"eo",value:function(e){this.no=e}},{key:"onMessage",value:function(e){this.so=e}},{key:"close",value:function(){this.Yr()}},{key:"send",value:function(e){this.Jr(e)}},{key:"io",value:function(){this.Zr()}},{key:"ro",value:function(e){this.no(e)}},{key:"oo",value:function(e){this.so(e)}}]),e}(),Wm=function(e){u(n,e);var t=d(n);function n(e){var i;return r(this,n),(i=t.call(this,e)).forceLongPolling=e.forceLongPolling,i.autoDetectLongPolling=e.autoDetectLongPolling,i.useFetchStreams=e.useFetchStreams,i}return a(n,[{key:"fo",value:function(e,t,n,r){return new Promise((function(i,a){var o=new Vc;o.listenOnce(Lc.COMPLETE,(function(){try{switch(o.getLastErrorCode()){case Rc.NO_ERROR:var t=o.getResponseJson();Gc("Connection","XHR received:",JSON.stringify(t)),i(t);break;case Rc.TIMEOUT:Gc("Connection",'RPC "'+e+'" timed out'),a(new el(Zc.DEADLINE_EXCEEDED,"Request time out"));break;case Rc.HTTP_ERROR:var n=o.getStatus();if(Gc("Connection",'RPC "'+e+'" failed with status:',n,"response text:",o.getResponseText()),n>0){var r=o.getResponseJson().error;if(r&&r.status&&r.message){var u=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(Zc).indexOf(t)>=0?t:Zc.UNKNOWN}(r.status);a(new el(u,r.message))}else a(new el(Zc.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new el(Zc.UNAVAILABLE,"Connection failed."));break;default:$c()}}finally{Gc("Connection",'RPC "'+e+'" completed.')}}));var u=JSON.stringify(r);o.send(t,"POST",u,n,15)}))}},{key:"wo",value:function(e,t,n){var r=[this.uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=Pc(),a=Dc(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new Fc({})),this.lo(o.initMessageHeaders,t,n),Mr()||jr()||Lr().indexOf("Electron/")>=0||Vr()||Lr().indexOf("MSAppHost/")>=0||Fr()||(o.httpHeadersOverwriteParam="$httpHeaders");var u=r.join("");Gc("Connection","Creating WebChannel: "+u,o);var s=i.createWebChannel(u,o),c=!1,l=!1,f=new Gm({Jr:function(e){l?Gc("Connection","Not sending because WebChannel is closed:",e):(c||(Gc("Connection","Opening WebChannel transport."),s.open(),c=!0),Gc("Connection","WebChannel sending:",e),s.send(e))},Yr:function(){return s.close()}}),h=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return h(s,jc.EventType.OPEN,(function(){l||Gc("Connection","WebChannel transport opened.")})),h(s,jc.EventType.CLOSE,(function(){l||(l=!0,Gc("Connection","WebChannel transport closed"),f.ro())})),h(s,jc.EventType.ERROR,(function(e){l||(l=!0,Yc("Connection","WebChannel transport errored:",e),f.ro(new el(Zc.UNAVAILABLE,"The operation could not be completed")))})),h(s,jc.EventType.MESSAGE,(function(e){var t;if(!l){var n=e.data[0];Xc(!!n);var r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){Gc("Connection","WebChannel received error:",i);var a=i.status,o=function(e){var t=Vh[e];if(void 0!==t)return Gh(t)}(a),u=i.message;void 0===o&&(o=Zc.INTERNAL,u="Unknown error status: "+a+" with message "+i.message),l=!0,f.ro(new el(o,u)),s.close()}else Gc("Connection","WebChannel received:",n),f.oo(n)}})),h(a,Mc.STAT_EVENT,(function(e){e.stat===Uc.PROXY?Gc("Connection","Detected buffering proxy"):e.stat===Uc.NOPROXY&&Gc("Connection","Detected no buffering proxy")})),setTimeout((function(){f.io()}),0),f}}]),n}(function(){function e(t){r(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.uo=n+"://"+t.host,this.ao="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return a(e,[{key:"co",value:function(e,t,n,r,i){var a=this.ho(e,t);Gc("RestConnection","Sending: ",a,n);var o={};return this.lo(o,r,i),this.fo(e,a,o,n).then((function(e){return Gc("RestConnection","Received: ",e),e}),(function(t){throw Yc("RestConnection","".concat(e," failed with error: "),t,"url: ",a,"request:",n),t}))}},{key:"_o",value:function(e,t,n,r,i){return this.co(e,t,n,r,i)}},{key:"lo",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+qc,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"ho",value:function(e,t){var n=Km[e];return"".concat(this.uo,"/v1/").concat(t,":").concat(n)}}]),e}());function Ym(){return"undefined"!=typeof window?window:null}function Qm(){return"undefined"!=typeof document?document:null}function $m(e){return new vd(e,!0)}var Xm=function(){function e(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;r(this,e),this.Yn=t,this.timerId=n,this.mo=i,this.yo=a,this.po=o,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}return a(e,[{key:"reset",value:function(){this.Io=0}},{key:"Ao",value:function(){this.Io=this.po}},{key:"Ro",value:function(e){var t=this;this.cancel();var n=Math.floor(this.Io+this.bo()),r=Math.max(0,Date.now()-this.Eo),i=Math.max(0,n-r);i>0&&Gc("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.Io," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.To=this.Yn.enqueueAfterDelay(this.timerId,i,(function(){return t.Eo=Date.now(),e()})),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}},{key:"Po",value:function(){null!==this.To&&(this.To.skipDelay(),this.To=null)}},{key:"cancel",value:function(){null!==this.To&&(this.To.cancel(),this.To=null)}},{key:"bo",value:function(){return(Math.random()-.5)*this.Io}}]),e}(),Jm=function(){function e(t,n,i,a,o,u,s,c){r(this,e),this.Yn=t,this.Vo=i,this.vo=a,this.So=o,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=s,this.listener=c,this.state=0,this.Do=0,this.Co=null,this.xo=null,this.stream=null,this.No=new Xm(t,n)}return a(e,[{key:"ko",value:function(){return 1===this.state||5===this.state||this.Mo()}},{key:"Mo",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.Oo()}},{key:"stop",value:function(){var e=wr(Sr().mark((function e(){return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.ko(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Fo",value:function(){this.state=0,this.No.reset()}},{key:"$o",value:function(){var e=this;this.Mo()&&null===this.Co&&(this.Co=this.Yn.enqueueAfterDelay(this.Vo,6e4,(function(){return e.Bo()})))}},{key:"Lo",value:function(e){this.Uo(),this.stream.send(e)}},{key:"Bo",value:function(){var e=wr(Sr().mark((function e(){return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.Mo()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Uo",value:function(){this.Co&&(this.Co.cancel(),this.Co=null)}},{key:"qo",value:function(){this.xo&&(this.xo.cancel(),this.xo=null)}},{key:"close",value:function(){var e=wr(Sr().mark((function e(t,n){return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Uo(),this.qo(),this.No.cancel(),this.Do++,4!==t?this.No.reset():n&&n.code===Zc.RESOURCE_EXHAUSTED?(Wc(n.toString()),Wc("Using maximum backoff delay to prevent overloading the backend."),this.No.Ao()):n&&n.code===Zc.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Ko(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.eo(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"Ko",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.Go(this.Do),n=this.Do;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=Le(t,2),i=r[0],a=r[1];e.Do===n&&e.Qo(i,a)}),(function(n){t((function(){var t=new el(Zc.UNKNOWN,"Fetching auth token failed: "+n.message);return e.jo(t)}))}))}},{key:"Qo",value:function(e,t){var n=this,r=this.Go(this.Do);this.stream=this.Wo(e,t),this.stream.Xr((function(){r((function(){return n.state=2,n.xo=n.Yn.enqueueAfterDelay(n.vo,1e4,(function(){return n.Mo()&&(n.state=3),Promise.resolve()})),n.listener.Xr()}))})),this.stream.eo((function(e){r((function(){return n.jo(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"Oo",value:function(){var e=this;this.state=5,this.No.Ro(wr(Sr().mark((function t(){return Sr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"jo",value:function(e){return Gc("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"Go",value:function(e){var t=this;return function(n){t.Yn.enqueueAndForget((function(){return t.Do===e?n():(Gc("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),Zm=function(e){u(n,e);var t=d(n);function n(e,i,a,o,u,s){var c;return r(this,n),(c=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,o,s)).M=u,c}return a(n,[{key:"Wo",value:function(e,t){return this.So.wo("Listen",e,t)}},{key:"onMessage",value:function(e){this.No.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:$c()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.N?(Xc(void 0===t||"string"==typeof t),Il.fromBase64String(t||"")):(Xc(void 0===t||t instanceof Uint8Array),Il.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,u=o&&function(e){var t=void 0===e.code?Zc.UNKNOWN:Gh(e.code);return new el(t,e.message||"")}(o);n=new sd(r,i,a,u||null)}else if("documentChange"in t){t.documentChange;var s=t.documentChange;s.document,s.document.name,s.document.updateTime;var c=Sd(e,s.document.name),l=kd(s.document.updateTime),f=new sf({mapValue:{fields:s.document.fields}}),h=lf.newFoundDocument(c,l,f),d=s.targetIds||[],p=s.removedTargetIds||[];n=new od(d,p,h.key,h)}else if("documentDelete"in t){t.documentDelete;var v=t.documentDelete;v.document;var m=Sd(e,v.document),y=v.readTime?kd(v.readTime):yl.min(),g=lf.newNoDocument(m,y),k=v.removedTargetIds||[];n=new od([],k,g.key,g)}else if("documentRemove"in t){t.documentRemove;var b=t.documentRemove;b.document;var w=Sd(e,b.document),x=b.removedTargetIds||[];n=new od([],x,w,null)}else{if(!("filter"in t))return $c();t.filter;var S=t.filter;S.targetId;var _=S.count||0,E=new Hh(_),I=S.targetId;n=new ud(I,E)}return n}(this.M,e),n=function(e){if(!("targetChange"in e))return yl.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?yl.min():t.readTime?kd(t.readTime):yl.min()}(e);return this.listener.zo(t,n)}},{key:"Ho",value:function(e){var t={};t.database=Id(this.M),t.addTarget=function(e,t){var n,r=t.target;return(n=Nf(r)?{documents:Dd(e,r)}:{query:Rd(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=yd(e,t.resumeToken):t.snapshotVersion.compareTo(yl.min())>0&&(n.readTime=md(e,t.snapshotVersion.toTimestamp())),n}(this.M,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return $c()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.M,e);n&&(t.labels=n),this.Lo(t)}},{key:"Jo",value:function(e){var t={};t.database=Id(this.M),t.removeTarget=e,this.Lo(t)}}]),n}(Jm),ey=function(e){u(n,e);var t=d(n);function n(e,i,a,o,u,s){var c;return r(this,n),(c=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,o,s)).M=u,c.Yo=!1,c}return a(n,[{key:"Xo",get:function(){return this.Yo}},{key:"start",value:function(){this.Yo=!1,this.lastStreamToken=void 0,Ta(s(n.prototype),"start",this).call(this)}},{key:"Ko",value:function(){this.Yo&&this.Zo([])}},{key:"Wo",value:function(e,t){return this.So.wo("Write",e,t)}},{key:"onMessage",value:function(e){if(Xc(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Yo){this.No.reset();var t=function(e,t){return e&&e.length>0?(Xc(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?kd(e.updateTime):kd(t);return n.isEqual(yl.min())&&(n=kd(t)),new Ih(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=kd(e.commitTime);return this.listener.tu(n,t)}return Xc(!e.writeResults||0===e.writeResults.length),this.Yo=!0,this.listener.eu()}},{key:"nu",value:function(){var e={};e.database=Id(this.M),this.Lo(e)}},{key:"Zo",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return Od(t.M,e)}))};this.Lo(n)}}]),n}(Jm),ty=function(e){u(n,e);var t=d(n);function n(e,i,a,o){var u;return r(this,n),(u=t.call(this)).authCredentials=e,u.appCheckCredentials=i,u.So=a,u.M=o,u.su=!1,u}return a(n,[{key:"iu",value:function(){if(this.su)throw new el(Zc.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"co",value:function(e,t,n){var r=this;return this.iu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=Le(i,2),o=a[0],u=a[1];return r.So.co(e,t,n,o,u)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===Zc.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new el(Zc.UNKNOWN,e.toString())}))}},{key:"_o",value:function(e,t,n){var r=this;return this.iu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=Le(i,2),o=a[0],u=a[1];return r.So._o(e,t,n,o,u)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===Zc.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new el(Zc.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.su=!0}}]),n}(function(){return a((function e(){r(this,e)}))}()),ny=function(){function e(t,n){r(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.ru=0,this.ou=null,this.uu=!0}return a(e,[{key:"au",value:function(){var e=this;0===this.ru&&(this.cu("Unknown"),this.ou=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.ou=null,e.hu("Backend didn't respond within 10 seconds."),e.cu("Offline"),Promise.resolve()})))}},{key:"lu",value:function(e){"Online"===this.state?this.cu("Unknown"):(this.ru++,this.ru>=1&&(this.fu(),this.hu("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.cu("Offline")))}},{key:"set",value:function(e){this.fu(),this.ru=0,"Online"===e&&(this.uu=!1),this.cu(e)}},{key:"cu",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"hu",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.uu?(Wc(t),this.uu=!1):Gc("OnlineStateTracker",t)}},{key:"fu",value:function(){null!==this.ou&&(this.ou.cancel(),this.ou=null)}}]),e}(),ry=a((function e(t,n,i,a,o){var u=this;r(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.du=[],this._u=new Map,this.wu=new Set,this.mu=[],this.gu=o,this.gu.Kr((function(e){i.enqueueAndForget(wr(Sr().mark((function e(){return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=py(u),!e.t0){e.next=5;break}return Gc("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=wr(Sr().mark((function e(t){var n;return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=Jc(t)).wu.add(4),e.next=4,oy(n);case 4:return n.yu.set("Unknown"),n.wu.delete(4),e.next=8,iy(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(u);case 5:case"end":return e.stop()}}),e)}))))})),this.yu=new ny(i,a)}));function iy(e){return ay.apply(this,arguments)}function ay(){return ay=wr(Sr().mark((function e(t){var n,r,i;return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!py(t)){e.next=18;break}n=_r(t.mu),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])}))),ay.apply(this,arguments)}function oy(e){return uy.apply(this,arguments)}function uy(){return uy=wr(Sr().mark((function e(t){var n,r,i;return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=_r(t.mu),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])}))),uy.apply(this,arguments)}function sy(e,t){var n=Jc(e);n._u.has(t.targetId)||(n._u.set(t.targetId,t),dy(n)?hy(n):qy(n).Mo()&&ly(n,t))}function cy(e,t){var n=Jc(e),r=qy(n);n._u.delete(t),r.Mo()&&fy(n,t),0===n._u.size&&(r.Mo()?r.$o():py(n)&&n.yu.set("Unknown"))}function ly(e,t){e.pu.Z(t.targetId),qy(e).Ho(t)}function fy(e,t){e.pu.Z(t),qy(e).Jo(t)}function hy(e){e.pu=new ld({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},Et:function(t){return e._u.get(t)||null}}),qy(e).start(),e.yu.au()}function dy(e){return py(e)&&!qy(e).ko()&&e._u.size>0}function py(e){return 0===Jc(e).wu.size}function vy(e){e.pu=void 0}function my(e){return yy.apply(this,arguments)}function yy(){return yy=wr(Sr().mark((function e(t){return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t._u.forEach((function(e,n){ly(t,e)}));case 1:case"end":return e.stop()}}),e)}))),yy.apply(this,arguments)}function gy(e,t){return ky.apply(this,arguments)}function ky(){return ky=wr(Sr().mark((function e(t,n){return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:vy(t),dy(t)?(t.yu.lu(n),hy(t)):t.yu.set("Unknown");case 1:case"end":return e.stop()}}),e)}))),ky.apply(this,arguments)}function by(e,t,n){return wy.apply(this,arguments)}function wy(){return wy=wr(Sr().mark((function e(t,n,r){var i;return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.yu.set("Online"),!(n instanceof sd&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=wr(Sr().mark((function e(t,n){var r,i,a,o;return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=_r(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(o=a.value,e.t0=t._u.has(o),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(o,r);case 10:t._u.delete(o),t.pu.removeTarget(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),Gc("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,xy(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof od?t.pu.ut(n):n instanceof ud?t.pu._t(n):t.pu.ht(n),r.isEqual(yl.min())){e.next=29;break}return e.prev=14,e.next=17,um(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.pu.yt(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e._u.get(r);i&&e._u.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e._u.get(t);if(n){e._u.set(t,n.withResumeToken(Il.EMPTY_BYTE_STRING,n.snapshotVersion)),fy(e,t);var r=new Rp(n.target,t,1,n.sequenceNumber);ly(e,r)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),Gc("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,xy(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),wy.apply(this,arguments)}function xy(e,t,n){return Sy.apply(this,arguments)}function Sy(){return Sy=wr(Sr().mark((function e(t,n,r){return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(_p(n)){e.next=2;break}throw n;case 2:return t.wu.add(1),e.next=5,oy(t);case 5:t.yu.set("Offline"),r||(r=function(){return um(t.localStore)}),t.asyncQueue.enqueueRetryable(wr(Sr().mark((function e(){return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Gc("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t.wu.delete(1),e.next=6,iy(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)}))),Sy.apply(this,arguments)}function _y(e,t){return t().catch((function(n){return xy(e,n,t)}))}function Ey(e){return Iy.apply(this,arguments)}function Iy(){return Iy=wr(Sr().mark((function e(t){var n,r,i,a;return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Jc(t),r=Hy(n),i=n.du.length>0?n.du[n.du.length-1].batchId:-1;case 2:if(!Ty(n)){e.next=19;break}return e.prev=3,e.next=6,lm(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n.du.length&&r.$o(),e.abrupt("break",19);case 10:i=a.batchId,Cy(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,xy(n,e.t0);case 17:e.next=2;break;case 19:Ay(n)&&Ny(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])}))),Iy.apply(this,arguments)}function Ty(e){return py(e)&&e.du.length<10}function Cy(e,t){e.du.push(t);var n=Hy(e);n.Mo()&&n.Xo&&n.Zo(t.mutations)}function Ay(e){return py(e)&&!Hy(e).ko()&&e.du.length>0}function Ny(e){Hy(e).start()}function Oy(e){return Py.apply(this,arguments)}function Py(){return Py=wr(Sr().mark((function e(t){return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Hy(t).nu();case 1:case"end":return e.stop()}}),e)}))),Py.apply(this,arguments)}function Dy(e){return Ry.apply(this,arguments)}function Ry(){return Ry=wr(Sr().mark((function e(t){var n,r,i,a;return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Hy(t),r=_r(t.du);try{for(r.s();!(i=r.n()).done;)a=i.value,n.Zo(a.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}}),e)}))),Ry.apply(this,arguments)}function Ly(e,t,n){return My.apply(this,arguments)}function My(){return My=wr(Sr().mark((function e(t,n,r){var i,a;return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.du.shift(),a=Pp.from(i,n,r),e.next=3,_y(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,Ey(t);case 5:case"end":return e.stop()}}),e)}))),My.apply(this,arguments)}function Uy(e,t){return Fy.apply(this,arguments)}function Fy(){return Fy=wr(Sr().mark((function e(t,n){return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&Hy(t).Xo,!e.t0){e.next=4;break}return e.next=4,function(){var e=wr(Sr().mark((function e(t,n){var r,i;return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Kh(i=n.code)||i===Zc.ABORTED){e.next=7;break}return r=t.du.shift(),Hy(t).Fo(),e.next=5,_y(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,Ey(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:Ay(t)&&Ny(t);case 5:case"end":return e.stop()}}),e)}))),Fy.apply(this,arguments)}function jy(e,t){return Vy.apply(this,arguments)}function Vy(){return Vy=wr(Sr().mark((function e(t,n){var r,i;return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=Jc(t)).asyncQueue.verifyOperationInProgress(),Gc("RemoteStore","RemoteStore received new credentials"),i=py(r),r.wu.add(3),e.next=6,oy(r);case 6:return i&&r.yu.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r.wu.delete(3),e.next=12,iy(r);case 12:case"end":return e.stop()}}),e)}))),Vy.apply(this,arguments)}function By(e,t){return zy.apply(this,arguments)}function zy(){return zy=wr(Sr().mark((function e(t,n){var r;return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Jc(t),!n){e.next=7;break}return r.wu.delete(2),e.next=5,iy(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r.wu.add(2),e.next=12,oy(r);case 12:r.yu.set("Unknown");case 13:case"end":return e.stop()}}),e)}))),zy.apply(this,arguments)}function qy(e){return e.Iu||(e.Iu=function(e,t,n){var r=Jc(e);return r.iu(),new Zm(t,r.So,r.authCredentials,r.appCheckCredentials,r.M,n)}(e.datastore,e.asyncQueue,{Xr:my.bind(null,e),eo:gy.bind(null,e),zo:by.bind(null,e)}),e.mu.push(function(){var t=wr(Sr().mark((function t(n){return Sr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.Iu.Fo(),dy(e)?hy(e):e.yu.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.Iu.stop();case 6:vy(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Iu}function Hy(e){return e.Tu||(e.Tu=function(e,t,n){var r=Jc(e);return r.iu(),new ey(t,r.So,r.authCredentials,r.appCheckCredentials,r.M,n)}(e.datastore,e.asyncQueue,{Xr:Oy.bind(null,e),eo:Uy.bind(null,e),eu:Dy.bind(null,e),tu:Ly.bind(null,e)}),e.mu.push(function(){var t=wr(Sr().mark((function t(n){return Sr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.Tu.Fo(),t.next=4,Ey(e);case 4:t.next=9;break;case 6:return t.next=8,e.Tu.stop();case 8:e.du.length>0&&(Gc("RemoteStore","Stopping write stream with ".concat(e.du.length," pending writes")),e.du=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Tu}var Ky=function(){function e(t,n,i,a,o){r(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=i,this.op=a,this.removalCallback=o,this.deferred=new tl,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return a(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new el(Zc.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function Gy(e,t){if(Wc("AsyncQueue","".concat(t,": ").concat(e)),_p(e))return new el(Zc.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var Wy=function(){function e(t){r(this,e),this.comparator=t?function(e,n){return t(e,n)||jl.comparator(e.key,n.key)}:function(e,t){return jl.comparator(e.key,t.key)},this.keyedMap=Xh(),this.sortedSet=new bf(this.comparator)}return a(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),Yy=function(){function e(){r(this,e),this.Eu=new bf(jl.comparator)}return a(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.Eu.get(t);n?0!==e.type&&3===n.type?this.Eu=this.Eu.insert(t,e):3===e.type&&1!==n.type?this.Eu=this.Eu.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Eu=this.Eu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Eu=this.Eu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Eu=this.Eu.remove(t):1===e.type&&2===n.type?this.Eu=this.Eu.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Eu=this.Eu.insert(t,{type:2,doc:e.doc}):$c():this.Eu=this.Eu.insert(t,e)}},{key:"Au",value:function(){var e=[];return this.Eu.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),Qy=function(){function e(t,n,i,a,o,u,s,c){r(this,e),this.query=t,this.docs=n,this.oldDocs=i,this.docChanges=a,this.mutatedKeys=o,this.fromCache=u,this.syncStateChanged=s,this.excludesMetadataChanges=c}return a(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&rh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i){var a=[];return n.forEach((function(e){a.push({type:0,doc:e})})),new e(t,n,Wy.emptySet(n),a,r,i,!0,!1)}}]),e}(),$y=a((function e(){r(this,e),this.Ru=void 0,this.listeners=[]})),Xy=a((function e(){r(this,e),this.queries=new Wh((function(e){return ih(e)}),rh),this.onlineState="Unknown",this.bu=new Set}));function Jy(e,t){return Zy.apply(this,arguments)}function Zy(){return Zy=wr(Sr().mark((function e(t,n){var r,i,a,o,u;return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Jc(t),i=n.query,a=!1,(o=r.queries.get(i))||(a=!0,o=new $y),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:o.Ru=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),u=Gy(e.t0,"Initialization of query '".concat(ah(n.query),"' failed")),e.abrupt("return",void n.onError(u));case 13:r.queries.set(i,o),o.listeners.push(n),n.Pu(r.onlineState),o.Ru&&n.Vu(o.Ru)&&ig(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])}))),Zy.apply(this,arguments)}function eg(e,t){return tg.apply(this,arguments)}function tg(){return tg=wr(Sr().mark((function e(t,n){var r,i,a,o,u;return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Jc(t),i=n.query,a=!1,(o=r.queries.get(i))&&(u=o.listeners.indexOf(n))>=0&&(o.listeners.splice(u,1),a=0===o.listeners.length),!a){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)}))),tg.apply(this,arguments)}function ng(e,t){var n,r=Jc(e),i=!1,a=_r(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,u=o.query,s=r.queries.get(u);if(s){var c,l=_r(s.listeners);try{for(l.s();!(c=l.n()).done;){c.value.Vu(o)&&(i=!0)}}catch(f){l.e(f)}finally{l.f()}s.Ru=o}}}catch(f){a.e(f)}finally{a.f()}i&&ig(r)}function rg(e,t,n){var r=Jc(e),i=r.queries.get(t);if(i){var a,o=_r(i.listeners);try{for(o.s();!(a=o.n()).done;){a.value.onError(n)}}catch(u){o.e(u)}finally{o.f()}}r.queries.delete(t)}function ig(e){e.bu.forEach((function(e){e.next()}))}var ag=function(){function e(t,n,i){r(this,e),this.query=t,this.vu=n,this.Su=!1,this.Du=null,this.onlineState="Unknown",this.options=i||{}}return a(e,[{key:"Vu",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=_r(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new Qy(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var a=!1;return this.Su?this.Cu(e)&&(this.vu.next(e),a=!0):this.xu(e,this.onlineState)&&(this.Nu(e),a=!0),this.Du=e,a}},{key:"onError",value:function(e){this.vu.error(e)}},{key:"Pu",value:function(e){this.onlineState=e;var t=!1;return this.Du&&!this.Su&&this.xu(this.Du,e)&&(this.Nu(this.Du),t=!0),t}},{key:"xu",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.ku||!n)&&(!e.docs.isEmpty()||"Offline"===t)}},{key:"Cu",value:function(e){if(e.docChanges.length>0)return!0;var t=this.Du&&this.Du.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"Nu",value:function(e){e=Qy.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.Su=!0,this.vu.next(e)}}]),e}(),og=function(){function e(t,n){r(this,e),this.payload=t,this.byteLength=n}return a(e,[{key:"Mu",value:function(){return"metadata"in this.payload}}]),e}(),ug=function(){function e(t){r(this,e),this.M=t}return a(e,[{key:"wi",value:function(e){return Sd(this.M,e)}},{key:"mi",value:function(e){return e.metadata.exists?Ad(this.M,e.document,!1):lf.newNoDocument(this.wi(e.metadata.name),this.gi(e.metadata.readTime))}},{key:"gi",value:function(e){return kd(e)}}]),e}(),sg=function(){function e(t,n,i){r(this,e),this.Ou=t,this.localStore=n,this.M=i,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=cg(t)}return a(e,[{key:"Fu",value:function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;var n=xl.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}},{key:"$u",value:function(e){var t,n=new Map,r=new ug(this.M),i=_r(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;if(a.metadata.queries){var o,u=r.wi(a.metadata.name),s=_r(a.metadata.queries);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=(n.get(c)||td()).add(u);n.set(c,l)}}catch(f){s.e(f)}finally{s.f()}}}}catch(f){i.e(f)}finally{i.f()}return n}},{key:"complete",value:function(){var e=wr(Sr().mark((function e(){var t,n,r,i,a;return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,gm(this.localStore,new ug(this.M),this.documents,this.Ou.id);case 2:t=e.sent,n=this.$u(this.documents),r=_r(this.queries),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=13;break}return a=i.value,e.next=11,bm(this.localStore,a,n.get(a.name));case 11:e.next=7;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:return e.abrupt("return",(this.progress.taskState="Success",{progress:this.progress,Bu:this.collectionGroups,Lu:t}));case 22:case"end":return e.stop()}}),e,this,[[5,15,18,21]])})));return function(){return e.apply(this,arguments)}}()}]),e}();function cg(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var lg=a((function e(t){r(this,e),this.key=t})),fg=a((function e(t){r(this,e),this.key=t})),hg=function(){function e(t,n){r(this,e),this.query=t,this.Uu=n,this.qu=null,this.current=!1,this.Ku=td(),this.mutatedKeys=td(),this.Gu=sh(t),this.Qu=new Wy(this.Gu)}return a(e,[{key:"ju",get:function(){return this.Uu}},{key:"Wu",value:function(e,t){var n=this,r=t?t.zu:new Yy,i=t?t.Qu:this.Qu,a=t?t.mutatedKeys:this.mutatedKeys,o=i,u=!1,s="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),f=oh(n.query,t)?t:null,h=!!l&&n.mutatedKeys.has(l.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),p=!0):n.Hu(l,f)||(r.track({type:2,doc:f}),p=!0,(s&&n.Gu(f,s)>0||c&&n.Gu(f,c)<0)&&(u=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(s||c)&&(u=!0)),p&&(f?(o=o.add(f),a=d?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),null!==this.query.limit)for(;o.size>this.query.limit;){var l="F"===this.query.limitType?o.last():o.first();o=o.delete(l.key),a=a.delete(l.key),r.track({type:1,doc:l})}return{Qu:o,zu:r,ii:u,mutatedKeys:a}}},{key:"Hu",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;var a=e.zu.Au();a.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return $c()}};return n(e)-n(t)}(e.type,t.type)||r.Gu(e.doc,t.doc)})),this.Ju(n);var o=t?this.Yu():[],u=0===this.Ku.size&&this.current?1:0,s=u!==this.qu;return this.qu=u,0!==a.length||s?{snapshot:new Qy(this.query,e.Qu,i,a,e.mutatedKeys,0===u,s,!1),Xu:o}:{Xu:o}}},{key:"Pu",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new Yy,mutatedKeys:this.mutatedKeys,ii:!1},!1)):{Xu:[]}}},{key:"Zu",value:function(e){return!this.Uu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}},{key:"Ju",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.Uu=t.Uu.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.Uu=t.Uu.delete(e)})),this.current=e.current)}},{key:"Yu",value:function(){var e=this;if(!this.current)return[];var t=this.Ku;this.Ku=td(),this.Qu.forEach((function(t){e.Zu(t.key)&&(e.Ku=e.Ku.add(t.key))}));var n=[];return t.forEach((function(t){e.Ku.has(t)||n.push(new fg(t))})),this.Ku.forEach((function(e){t.has(e)||n.push(new lg(e))})),n}},{key:"ta",value:function(e){this.Uu=e._i,this.Ku=td();var t=this.Wu(e.documents);return this.applyChanges(t,!0)}},{key:"ea",value:function(){return Qy.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.qu)}}]),e}(),dg=a((function e(t,n,i){r(this,e),this.query=t,this.targetId=n,this.view=i})),pg=a((function e(t){r(this,e),this.key=t,this.na=!1})),vg=function(){function e(t,n,i,a,o,u){r(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=i,this.sharedClientState=a,this.currentUser=o,this.maxConcurrentLimboResolutions=u,this.sa={},this.ia=new Wh((function(e){return ih(e)}),rh),this.ra=new Map,this.oa=new Set,this.ua=new bf(jl.comparator),this.aa=new Map,this.ca=new _m,this.ha={},this.la=new Map,this.fa=Ev.yn(),this.onlineState="Unknown",this.da=void 0}return a(e,[{key:"isPrimaryClient",get:function(){return!0===this.da}}]),e}();function mg(e,t){return yg.apply(this,arguments)}function yg(){return yg=wr(Sr().mark((function e(t,n){var r,i,a,o,u,s;return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=ck(t),!(o=r.ia.get(n))){e.next=6;break}i=o.targetId,r.sharedClientState.addLocalQueryTarget(i),a=o.view.ea(),e.next=15;break;case 6:return e.next=8,fm(r.localStore,th(n));case 8:return u=e.sent,r.isPrimaryClient&&sy(r.remoteStore,u),s=r.sharedClientState.addLocalQueryTarget(u.targetId),i=u.targetId,e.next=14,gg(r,n,i,"current"===s);case 14:a=e.sent;case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)}))),yg.apply(this,arguments)}function gg(e,t,n,r){return kg.apply(this,arguments)}function kg(){return kg=wr(Sr().mark((function e(t,n,r,i){var a,o,u,s,c,l;return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._a=function(e,n,r){return function(){var e=wr(Sr().mark((function e(t,n,r,i){var a,o,u;return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view.Wu(r),e.t0=a.ii,!e.t0){e.next=6;break}return e.next=5,pm(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.Wu(t,a)}));case 5:a=e.sent;case 6:return o=i&&i.targetChanges.get(n.targetId),u=n.view.applyChanges(a,t.isPrimaryClient,o),e.abrupt("return",(jg(t,n.targetId,u.Xu),u.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,pm(t.localStore,n,!0);case 3:return a=e.sent,o=new hg(n,a._i),u=o.Wu(a.documents),s=ad.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState),c=o.applyChanges(u,t.isPrimaryClient,s),jg(t,r,c.Xu),l=new dg(n,r,o),e.abrupt("return",(t.ia.set(n,l),t.ra.has(r)?t.ra.get(r).push(n):t.ra.set(r,[n]),c.snapshot));case 11:case"end":return e.stop()}}),e)}))),kg.apply(this,arguments)}function bg(e,t){return wg.apply(this,arguments)}function wg(){return wg=wr(Sr().mark((function e(t,n){var r,i,a;return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Jc(t),i=r.ia.get(n),!((a=r.ra.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r.ra.set(i.targetId,a.filter((function(e){return!rh(e,n)}))),void r.ia.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,hm(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),cy(r.remoteStore,i.targetId),Ug(r,i.targetId)})).catch(Nv);case 9:e.next=14;break;case 11:return Ug(r,i.targetId),e.next=14,hm(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)}))),wg.apply(this,arguments)}function xg(e,t,n){return Sg.apply(this,arguments)}function Sg(){return Sg=wr(Sr().mark((function e(t,n,r){var i,a,o;return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=lk(t),e.prev=1,e.next=4,function(e,t){var n,r=Jc(e),i=ml.now(),a=t.reduce((function(e,t){return e.add(t.key)}),td());return r.persistence.runTransaction("Locally write mutations","readwrite",(function(e){return r.fi.Ks(e,a).next((function(a){n=a;var o,u=[],s=_r(t);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=Ph(c,n.get(c.key));null!=l&&u.push(new Mh(c.key,l,cf(l.value.mapValue),Th.exists(!0)))}}catch(f){s.e(f)}finally{s.f()}return r.Bs.addMutationBatch(e,i,u,t)}))})).then((function(e){return e.applyToLocalDocumentSet(n),{batchId:e.batchId,changes:n}}))}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.ha[e.currentUser.toKey()];r||(r=new bf(dl)),r=r.insert(t,n),e.ha[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,zg(i,a.changes);case 9:return e.next=11,Ey(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=Gy(e.t0,"Failed to persist write"),r.reject(o);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),Sg.apply(this,arguments)}function _g(e,t){return Eg.apply(this,arguments)}function Eg(){return Eg=wr(Sr().mark((function e(t,n){var r,i;return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Jc(t),e.prev=1,e.next=4,sm(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.aa.get(t);n&&(Xc(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.na=!0:e.modifiedDocuments.size>0?Xc(n.na):e.removedDocuments.size>0&&(Xc(n.na),n.na=!1))})),e.next=8,zg(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,Nv(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),Eg.apply(this,arguments)}function Ig(e,t,n){var r=Jc(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.ia.forEach((function(e,n){var r=n.view.Pu(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=Jc(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=_r(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.Pu(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}})),r&&ig(n)}(r.eventManager,t),i.length&&r.sa.zo(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function Tg(e,t,n){return Cg.apply(this,arguments)}function Cg(){return Cg=wr(Sr().mark((function e(t,n,r){var i,a,o,u,s,c;return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=Jc(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.aa.get(n),!(o=a&&a.key)){e.next=14;break}return u=(u=new bf(jl.comparator)).insert(o,lf.newNoDocument(o,yl.min())),s=td().add(o),c=new id(yl.min(),new Map,new Sf(dl),u,s),e.next=9,_g(i,c);case 9:i.ua=i.ua.remove(o),i.aa.delete(n),Bg(i),e.next=16;break;case 14:return e.next=16,hm(i.localStore,n,!1).then((function(){return Ug(i,n,r)})).catch(Nv);case 16:case"end":return e.stop()}}),e)}))),Cg.apply(this,arguments)}function Ag(e,t){return Ng.apply(this,arguments)}function Ng(){return Ng=wr(Sr().mark((function e(t,n){var r,i,a;return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Jc(t),i=n.batch.batchId,e.prev=1,e.next=4,om(r.localStore,n);case 4:return a=e.sent,Mg(r,i,null),Lg(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,zg(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,Nv(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),Ng.apply(this,arguments)}function Og(e,t,n){return Pg.apply(this,arguments)}function Pg(){return Pg=wr(Sr().mark((function e(t,n,r){var i,a;return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Jc(t),e.prev=1,e.next=4,function(e,t){var n=Jc(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.Bs.lookupMutationBatch(e,t).next((function(t){return Xc(null!==t),r=t.keys(),n.Bs.removeMutationBatch(e,t)})).next((function(){return n.Bs.performConsistencyCheck(e)})).next((function(){return n.fi.Ks(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,Mg(i,n,r),Lg(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,zg(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,Nv(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),Pg.apply(this,arguments)}function Dg(e,t){return Rg.apply(this,arguments)}function Rg(){return Rg=wr(Sr().mark((function e(t,n){var r,i,a,o;return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return py((r=Jc(t)).remoteStore)||Gc("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),e.prev=2,e.next=5,function(e){var t=Jc(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t.Bs.getHighestUnacknowledgedBatchId(e)}))}(r.localStore);case 5:if(-1!==(i=e.sent)){e.next=8;break}return e.abrupt("return",void n.resolve());case 8:(a=r.la.get(i)||[]).push(n),r.la.set(i,a),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),o=Gy(e.t0,"Initialization of waitForPendingWrites() operation failed"),n.reject(o);case 16:case"end":return e.stop()}}),e,null,[[2,12]])}))),Rg.apply(this,arguments)}function Lg(e,t){(e.la.get(t)||[]).forEach((function(e){e.resolve()})),e.la.delete(t)}function Mg(e,t,n){var r=Jc(e),i=r.ha[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.ha[r.currentUser.toKey()]=i}}function Ug(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=_r(e.ra.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.ia.delete(a),n&&e.sa.wa(a,n)}}catch(o){i.e(o)}finally{i.f()}e.ra.delete(t),e.isPrimaryClient&&e.ca.vi(t).forEach((function(t){e.ca.containsKey(t)||Fg(e,t)}))}function Fg(e,t){e.oa.delete(t.path.canonicalString());var n=e.ua.get(t);null!==n&&(cy(e.remoteStore,n),e.ua=e.ua.remove(t),e.aa.delete(n),Bg(e))}function jg(e,t,n){var r,i=_r(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof lg?(e.ca.addReference(a.key,t),Vg(e,a)):a instanceof fg?(Gc("SyncEngine","Document no longer in limbo: "+a.key),e.ca.removeReference(a.key,t),e.ca.containsKey(a.key)||Fg(e,a.key)):$c()}}catch(o){i.e(o)}finally{i.f()}}function Vg(e,t){var n=t.key,r=n.path.canonicalString();e.ua.get(n)||e.oa.has(r)||(Gc("SyncEngine","New document in limbo: "+n),e.oa.add(r),Bg(e))}function Bg(e){for(;e.oa.size>0&&e.ua.size<e.maxConcurrentLimboResolutions;){var t=e.oa.values().next().value;e.oa.delete(t);var n=new jl(xl.fromString(t)),r=e.fa.next();e.aa.set(r,new pg(n)),e.ua=e.ua.insert(n,r),sy(e.remoteStore,new Rp(th($f(n.path)),r,2,ll.A))}}function zg(e,t,n){return qg.apply(this,arguments)}function qg(){return qg=wr(Sr().mark((function e(t,n,r){var i,a,o,u;return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=Jc(t),a=[],o=[],u=[],e.t0=i.ia.isEmpty(),e.t0){e.next=9;break}return i.ia.forEach((function(e,t){u.push(i._a(t,n,r).then((function(e){if(e){i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,e.fromCache?"not-current":"current"),a.push(e);var n=em.Ys(t.targetId,e);o.push(n)}})))})),e.next=6,Promise.all(u);case 6:return i.sa.zo(a),e.next=9,function(){var e=wr(Sr().mark((function e(t,n){var r,i,a,o,u,s,c,l;return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Jc(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return kp.forEach(n,(function(t){return kp.forEach(t.Hs,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return kp.forEach(t.Js,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),_p(e.t0)){e.next=10;break}throw e.t0;case 10:Gc("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=_r(n);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.targetId,o.fromCache||(s=r.ui.get(u),c=s.snapshotVersion,l=s.withLastLimboFreeSnapshotVersion(c),r.ui=r.ui.insert(u,l))}catch(f){i.e(f)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,o);case 9:case"end":return e.stop()}}),e)}))),qg.apply(this,arguments)}function Hg(e,t){return Kg.apply(this,arguments)}function Kg(){return Kg=wr(Sr().mark((function e(t,n){var r,i;return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=Jc(t)).currentUser.isEqual(n)){e.next=11;break}return Gc("SyncEngine","User change. New user:",n.toKey()),e.next=5,im(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.la.forEach((function(e){e.forEach((function(e){e.reject(new el(Zc.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.la.clear()}(r),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,zg(r,i.di);case 11:case"end":return e.stop()}}),e)}))),Kg.apply(this,arguments)}function Gg(e,t){var n=Jc(e),r=n.aa.get(t);if(r&&r.na)return td().add(r.key);var i=td(),a=n.ra.get(t);if(!a)return i;var o,u=_r(a);try{for(u.s();!(o=u.n()).done;){var s=o.value,c=n.ia.get(s);i=i.unionWith(c.view.ju)}}catch(l){u.e(l)}finally{u.f()}return i}function Wg(e,t){return Yg.apply(this,arguments)}function Yg(){return Yg=wr(Sr().mark((function e(t,n){var r,i,a;return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Jc(t),e.next=3,pm(r.localStore,n.query,!0);case 3:return i=e.sent,a=n.view.ta(i),e.abrupt("return",(r.isPrimaryClient&&jg(r,n.targetId,a.Xu),a));case 6:case"end":return e.stop()}}),e)}))),Yg.apply(this,arguments)}function Qg(e,t){return $g.apply(this,arguments)}function $g(){return $g=wr(Sr().mark((function e(t,n){var r;return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Jc(t),e.abrupt("return",mm(r.localStore,n).then((function(e){return zg(r,e)})));case 2:case"end":return e.stop()}}),e)}))),$g.apply(this,arguments)}function Xg(e,t,n,r){return Jg.apply(this,arguments)}function Jg(){return Jg=wr(Sr().mark((function e(t,n,r,i){var a,o;return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Jc(t),e.next=3,function(e,t){var n=Jc(e),r=Jc(n.Bs);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.fn(e,t).next((function(t){return t?n.fi.Ks(e,t):kp.resolve(null)}))}))}(a.localStore,n);case 3:if(null===(o=e.sent)){e.next=15;break}if("pending"!==r){e.next=10;break}return e.next=8,Ey(a.remoteStore);case 8:e.next=11;break;case 10:"acknowledged"===r||"rejected"===r?(Mg(a,n,i||null),Lg(a,n),function(e,t){Jc(Jc(e).Bs)._n(t)}(a.localStore,n)):$c();case 11:return e.next=13,zg(a,o);case 13:e.next=16;break;case 15:Gc("SyncEngine","Cannot apply mutation batch with id: "+n);case 16:case"end":return e.stop()}}),e)}))),Jg.apply(this,arguments)}function Zg(e,t){return ek.apply(this,arguments)}function ek(){return ek=wr(Sr().mark((function e(t,n){var r,i,a,o,u,s,c,l;return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ck(r=Jc(t)),lk(r),!0!==n||!0===r.da){e.next=13;break}return i=r.sharedClientState.getAllActiveQueryTargets(),e.next=5,tk(r,i.toArray());case 5:return a=e.sent,r.da=!0,e.next=9,By(r.remoteStore,!0);case 9:o=_r(a);try{for(o.s();!(u=o.n()).done;)s=u.value,sy(r.remoteStore,s)}catch(f){o.e(f)}finally{o.f()}e.next=25;break;case 13:if(!1!==n||!1===r.da){e.next=25;break}return c=[],l=Promise.resolve(),r.ra.forEach((function(e,t){r.sharedClientState.isLocalQueryTarget(t)?c.push(t):l=l.then((function(){return Ug(r,t),hm(r.localStore,t,!0)})),cy(r.remoteStore,t)})),e.next=19,l;case 19:return e.next=21,tk(r,c);case 21:return function(e){var t=Jc(e);t.aa.forEach((function(e,n){cy(t.remoteStore,n)})),t.ca.Si(),t.aa=new Map,t.ua=new bf(jl.comparator)}(r),r.da=!1,e.next=25,By(r.remoteStore,!1);case 25:case"end":return e.stop()}}),e)}))),ek.apply(this,arguments)}function tk(e,t,n){return nk.apply(this,arguments)}function nk(){return nk=wr(Sr().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h,d,p,v,m,y;return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=Jc(t),a=[],o=[],u=_r(n),e.prev=2,u.s();case 4:if((s=u.n()).done){e.next=45;break}if(c=s.value,l=void 0,!(f=i.ra.get(c))||0===f.length){e.next=34;break}return e.next=11,fm(i.localStore,th(f[0]));case 11:l=e.sent,h=_r(f),e.prev=13,h.s();case 15:if((d=h.n()).done){e.next=24;break}return p=d.value,v=i.ia.get(p),e.next=20,Wg(i,v);case 20:(m=e.sent).snapshot&&o.push(m.snapshot);case 22:e.next=15;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(13),h.e(e.t0);case 29:return e.prev=29,h.f(),e.finish(29);case 32:e.next=42;break;case 34:return e.next=36,vm(i.localStore,c);case 36:return y=e.sent,e.next=39,fm(i.localStore,y);case 39:return l=e.sent,e.next=42,gg(i,rk(y),c,!1);case 42:a.push(l);case 43:e.next=4;break;case 45:e.next=50;break;case 47:e.prev=47,e.t1=e.catch(2),u.e(e.t1);case 50:return e.prev=50,u.f(),e.finish(50);case 53:return e.abrupt("return",(i.sa.zo(o),a));case 54:case"end":return e.stop()}}),e,null,[[2,47,50,53],[13,26,29,32]])}))),nk.apply(this,arguments)}function rk(e){return Qf(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function ik(e){var t=Jc(e);return Jc(Jc(t.localStore).persistence).Fs()}function ak(e,t,n,r){return ok.apply(this,arguments)}function ok(){return ok=wr(Sr().mark((function e(t,n,r,i){var a,o,u,s;return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=Jc(t)).da){e.next=3;break}return e.abrupt("return",void Gc("SyncEngine","Ignoring unexpected query state notification."));case 3:if(!((o=a.ra.get(n))&&o.length>0)){e.next=20;break}e.t0=r,e.next="current"===e.t0||"not-current"===e.t0?8:"rejected"===e.t0?15:19;break;case 8:return e.next=10,mm(a.localStore,uh(o[0]));case 10:return u=e.sent,s=id.createSynthesizedRemoteEventForCurrentChange(n,"current"===r),e.next=14,zg(a,u,s);case 14:return e.abrupt("break",20);case 15:return e.next=17,hm(a.localStore,n,!0);case 17:return Ug(a,n,i),e.abrupt("break",20);case 19:$c();case 20:case"end":return e.stop()}}),e)}))),ok.apply(this,arguments)}function uk(e,t,n){return sk.apply(this,arguments)}function sk(){return sk=wr(Sr().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h;return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=ck(t)).da){e.next=45;break}a=_r(n),e.prev=3,a.s();case 5:if((o=a.n()).done){e.next=21;break}if(u=o.value,!i.ra.has(u)){e.next=10;break}return Gc("SyncEngine","Adding an already active target "+u),e.abrupt("continue",19);case 10:return e.next=12,vm(i.localStore,u);case 12:return s=e.sent,e.next=15,fm(i.localStore,s);case 15:return c=e.sent,e.next=18,gg(i,rk(s),c.targetId,!1);case 18:sy(i.remoteStore,c);case 19:e.next=5;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(3),a.e(e.t0);case 26:return e.prev=26,a.f(),e.finish(26);case 29:l=_r(r),e.prev=30,h=Sr().mark((function e(){var t;return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=f.value,e.t0=i.ra.has(t),!e.t0){e.next=5;break}return e.next=5,hm(i.localStore,t,!1).then((function(){cy(i.remoteStore,t),Ug(i,t)})).catch(Nv);case 5:case"end":return e.stop()}}),e)})),l.s();case 33:if((f=l.n()).done){e.next=37;break}return e.delegateYield(h(),"t1",35);case 35:e.next=33;break;case 37:e.next=42;break;case 39:e.prev=39,e.t2=e.catch(30),l.e(e.t2);case 42:return e.prev=42,l.f(),e.finish(42);case 45:case"end":return e.stop()}}),e,null,[[3,23,26,29],[30,39,42,45]])}))),sk.apply(this,arguments)}function ck(e){var t=Jc(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=_g.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Gg.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Tg.bind(null,t),t.sa.zo=ng.bind(null,t.eventManager),t.sa.wa=rg.bind(null,t.eventManager),t}function lk(e){var t=Jc(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Ag.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Og.bind(null,t),t}function fk(e,t,n){var r=Jc(e);(function(){var e=wr(Sr().mark((function e(t,n,r){var i,a,o,u,s;return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.getMetadata();case 3:return i=e.sent,e.next=6,function(e,t){var n=Jc(e),r=kd(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(function(e){return n._s.getBundleMetadata(e,t.id)})).then((function(e){return!!e&&e.createTime.compareTo(r)>=0}))}(t.localStore,i);case 6:if(!e.sent){e.next=11;break}return e.next=9,n.close();case 9:return r._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(i)),e.abrupt("return",Promise.resolve(new Set));case 11:return r._updateProgress(cg(i)),a=new sg(i,t.localStore,n.M),e.next=15,n.ma();case 15:o=e.sent;case 16:if(!o){e.next=26;break}return e.next=19,a.Fu(o);case 19:return(u=e.sent)&&r._updateProgress(u),e.next=23,n.ma();case 23:o=e.sent;case 24:e.next=16;break;case 26:return e.next=28,a.complete();case 28:return s=e.sent,e.next=31,zg(t,s.Lu,void 0);case 31:return e.next=33,function(e,t){var n=Jc(e);return n.persistence.runTransaction("Save bundle","readwrite",(function(e){return n._s.saveBundleMetadata(e,t)}))}(t.localStore,i);case 33:return r._completeWith(s.progress),e.abrupt("return",Promise.resolve(s.Bu));case 37:return e.prev=37,e.t0=e.catch(0),e.abrupt("return",(Yc("SyncEngine","Loading bundle failed with ".concat(e.t0)),r._failWith(e.t0),Promise.resolve(new Set)));case 40:case"end":return e.stop()}}),e,null,[[0,37]])})));return function(t,n,r){return e.apply(this,arguments)}})()(r,t,n).then((function(e){r.sharedClientState.notifyBundleLoaded(e)}))}var hk=function(){function e(){r(this,e),this.synchronizeTabs=!1}return a(e,[{key:"initialize",value:function(){var e=wr(Sr().mark((function e(t){return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.M=$m(t.databaseInfo.databaseId),this.sharedClientState=this.ga(t),this.persistence=this.ya(t),e.next=5,this.persistence.start();case 5:this.gcScheduler=this.pa(t),this.localStore=this.Ia(t);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"pa",value:function(e){return null}},{key:"Ia",value:function(e){return rm(this.persistence,new tm,e.initialUser,this.M)}},{key:"ya",value:function(e){return new Nm(Pm.Yi,this.M)}},{key:"ga",value:function(e){return new zm}},{key:"terminate",value:function(){var e=wr(Sr().mark((function e(){return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),dk=function(e){u(n,e);var t=d(n);function n(e,i,a){var o;return r(this,n),(o=t.call(this)).Ta=e,o.cacheSizeBytes=i,o.forceOwnership=a,o.synchronizeTabs=!1,o}return a(n,[{key:"initialize",value:function(){var e=wr(Sr().mark((function e(t){var r=this;return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ta(s(n.prototype),"initialize",this).call(this,t);case 2:return e.next=4,this.Ta.initialize(this,t);case 4:return e.next=6,lk(this.Ta.syncEngine);case 6:return e.next=8,Ey(this.Ta.remoteStore);case 8:return e.next=10,this.persistence.Ts((function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(r.localStore),Promise.resolve()}));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Ia",value:function(e){return rm(this.persistence,new tm,e.initialUser,this.M)}},{key:"pa",value:function(e){var t=this.persistence.referenceDelegate.garbageCollector;return new Rv(t,e.asyncQueue)}},{key:"ya",value:function(e){var t=Jv(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?yv.withCacheSize(this.cacheSizeBytes):yv.DEFAULT;return new Qv(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,Ym(),Qm(),this.M,this.sharedClientState,!!this.forceOwnership)}},{key:"ga",value:function(e){return new zm}}]),n}(hk),pk=function(e){u(n,e);var t=d(n);function n(e,i){var a;return r(this,n),(a=t.call(this,e,i,!1)).Ta=e,a.cacheSizeBytes=i,a.synchronizeTabs=!0,a}return a(n,[{key:"initialize",value:function(){var e=wr(Sr().mark((function e(t){var r,i=this;return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ta(s(n.prototype),"initialize",this).call(this,t);case 2:if(r=this.Ta.syncEngine,e.t0=this.sharedClientState instanceof Bm,!e.t0){e.next=8;break}return this.sharedClientState.syncEngine={$r:Xg.bind(null,r),Br:ak.bind(null,r),Lr:uk.bind(null,r),Fs:ik.bind(null,r),Fr:Qg.bind(null,r)},e.next=8,this.sharedClientState.start();case 8:return e.next=10,this.persistence.Ts(function(){var e=wr(Sr().mark((function e(t){return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Zg(i.Ta.syncEngine,t);case 2:i.gcScheduler&&(t&&!i.gcScheduler.started?i.gcScheduler.start(i.localStore):t||i.gcScheduler.stop());case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"ga",value:function(e){var t=Ym();if(!Bm.vt(t))throw new el(Zc.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=Jv(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Bm(t,e.asyncQueue,n,e.clientId,e.initialUser)}}]),n}(dk),vk=function(){function e(){r(this,e)}return a(e,[{key:"initialize",value:function(){var e=wr(Sr().mark((function e(t,n){var r=this;return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return Ig(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=Hg.bind(null,this.syncEngine),e.next=12,By(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new Xy}},{key:"createDatastore",value:function(e){var t,n=$m(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new Wm(t));return function(e,t,n,r){return new ty(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,r,n)}},{key:"createRemoteStore",value:function(e){var t,n,r,i,a,o=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return Ig(o.syncEngine,e,0)},a=Hm.vt()?new Hm:new qm,new ry(t,n,r,i,a)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var u=new vg(e,t,n,r,i,a);return o&&(u.da=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=wr(Sr().mark((function e(t){var n;return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Jc(t),Gc("RemoteStore","RemoteStore shutting down."),n.wu.add(5),e.next=5,oy(n);case 5:n.gu.shutdown(),n.yu.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();function mk(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{read:function(){return wr(Sr().mark((function r(){var i;return Sr().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(n<e.byteLength)){r.next=3;break}return i={value:e.slice(n,n+t),done:!1},r.abrupt("return",(n+=t,i));case 3:return r.abrupt("return",{done:!0});case 4:case"end":return r.stop()}}),r)})))()},cancel:function(){return wr(Sr().mark((function e(){return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},releaseLock:function(){},closed:Promise.reject("unimplemented")}}var yk=function(){function e(t){r(this,e),this.observer=t,this.muted=!1}return a(e,[{key:"next",value:function(e){this.observer.next&&this.Ea(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.Ea(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}},{key:"Aa",value:function(){this.muted=!0}},{key:"Ea",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),gk=function(){function e(t,n){var i=this;r(this,e),this.Ra=t,this.M=n,this.metadata=new tl,this.buffer=new Uint8Array,this.ba=new TextDecoder("utf-8"),this.Pa().then((function(e){e&&e.Mu()?i.metadata.resolve(e.payload.metadata):i.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.payload))))}),(function(e){return i.metadata.reject(e)}))}return a(e,[{key:"close",value:function(){return this.Ra.cancel()}},{key:"getMetadata",value:function(){var e=wr(Sr().mark((function e(){return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.metadata.promise);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"ma",value:function(){var e=wr(Sr().mark((function e(){return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getMetadata();case 2:return e.abrupt("return",this.Pa());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Pa",value:function(){var e=wr(Sr().mark((function e(){var t,n,r,i;return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Va();case 2:if(null!==(t=e.sent)){e.next=5;break}return e.abrupt("return",null);case 5:return n=this.ba.decode(t),r=Number(n),isNaN(r)&&this.va("length string (".concat(n,") is not valid number")),e.next=9,this.Sa(r);case 9:return i=e.sent,e.abrupt("return",new og(JSON.parse(i),t.length+r));case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Da",value:function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))}},{key:"Va",value:function(){var e=wr(Sr().mark((function e(){var t,n;return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.Da()<0)){e.next=7;break}return e.next=3,this.Ca();case 3:if(!e.sent){e.next=5;break}return e.abrupt("break",7);case 5:e.next=0;break;case 7:if(0!==this.buffer.length){e.next=9;break}return e.abrupt("return",null);case 9:return(t=this.Da())<0&&this.va("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,t),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Sa",value:function(){var e=wr(Sr().mark((function e(t){var n;return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.buffer.length<t)){e.next=8;break}return e.next=3,this.Ca();case 3:if(e.t0=e.sent,!e.t0){e.next=6;break}this.va("Reached the end of bundle when more is expected.");case 6:e.next=0;break;case 8:return n=this.ba.decode(this.buffer.slice(0,t)),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"va",value:function(e){throw this.Ra.cancel(),new Error("Invalid bundle format: ".concat(e))}},{key:"Ca",value:function(){var e=wr(Sr().mark((function e(){var t,n;return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Ra.read();case 2:return(t=e.sent).done||((n=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),n.set(t.value,this.buffer.length),this.buffer=n),e.abrupt("return",t.done);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),kk=function(){function e(t){r(this,e),this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return a(e,[{key:"lookup",value:function(){var e=wr(Sr().mark((function e(t){var n,r=this;return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!(this.mutations.length>0)){e.next=2;break}throw new el(Zc.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");case 2:return e.next=4,function(){var e=wr(Sr().mark((function e(t,n){var r,i,a,o,u,s;return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Jc(t),i=Id(r.M)+"/documents",a={documents:n.map((function(e){return xd(r.M,e)}))},e.next=5,r._o("BatchGetDocuments",i,a);case 5:return o=e.sent,u=new Map,o.forEach((function(e){var t=Nd(r.M,e);u.set(t.key.toString(),t)})),s=[],e.abrupt("return",(n.forEach((function(e){var t=u.get(e.toString());Xc(!!t),s.push(t)})),s));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,t);case 4:return n=e.sent,e.abrupt("return",(n.forEach((function(e){return r.recordVersion(e)})),n));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"set",value:function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"update",value:function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}},{key:"delete",value:function(e){this.write(new zh(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"commit",value:function(){var e=wr(Sr().mark((function e(){var t,n=this;return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!this.lastWriteError){e.next=2;break}throw this.lastWriteError;case 2:return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(e,t){var r=jl.fromPath(t);n.mutations.push(new qh(r,n.precondition(r)))})),e.next=7,function(){var e=wr(Sr().mark((function e(t,n){var r,i,a;return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Jc(t),i=Id(r.M)+"/documents",a={writes:n.map((function(e){return Od(r.M,e)}))},e.next=3,r.co("Commit",i,a);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,this.mutations);case 7:this.committed=!0;case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"recordVersion",value:function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw $c();t=yl.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new el(Zc.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}},{key:"precondition",value:function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?Th.updateTime(t):Th.none()}},{key:"preconditionForUpdate",value:function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(yl.min()))throw new el(Zc.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Th.updateTime(t)}return Th.exists(!0)}},{key:"write",value:function(e){this.ensureCommitNotCalled(),this.mutations.push(e)}},{key:"ensureCommitNotCalled",value:function(){}}]),e}(),bk=function(){function e(t,n,i,a,o){r(this,e),this.asyncQueue=t,this.datastore=n,this.options=i,this.updateFunction=a,this.deferred=o,this.xa=i.maxAttempts,this.No=new Xm(this.asyncQueue,"transaction_retry")}return a(e,[{key:"run",value:function(){this.xa-=1,this.Na()}},{key:"Na",value:function(){var e=this;this.No.Ro(wr(Sr().mark((function t(){var n,r;return Sr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=new kk(e.datastore),(r=e.ka(n))&&r.then((function(t){e.asyncQueue.enqueueAndForget((function(){return n.commit().then((function(){e.deferred.resolve(t)})).catch((function(t){e.Ma(t)}))}))})).catch((function(t){e.Ma(t)}));case 2:case"end":return t.stop()}}),t)}))))}},{key:"ka",value:function(e){try{var t=this.updateFunction(e);return!Ml(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}},{key:"Ma",value:function(e){var t=this;this.xa>0&&this.Oa(e)?(this.xa-=1,this.asyncQueue.enqueueAndForget((function(){return t.Na(),Promise.resolve()}))):this.deferred.reject(e)}},{key:"Oa",value:function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||!Kh(t)}return!1}}]),e}(),wk=function(){function e(t,n,i,a){var o=this;r(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=a,this.user=zc.UNAUTHENTICATED,this.clientId=hl.R(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(i,function(){var e=wr(Sr().mark((function e(t){return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Gc("FirestoreClient","Received user=",t.uid),e.next=3,o.authCredentialListener(t);case 3:o.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(i,(function(e){return Gc("FirestoreClient","Received new app check token=",e),o.appCheckCredentialListener(e,o.user)}))}return a(e,[{key:"getConfiguration",value:function(){var e=wr(Sr().mark((function e(){return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new el(Zc.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new tl;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(wr(Sr().mark((function n(){var r;return Sr().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e.onlineComponents,!n.t0){n.next=5;break}return n.next=5,e.onlineComponents.terminate();case 5:if(n.t1=e.offlineComponents,!n.t1){n.next=9;break}return n.next=9,e.offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=Gy(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function xk(e,t){return Sk.apply(this,arguments)}function Sk(){return Sk=wr(Sr().mark((function e(t,n){var r,i;return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),Gc("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=wr(Sr().mark((function e(t){return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,im(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t.offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),Sk.apply(this,arguments)}function _k(e,t){return Ek.apply(this,arguments)}function Ek(){return Ek=wr(Sr().mark((function e(t,n){var r,i;return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,Ik(t);case 3:return r=e.sent,Gc("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return jy(n.remoteStore,e)})),t.setAppCheckTokenChangeListener((function(e,t){return jy(n.remoteStore,t)})),t.onlineComponents=n;case 13:case"end":return e.stop()}}),e)}))),Ek.apply(this,arguments)}function Ik(e){return Tk.apply(this,arguments)}function Tk(){return Tk=wr(Sr().mark((function e(t){return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.offlineComponents,e.t0){e.next=5;break}return Gc("FirestoreClient","Using default OfflineComponentProvider"),e.next=5,xk(t,new hk);case 5:return e.abrupt("return",t.offlineComponents);case 6:case"end":return e.stop()}}),e)}))),Tk.apply(this,arguments)}function Ck(e){return Ak.apply(this,arguments)}function Ak(){return Ak=wr(Sr().mark((function e(t){return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.onlineComponents,e.t0){e.next=5;break}return Gc("FirestoreClient","Using default OnlineComponentProvider"),e.next=5,_k(t,new vk);case 5:return e.abrupt("return",t.onlineComponents);case 6:case"end":return e.stop()}}),e)}))),Ak.apply(this,arguments)}function Nk(e){return Ik(e).then((function(e){return e.persistence}))}function Ok(e){return Ik(e).then((function(e){return e.localStore}))}function Pk(e){return Ck(e).then((function(e){return e.remoteStore}))}function Dk(e){return Ck(e).then((function(e){return e.syncEngine}))}function Rk(e){return Lk.apply(this,arguments)}function Lk(){return Lk=wr(Sr().mark((function e(t){var n,r;return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ck(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=mg.bind(null,n.syncEngine),r.onUnlisten=bg.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)}))),Lk.apply(this,arguments)}function Mk(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new tl;return e.asyncQueue.enqueueAndForget(wr(Sr().mark((function i(){return Sr().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new yk({next:function(a){t.enqueueAndForget((function(){return eg(e,o)}));var u=a.docs.has(n);!u&&a.fromCache?i.reject(new el(Zc.UNAVAILABLE,"Failed to get document because the client is offline.")):u&&a.fromCache&&r&&"server"===r.source?i.reject(new el(Zc.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:function(e){return i.reject(e)}}),o=new ag($f(n.path),a,{includeMetadataChanges:!0,ku:!0});return Jy(e,o)},i.next=3,Rk(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function Uk(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new tl;return e.asyncQueue.enqueueAndForget(wr(Sr().mark((function i(){return Sr().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new yk({next:function(n){t.enqueueAndForget((function(){return eg(e,o)})),n.fromCache&&"server"===r.source?i.reject(new el(Zc.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new ag(n,a,{includeMetadataChanges:!0,ku:!0});return Jy(e,o)},i.next=3,Rk(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}var Fk=new Map;function jk(e,t,n){if(!n)throw new el(Zc.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function Vk(e,t,n,r){if(!0===t&&!0===r)throw new el(Zc.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function Bk(e){if(!jl.isDocumentKey(e))throw new el(Zc.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function zk(e){if(jl.isDocumentKey(e))throw new el(Zc.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function qk(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":$c()}function Hk(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new el(Zc.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=qk(e);throw new el(Zc.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}function Kk(e,t){if(t<=0)throw new el(Zc.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}var Gk=function(){function e(t){var n;if(r(this,e),void 0===t.host){if(void 0!==t.ssl)throw new el(Zc.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new el(Zc.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,Vk("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return a(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),Wk=function(){function e(t,n,i){r(this,e),this._authCredentials=n,this._appCheckCredentials=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Gk({}),this._settingsFrozen=!1,t instanceof Ll?this._databaseId=t:(this._app=t,this._databaseId=function(e){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new el(Zc.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ll(e.options.projectId)}(t))}return a(e,[{key:"app",get:function(){if(!this._app)throw new el(Zc.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new el(Zc.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Gk(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new rl;switch(e.type){case"gapi":var t=e.client;return Xc(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new ul(t,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new el(Zc.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=Fk.get(e);t&&(Gc("ComponentProvider","Removing Datastore"),Fk.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();function Yk(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(e=Hk(e,Wk))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==t&&Yc("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},a),{host:"".concat(t,":").concat(n),ssl:!1})),i.mockUserToken){var o,u;if("string"==typeof i.mockUserToken)o=i.mockUserToken,u=zc.MOCK_USER;else{o=Rr(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var s=i.mockUserToken.sub||i.mockUserToken.user_id;if(!s)throw new el(Zc.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new zc(s)}e._authCredentials=new il(new nl(o,u))}}var Qk=function(){function e(t,n,i){r(this,e),this.converter=n,this._key=i,this.type="document",this.firestore=t}return a(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new Xk(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),$k=function(){function e(t,n,i){r(this,e),this.converter=n,this._query=i,this.type="query",this.firestore=t}return a(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),Xk=function(e){u(n,e);var t=d(n);function n(e,i,a){var o;return r(this,n),(o=t.call(this,e,i,$f(a)))._path=a,o.type="collection",o}return a(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new Qk(this.firestore,null,new jl(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}($k);function Jk(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=ti(e),jk("collection","path",t),e instanceof Wk){var a=xl.fromString.apply(xl,[t].concat(r));return zk(a),new Xk(e,null,a)}if(!(e instanceof Qk||e instanceof Xk))throw new el(Zc.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(xl.fromString.apply(xl,[t].concat(r)));return zk(o),new Xk(e.firestore,null,o)}function Zk(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=ti(e),1===arguments.length&&(t=hl.R()),jk("doc","path",t),e instanceof Wk){var a=xl.fromString.apply(xl,[t].concat(r));return Bk(a),new Qk(e,null,new jl(a))}if(!(e instanceof Qk||e instanceof Xk))throw new el(Zc.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(xl.fromString.apply(xl,[t].concat(r)));return Bk(o),new Qk(e.firestore,e instanceof Xk?e.converter:null,new jl(o))}function eb(e,t){return e=ti(e),t=ti(t),(e instanceof Qk||e instanceof Xk)&&(t instanceof Qk||t instanceof Xk)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function tb(e,t){return e=ti(e),t=ti(t),e instanceof $k&&t instanceof $k&&e.firestore===t.firestore&&rh(e._query,t._query)&&e.converter===t.converter}var nb=function(){function e(){var t=this;r(this,e),this.Fa=Promise.resolve(),this.$a=[],this.Ba=!1,this.La=[],this.Ua=null,this.qa=!1,this.Ka=!1,this.Ga=[],this.No=new Xm(this,"async_queue_retry"),this.Qa=function(){var e=Qm();e&&Gc("AsyncQueue","Visibility state changed to "+e.visibilityState),t.No.Po()};var n=Qm();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.Qa)}return a(e,[{key:"isShuttingDown",get:function(){return this.Ba}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.ja(),this.Wa(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.Ba){this.Ba=!0,this.Ka=e||!1;var t=Qm();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Qa)}}},{key:"enqueue",value:function(e){var t=this;if(this.ja(),this.Ba)return new Promise((function(){}));var n=new tl;return this.Wa((function(){return t.Ba&&t.Ka?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.$a.push(e),t.za()}))}},{key:"za",value:function(){var e=wr(Sr().mark((function e(){var t=this;return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.$a.length){e.next=14;break}return e.prev=1,e.next=4,this.$a[0]();case 4:this.$a.shift(),this.No.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),_p(e.t0)){e.next=12;break}throw e.t0;case 12:Gc("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.$a.length>0&&this.No.Ro((function(){return t.za()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"Wa",value:function(e){var t=this,n=this.Fa.then((function(){return t.qa=!0,e().catch((function(e){t.Ua=e,t.qa=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw Wc("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.qa=!1,e}))}));return this.Fa=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.ja(),this.Ga.indexOf(e)>-1&&(t=0);var i=Ky.createAndSchedule(this,e,t,n,(function(e){return r.Ha(e)}));return this.La.push(i),i}},{key:"ja",value:function(){this.Ua&&$c()}},{key:"verifyOperationInProgress",value:function(){}},{key:"Ja",value:function(){var e=wr(Sr().mark((function e(){var t;return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.Fa,e.next=3,t;case 3:if(t!==this.Fa){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Ya",value:function(e){var t,n=_r(this.La);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"Xa",value:function(e){var t=this;return this.Ja().then((function(){t.La.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=_r(t.La);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.Ja()}))}},{key:"Za",value:function(e){this.Ga.push(e)}},{key:"Ha",value:function(e){var t=this.La.indexOf(e);this.La.splice(t,1)}}]),e}();function rb(e){return function(e,t){if("object"!=typeof e||null===e)return!1;var n,r=e,i=_r(["next","error","complete"]);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"==typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e)}var ib=function(){function e(){r(this,e),this._progressObserver={},this._taskCompletionResolver=new tl,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return a(e,[{key:"onProgress",value:function(e,t,n){this._progressObserver={next:e,error:t,complete:n}}},{key:"catch",value:function(e){return this._taskCompletionResolver.promise.catch(e)}},{key:"then",value:function(e,t){return this._taskCompletionResolver.promise.then(e,t)}},{key:"_completeWith",value:function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}},{key:"_failWith",value:function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}},{key:"_updateProgress",value:function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}]),e}(),ab=function(e){u(n,e);var t=d(n);function n(e,i,a){var o;return r(this,n),(o=t.call(this,e,i,a)).type="firestore",o._queue=new nb,o._persistenceKey="name"in e?e.name:"[DEFAULT]",o}return a(n,[{key:"_terminate",value:function(){return this._firestoreClient||ub(this),this._firestoreClient.terminate()}}]),n}(Wk);function ob(e){return e._firestoreClient||ub(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function ub(e){var t,n=e._freezeSettings(),r=function(e,t,n,r){return new Rl(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new wk(e._authCredentials,e._appCheckCredentials,e._queue,r)}function sb(e,t,n){var r=new tl;return e.asyncQueue.enqueue(wr(Sr().mark((function i(){return Sr().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,xk(e,n);case 3:return i.next=5,_k(e,t);case 5:r.resolve(),i.next=13;break;case 8:if(i.prev=8,i.t0=i.catch(0),function(e){return"FirebaseError"===e.name?e.code===Zc.FAILED_PRECONDITION||e.code===Zc.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||(22===e.code||20===e.code||11===e.code)}(i.t0)){i.next=12;break}throw i.t0;case 12:console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+i.t0),r.reject(i.t0);case 13:case"end":return i.stop()}}),i,null,[[0,8]])})))).then((function(){return r.promise}))}function cb(e){return function(e){return e.asyncQueue.enqueue(wr(Sr().mark((function t(){var n,r;return Sr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Nk(e);case 2:return n=t.sent,t.next=5,Pk(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!0),function(e){var t=Jc(e);return t.wu.delete(0),iy(t)}(r)));case 7:case"end":return t.stop()}}),t)}))))}(ob(e=Hk(e,ab)))}function lb(e){return function(e){return e.asyncQueue.enqueue(wr(Sr().mark((function t(){var n,r;return Sr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Nk(e);case 2:return n=t.sent,t.next=5,Pk(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!1),function(){var e=wr(Sr().mark((function e(t){var n;return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=Jc(t)).wu.add(0),e.next=4,oy(n);case 4:n.yu.set("Offline");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(r)));case 7:case"end":return t.stop()}}),t)}))))}(ob(e=Hk(e,ab)))}function fb(e,t){var n=ob(e=Hk(e,ab)),r=new ib;return function(e,t,n,r){var i=function(e,t){return function(e,t){return new gk(e,t)}(function(e,t){if(e instanceof Uint8Array)return mk(e,t);if(e instanceof ArrayBuffer)return mk(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof e?(new TextEncoder).encode(e):e),t)}(n,$m(t));e.asyncQueue.enqueueAndForget(wr(Sr().mark((function t(){return Sr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=fk,t.next=3,Dk(e);case 3:t.t1=t.sent,t.t2=i,t.t3=r,(0,t.t0)(t.t1,t.t2,t.t3);case 7:case"end":return t.stop()}}),t)}))))}(n,e._databaseId,t,r),r}function hb(e,t){return function(e,t){return e.asyncQueue.enqueue(wr(Sr().mark((function n(){return Sr().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=function(e,t){var n=Jc(e);return n.persistence.runTransaction("Get named query","readonly",(function(e){return n._s.getNamedQuery(e,t)}))},n.next=3,Ok(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)}))))}(ob(e=Hk(e,ab)),t).then((function(t){return t?new $k(e,null,t.query):null}))}function db(e){if(e._initialized||e._terminated)throw new el(Zc.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var pb=function(){function e(){r(this,e);for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];for(var a=0;a<n.length;++a)if(0===n[a].length)throw new el(Zc.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new _l(n)}return a(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var vb=function(){function e(t){r(this,e),this._byteString=t}return a(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(Il.fromBase64String(t))}catch(t){throw new el(Zc.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(Il.fromUint8Array(t))}}]),e}(),mb=a((function e(t){r(this,e),this._methodName=t})),yb=function(){function e(t,n){if(r(this,e),!isFinite(t)||t<-90||t>90)throw new el(Zc.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new el(Zc.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return a(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return dl(this._lat,e._lat)||dl(this._long,e._long)}}]),e}(),gb=/^__.*__$/,kb=function(){function e(t,n,i){r(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=i}return a(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new Mh(e,this.data,this.fieldMask,t,this.fieldTransforms):new Lh(e,this.data,t,this.fieldTransforms)}}]),e}(),bb=function(){function e(t,n,i){r(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=i}return a(e,[{key:"toMutation",value:function(e,t){return new Mh(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function wb(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw $c()}}var xb=function(){function e(t,n,i,a,o,u){r(this,e),this.settings=t,this.databaseId=n,this.M=i,this.ignoreUndefinedProperties=a,void 0===o&&this.tc(),this.fieldTransforms=o||[],this.fieldMask=u||[]}return a(e,[{key:"path",get:function(){return this.settings.path}},{key:"ec",get:function(){return this.settings.ec}},{key:"nc",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.M,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"sc",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.nc({path:n,ic:!1});return r.rc(e),r}},{key:"oc",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.nc({path:n,ic:!1});return r.tc(),r}},{key:"uc",value:function(e){return this.nc({path:void 0,ic:!0})}},{key:"ac",value:function(e){return zb(e,this.settings.methodName,this.settings.cc||!1,this.path,this.settings.hc)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"tc",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.rc(this.path.get(e))}},{key:"rc",value:function(e){if(0===e.length)throw this.ac("Document fields must not be empty");if(wb(this.ec)&&gb.test(e))throw this.ac('Document fields cannot begin and end with "__"')}}]),e}(),Sb=function(){function e(t,n,i){r(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.M=i||$m(t)}return a(e,[{key:"lc",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new xb({ec:e,methodName:t,hc:n,path:_l.emptyPath(),ic:!1,cc:r},this.databaseId,this.M,this.ignoreUndefinedProperties)}}]),e}();function _b(e){var t=e._freezeSettings(),n=$m(e._databaseId);return new Sb(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Eb(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.lc(a.merge||a.mergeFields?2:0,t,n,i);Fb("Data must be an object, but it was:",o,r);var u,s,c=Mb(r,o);if(a.merge)u=new El(o.fieldMask),s=o.fieldTransforms;else if(a.mergeFields){var l,f=[],h=_r(a.mergeFields);try{for(h.s();!(l=h.n()).done;){var d=l.value,p=jb(t,d,n);if(!o.contains(p))throw new el(Zc.INVALID_ARGUMENT,"Field '".concat(p,"' is specified in your field mask but missing from your input data."));qb(f,p)||f.push(p)}}catch(v){h.e(v)}finally{h.f()}u=new El(f),s=o.fieldTransforms.filter((function(e){return u.covers(e.field)}))}else u=null,s=o.fieldTransforms;return new kb(new sf(c),u,s)}var Ib=function(e){u(n,e);var t=d(n);function n(){return r(this,n),t.apply(this,arguments)}return a(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.ec)throw 1===e.ec?e.ac("".concat(this._methodName,"() can only appear at the top level of your update data")):e.ac("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(mb);function Tb(e,t,n){return new xb({ec:3,hc:t.settings.hc,methodName:e._methodName,ic:n},t.databaseId,t.M,t.ignoreUndefinedProperties)}var Cb=function(e){u(n,e);var t=d(n);function n(){return r(this,n),t.apply(this,arguments)}return a(n,[{key:"_toFieldTransform",value:function(e){return new Eh(e.path,new yh)}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(mb),Ab=function(e){u(n,e);var t=d(n);function n(e,i){var a;return r(this,n),(a=t.call(this,e)).fc=i,a}return a(n,[{key:"_toFieldTransform",value:function(e){var t=Tb(this,e,!0),n=this.fc.map((function(e){return Lb(e,t)})),r=new gh(n);return new Eh(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(mb),Nb=function(e){u(n,e);var t=d(n);function n(e,i){var a;return r(this,n),(a=t.call(this,e)).fc=i,a}return a(n,[{key:"_toFieldTransform",value:function(e){var t=Tb(this,e,!0),n=this.fc.map((function(e){return Lb(e,t)})),r=new bh(n);return new Eh(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(mb),Ob=function(e){u(n,e);var t=d(n);function n(e,i){var a;return r(this,n),(a=t.call(this,e)).dc=i,a}return a(n,[{key:"_toFieldTransform",value:function(e){var t=new xh(e.M,hh(e.M,this.dc));return new Eh(e.path,t)}},{key:"isEqual",value:function(e){return this===e}}]),n}(mb);function Pb(e,t,n,r){var i=e.lc(1,t,n);Fb("Data must be an object, but it was:",i,r);var a=[],o=sf.empty();kl(r,(function(e,r){var u=Bb(t,e,n);r=ti(r);var s=i.oc(u);if(r instanceof Ib)a.push(u);else{var c=Lb(r,s);null!=c&&(a.push(u),o.set(u,c))}}));var u=new El(a);return new bb(o,u,i.fieldTransforms)}function Db(e,t,n,r,i,a){var o=e.lc(1,t,n),u=[jb(t,r,n)],s=[i];if(a.length%2!=0)throw new el(Zc.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var c=0;c<a.length;c+=2)u.push(jb(t,a[c])),s.push(a[c+1]);for(var l=[],f=sf.empty(),h=u.length-1;h>=0;--h)if(!qb(l,u[h])){var d=u[h],p=s[h];p=ti(p);var v=o.oc(d);if(p instanceof Ib)l.push(d);else{var m=Lb(p,v);null!=m&&(l.push(d),f.set(d,m))}}var y=new El(l);return new bb(f,y,o.fieldTransforms)}function Rb(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return Lb(n,e.lc(r?4:3,t))}function Lb(e,t){if(Ub(e=ti(e)))return Fb("Unsupported field value:",t,e),Mb(e,t);if(e instanceof mb)return function(e,t){if(!wb(t.ec))throw t.ac("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.ac("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.ic&&4!==t.ec)throw t.ac("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=_r(e);try{for(a.s();!(n=a.n()).done;){var o=Lb(n.value,t.uc(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(u){a.e(u)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=ti(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return hh(t.M,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=ml.fromDate(e);return{timestampValue:md(t.M,n)}}if(e instanceof ml){var r=new ml(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:md(t.M,r)}}if(e instanceof yb)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof vb)return{bytesValue:yd(t.M,e._byteString)};if(e instanceof Qk){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t.ac("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:bd(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.ac("Unsupported field value: ".concat(qk(e)))}(e,t)}function Mb(e,t){var n={};return bl(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):kl(e,(function(e,r){var i=Lb(r,t.sc(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function Ub(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof ml||e instanceof yb||e instanceof vb||e instanceof Qk||e instanceof mb)}function Fb(e,t,n){if(!Ub(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=qk(n);throw"an object"===r?t.ac(e+" a custom object"):t.ac(e+" "+r)}}function jb(e,t,n){if((t=ti(t))instanceof pb)return t._internalPath;if("string"==typeof t)return Bb(e,t);throw zb("Field path arguments must be of type string or ",e,!1,void 0,n)}var Vb=new RegExp("[~\\*/\\[\\]]");function Bb(e,t,n){if(t.search(Vb)>=0)throw zb("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return Er(pb,Ue(t.split(".")))._internalPath}catch(r){throw zb("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function zb(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,u="Function ".concat(t,"() called with invalid data");n&&(u+=" (via `toFirestore()`)"),u+=". ";var s="";return(a||o)&&(s+=" (found",a&&(s+=" in field ".concat(r)),o&&(s+=" in document ".concat(i)),s+=")"),new el(Zc.INVALID_ARGUMENT,u+e+s)}function qb(e,t){return e.some((function(e){return e.isEqual(t)}))}var Hb=function(){function e(t,n,i,a,o){r(this,e),this._firestore=t,this._userDataWriter=n,this._key=i,this._document=a,this._converter=o}return a(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new Qk(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new Kb(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(Gb("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),Kb=function(e){u(n,e);var t=d(n);function n(){return r(this,n),t.apply(this,arguments)}return a(n,[{key:"data",value:function(){return Ta(s(n.prototype),"data",this).call(this)}}]),n}(Hb);function Gb(e,t){return"string"==typeof t?Bb(e,t):t instanceof pb?t._internalPath:t._delegate._internalPath}var Wb=function(){function e(t,n){r(this,e),this.hasPendingWrites=t,this.fromCache=n}return a(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),Yb=function(e){u(n,e);var t=d(n);function n(e,i,a,o,u,s){var c;return r(this,n),(c=t.call(this,e,i,a,o,s))._firestore=e,c._firestoreImpl=e,c.metadata=u,c}return a(n,[{key:"exists",value:function(){return Ta(s(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new Qb(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(Gb("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(Hb),Qb=function(e){u(n,e);var t=d(n);function n(){return r(this,n),t.apply(this,arguments)}return a(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Ta(s(n.prototype),"data",this).call(this,e)}}]),n}(Yb),$b=function(){function e(t,n,i,a){r(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=a,this.metadata=new Wb(a.hasPendingWrites,a.fromCache),this.query=i}return a(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new Qb(n._firestore,n._userDataWriter,r.key,r,new Wb(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new el(Zc.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){return{type:"added",doc:new Qb(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Wb(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new Qb(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Wb(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:Xb(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}]),e}();function Xb(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return $c()}}function Jb(e,t){return e instanceof Yb&&t instanceof Yb?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof $b&&t instanceof $b&&e._firestore===t._firestore&&tb(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}function Zb(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new el(Zc.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var ew=a((function e(){r(this,e)}));function tw(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=o._apply(e)}return e}var nw=function(e){u(n,e);var t=d(n);function n(e,i,a){var o;return r(this,n),(o=t.call(this))._c=e,o.wc=i,o.mc=a,o.type="where",o}return a(n,[{key:"_apply",value:function(e){var t=_b(e.firestore),n=function(e,t,n,r,i,a,o){var u;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new el(Zc.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on documentId()."));if("in"===a||"not-in"===a){dw(o,a);var s,c=[],l=_r(o);try{for(l.s();!(s=l.n()).done;){var f=s.value;c.push(hw(r,e,f))}}catch(d){l.e(d)}finally{l.f()}u={arrayValue:{values:c}}}else u=hw(r,e,o)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||dw(o,a),u=Rb(n,"where",o,"in"===a||"not-in"===a);var h=Rf.create(i,a,u);return function(e,t){if(t.S()){var n=Jf(e);if(null!==n&&!n.isEqual(t.field))throw new el(Zc.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(t.field.toString(),"'"));var r=Xf(e);null!==r&&pw(e,t.field,r)}var i=function(e,t){var n,r=_r(e.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(t.indexOf(i.op)>=0)return i.op}}catch(d){r.e(d)}finally{r.f()}return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==i)throw i===t.op?new el(Zc.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new el(Zc.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(i.toString(),"' filters."))}(e,h),h}(e._query,0,t,e.firestore._databaseId,this._c,this.wc,this.mc);return new $k(e.firestore,e.converter,function(e,t){var n=e.filters.concat([t]);return new Yf(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}(e._query,n))}}]),n}(ew);var rw=function(e){u(n,e);var t=d(n);function n(e,i){var a;return r(this,n),(a=t.call(this))._c=e,a.gc=i,a.type="orderBy",a}return a(n,[{key:"_apply",value:function(e){var t=function(e,t,n){if(null!==e.startAt)throw new el(Zc.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new el(Zc.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new Hf(t,n);return function(e,t){if(null===Xf(e)){var n=Jf(e);null!==n&&pw(e,n,t.field)}}(e,r),r}(e._query,this._c,this.gc);return new $k(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new Yf(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}]),n}(ew);var iw=function(e){u(n,e);var t=d(n);function n(e,i,a){var o;return r(this,n),(o=t.call(this)).type=e,o.yc=i,o.Ic=a,o}return a(n,[{key:"_apply",value:function(e){return new $k(e.firestore,e.converter,nh(e._query,this.yc,this.Ic))}}]),n}(ew);var aw=function(e){u(n,e);var t=d(n);function n(e,i,a){var o;return r(this,n),(o=t.call(this)).type=e,o.Tc=i,o.Ec=a,o}return a(n,[{key:"_apply",value:function(e){var t=fw(e,this.type,this.Tc,this.Ec);return new $k(e.firestore,e.converter,function(e,t){return new Yf(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}]),n}(ew);function ow(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new aw("startAt",t,!0)}function uw(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new aw("startAfter",t,!1)}var sw=function(e){u(n,e);var t=d(n);function n(e,i,a){var o;return r(this,n),(o=t.call(this)).type=e,o.Tc=i,o.Ec=a,o}return a(n,[{key:"_apply",value:function(e){var t=fw(e,this.type,this.Tc,this.Ec);return new $k(e.firestore,e.converter,function(e,t){return new Yf(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}]),n}(ew);function cw(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new sw("endBefore",t,!1)}function lw(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new sw("endAt",t,!0)}function fw(e,t,n,r){if(n[0]=ti(n[0]),n[0]instanceof Hb)return function(e,t,n,r,i){if(!r)throw new el(Zc.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));var a,o=[],u=_r(eh(e));try{for(u.s();!(a=u.n()).done;){var s=a.value;if(s.field.isKeyField())o.push(Ql(t,r.key));else{var c=r.data.field(s.field);if(Ol(c))throw new el(Zc.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+s.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=s.field.canonicalString();throw new el(Zc.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(l,"' (used as the orderBy) does not exist."))}o.push(c)}}}catch(f){u.e(f)}finally{u.f()}return new qf(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=_b(e.firestore);return function(e,t,n,r,i,a){var o=e.explicitOrderBy;if(i.length>o.length)throw new el(Zc.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));for(var u=[],s=0;s<i.length;s++){var c=i[s];if(o[s].field.isKeyField()){if("string"!=typeof c)throw new el(Zc.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof c));if(!Zf(e)&&-1!==c.indexOf("/"))throw new el(Zc.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(c,"' contains a slash."));var l=e.path.child(xl.fromString(c));if(!jl.isDocumentKey(l))throw new el(Zc.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(l,"' is not because it contains an odd number of segments."));var f=new jl(l);u.push(Ql(t,f))}else{var h=Rb(n,r,c);u.push(h)}}return new qf(u,a)}(e._query,e.firestore._databaseId,i,t,n,r)}function hw(e,t,n){if("string"==typeof(n=ti(n))){if(""===n)throw new el(Zc.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Zf(t)&&-1!==n.indexOf("/"))throw new el(Zc.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(xl.fromString(n));if(!jl.isDocumentKey(r))throw new el(Zc.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return Ql(e,new jl(r))}if(n instanceof Qk)return Ql(e,n._key);throw new el(Zc.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(qk(n),"."))}function dw(e,t){if(!Array.isArray(e)||0===e.length)throw new el(Zc.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."));if(e.length>10)throw new el(Zc.INVALID_ARGUMENT,"Invalid Query. '".concat(t.toString(),"' filters support a maximum of 10 elements in the value array."))}function pw(e,t,n){if(!n.isEqual(t))throw new el(Zc.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}var vw={maxAttempts:5},mw=function(){function e(){r(this,e)}return a(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(zl(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Al(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Nl(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw $c()}}},{key:"convertObject",value:function(e,t){var n=this,r={};return kl(e.fields,(function(e,i){r[e]=n.convertValue(i,t)})),r}},{key:"convertGeoPoint",value:function(e){return new yb(Al(e.latitude),Al(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=Pl(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Dl(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=Cl(e);return new ml(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=xl.fromString(e);Xc(Hd(n));var r=new Ll(n.get(1),n.get(3)),i=new jl(n.popFirst(5));return r.isEqual(t)||Wc("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function yw(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var gw=function(e){u(n,e);var t=d(n);function n(e){var i;return r(this,n),(i=t.call(this)).firestore=e,i}return a(n,[{key:"convertBytes",value:function(e){return new vb(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new Qk(this.firestore,null,t)}}]),n}(mw),kw=function(){function e(t,n){r(this,e),this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=_b(t)}return a(e,[{key:"set",value:function(e,t,n){this._verifyNotCommitted();var r=bw(e,this._firestore),i=yw(r.converter,t,n),a=Eb(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(a.toMutation(r._key,Th.none())),this}},{key:"update",value:function(e,t,n){this._verifyNotCommitted();for(var r,i=bw(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=ti(t))||t instanceof pb?Db(this._dataReader,"WriteBatch.update",i._key,t,n,o):Pb(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(r.toMutation(i._key,Th.exists(!0))),this}},{key:"delete",value:function(e){this._verifyNotCommitted();var t=bw(e,this._firestore);return this._mutations=this._mutations.concat(new zh(t._key,Th.none())),this}},{key:"commit",value:function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}},{key:"_verifyNotCommitted",value:function(){if(this._committed)throw new el(Zc.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}]),e}();function bw(e,t){if((e=ti(e)).firestore!==t)throw new el(Zc.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var ww=function(e){u(n,e);var t=d(n);function n(e){var i;return r(this,n),(i=t.call(this)).firestore=e,i}return a(n,[{key:"convertBytes",value:function(e){return new vb(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new Qk(this.firestore,null,t)}}]),n}(mw);function xw(e){e=Hk(e,Qk);var t=Hk(e.firestore,ab),n=ob(t),r=new ww(t);return function(e,t){var n=new tl;return e.asyncQueue.enqueueAndForget(wr(Sr().mark((function r(){return Sr().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=wr(Sr().mark((function e(t,n,r){var i,a;return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,function(e,t){var n=Jc(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.fi.Ls(e,t)}))}(t,n);case 3:(i=e.sent).isFoundDocument()?r.resolve(i):i.isNoDocument()?r.resolve(null):r.reject(new el(Zc.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),a=Gy(e.t0,"Failed to get document '".concat(n," from cache")),r.reject(a);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,Ok(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._key).then((function(n){return new Yb(t,r,e._key,n,new Wb(null!==n&&n.hasLocalMutations,!0),e.converter)}))}function Sw(e){e=Hk(e,$k);var t=Hk(e.firestore,ab),n=ob(t),r=new ww(t);return function(e,t){var n=new tl;return e.asyncQueue.enqueueAndForget(wr(Sr().mark((function r(){return Sr().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=wr(Sr().mark((function e(t,n,r){var i,a,o,u,s;return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,pm(t,n,!0);case 3:i=e.sent,a=new hg(n,i._i),o=a.Wu(i.documents),u=a.applyChanges(o,!1),r.resolve(u.snapshot),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),s=Gy(e.t0,"Failed to execute query '".concat(n," against cache")),r.reject(s);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,Ok(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._query).then((function(n){return new $b(t,r,e,n)}))}function _w(e,t,n){e=Hk(e,Qk);var r=Hk(e.firestore,ab),i=yw(e.converter,t,n);return Cw(r,[Eb(_b(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,Th.none())])}function Ew(e,t,n){e=Hk(e,Qk);for(var r=Hk(e.firestore,ab),i=_b(r),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return Cw(r,[("string"==typeof(t=ti(t))||t instanceof pb?Db(i,"updateDoc",e._key,t,n,o):Pb(i,"updateDoc",e._key,t)).toMutation(e._key,Th.exists(!0))])}function Iw(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,a,o;e=ti(e);var u={includeMetadataChanges:!1},s=0;"object"!=typeof n[s]||rb(n[s])||(u=n[s],s++);var c,l,f,h={includeMetadataChanges:u.includeMetadataChanges};if(rb(n[s])){var d=n[s];n[s]=null===(i=d.next)||void 0===i?void 0:i.bind(d),n[s+1]=null===(a=d.error)||void 0===a?void 0:a.bind(d),n[s+2]=null===(o=d.complete)||void 0===o?void 0:o.bind(d)}if(e instanceof Qk)l=Hk(e.firestore,ab),f=$f(e._key.path),c={next:function(t){n[s]&&n[s](Aw(l,e,t))},error:n[s+1],complete:n[s+2]};else{var p=Hk(e,$k);l=Hk(p.firestore,ab),f=p._query;var v=new ww(l);c={next:function(e){n[s]&&n[s](new $b(l,v,p,e))},error:n[s+1],complete:n[s+2]},Zb(e._query)}return function(e,t,n,r){var i=new yk(r),a=new ag(t,i,n);return e.asyncQueue.enqueueAndForget(wr(Sr().mark((function t(){return Sr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=Jy,t.next=3,Rk(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){i.Aa(),e.asyncQueue.enqueueAndForget(wr(Sr().mark((function t(){return Sr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=eg,t.next=3,Rk(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(ob(l),f,h,c)}function Tw(e,t){return function(e,t){var n=new yk(t);return e.asyncQueue.enqueueAndForget(wr(Sr().mark((function t(){return Sr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){Jc(e).bu.add(t),t.next()},t.next=3,Rk(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){n.Aa(),e.asyncQueue.enqueueAndForget(wr(Sr().mark((function t(){return Sr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){Jc(e).bu.delete(t)},t.next=3,Rk(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(ob(e=Hk(e,ab)),rb(t)?t:{next:t})}function Cw(e,t){return function(e,t){var n=new tl;return e.asyncQueue.enqueueAndForget(wr(Sr().mark((function r(){return Sr().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=xg,r.next=3,Dk(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(ob(e),t)}function Aw(e,t,n){var r=n.docs.get(t._key),i=new ww(e);return new Yb(e,i,t._key,r,new Wb(n.hasPendingWrites,n.fromCache),t.converter)}var Nw=function(e){u(n,e);var t=d(n);function n(e,i){var a;return r(this,n),(a=t.call(this,e,i))._firestore=e,a}return a(n,[{key:"get",value:function(e){var t=this,r=bw(e,this._firestore),i=new ww(this._firestore);return Ta(s(n.prototype),"get",this).call(this,e).then((function(e){return new Yb(t._firestore,i,r._key,e._document,new Wb(!1,!1),r.converter)}))}}]),n}(function(){function e(t,n){r(this,e),this._firestore=t,this._transaction=n,this._dataReader=_b(t)}return a(e,[{key:"get",value:function(e){var t=this,n=bw(e,this._firestore),r=new gw(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return $c();var i=e[0];if(i.isFoundDocument())return new Hb(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new Hb(t._firestore,r,n._key,null,n.converter);throw $c()}))}},{key:"set",value:function(e,t,n){var r=bw(e,this._firestore),i=yw(r.converter,t,n),a=Eb(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,a),this}},{key:"update",value:function(e,t,n){for(var r,i=bw(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=ti(t))||t instanceof pb?Db(this._dataReader,"Transaction.update",i._key,t,n,o):Pb(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,r),this}},{key:"delete",value:function(e){var t=bw(e,this._firestore);return this._transaction.delete(t._key),this}}]),e}());function Ow(e,t,n){e=Hk(e,ab);var r=Object.assign(Object.assign({},vw),n);return function(e){if(e.maxAttempts<1)throw new el(Zc.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(e,t,n){var r=new tl;return e.asyncQueue.enqueueAndForget(wr(Sr().mark((function i(){var a;return Sr().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,function(e){return Ck(e).then((function(e){return e.datastore}))}(e);case 2:a=i.sent,new bk(e.asyncQueue,a,n,t,r).run();case 4:case"end":return i.stop()}}),i)})))),r.promise}(ob(e),(function(n){return t(new Nw(e,n))}),r)}function Pw(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Ab("arrayUnion",t)}function Dw(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Nb("arrayRemove",t)}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){qc=e}(Qi),zi(new ni("firestore",(function(e,n){var r=n.options,i=e.getProvider("app").getImmediate(),a=new ab(i,new al(e.getProvider("auth-internal")),new cl(e.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:t},r),a._setSettings(r),a}),"PUBLIC")),ta(Bc,"3.4.9",e),ta(Bc,"3.4.9","esm2017")}();function Rw(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new el("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function Lw(){if("undefined"===typeof Uint8Array)throw new el("unimplemented","Uint8Arrays are not available in this environment.")}function Mw(){if("undefined"==typeof atob)throw new el("unimplemented","Blobs are unavailable in Firestore in this environment.")}var Uw=function(){function e(t){r(this,e),this._delegate=t}return a(e,[{key:"toBase64",value:function(){return Mw(),this._delegate.toBase64()}},{key:"toUint8Array",value:function(){return Lw(),this._delegate.toUint8Array()}},{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}},{key:"toString",value:function(){return"Blob(base64: "+this.toBase64()+")"}}],[{key:"fromBase64String",value:function(t){return Mw(),new e(vb.fromBase64String(t))}},{key:"fromUint8Array",value:function(t){return Lw(),new e(vb.fromUint8Array(t))}}]),e}();function Fw(e){return function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=e,i=_r(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"===typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e,["next","error","complete"])}var jw=function(){function e(){r(this,e)}return a(e,[{key:"enableIndexedDbPersistence",value:function(e,t){return function(e,t){db(e=Hk(e,ab));var n=ob(e),r=e._freezeSettings(),i=new vk;return sb(n,i,new dk(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}},{key:"enableMultiTabIndexedDbPersistence",value:function(e){return function(e){db(e=Hk(e,ab));var t=ob(e),n=e._freezeSettings(),r=new vk;return sb(t,r,new pk(r,n.cacheSizeBytes))}(e._delegate)}},{key:"clearIndexedDbPersistence",value:function(e){return function(e){if(e._initialized&&!e._terminated)throw new el(Zc.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var t=new tl;return e._queue.enqueueAndForgetEvenWhileRestricted(wr(Sr().mark((function n(){return Sr().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,function(){var e=wr(Sr().mark((function e(t){var n;return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(wp.vt()){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:return n=t+"main",e.next=5,wp.delete(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(Jv(e._databaseId,e._persistenceKey));case 3:t.resolve(),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),t.reject(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))),t.promise}(e._delegate)}}]),e}(),Vw=function(){function e(t,n,i){var a=this;r(this,e),this._delegate=n,this._persistenceProvider=i,this.INTERNAL={delete:function(){return a.terminate()}},t instanceof Ll||(this._appCompat=t)}return a(e,[{key:"_databaseId",get:function(){return this._delegate._databaseId}},{key:"settings",value:function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||Yc("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Yk(this._delegate,e,t,n)}},{key:"enableNetwork",value:function(){return cb(this._delegate)}},{key:"disableNetwork",value:function(){return lb(this._delegate)}},{key:"enablePersistence",value:function(e){var t=!1,n=!1;return e&&Vk("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}},{key:"clearPersistence",value:function(){return this._persistenceProvider.clearIndexedDbPersistence(this)}},{key:"terminate",value:function(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}},{key:"waitForPendingWrites",value:function(){return function(e){return function(e){var t=new tl;return e.asyncQueue.enqueueAndForget(wr(Sr().mark((function n(){return Sr().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=Dg,n.next=3,Dk(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)})))),t.promise}(ob(e=Hk(e,ab)))}(this._delegate)}},{key:"onSnapshotsInSync",value:function(e){return Tw(this._delegate,e)}},{key:"app",get:function(){if(!this._appCompat)throw new el("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}},{key:"collection",value:function(e){try{return new ex(this,Jk(this._delegate,e))}catch(t){throw Gw(t,"collection()","Firestore.collection()")}}},{key:"doc",value:function(e){try{return new Kw(this,Zk(this._delegate,e))}catch(t){throw Gw(t,"doc()","Firestore.doc()")}}},{key:"collectionGroup",value:function(e){try{return new Xw(this,function(e,t){if(e=Hk(e,Wk),jk("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new el(Zc.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new $k(e,null,function(e){return new Yf(xl.emptyPath(),e)}(t))}(this._delegate,e))}catch(t){throw Gw(t,"collectionGroup()","Firestore.collectionGroup()")}}},{key:"runTransaction",value:function(e){var t=this;return Ow(this._delegate,(function(n){return e(new zw(t,n))}))}},{key:"batch",value:function(){var e=this;return ob(this._delegate),new qw(new kw(this._delegate,(function(t){return Cw(e._delegate,t)})))}},{key:"loadBundle",value:function(e){return fb(this._delegate,e)}},{key:"namedQuery",value:function(e){var t=this;return hb(this._delegate,e).then((function(e){return e?new Xw(t,e):null}))}}]),e}(),Bw=function(e){u(n,e);var t=d(n);function n(e){var i;return r(this,n),(i=t.call(this)).firestore=e,i}return a(n,[{key:"convertBytes",value:function(e){return new Uw(new vb(e))}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return Kw.forKey(t,this.firestore,null)}}]),n}(mw);var zw=function(){function e(t,n){r(this,e),this._firestore=t,this._delegate=n,this._userDataWriter=new Bw(t)}return a(e,[{key:"get",value:function(e){var t=this,n=tx(e);return this._delegate.get(n).then((function(e){return new Qw(t._firestore,new Yb(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))}},{key:"set",value:function(e,t,n){var r=tx(e);return n?(Rw("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=tx(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=tx(e);return this._delegate.delete(t),this}}]),e}(),qw=function(){function e(t){r(this,e),this._delegate=t}return a(e,[{key:"set",value:function(e,t,n){var r=tx(e);return n?(Rw("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=tx(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=tx(e);return this._delegate.delete(t),this}},{key:"commit",value:function(){return this._delegate.commit()}}]),e}(),Hw=function(){function e(t,n,i){r(this,e),this._firestore=t,this._userDataWriter=n,this._delegate=i}return a(e,[{key:"fromFirestore",value:function(e,t){var n=new Qb(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new $w(this._firestore,n),null!==t&&void 0!==t?t:{})}},{key:"toFirestore",value:function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}}],[{key:"getInstance",value:function(t,n){var r=e.INSTANCES,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var a=i.get(n);return a||(a=new e(t,new Bw(t),n),i.set(n,a)),a}}]),e}();Hw.INSTANCES=new WeakMap;var Kw=function(){function e(t,n){r(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new Bw(t)}return a(e,[{key:"id",get:function(){return this._delegate.id}},{key:"parent",get:function(){return new ex(this.firestore,this._delegate.parent)}},{key:"path",get:function(){return this._delegate.path}},{key:"collection",value:function(e){try{return new ex(this.firestore,Jk(this._delegate,e))}catch(t){throw Gw(t,"collection()","DocumentReference.collection()")}}},{key:"isEqual",value:function(e){return(e=ti(e))instanceof Qk&&eb(this._delegate,e)}},{key:"set",value:function(e,t){t=Rw("DocumentReference.set",t);try{return t?_w(this._delegate,e,t):_w(this._delegate,e)}catch(n){throw Gw(n,"setDoc()","DocumentReference.set()")}}},{key:"update",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?Ew(this._delegate,e):Ew.apply(void 0,[this._delegate,e,t].concat(r))}catch(a){throw Gw(a,"updateDoc()","DocumentReference.update()")}}},{key:"delete",value:function(){return function(e){return Cw(Hk(e.firestore,ab),[new zh(e._key,Th.none())])}(this._delegate)}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=Ww(n),a=Yw(n,(function(t){return new Qw(e.firestore,new Yb(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return Iw(this._delegate,i,a)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?xw(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=Hk(e,Qk);var t=Hk(e.firestore,ab);return Mk(ob(t),e._key,{source:"server"}).then((function(n){return Aw(t,e,n)}))}(this._delegate):function(e){e=Hk(e,Qk);var t=Hk(e.firestore,ab);return Mk(ob(t),e._key).then((function(n){return Aw(t,e,n)}))}(this._delegate),t.then((function(e){return new Qw(n.firestore,new Yb(n.firestore._delegate,n._userDataWriter,e._key,e._document,e.metadata,n._delegate.converter))}))}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(Hw.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}],[{key:"forPath",value:function(t,n,r){if(t.length%2!==0)throw new el("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(t.canonicalString()," has ").concat(t.length));return new e(n,new Qk(n._delegate,r,new jl(t)))}},{key:"forKey",value:function(t,n,r){return new e(n,new Qk(n._delegate,r,t))}}]),e}();function Gw(e,t,n){return e.message=e.message.replace(t,n),e}function Ww(e){var t,n=_r(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if("object"===typeof r&&!Fw(r))return r}}catch(i){n.e(i)}finally{n.f()}return{}}function Yw(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=Fw(e[0])?e[0]:Fw(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var Qw=function(){function e(t,n){r(this,e),this._firestore=t,this._delegate=n}return a(e,[{key:"ref",get:function(){return new Kw(this._firestore,this._delegate.ref)}},{key:"id",get:function(){return this._delegate.id}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"exists",get:function(){return this._delegate.exists()}},{key:"data",value:function(e){return this._delegate.data(e)}},{key:"get",value:function(e,t){return this._delegate.get(e,t)}},{key:"isEqual",value:function(e){return Jb(this._delegate,e._delegate)}}]),e}(),$w=function(e){u(n,e);var t=d(n);function n(){return r(this,n),t.apply(this,arguments)}return a(n,[{key:"data",value:function(e){var t=this._delegate.data(e);return function(e,t){e||$c()}(void 0!==t),t}}]),n}(Qw),Xw=function(){function e(t,n){r(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new Bw(t)}return a(e,[{key:"where",value:function(t,n,r){try{return new e(this.firestore,tw(this._delegate,function(e,t,n){var r=t,i=Gb("where",e);return new nw(i,r,n)}(t,n,r)))}catch(i){throw Gw(i,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"orderBy",value:function(t,n){try{return new e(this.firestore,tw(this._delegate,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=Gb("orderBy",e);return new rw(n,t)}(t,n)))}catch(r){throw Gw(r,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"limit",value:function(t){try{return new e(this.firestore,tw(this._delegate,function(e){return Kk("limit",e),new iw("limit",e,"F")}(t)))}catch(n){throw Gw(n,"limit()","Query.limit()")}}},{key:"limitToLast",value:function(t){try{return new e(this.firestore,tw(this._delegate,function(e){return Kk("limitToLast",e),new iw("limitToLast",e,"L")}(t)))}catch(n){throw Gw(n,"limitToLast()","Query.limitToLast()")}}},{key:"startAt",value:function(){try{return new e(this.firestore,tw(this._delegate,ow.apply(void 0,arguments)))}catch(t){throw Gw(t,"startAt()","Query.startAt()")}}},{key:"startAfter",value:function(){try{return new e(this.firestore,tw(this._delegate,uw.apply(void 0,arguments)))}catch(t){throw Gw(t,"startAfter()","Query.startAfter()")}}},{key:"endBefore",value:function(){try{return new e(this.firestore,tw(this._delegate,cw.apply(void 0,arguments)))}catch(t){throw Gw(t,"endBefore()","Query.endBefore()")}}},{key:"endAt",value:function(){try{return new e(this.firestore,tw(this._delegate,lw.apply(void 0,arguments)))}catch(t){throw Gw(t,"endAt()","Query.endAt()")}}},{key:"isEqual",value:function(e){return tb(this._delegate,e._delegate)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?Sw(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=Hk(e,$k);var t=Hk(e.firestore,ab),n=ob(t),r=new ww(t);return Uk(n,e._query,{source:"server"}).then((function(n){return new $b(t,r,e,n)}))}(this._delegate):function(e){e=Hk(e,$k);var t=Hk(e.firestore,ab),n=ob(t),r=new ww(t);return Zb(e._query),Uk(n,e._query).then((function(n){return new $b(t,r,e,n)}))}(this._delegate),t.then((function(e){return new Zw(n.firestore,new $b(n.firestore._delegate,n._userDataWriter,n._delegate,e._snapshot))}))}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=Ww(n),a=Yw(n,(function(t){return new Zw(e.firestore,new $b(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return Iw(this._delegate,i,a)}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(Hw.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}]),e}(),Jw=function(){function e(t,n){r(this,e),this._firestore=t,this._delegate=n}return a(e,[{key:"type",get:function(){return this._delegate.type}},{key:"doc",get:function(){return new $w(this._firestore,this._delegate.doc)}},{key:"oldIndex",get:function(){return this._delegate.oldIndex}},{key:"newIndex",get:function(){return this._delegate.newIndex}}]),e}(),Zw=function(){function e(t,n){r(this,e),this._firestore=t,this._delegate=n}return a(e,[{key:"query",get:function(){return new Xw(this._firestore,this._delegate.query)}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"size",get:function(){return this._delegate.size}},{key:"empty",get:function(){return this._delegate.empty}},{key:"docs",get:function(){var e=this;return this._delegate.docs.map((function(t){return new $w(e._firestore,t)}))}},{key:"docChanges",value:function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new Jw(t._firestore,e)}))}},{key:"forEach",value:function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new $w(n._firestore,r))}))}},{key:"isEqual",value:function(e){return Jb(this._delegate,e._delegate)}}]),e}(),ex=function(e){u(n,e);var t=d(n);function n(e,i){var a;return r(this,n),(a=t.call(this,e,i)).firestore=e,a._delegate=i,a}return a(n,[{key:"id",get:function(){return this._delegate.id}},{key:"path",get:function(){return this._delegate.path}},{key:"parent",get:function(){var e=this._delegate.parent;return e?new Kw(this.firestore,e):null}},{key:"doc",value:function(e){try{return new Kw(this.firestore,void 0===e?Zk(this._delegate):Zk(this._delegate,e))}catch(t){throw Gw(t,"doc()","CollectionReference.doc()")}}},{key:"add",value:function(e){var t=this;return function(e,t){var n=Hk(e.firestore,ab),r=Zk(e),i=yw(e.converter,t);return Cw(n,[Eb(_b(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,Th.exists(!1))]).then((function(){return r}))}(this._delegate,e).then((function(e){return new Kw(t.firestore,e)}))}},{key:"isEqual",value:function(e){return eb(this._delegate,e._delegate)}},{key:"withConverter",value:function(e){return new n(this.firestore,e?this._delegate.withConverter(Hw.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}]),n}(Xw);function tx(e){return Hk(e,Qk)}var nx,rx=function(){function e(){r(this,e);for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];this._delegate=Er(pb,n)}return a(e,[{key:"isEqual",value:function(e){return(e=ti(e))instanceof pb&&this._delegate._internalPath.isEqual(e._internalPath)}}],[{key:"documentId",value:function(){return new e(_l.keyField().canonicalString())}}]),e}(),ix=function(){function e(t){r(this,e),this._delegate=t}return a(e,[{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}}],[{key:"serverTimestamp",value:function(){var t=new Cb("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)}},{key:"delete",value:function(){var t=new Ib("deleteField");return t._methodName="FieldValue.delete",new e(t)}},{key:"arrayUnion",value:function(){var t=Pw.apply(void 0,arguments);return t._methodName="FieldValue.arrayUnion",new e(t)}},{key:"arrayRemove",value:function(){var t=Dw.apply(void 0,arguments);return t._methodName="FieldValue.arrayRemove",new e(t)}},{key:"increment",value:function(t){var n=function(e){return new Ob("increment",e)}(t);return n._methodName="FieldValue.increment",new e(n)}}]),e}(),ax={Firestore:Vw,GeoPoint:yb,Timestamp:ml,Blob:Uw,Transaction:zw,WriteBatch:qw,DocumentReference:Kw,DocumentSnapshot:Qw,Query:Xw,QueryDocumentSnapshot:$w,QuerySnapshot:Zw,CollectionReference:ex,FieldPath:rx,FieldValue:ix,setLogLevel:function(e){!function(e){Hc.setLogLevel(e)}(e)},CACHE_SIZE_UNLIMITED:-1};(function(e,t){e.INTERNAL.registerComponent(new ni("firestore-compat",(function(e){var n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},ax)))})(nx=Ea,(function(e,t){return new Vw(e,t,new jw)})),nx.registerVersion("@firebase/firestore-compat","0.1.18");function ox(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;var ux;Object.create;var sx="facebook.com",cx="github.com",lx="google.com",fx="password",hx="twitter.com",dx="EMAIL_SIGNIN",px="PASSWORD_RESET",vx="RECOVER_EMAIL",mx="REVERT_SECOND_FACTOR_ADDITION",yx="VERIFY_AND_CHANGE_EMAIL",gx="VERIFY_EMAIL";function kx(){return gt({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var bx=function(){var e;return gt(e={},"admin-restricted-operation","This operation is restricted to administrators only."),gt(e,"argument-error",""),gt(e,"app-not-authorized","This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console."),gt(e,"app-not-installed","The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device."),gt(e,"captcha-check-failed","The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains."),gt(e,"code-expired","The SMS code has expired. Please re-send the verification code to try again."),gt(e,"cordova-not-ready","Cordova framework is not ready."),gt(e,"cors-unsupported","This browser is not supported."),gt(e,"credential-already-in-use","This credential is already associated with a different user account."),gt(e,"custom-token-mismatch","The custom token corresponds to a different audience."),gt(e,"requires-recent-login","This operation is sensitive and requires recent authentication. Log in again before retrying this request."),gt(e,"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."),gt(e,"dynamic-link-not-activated","Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions."),gt(e,"email-change-needs-verification","Multi-factor users must always have a verified email."),gt(e,"email-already-in-use","The email address is already in use by another account."),gt(e,"emulator-config-failed",'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.'),gt(e,"expired-action-code","The action code has expired."),gt(e,"cancelled-popup-request","This operation has been cancelled due to another conflicting popup being opened."),gt(e,"internal-error","An internal AuthError has occurred."),gt(e,"invalid-app-credential","The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired."),gt(e,"invalid-app-id","The mobile app identifier is not registed for the current project."),gt(e,"invalid-user-token","This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key."),gt(e,"invalid-auth-event","An internal AuthError has occurred."),gt(e,"invalid-verification-code","The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user."),gt(e,"invalid-continue-uri","The continue URL provided in the request is invalid."),gt(e,"invalid-cordova-configuration","The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme."),gt(e,"invalid-custom-token","The custom token format is incorrect. Please check the documentation."),gt(e,"invalid-dynamic-link-domain","The provided dynamic link domain is not configured or authorized for the current project."),gt(e,"invalid-email","The email address is badly formatted."),gt(e,"invalid-emulator-scheme","Emulator URL must start with a valid scheme (http:// or https://)."),gt(e,"invalid-api-key","Your API key is invalid, please check you have copied it correctly."),gt(e,"invalid-cert-hash","The SHA-1 certificate hash provided is invalid."),gt(e,"invalid-credential","The supplied auth credential is malformed or has expired."),gt(e,"invalid-message-payload","The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console."),gt(e,"invalid-multi-factor-session","The request does not contain a valid proof of first factor successful sign-in."),gt(e,"invalid-oauth-provider","EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers."),gt(e,"invalid-oauth-client-id","The OAuth client ID provided is either invalid or does not match the specified API key."),gt(e,"unauthorized-domain","This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console."),gt(e,"invalid-action-code","The action code is invalid. This can happen if the code is malformed, expired, or has already been used."),gt(e,"wrong-password","The password is invalid or the user does not have a password."),gt(e,"invalid-persistence-type","The specified persistence type is invalid. It can only be local, session or none."),gt(e,"invalid-phone-number","The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code]."),gt(e,"invalid-provider-id","The specified provider ID is invalid."),gt(e,"invalid-recipient-email","The email corresponding to this action failed to send as the provided recipient email address is invalid."),gt(e,"invalid-sender","The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console."),gt(e,"invalid-verification-id","The verification ID used to create the phone auth credential is invalid."),gt(e,"invalid-tenant-id","The Auth instance's tenant ID is invalid."),gt(e,"login-blocked","Login blocked by user-provided method: {$originalMessage}"),gt(e,"missing-android-pkg-name","An Android Package Name must be provided if the Android App is required to be installed."),gt(e,"auth-domain-config-required","Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console."),gt(e,"missing-app-credential","The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided."),gt(e,"missing-verification-code","The phone auth credential was created with an empty SMS verification code."),gt(e,"missing-continue-uri","A continue URL must be provided in the request."),gt(e,"missing-iframe-start","An internal AuthError has occurred."),gt(e,"missing-ios-bundle-id","An iOS Bundle ID must be provided if an App Store ID is provided."),gt(e,"missing-or-invalid-nonce","The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload."),gt(e,"missing-multi-factor-info","No second factor identifier is provided."),gt(e,"missing-multi-factor-session","The request is missing proof of first factor successful sign-in."),gt(e,"missing-phone-number","To send verification codes, provide a phone number for the recipient."),gt(e,"missing-verification-id","The phone auth credential was created with an empty verification ID."),gt(e,"app-deleted","This instance of FirebaseApp has been deleted."),gt(e,"multi-factor-info-not-found","The user does not have a second factor matching the identifier provided."),gt(e,"multi-factor-auth-required","Proof of ownership of a second factor is required to complete sign-in."),gt(e,"account-exists-with-different-credential","An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address."),gt(e,"network-request-failed","A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred."),gt(e,"no-auth-event","An internal AuthError has occurred."),gt(e,"no-such-provider","User was not linked to an account with the given provider."),gt(e,"null-user","A null user object was provided as the argument for an operation which requires a non-null user object."),gt(e,"operation-not-allowed","The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section."),gt(e,"operation-not-supported-in-this-environment",'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.'),gt(e,"popup-blocked","Unable to establish a connection with the popup. It may have been blocked by the browser."),gt(e,"popup-closed-by-user","The popup has been closed by the user before finalizing the operation."),gt(e,"provider-already-linked","User can only be linked to one identity for the given provider."),gt(e,"quota-exceeded","The project's quota for this operation has been exceeded."),gt(e,"redirect-cancelled-by-user","The redirect operation has been cancelled by the user before finalizing."),gt(e,"redirect-operation-pending","A redirect sign-in operation is already pending."),gt(e,"rejected-credential","The request contains malformed or mismatching credentials."),gt(e,"second-factor-already-in-use","The second factor is already enrolled on this account."),gt(e,"maximum-second-factor-count-exceeded","The maximum allowed number of second factors on a user has been exceeded."),gt(e,"tenant-id-mismatch","The provided tenant ID does not match the Auth instance's tenant ID"),gt(e,"timeout","The operation has timed out."),gt(e,"user-token-expired","The user's credential is no longer valid. The user must sign in again."),gt(e,"too-many-requests","We have blocked all requests from this device due to unusual activity. Try again later."),gt(e,"unauthorized-continue-uri","The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console."),gt(e,"unsupported-first-factor","Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor."),gt(e,"unsupported-persistence-type","The current environment does not support the specified persistence type."),gt(e,"unsupported-tenant-operation","This operation is not supported in a multi-tenant context."),gt(e,"unverified-email","The operation requires a verified email."),gt(e,"user-cancelled","The user did not grant your application the permissions it requested."),gt(e,"user-not-found","There is no user record corresponding to this identifier. The user may have been deleted."),gt(e,"user-disabled","The user account has been disabled by an administrator."),gt(e,"user-mismatch","The supplied credentials do not correspond to the previously signed in user."),gt(e,"user-signed-out",""),gt(e,"weak-password","The password must be 6 characters long or more."),gt(e,"web-storage-unsupported","This browser is not supported or 3rd party cookies and data may be disabled."),gt(e,"already-initialized","initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."),e},wx=kx,xx=new qr("auth","Firebase",kx()),Sx=new di("@firebase/auth");function _x(e){if(Sx.logLevel<=oi.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Sx.error.apply(Sx,["Auth (".concat(Qi,"): ").concat(e)].concat(n))}}function Ex(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Ax.apply(void 0,[e].concat(n))}function Ix(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Ax.apply(void 0,[e].concat(n))}function Tx(e,t,n){var r=Object.assign(Object.assign({},wx()),gt({},t,n));return new qr("auth","Firebase",r).create(t,{appName:e.name})}function Cx(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&Ex(e,"argument-error"),Tx(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function Ax(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){var i,a=n[0],o=Ue(n.slice(1));return o[0]&&(o[0].appName=e.name),(i=e._errorFactory).create.apply(i,[a].concat(Ue(o)))}return xx.create.apply(xx,[e].concat(n))}function Nx(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw Ax.apply(void 0,[t].concat(r))}}function Ox(e){var t="INTERNAL ASSERTION FAILED: "+e;throw _x(t),new Error(t)}function Px(e,t){e||Ox(t)}var Dx=new Map;function Rx(e){Px(e instanceof Function,"Expected a class definition");var t=Dx.get(e);return t?(Px(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Dx.set(e,t),t)}function Lx(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function Mx(){return"http:"===Ux()||"https:"===Ux()}function Ux(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}var Fx=function(){function e(t,n){r(this,e),this.shortDelay=t,this.longDelay=n,Px(n>t,"Short delay should be less than long delay!"),this.isMobile=Mr()||jr()}return a(e,[{key:"get",value:function(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(Mx()||Fr()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}]),e}();function jx(e,t){Px(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}var Vx=function(){function e(){r(this,e)}return a(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void Ox("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void Ox("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void Ox("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),Bx=(gt(ux={},"CREDENTIAL_MISMATCH","custom-token-mismatch"),gt(ux,"MISSING_CUSTOM_TOKEN","internal-error"),gt(ux,"INVALID_IDENTIFIER","invalid-email"),gt(ux,"MISSING_CONTINUE_URI","internal-error"),gt(ux,"INVALID_PASSWORD","wrong-password"),gt(ux,"MISSING_PASSWORD","internal-error"),gt(ux,"EMAIL_EXISTS","email-already-in-use"),gt(ux,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),gt(ux,"INVALID_IDP_RESPONSE","invalid-credential"),gt(ux,"INVALID_PENDING_TOKEN","invalid-credential"),gt(ux,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),gt(ux,"MISSING_REQ_TYPE","internal-error"),gt(ux,"EMAIL_NOT_FOUND","user-not-found"),gt(ux,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),gt(ux,"EXPIRED_OOB_CODE","expired-action-code"),gt(ux,"INVALID_OOB_CODE","invalid-action-code"),gt(ux,"MISSING_OOB_CODE","internal-error"),gt(ux,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),gt(ux,"INVALID_ID_TOKEN","invalid-user-token"),gt(ux,"TOKEN_EXPIRED","user-token-expired"),gt(ux,"USER_NOT_FOUND","user-token-expired"),gt(ux,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),gt(ux,"INVALID_CODE","invalid-verification-code"),gt(ux,"INVALID_SESSION_INFO","invalid-verification-id"),gt(ux,"INVALID_TEMPORARY_PROOF","invalid-credential"),gt(ux,"MISSING_SESSION_INFO","missing-verification-id"),gt(ux,"SESSION_EXPIRED","code-expired"),gt(ux,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),gt(ux,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),gt(ux,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),gt(ux,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),gt(ux,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),gt(ux,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),gt(ux,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),gt(ux,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),gt(ux,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),gt(ux,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),gt(ux,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),ux),zx=new Fx(3e4,6e4);function qx(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function Hx(e,t,n,r){return Kx.apply(this,arguments)}function Kx(){return Kx=wr(Sr().mark((function e(t,n,r,i){var a,o=arguments;return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>4&&void 0!==o[4]?o[4]:{},e.abrupt("return",Gx(t,a,wr(Sr().mark((function e(){var a,o,u,s;return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},o={},i&&("GET"===n?o=i:a={body:JSON.stringify(i)}),u=Qr(Object.assign({key:t.config.apiKey},o)).slice(1),e.next=6,t._getAdditionalHeaders();case 6:return(s=e.sent)["Content-Type"]="application/json",t.languageCode&&(s["X-Firebase-Locale"]=t.languageCode),e.abrupt("return",Vx.fetch()($x(t,t.config.apiHost,r,u),Object.assign({method:n,headers:s,referrerPolicy:"no-referrer"},a)));case 10:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)}))),Kx.apply(this,arguments)}function Gx(e,t,n){return Wx.apply(this,arguments)}function Wx(){return Wx=wr(Sr().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h,d;return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._canInitEmulator=!1,i=Object.assign(Object.assign({},Bx),n),e.prev=2,a=new Xx(t),e.next=6,Promise.race([r(),a.promise]);case 6:return o=e.sent,a.clearNetworkTimeout(),e.next=10,o.json();case 10:if(!("needConfirmation"in(u=e.sent))){e.next=13;break}throw Jx(t,"account-exists-with-different-credential",u);case 13:if(!o.ok||"errorMessage"in u){e.next=17;break}return e.abrupt("return",u);case 17:if(s=o.ok?u.errorMessage:u.error.message,c=s.split(" : "),l=Le(c,2),f=l[0],h=l[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==f){e.next=23;break}throw Jx(t,"credential-already-in-use",u);case 23:if("EMAIL_EXISTS"!==f){e.next=25;break}throw Jx(t,"email-already-in-use",u);case 25:if(d=i[f]||f.toLowerCase().replace(/[_\s]+/g,"-"),!h){e.next=30;break}throw Tx(t,d,h);case 30:Ex(t,d);case 31:e.next=38;break;case 33:if(e.prev=33,e.t0=e.catch(2),!(e.t0 instanceof zr)){e.next=37;break}throw e.t0;case 37:Ex(t,"network-request-failed");case 38:case"end":return e.stop()}}),e,null,[[2,33]])}))),Wx.apply(this,arguments)}function Yx(e,t,n,r){return Qx.apply(this,arguments)}function Qx(){return Qx=wr(Sr().mark((function e(t,n,r,i){var a,o,u=arguments;return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=u.length>4&&void 0!==u[4]?u[4]:{},e.next=3,Hx(t,n,r,i,a);case 3:return"mfaPendingCredential"in(o=e.sent)&&Ex(t,"multi-factor-auth-required",{_serverResponse:o}),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)}))),Qx.apply(this,arguments)}function $x(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?jx(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}var Xx=function(){function e(t){var n=this;r(this,e),this.auth=t,this.timer=null,this.promise=new Promise((function(e,t){n.timer=setTimeout((function(){return t(Ix(n.auth,"network-request-failed"))}),zx.get())}))}return a(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function Jx(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=Ix(e,t,r);return i.customData._tokenResponse=n,i}function Zx(e,t){return eS.apply(this,arguments)}function eS(){return eS=wr(Sr().mark((function e(t,n){return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Hx(t,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}}),e)}))),eS.apply(this,arguments)}function tS(e,t){return nS.apply(this,arguments)}function nS(){return nS=wr(Sr().mark((function e(t,n){return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Hx(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),nS.apply(this,arguments)}function rS(e,t){return iS.apply(this,arguments)}function iS(){return iS=wr(Sr().mark((function e(t,n){return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Hx(t,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}}),e)}))),iS.apply(this,arguments)}function aS(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(n){}}function oS(){return oS=wr(Sr().mark((function e(t){var n,r,i,a,o,u,s=arguments;return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>1&&void 0!==s[1]&&s[1],r=ti(t),e.next=4,r.getIdToken(n);case 4:return i=e.sent,Nx((a=sS(i))&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error"),o="object"===typeof a.firebase?a.firebase:void 0,u=null===o||void 0===o?void 0:o.sign_in_provider,e.abrupt("return",{claims:a,token:i,authTime:aS(uS(a.auth_time)),issuedAtTime:aS(uS(a.iat)),expirationTime:aS(uS(a.exp)),signInProvider:u||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null});case 10:case"end":return e.stop()}}),e)}))),oS.apply(this,arguments)}function uS(e){return 1e3*Number(e)}function sS(e){var t=Le(e.split("."),3),n=t[0],r=t[1],i=t[2];if(void 0===n||void 0===r||void 0===i)return _x("JWT malformed, contained fewer than 3 sections"),null;try{var a=Nr(r);return a?JSON.parse(a):(_x("Failed to decode base64 JWT payload"),null)}catch(o){return _x("Caught error parsing JWT payload as JSON",o),null}}function cS(e,t){return lS.apply(this,arguments)}function lS(){return lS=wr(Sr().mark((function e(t,n){var r=arguments;return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>2&&void 0!==r[2]&&r[2])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof zr&&fS(e.t0))){e.next=15;break}if(t.auth.currentUser!==t){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,9]])}))),lS.apply(this,arguments)}function fS(e){var t=e.code;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}var hS=function(){function e(t){r(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return a(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var n=this.getInterval(t);this.timerId=setTimeout(wr(Sr().mark((function t(){return Sr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.iteration();case 2:case"end":return t.stop()}}),t)}))),n)}}},{key:"iteration",value:function(){var e=wr(Sr().mark((function e(){return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.getIdToken(!0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),e.t0.code==="auth/".concat("network-request-failed")&&this.schedule(!0),e.abrupt("return");case 9:this.schedule();case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),dS=function(){function e(t,n){r(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return a(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=aS(this.lastLoginAt),this.creationTime=aS(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function pS(e){return vS.apply(this,arguments)}function vS(){return vS=wr(Sr().mark((function e(t){var n,r,i,a,o,u,s,c,l,f,h;return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.auth,e.next=3,t.getIdToken();case 3:return i=e.sent,e.next=6,cS(t,rS(r,{idToken:i}));case 6:Nx(null===(a=e.sent)||void 0===a?void 0:a.users.length,r,"internal-error"),o=a.users[0],t._notifyReloadListener(o),u=(null===(n=o.providerUserInfo)||void 0===n?void 0:n.length)?gS(o.providerUserInfo):[],s=yS(t.providerData,u),c=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!(null===s||void 0===s?void 0:s.length),f=!!c&&l,h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:s,metadata:new dS(o.createdAt,o.lastLoginAt),isAnonymous:f},Object.assign(t,h);case 17:case"end":return e.stop()}}),e)}))),vS.apply(this,arguments)}function mS(){return(mS=wr(Sr().mark((function e(t){var n;return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=ti(t),e.next=3,pS(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function yS(e,t){var n=e.filter((function(e){return!t.some((function(t){return t.providerId===e.providerId}))}));return[].concat(Ue(n),Ue(t))}function gS(e){return e.map((function(e){var t=e.providerId,n=ox(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}function kS(e,t){return bS.apply(this,arguments)}function bS(){return bS=wr(Sr().mark((function e(t,n){var r;return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Gx(t,{},wr(Sr().mark((function e(){var r,i,a,o,u,s;return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Qr({grant_type:"refresh_token",refresh_token:n}).slice(1),i=t.config,a=i.tokenApiHost,o=i.apiKey,u=$x(t,a,"/v1/token","key=".concat(o)),e.next=5,t._getAdditionalHeaders();case 5:return(s=e.sent)["Content-Type"]="application/x-www-form-urlencoded",e.abrupt("return",Vx.fetch()(u,{method:"POST",headers:s,body:r}));case 8:case"end":return e.stop()}}),e)}))));case 2:return r=e.sent,e.abrupt("return",{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token});case 4:case"end":return e.stop()}}),e)}))),bS.apply(this,arguments)}var wS=function(){function e(){r(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return a(e,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){Nx(e.idToken,"internal-error"),Nx("undefined"!==typeof e.idToken,"internal-error"),Nx("undefined"!==typeof e.refreshToken,"internal-error");var t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){var t=sS(e);return Nx(t,"internal-error"),Nx("undefined"!==typeof t.exp,"internal-error"),Nx("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"getToken",value:function(){var e=wr(Sr().mark((function e(t){var n,r=arguments;return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],Nx(!this.accessToken||this.refreshToken,t,"user-token-expired"),n||!this.accessToken||this.isExpired){e.next=4;break}return e.abrupt("return",this.accessToken);case 4:if(!this.refreshToken){e.next=8;break}return e.next=7,this.refresh(t,this.refreshToken);case 7:return e.abrupt("return",this.accessToken);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(){var e=wr(Sr().mark((function e(t,n){var r,i,a,o;return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,kS(t,n);case 2:r=e.sent,i=r.accessToken,a=r.refreshToken,o=r.expiresIn,this.updateTokensAndExpiration(i,a,Number(o));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return Ox("not implemented")}}],[{key:"fromJSON",value:function(t,n){var r=n.refreshToken,i=n.accessToken,a=n.expirationTime,o=new e;return r&&(Nx("string"===typeof r,"internal-error",{appName:t}),o.refreshToken=r),i&&(Nx("string"===typeof i,"internal-error",{appName:t}),o.accessToken=i),a&&(Nx("number"===typeof a,"internal-error",{appName:t}),o.expirationTime=a),o}}]),e}();function xS(e,t){Nx("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}var SS=function(){function e(t){r(this,e);var n=t.uid,i=t.auth,a=t.stsTokenManager,o=ox(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new hS(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?Ue(o.providerData):[],this.metadata=new dS(o.createdAt||void 0,o.lastLoginAt||void 0)}return a(e,[{key:"getIdToken",value:function(){var e=wr(Sr().mark((function e(t){var n;return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,cS(this,this.stsTokenManager.getToken(this.auth,t));case 2:if(Nx(n=e.sent,this.auth,"internal-error"),this.accessToken===n){e.next=9;break}return this.accessToken=n,e.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getIdTokenResult",value:function(e){return function(e){return oS.apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return mS.apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&(Nx(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((function(e){return Object.assign({},e)})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){return new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}))}},{key:"_onReload",value:function(e){Nx(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(){var e=wr(Sr().mark((function e(t){var n,r,i=arguments;return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],r=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),!n){e.next=6;break}return e.next=6,pS(this);case 6:return e.next=8,this.auth._persistUserIfCurrent(this);case 8:r&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=wr(Sr().mark((function e(){var t;return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIdToken();case 2:return t=e.sent,e.next=5,cS(this,Zx(this.auth,{idToken:t}));case 5:return this.stsTokenManager.clearRefreshToken(),e.abrupt("return",this.auth.signOut());case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(e){return Object.assign({},e)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,n){var r,i,a,o,u,s,c,l,f=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,d=null!==(a=n.phoneNumber)&&void 0!==a?a:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,v=null!==(u=n.tenantId)&&void 0!==u?u:void 0,m=null!==(s=n._redirectEventId)&&void 0!==s?s:void 0,y=null!==(c=n.createdAt)&&void 0!==c?c:void 0,g=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,k=n.uid,b=n.emailVerified,w=n.isAnonymous,x=n.providerData,S=n.stsTokenManager;Nx(k&&S,t,"internal-error");var _=wS.fromJSON(this.name,S);Nx("string"===typeof k,t,"internal-error"),xS(f,t.name),xS(h,t.name),Nx("boolean"===typeof b,t,"internal-error"),Nx("boolean"===typeof w,t,"internal-error"),xS(d,t.name),xS(p,t.name),xS(v,t.name),xS(m,t.name),xS(y,t.name),xS(g,t.name);var E=new e({uid:k,auth:t,email:h,emailVerified:b,displayName:f,isAnonymous:w,photoURL:p,phoneNumber:d,tenantId:v,stsTokenManager:_,createdAt:y,lastLoginAt:g});return x&&Array.isArray(x)&&(E.providerData=x.map((function(e){return Object.assign({},e)}))),m&&(E._redirectEventId=m),E}},{key:"_fromIdTokenResponse",value:function(){var t=wr(Sr().mark((function t(n,r){var i,a,o,u=arguments;return Sr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=u.length>2&&void 0!==u[2]&&u[2],(a=new wS).updateFromServerResponse(r),o=new e({uid:r.localId,auth:n,stsTokenManager:a,isAnonymous:i}),t.next=6,pS(o);case 6:return t.abrupt("return",o);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),e}(),_S=function(){function e(){r(this,e),this.type="NONE",this.storage={}}return a(e,[{key:"_isAvailable",value:function(){var e=wr(Sr().mark((function e(){return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=wr(Sr().mark((function e(t,n){return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage[t]=n;case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=wr(Sr().mark((function e(t){var n;return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.storage[t],e.abrupt("return",void 0===n?null:n);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=wr(Sr().mark((function e(t){return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.storage[t];case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),e}();_S.type="NONE";var ES=_S;function IS(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}var TS=function(){function e(t,n,i){r(this,e),this.persistence=t,this.auth=n,this.userKey=i;var a=this.auth,o=a.config,u=a.name;this.fullUserKey=IS(this.userKey,o.apiKey,u),this.fullPersistenceKey=IS("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return a(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var e=wr(Sr().mark((function e(){var t;return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.persistence._get(this.fullUserKey);case 2:return t=e.sent,e.abrupt("return",t?SS._fromJSON(this.auth,t):null);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(){var e=wr(Sr().mark((function e(t){var n;return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getCurrentUser();case 4:return n=e.sent,e.next=7,this.removeCurrentUser();case 7:if(this.persistence=t,!n){e.next=10;break}return e.abrupt("return",this.setCurrentUser(n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(){var t=wr(Sr().mark((function t(n,r){var i,a,o,u,s,c,l,f,h,d,p,v=arguments;return Sr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=v.length>2&&void 0!==v[2]?v[2]:"authUser",r.length){t.next=3;break}return t.abrupt("return",new e(Rx(ES),n,i));case 3:return t.next=5,Promise.all(r.map(function(){var e=wr(Sr().mark((function e(t){return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:a=t.sent.filter((function(e){return e})),o=a[0]||Rx(ES),u=IS(i,n.config.apiKey,n.name),s=null,c=_r(r),t.prev=10,c.s();case 12:if((l=c.n()).done){t.next=29;break}return f=l.value,t.prev=14,t.next=17,f._get(u);case 17:if(!(h=t.sent)){t.next=23;break}return d=SS._fromJSON(n,h),f!==o&&(s=d),o=f,t.abrupt("break",29);case 23:t.next=27;break;case 25:t.prev=25,t.t0=t.catch(14);case 27:t.next=12;break;case 29:t.next=34;break;case 31:t.prev=31,t.t1=t.catch(10),c.e(t.t1);case 34:return t.prev=34,c.f(),t.finish(34);case 37:if(p=a.filter((function(e){return e._shouldAllowMigration})),o._shouldAllowMigration&&p.length){t.next=40;break}return t.abrupt("return",new e(o,n,i));case 40:if(o=p[0],!s){t.next=44;break}return t.next=44,o._set(u,s.toJSON());case 44:return t.next=46,Promise.all(r.map(function(){var e=wr(Sr().mark((function e(t){return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===o){e.next=8;break}return e.prev=1,e.next=4,t._remove(u);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()));case 46:return t.abrupt("return",new e(o,n,i));case 47:case"end":return t.stop()}}),t,null,[[10,31,34,37],[14,25]])})));return function(e,n){return t.apply(this,arguments)}}()}]),e}();function CS(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(PS(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(AS(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(RS(t))return"Blackberry";if(LS(t))return"Webos";if(NS(t))return"Safari";if((t.includes("chrome/")||OS(t))&&!t.includes("edge/"))return"Chrome";if(DS(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null===n||void 0===n?void 0:n.length)?n[1]:"Other"}function AS(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Lr();return/firefox\//i.test(e)}function NS(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Lr(),t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function OS(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Lr();return/crios\//i.test(e)}function PS(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Lr();return/iemobile/i.test(e)}function DS(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Lr();return/android/i.test(e)}function RS(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Lr();return/blackberry/i.test(e)}function LS(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Lr();return/webos/i.test(e)}function MS(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Lr();return/iphone|ipad|ipod/i.test(e)}function US(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Lr();return MS(t)&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}function FS(){return Vr()&&10===document.documentMode}function jS(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Lr();return MS(e)||DS(e)||LS(e)||RS(e)||/windows phone/i.test(e)||PS(e)}function VS(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=CS(Lr());break;case"Worker":t="".concat(CS(Lr()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(Qi,"/").concat(r)}var BS=function(){function e(t){r(this,e),this.auth=t,this.queue=[]}return a(e,[{key:"pushCallback",value:function(e,t){var n=this,r=function(t){return new Promise((function(n,r){try{n(e(t))}catch(i){r(i)}}))};r.onAbort=t,this.queue.push(r);var i=this.queue.length-1;return function(){n.queue[i]=function(){return Promise.resolve()}}}},{key:"runMiddleware",value:function(){var e=wr(Sr().mark((function e(t){var n,r,i,a,o,u,s;return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.auth.currentUser!==t){e.next=2;break}return e.abrupt("return");case 2:n=[],e.prev=3,r=_r(this.queue),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=14;break}return a=i.value,e.next=11,a(t);case 11:a.onAbort&&n.push(a.onAbort);case 12:e.next=7;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(5),r.e(e.t0);case 19:return e.prev=19,r.f(),e.finish(19);case 22:e.next=30;break;case 24:e.prev=24,e.t1=e.catch(3),n.reverse(),o=_r(n);try{for(o.s();!(u=o.n()).done;){s=u.value;try{s()}catch(Vt){}}}catch(c){o.e(c)}finally{o.f()}throw this.auth._errorFactory.create("login-blocked",{originalMessage:e.t1.message});case 30:case"end":return e.stop()}}),e,this,[[3,24],[5,16,19,22]])})));return function(t){return e.apply(this,arguments)}}()}]),e}(),zS=function(){function e(t,n,i){r(this,e),this.app=t,this.heartbeatServiceProvider=n,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new HS(this),this.idTokenSubscription=new HS(this),this.beforeStateQueue=new BS(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=xx,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=i.sdkClientVersion}return a(e,[{key:"_initializeWithPersistence",value:function(e,t){var n=this;return t&&(this._popupRedirectResolver=Rx(t)),this._initializationPromise=this.queue(wr(Sr().mark((function r(){var i,a;return Sr().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n._deleted){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,TS.create(n,e);case 4:if(n.persistenceManager=r.sent,!n._deleted){r.next=7;break}return r.abrupt("return");case 7:if(!(null===(i=n._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)){r.next=15;break}return r.prev=8,r.next=11,n._popupRedirectResolver._initialize(n);case 11:r.next=15;break;case 13:r.prev=13,r.t0=r.catch(8);case 15:return r.next=17,n.initializeCurrentUser(t);case 17:if(n.lastNotifiedUid=(null===(a=n.currentUser)||void 0===a?void 0:a.uid)||null,!n._deleted){r.next=20;break}return r.abrupt("return");case 20:n._isInitialized=!0;case 21:case"end":return r.stop()}}),r,null,[[8,13]])})))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var e=wr(Sr().mark((function e(){var t;return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.assertedPersistence.getCurrentUser();case 4:if(t=e.sent,this.currentUser||t){e.next=7;break}return e.abrupt("return");case 7:if(!this.currentUser||!t||this.currentUser.uid!==t.uid){e.next=12;break}return this._currentUser._assign(t),e.next=11,this.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,this._updateCurrentUser(t,!0);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeCurrentUser",value:function(){var e=wr(Sr().mark((function e(t){var n,r,i,a,o,u,s;return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.assertedPersistence.getCurrentUser();case 2:if(r=e.sent,i=r,a=!1,!t||!this.config.authDomain){e.next=14;break}return e.next=8,this.getOrInitRedirectPersistenceManager();case 8:return o=null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId,u=null===i||void 0===i?void 0:i._redirectEventId,e.next=12,this.tryRedirectSignIn(t);case 12:s=e.sent,o&&o!==u||!(null===s||void 0===s?void 0:s.user)||(i=s.user,a=!0);case 14:if(i){e.next=16;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 16:if(i._redirectEventId){e.next=32;break}if(!a){e.next=27;break}return e.prev=18,e.next=21,this.beforeStateQueue.runMiddleware(i);case 21:e.next=27;break;case 23:e.prev=23,e.t0=e.catch(18),i=r,this._popupRedirectResolver._overrideRedirectResult(this,(function(){return Promise.reject(e.t0)}));case 27:if(!i){e.next=31;break}return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 31:return e.abrupt("return",this.directlySetCurrentUser(null));case 32:return Nx(this._popupRedirectResolver,this,"argument-error"),e.next=35,this.getOrInitRedirectPersistenceManager();case 35:if(!this.redirectUser||this.redirectUser._redirectEventId!==i._redirectEventId){e.next=37;break}return e.abrupt("return",this.directlySetCurrentUser(i));case 37:return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 38:case"end":return e.stop()}}),e,this,[[18,23]])})));return function(t){return e.apply(this,arguments)}}()},{key:"tryRedirectSignIn",value:function(){var e=wr(Sr().mark((function e(t){var n;return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,this._popupRedirectResolver._completeRedirectFn(this,t,!0);case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this._setRedirectUser(null);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reloadAndSetCurrentUserOrClear",value:function(){var e=wr(Sr().mark((function e(t){return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,pS(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),e.t0.code==="auth/".concat("network-request-failed")){e.next=9;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 9:return e.abrupt("return",this.directlySetCurrentUser(t));case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"===typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var e=wr(Sr().mark((function e(){return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._deleted=!0;case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(){var e=wr(Sr().mark((function e(t){var n;return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t?ti(t):null)&&Nx(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),e.abrupt("return",this._updateCurrentUser(n&&n._clone(this)));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateCurrentUser",value:function(){var e=wr(Sr().mark((function e(t){var n,r=this,i=arguments;return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],!this._deleted){e.next=3;break}return e.abrupt("return");case 3:if(t&&Nx(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n){e.next=7;break}return e.next=7,this.beforeStateQueue.runMiddleware(t);case 7:return e.abrupt("return",this.queue(wr(Sr().mark((function e(){return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.directlySetCurrentUser(t);case 2:r.notifyAuthListeners();case 3:case"end":return e.stop()}}),e)})))));case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=wr(Sr().mark((function e(){return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.beforeStateQueue.runMiddleware(null);case 2:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){e.next=5;break}return e.next=5,this._setRedirectUser(null);case 5:return e.abrupt("return",this._updateCurrentUser(null,!0));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPersistence",value:function(e){var t=this;return this.queue(wr(Sr().mark((function n(){return Sr().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.setPersistence(Rx(e));case 2:case"end":return n.stop()}}),n)}))))}},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new qr("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"beforeAuthStateChanged",value:function(e,t){return this.beforeStateQueue.pushCallback(e,t)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(){var e=wr(Sr().mark((function e(t,n){var r;return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrInitRedirectPersistenceManager(n);case 2:return r=e.sent,e.abrupt("return",null===t?r.removeCurrentUser():r.setCurrentUser(t));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getOrInitRedirectPersistenceManager",value:function(){var e=wr(Sr().mark((function e(t){var n;return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.redirectPersistenceManager){e.next=9;break}return Nx(n=t&&Rx(t)||this._popupRedirectResolver,this,"argument-error"),e.next=5,TS.create(this,[Rx(n._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=e.sent,e.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=e.sent;case 9:return e.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_redirectUserForId",value:function(){var e=wr(Sr().mark((function e(t){var n,r;return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isInitialized){e.next=3;break}return e.next=3,this.queue(wr(Sr().mark((function e(){return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));case 3:if((null===(n=this._currentUser)||void 0===n?void 0:n._redirectEventId)!==t){e.next=5;break}return e.abrupt("return",this._currentUser);case 5:if((null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)!==t){e.next=7;break}return e.abrupt("return",this.redirectUser);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_persistUserIfCurrent",value:function(){var e=wr(Sr().mark((function e(t){var n=this;return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.currentUser){e.next=2;break}return e.abrupt("return",this.queue(wr(Sr().mark((function e(){return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.directlySetCurrentUser(t));case 1:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var i=this;if(this._deleted)return function(){};var a="function"===typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return Nx(o,this,"internal-error"),o.then((function(){return a(i.currentUser)})),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}},{key:"directlySetCurrentUser",value:function(){var e=wr(Sr().mark((function e(t){return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentUser&&this.currentUser!==t&&(this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh()),this.currentUser=t,!t){e.next=7;break}return e.next=5,this.assertedPersistence.setCurrentUser(t);case 5:e.next=9;break;case 7:return e.next=9,this.assertedPersistence.removeCurrentUser();case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return Nx(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=VS(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){var e=wr(Sr().mark((function e(){var t,n,r;return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=gt({},"X-Client-Version",this.clientVersion),this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId),e.next=4,null===(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();case 4:return(r=e.sent)&&(n["X-Firebase-Client"]=r),e.abrupt("return",n);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function qS(e){return ti(e)}var HS=function(){function e(t){var n=this;r(this,e),this.auth=t,this.observer=null,this.addObserver=Jr((function(e){return n.observer=e}))}return a(e,[{key:"next",get:function(){return Nx(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}();function KS(e,t,n){var r=qS(e);Nx(r._canInitEmulator,r,"emulator-config-failed"),Nx(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");var i=!!(null===n||void 0===n?void 0:n.disableWarnings),a=GS(t),o=function(e){var t=GS(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};var r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){var a=i[1];return{host:a,port:WS(r.substr(a.length+1))}}var o=Le(r.split(":"),2);return{host:o[0],port:WS(o[1])}}(t),u=o.host,s=o.port,c=null===s?"":":".concat(s);r.config.emulator={url:"".concat(a,"//").concat(u).concat(c,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:u,port:s,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){var e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function GS(e){var t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function WS(e){if(!e)return null;var t=Number(e);return isNaN(t)?null:t}var YS=function(){function e(t,n){r(this,e),this.providerId=t,this.signInMethod=n}return a(e,[{key:"toJSON",value:function(){return Ox("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return Ox("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return Ox("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return Ox("not implemented")}}]),e}();function QS(e,t){return $S.apply(this,arguments)}function $S(){return $S=wr(Sr().mark((function e(t,n){return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Hx(t,"POST","/v1/accounts:resetPassword",qx(t,n)));case 1:case"end":return e.stop()}}),e)}))),$S.apply(this,arguments)}function XS(e,t){return JS.apply(this,arguments)}function JS(){return JS=wr(Sr().mark((function e(t,n){return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Hx(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),JS.apply(this,arguments)}function ZS(e,t){return e_.apply(this,arguments)}function e_(){return e_=wr(Sr().mark((function e(t,n){return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Hx(t,"POST","/v1/accounts:update",qx(t,n)));case 1:case"end":return e.stop()}}),e)}))),e_.apply(this,arguments)}function t_(e,t){return n_.apply(this,arguments)}function n_(){return n_=wr(Sr().mark((function e(t,n){return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Yx(t,"POST","/v1/accounts:signInWithPassword",qx(t,n)));case 1:case"end":return e.stop()}}),e)}))),n_.apply(this,arguments)}function r_(e,t){return i_.apply(this,arguments)}function i_(){return i_=wr(Sr().mark((function e(t,n){return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Hx(t,"POST","/v1/accounts:sendOobCode",qx(t,n)));case 1:case"end":return e.stop()}}),e)}))),i_.apply(this,arguments)}function a_(e,t){return o_.apply(this,arguments)}function o_(){return o_=wr(Sr().mark((function e(t,n){return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",r_(t,n));case 1:case"end":return e.stop()}}),e)}))),o_.apply(this,arguments)}function u_(e,t){return s_.apply(this,arguments)}function s_(){return s_=wr(Sr().mark((function e(t,n){return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",r_(t,n));case 1:case"end":return e.stop()}}),e)}))),s_.apply(this,arguments)}function c_(e,t){return l_.apply(this,arguments)}function l_(){return l_=wr(Sr().mark((function e(t,n){return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",r_(t,n));case 1:case"end":return e.stop()}}),e)}))),l_.apply(this,arguments)}function f_(e,t){return h_.apply(this,arguments)}function h_(){return h_=wr(Sr().mark((function e(t,n){return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",r_(t,n));case 1:case"end":return e.stop()}}),e)}))),h_.apply(this,arguments)}function d_(e,t){return p_.apply(this,arguments)}function p_(){return p_=wr(Sr().mark((function e(t,n){return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Yx(t,"POST","/v1/accounts:signInWithEmailLink",qx(t,n)));case 1:case"end":return e.stop()}}),e)}))),p_.apply(this,arguments)}function v_(e,t){return m_.apply(this,arguments)}function m_(){return m_=wr(Sr().mark((function e(t,n){return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Yx(t,"POST","/v1/accounts:signInWithEmailLink",qx(t,n)));case 1:case"end":return e.stop()}}),e)}))),m_.apply(this,arguments)}var y_=function(e){u(n,e);var t=d(n);function n(e,i,a){var o,u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return r(this,n),(o=t.call(this,"password",a))._email=e,o._password=i,o._tenantId=u,o}return a(n,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(){var e=wr(Sr().mark((function e(t){return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",t_(t,{returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",d_(t,{email:this._email,oobCode:this._password}));case 5:Ex(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_linkToIdToken",value:function(){var e=wr(Sr().mark((function e(t,n){return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",XS(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",v_(t,{idToken:n,email:this._email,oobCode:this._password}));case 5:Ex(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new n(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return new n(e,t,"emailLink",r)}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),n}(YS);function g_(e,t){return k_.apply(this,arguments)}function k_(){return k_=wr(Sr().mark((function e(t,n){return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Yx(t,"POST","/v1/accounts:signInWithIdp",qx(t,n)));case 1:case"end":return e.stop()}}),e)}))),k_.apply(this,arguments)}var b_=function(e){u(n,e);var t=d(n);function n(){var e;return r(this,n),(e=t.apply(this,arguments)).pendingToken=null,e}return a(n,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return g_(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,g_(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,g_(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Qr(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Ex("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=ox(t,["providerId","signInMethod"]);if(!r||!i)return null;var o=new n(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}}]),n}(YS);function w_(e,t){return x_.apply(this,arguments)}function x_(){return x_=wr(Sr().mark((function e(t,n){return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Hx(t,"POST","/v1/accounts:sendVerificationCode",qx(t,n)));case 1:case"end":return e.stop()}}),e)}))),x_.apply(this,arguments)}function S_(){return S_=wr(Sr().mark((function e(t,n){return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Yx(t,"POST","/v1/accounts:signInWithPhoneNumber",qx(t,n)));case 1:case"end":return e.stop()}}),e)}))),S_.apply(this,arguments)}function __(){return __=wr(Sr().mark((function e(t,n){var r;return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Yx(t,"POST","/v1/accounts:signInWithPhoneNumber",qx(t,n));case 2:if(!(r=e.sent).temporaryProof){e.next=5;break}throw Jx(t,"account-exists-with-different-credential",r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)}))),__.apply(this,arguments)}var E_=gt({},"USER_NOT_FOUND","user-not-found");function I_(){return I_=wr(Sr().mark((function e(t,n){var r;return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.assign(Object.assign({},n),{operation:"REAUTH"}),e.abrupt("return",Yx(t,"POST","/v1/accounts:signInWithPhoneNumber",qx(t,r),E_));case 2:case"end":return e.stop()}}),e)}))),I_.apply(this,arguments)}var T_=function(e){u(n,e);var t=d(n);function n(e){var i;return r(this,n),(i=t.call(this,"phone","phone")).params=e,i}return a(n,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return S_.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return __.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return I_.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,i=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new n({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new n({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"===typeof e&&(e=JSON.parse(e));var t=e,r=t.verificationId,i=t.verificationCode,a=t.phoneNumber,o=t.temporaryProof;return i||r||a||o?new n({verificationId:r,verificationCode:i,phoneNumber:a,temporaryProof:o}):null}}]),n}(YS);var C_=function(){function e(t){var n,i,a,o,u,s;r(this,e);var c=$r(Xr(t)),l=null!==(n=c.apiKey)&&void 0!==n?n:null,f=null!==(i=c.oobCode)&&void 0!==i?i:null,h=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(a=c.mode)&&void 0!==a?a:null);Nx(l&&f&&h,"argument-error"),this.apiKey=l,this.operation=h,this.code=f,this.continueUrl=null!==(o=c.continueUrl)&&void 0!==o?o:null,this.languageCode=null!==(u=c.languageCode)&&void 0!==u?u:null,this.tenantId=null!==(s=c.tenantId)&&void 0!==s?s:null}return a(e,null,[{key:"parseLink",value:function(t){var n=function(e){var t=$r(Xr(e)).link,n=t?$r(Xr(t)).deep_link_id:null,r=$r(Xr(e)).deep_link_id;return(r?$r(Xr(r)).link:null)||r||n||t||e}(t);try{return new e(n)}catch(zg){return null}}}]),e}();var A_=function(){function e(){r(this,e),this.providerId=e.PROVIDER_ID}return a(e,null,[{key:"credential",value:function(e,t){return y_._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=C_.parseLink(t);return Nx(n,"argument-error"),y_._fromEmailAndCode(e,n.code,n.tenantId)}}]),e}();A_.PROVIDER_ID="password",A_.EMAIL_PASSWORD_SIGN_IN_METHOD="password",A_.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var N_=function(){function e(t){r(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return a(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),O_=function(e){u(n,e);var t=d(n);function n(){var e;return r(this,n),(e=t.apply(this,arguments)).scopes=[],e}return a(n,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return Ue(this.scopes)}}]),n}(N_),P_=function(e){u(n,e);var t=d(n);function n(){return r(this,n),t.apply(this,arguments)}return a(n,[{key:"credential",value:function(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}},{key:"_credential",value:function(e){return Nx(e.idToken||e.accessToken,"argument-error"),b_._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}}],[{key:"credentialFromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;return Nx("providerId"in t&&"signInMethod"in t,"argument-error"),b_._fromParams(t)}},{key:"credentialFromResult",value:function(e){return n.oauthCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.oauthCredentialFromTaggedObject(e.customData||{})}},{key:"oauthCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken,a=t.oauthTokenSecret,o=t.pendingToken,u=t.nonce,s=t.providerId;if(!i&&!a&&!r&&!o)return null;if(!s)return null;try{return new n(s)._credential({idToken:r,accessToken:i,nonce:u,pendingToken:o})}catch(c){return null}}}]),n}(O_),D_=function(e){u(n,e);var t=d(n);function n(){return r(this,n),t.call(this,"facebook.com")}return a(n,null,[{key:"credential",value:function(e){return b_._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(zg){return null}}}]),n}(O_);D_.FACEBOOK_SIGN_IN_METHOD="facebook.com",D_.PROVIDER_ID="facebook.com";var R_=function(e){u(n,e);var t=d(n);function n(){var e;return r(this,n),(e=t.call(this,"google.com")).addScope("profile"),e}return a(n,null,[{key:"credential",value:function(e,t){return b_._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken;if(!r&&!i)return null;try{return n.credential(r,i)}catch(zg){return null}}}]),n}(O_);R_.GOOGLE_SIGN_IN_METHOD="google.com",R_.PROVIDER_ID="google.com";var L_=function(e){u(n,e);var t=d(n);function n(){return r(this,n),t.call(this,"github.com")}return a(n,null,[{key:"credential",value:function(e){return b_._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(zg){return null}}}]),n}(O_);L_.GITHUB_SIGN_IN_METHOD="github.com",L_.PROVIDER_ID="github.com";var M_=function(e){u(n,e);var t=d(n);function n(e,i){var a;return r(this,n),(a=t.call(this,e,e)).pendingToken=i,a}return a(n,[{key:"_getIdTokenResponse",value:function(e){return g_(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,g_(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,g_(e,t)}},{key:"toJSON",value:function(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}},{key:"buildRequest",value:function(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}],[{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=t.pendingToken;return r&&i&&a&&r===i?new n(r,a):null}},{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(YS),U_=function(e){u(n,e);var t=d(n);function n(e){return r(this,n),Nx(e.startsWith("saml."),"argument-error"),t.call(this,e)}return a(n,null,[{key:"credentialFromResult",value:function(e){return n.samlCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.samlCredentialFromTaggedObject(e.customData||{})}},{key:"credentialFromJSON",value:function(e){var t=M_.fromJSON(e);return Nx(t,"argument-error"),t}},{key:"samlCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.pendingToken,r=t.providerId;if(!n||!r)return null;try{return M_._create(r,n)}catch(i){return null}}}]),n}(N_),F_=function(e){u(n,e);var t=d(n);function n(){return r(this,n),t.call(this,"twitter.com")}return a(n,null,[{key:"credential",value:function(e,t){return b_._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthAccessToken,i=t.oauthTokenSecret;if(!r||!i)return null;try{return n.credential(r,i)}catch(zg){return null}}}]),n}(O_);function j_(e,t){return V_.apply(this,arguments)}function V_(){return V_=wr(Sr().mark((function e(t,n){return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Yx(t,"POST","/v1/accounts:signUp",qx(t,n)));case 1:case"end":return e.stop()}}),e)}))),V_.apply(this,arguments)}F_.TWITTER_SIGN_IN_METHOD="twitter.com",F_.PROVIDER_ID="twitter.com";var B_=function(){function e(t){r(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return a(e,null,[{key:"_fromIdTokenResponse",value:function(){var t=wr(Sr().mark((function t(n,r,i){var a,o,u,s,c=arguments;return Sr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=c.length>3&&void 0!==c[3]&&c[3],t.next=3,SS._fromIdTokenResponse(n,i,a);case 3:return o=t.sent,u=z_(i),s=new e({user:o,providerId:u,_tokenResponse:i,operationType:r}),t.abrupt("return",s);case 7:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"_forOperation",value:function(){var t=wr(Sr().mark((function t(n,r,i){var a;return Sr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._updateTokensIfNecessary(i,!0);case 2:return a=z_(i),t.abrupt("return",new e({user:n,providerId:a,_tokenResponse:i,operationType:r}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()}]),e}();function z_(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}function q_(){return q_=wr(Sr().mark((function e(t){var n,r,i,a;return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=qS(t),e.next=3,r._initializationPromise;case 3:if(!(null===(n=r.currentUser)||void 0===n?void 0:n.isAnonymous)){e.next=5;break}return e.abrupt("return",new B_({user:r.currentUser,providerId:null,operationType:"signIn"}));case 5:return e.next=7,j_(r,{returnSecureToken:!0});case 7:return i=e.sent,e.next=10,B_._fromIdTokenResponse(r,"signIn",i,!0);case 10:return a=e.sent,e.next=13,r._updateCurrentUser(a.user);case 13:return e.abrupt("return",a);case 14:case"end":return e.stop()}}),e)}))),q_.apply(this,arguments)}var H_=function(e){u(n,e);var t=d(n);function n(e,i,a,o){var u,s;return r(this,n),(u=t.call(this,i.code,i.message)).operationType=a,u.user=o,Object.setPrototypeOf(f(u),n.prototype),u.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:i.customData._serverResponse,operationType:a},u}return a(n,null,[{key:"_fromErrorAndOperation",value:function(e,t,r,i){return new n(e,t,r,i)}}]),n}(zr);function K_(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((function(n){if(n.code==="auth/".concat("multi-factor-auth-required"))throw H_._fromErrorAndOperation(e,n,t,r);throw n}))}function G_(e){return new Set(e.map((function(e){return e.providerId})).filter((function(e){return!!e})))}function W_(e,t){return Y_.apply(this,arguments)}function Y_(){return Y_=wr(Sr().mark((function e(t,n){var r,i,a,o;return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ti(t),e.next=3,X_(!0,r,n);case 3:return e.t0=tS,e.t1=r.auth,e.next=7,r.getIdToken();case 7:return e.t2=e.sent,e.t3=[n],e.t4={idToken:e.t2,deleteProvider:e.t3},e.next=12,(0,e.t0)(e.t1,e.t4);case 12:return i=e.sent,a=i.providerUserInfo,o=G_(a||[]),r.providerData=r.providerData.filter((function(e){return o.has(e.providerId)})),o.has("phone")||(r.phoneNumber=null),e.next=19,r.auth._persistUserIfCurrent(r);case 19:return e.abrupt("return",r);case 20:case"end":return e.stop()}}),e)}))),Y_.apply(this,arguments)}function Q_(e,t){return $_.apply(this,arguments)}function $_(){return $_=wr(Sr().mark((function e(t,n){var r,i,a=arguments;return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]&&a[2],e.t0=cS,e.t1=t,e.t2=n,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=r,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return i=e.sent,e.abrupt("return",B_._forOperation(t,"link",i));case 14:case"end":return e.stop()}}),e)}))),$_.apply(this,arguments)}function X_(e,t,n){return J_.apply(this,arguments)}function J_(){return(J_=wr(Sr().mark((function e(t,n,r){var i,a;return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,pS(n);case 2:i=G_(n.providerData),a=!1===t?"provider-already-linked":"no-such-provider",Nx(i.has(r)===t,n.auth,a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Z_(e,t){return eE.apply(this,arguments)}function eE(){return eE=wr(Sr().mark((function e(t,n){var r,i,a,o,u,s,c=arguments;return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>2&&void 0!==c[2]&&c[2],i=t.auth,a="reauthenticate",e.prev=3,e.next=6,cS(t,K_(i,a,n,t),r);case 6:return Nx((o=e.sent).idToken,i,"internal-error"),Nx(u=sS(o.idToken),i,"internal-error"),s=u.sub,Nx(t.uid===s,i,"user-mismatch"),e.abrupt("return",B_._forOperation(t,a,o));case 15:throw e.prev=15,e.t0=e.catch(3),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("user-not-found")&&Ex(i,"user-mismatch"),e.t0;case 19:case"end":return e.stop()}}),e,null,[[3,15]])}))),eE.apply(this,arguments)}function tE(e,t){return nE.apply(this,arguments)}function nE(){return nE=wr(Sr().mark((function e(t,n){var r,i,a,o,u=arguments;return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]&&u[2],i="signIn",e.next=4,K_(t,i,n);case 4:return a=e.sent,e.next=7,B_._fromIdTokenResponse(t,i,a);case 7:if(o=e.sent,r){e.next=11;break}return e.next=11,t._updateCurrentUser(o.user);case 11:return e.abrupt("return",o);case 12:case"end":return e.stop()}}),e)}))),nE.apply(this,arguments)}function rE(e,t){return iE.apply(this,arguments)}function iE(){return iE=wr(Sr().mark((function e(t,n){return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",tE(qS(t),n));case 1:case"end":return e.stop()}}),e)}))),iE.apply(this,arguments)}function aE(e,t){return oE.apply(this,arguments)}function oE(){return(oE=wr(Sr().mark((function e(t,n){var r;return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ti(t),e.next=3,X_(!1,r,n.providerId);case 3:return e.abrupt("return",Q_(r,n));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function uE(e,t){return sE.apply(this,arguments)}function sE(){return(sE=wr(Sr().mark((function e(t,n){return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Z_(ti(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function cE(e,t){return lE.apply(this,arguments)}function lE(){return lE=wr(Sr().mark((function e(t,n){return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Yx(t,"POST","/v1/accounts:signInWithCustomToken",qx(t,n)));case 1:case"end":return e.stop()}}),e)}))),lE.apply(this,arguments)}function fE(){return fE=wr(Sr().mark((function e(t,n){var r,i,a;return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=qS(t),e.next=3,cE(r,{token:n,returnSecureToken:!0});case 3:return i=e.sent,e.next=6,B_._fromIdTokenResponse(r,"signIn",i);case 6:return a=e.sent,e.next=9,r._updateCurrentUser(a.user);case 9:return e.abrupt("return",a);case 10:case"end":return e.stop()}}),e)}))),fE.apply(this,arguments)}var hE=function(){function e(t,n){r(this,e),this.factorId=t,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}return a(e,null,[{key:"_fromServerResponse",value:function(e,t){return"phoneInfo"in t?dE._fromServerResponse(e,t):Ex(e,"internal-error")}}]),e}(),dE=function(e){u(n,e);var t=d(n);function n(e){var i;return r(this,n),(i=t.call(this,"phone",e)).phoneNumber=e.phoneInfo,i}return a(n,null,[{key:"_fromServerResponse",value:function(e,t){return new n(t)}}]),n}(hE);function pE(e,t,n){var r;Nx((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),Nx("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(Nx(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(Nx(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}function vE(){return vE=wr(Sr().mark((function e(t,n,r){var i,a;return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=ti(t),a={requestType:"PASSWORD_RESET",email:n},r&&pE(i,a,r),e.next=5,u_(i,a);case 5:case"end":return e.stop()}}),e)}))),vE.apply(this,arguments)}function mE(){return mE=wr(Sr().mark((function e(t,n,r){return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,QS(ti(t),{oobCode:n,newPassword:r});case 2:case"end":return e.stop()}}),e)}))),mE.apply(this,arguments)}function yE(){return yE=wr(Sr().mark((function e(t,n){return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ZS(ti(t),{oobCode:n});case 2:case"end":return e.stop()}}),e)}))),yE.apply(this,arguments)}function gE(e,t){return kE.apply(this,arguments)}function kE(){return kE=wr(Sr().mark((function e(t,n){var r,i,a,o;return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ti(t),e.next=3,QS(r,{oobCode:n});case 3:i=e.sent,Nx(a=i.requestType,r,"internal-error"),e.t0=a,e.next="EMAIL_SIGNIN"===e.t0?9:"VERIFY_AND_CHANGE_EMAIL"===e.t0?10:"REVERT_SECOND_FACTOR_ADDITION"===e.t0?12:13;break;case 9:return e.abrupt("break",14);case 10:return Nx(i.newEmail,r,"internal-error"),e.abrupt("break",14);case 12:Nx(i.mfaInfo,r,"internal-error");case 13:Nx(i.email,r,"internal-error");case 14:return o=null,i.mfaInfo&&(o=hE._fromServerResponse(qS(r),i.mfaInfo)),e.abrupt("return",{data:{email:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.newEmail:i.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.email:i.newEmail)||null,multiFactorInfo:o},operation:a});case 17:case"end":return e.stop()}}),e)}))),kE.apply(this,arguments)}function bE(){return bE=wr(Sr().mark((function e(t,n){var r,i;return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,gE(ti(t),n);case 2:return r=e.sent,i=r.data,e.abrupt("return",i.email);case 5:case"end":return e.stop()}}),e)}))),bE.apply(this,arguments)}function wE(e,t,n){return xE.apply(this,arguments)}function xE(){return xE=wr(Sr().mark((function e(t,n,r){var i,a,o;return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=qS(t),e.next=3,j_(i,{returnSecureToken:!0,email:n,password:r});case 3:return a=e.sent,e.next=6,B_._fromIdTokenResponse(i,"signIn",a);case 6:return o=e.sent,e.next=9,i._updateCurrentUser(o.user);case 9:return e.abrupt("return",o);case 10:case"end":return e.stop()}}),e)}))),xE.apply(this,arguments)}function SE(){return SE=wr(Sr().mark((function e(t,n,r){var i,a;return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=ti(t),a={requestType:"EMAIL_SIGNIN",email:n},Nx(r.handleCodeInApp,i,"argument-error"),r&&pE(i,a,r),e.next=6,c_(i,a);case 6:case"end":return e.stop()}}),e)}))),SE.apply(this,arguments)}function _E(){return _E=wr(Sr().mark((function e(t,n,r){var i,a;return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=ti(t),Nx((a=A_.credentialWithLink(n,r||Lx()))._tenantId===(i.tenantId||null),i,"tenant-id-mismatch"),e.abrupt("return",rE(i,a));case 4:case"end":return e.stop()}}),e)}))),_E.apply(this,arguments)}function EE(e,t){return IE.apply(this,arguments)}function IE(){return IE=wr(Sr().mark((function e(t,n){return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Hx(t,"POST","/v1/accounts:createAuthUri",qx(t,n)));case 1:case"end":return e.stop()}}),e)}))),IE.apply(this,arguments)}function TE(){return TE=wr(Sr().mark((function e(t,n){var r,i,a,o;return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Mx()?Lx():"http://localhost",i={identifier:n,continueUri:r},e.next=4,EE(ti(t),i);case 4:return a=e.sent,o=a.signinMethods,e.abrupt("return",o||[]);case 7:case"end":return e.stop()}}),e)}))),TE.apply(this,arguments)}function CE(){return(CE=wr(Sr().mark((function e(t,n){var r,i,a,o;return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ti(t),e.next=3,t.getIdToken();case 3:return i=e.sent,a={requestType:"VERIFY_EMAIL",idToken:i},n&&pE(r.auth,a,n),e.next=8,a_(r.auth,a);case 8:if(o=e.sent,o.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function AE(){return(AE=wr(Sr().mark((function e(t,n,r){var i,a,o,u;return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=ti(t),e.next=3,t.getIdToken();case 3:return a=e.sent,o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:a,newEmail:n},r&&pE(i.auth,o,r),e.next=8,f_(i.auth,o);case 8:if(u=e.sent,u.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function NE(e,t){return OE.apply(this,arguments)}function OE(){return OE=wr(Sr().mark((function e(t,n){return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Hx(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),OE.apply(this,arguments)}function PE(){return(PE=wr(Sr().mark((function e(t,n){var r,i,a,o,u,s,c;return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.displayName,i=n.photoURL,void 0!==r||void 0!==i){e.next=3;break}return e.abrupt("return");case 3:return a=ti(t),e.next=6,a.getIdToken();case 6:return o=e.sent,u={idToken:o,displayName:r,photoUrl:i,returnSecureToken:!0},e.next=10,cS(a,NE(a.auth,u));case 10:return s=e.sent,a.displayName=s.displayName||null,a.photoURL=s.photoUrl||null,(c=a.providerData.find((function(e){return"password"===e.providerId})))&&(c.displayName=a.displayName,c.photoURL=a.photoURL),e.next=17,a._updateTokensIfNecessary(s);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function DE(e,t,n){return RE.apply(this,arguments)}function RE(){return RE=wr(Sr().mark((function e(t,n,r){var i,a,o,u;return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.auth,e.next=3,t.getIdToken();case 3:return a=e.sent,o={idToken:a,returnSecureToken:!0},n&&(o.email=n),r&&(o.password=r),e.next=9,cS(t,XS(i,o));case 9:return u=e.sent,e.next=12,t._updateTokensIfNecessary(u,!0);case 12:case"end":return e.stop()}}),e)}))),RE.apply(this,arguments)}var LE=a((function e(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};r(this,e),this.isNewUser=t,this.providerId=n,this.profile=i})),ME=function(e){u(n,e);var t=d(n);function n(e,i,a,o){var u;return r(this,n),(u=t.call(this,e,i,a)).username=o,u}return a(n)}(LE),UE=function(e){u(n,e);var t=d(n);function n(e,i){return r(this,n),t.call(this,e,"facebook.com",i)}return a(n)}(LE),FE=function(e){u(n,e);var t=d(n);function n(e,i){return r(this,n),t.call(this,e,"github.com",i,"string"===typeof(null===i||void 0===i?void 0:i.login)?null===i||void 0===i?void 0:i.login:null)}return a(n)}(ME),jE=function(e){u(n,e);var t=d(n);function n(e,i){return r(this,n),t.call(this,e,"google.com",i)}return a(n)}(LE),VE=function(e){u(n,e);var t=d(n);function n(e,i,a){return r(this,n),t.call(this,e,"twitter.com",i,a)}return a(n)}(ME);function BE(e){var t=e.user,n=e._tokenResponse;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;var r=e.providerId,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},a=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null===e||void 0===e?void 0:e.idToken)){var o=null===(n=null===(t=sS(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(o)return new LE(a,"anonymous"!==o&&"custom"!==o?o:null)}if(!r)return null;switch(r){case"facebook.com":return new UE(a,i);case"github.com":return new FE(a,i);case"google.com":return new jE(a,i);case"twitter.com":return new VE(a,i,e.screenName||null);case"custom":case"anonymous":return new LE(a,null);default:return new LE(a,r,i)}}(n)}var zE=function(){function e(t,n){r(this,e),this.type=t,this.credential=n}return a(e,[{key:"toJSON",value:function(){return{multiFactorSession:gt({},"enroll"===this.type?"idToken":"pendingCredential",this.credential)}}}],[{key:"_fromIdtoken",value:function(t){return new e("enroll",t)}},{key:"_fromMfaPendingCredential",value:function(t){return new e("signin",t)}},{key:"fromJSON",value:function(t){var n,r;if(null===t||void 0===t?void 0:t.multiFactorSession){if(null===(n=t.multiFactorSession)||void 0===n?void 0:n.pendingCredential)return e._fromMfaPendingCredential(t.multiFactorSession.pendingCredential);if(null===(r=t.multiFactorSession)||void 0===r?void 0:r.idToken)return e._fromIdtoken(t.multiFactorSession.idToken)}return null}}]),e}(),qE=function(){function e(t,n,i){r(this,e),this.session=t,this.hints=n,this.signInResolver=i}return a(e,[{key:"resolveSignIn",value:function(){var e=wr(Sr().mark((function e(t){var n;return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,e.abrupt("return",this.signInResolver(n));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromError",value:function(t,n){var r=qS(t),i=n.customData._serverResponse,a=(i.mfaInfo||[]).map((function(e){return hE._fromServerResponse(r,e)}));Nx(i.mfaPendingCredential,r,"internal-error");var o=zE._fromMfaPendingCredential(i.mfaPendingCredential);return new e(o,a,function(){var e=wr(Sr().mark((function e(t){var a,u,s;return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._process(r,o);case 2:a=e.sent,delete i.mfaInfo,delete i.mfaPendingCredential,u=Object.assign(Object.assign({},i),{idToken:a.idToken,refreshToken:a.refreshToken}),e.t0=n.operationType,e.next="signIn"===e.t0?9:"reauthenticate"===e.t0?15:17;break;case 9:return e.next=11,B_._fromIdTokenResponse(r,n.operationType,u);case 11:return s=e.sent,e.next=14,r._updateCurrentUser(s.user);case 14:return e.abrupt("return",s);case 15:return Nx(n.user,r,"internal-error"),e.abrupt("return",B_._forOperation(n.user,n.operationType,u));case 17:Ex(r,"internal-error");case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}]),e}();function HE(e,t){return Hx(e,"POST","/v2/accounts/mfaEnrollment:start",qx(e,t))}function KE(e,t){return Hx(e,"POST","/v2/accounts/mfaEnrollment:withdraw",qx(e,t))}var GE=function(){function e(t){var n=this;r(this,e),this.user=t,this.enrolledFactors=[],t._onReload((function(e){e.mfaInfo&&(n.enrolledFactors=e.mfaInfo.map((function(e){return hE._fromServerResponse(t.auth,e)})))}))}return a(e,[{key:"getSession",value:function(){var e=wr(Sr().mark((function e(){return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=zE,e.next=3,this.user.getIdToken();case 3:return e.t1=e.sent,e.abrupt("return",e.t0._fromIdtoken.call(e.t0,e.t1));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"enroll",value:function(){var e=wr(Sr().mark((function e(t,n){var r,i,a;return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t,e.next=3,this.getSession();case 3:return i=e.sent,e.next=6,cS(this.user,r._process(this.user.auth,i,n));case 6:return a=e.sent,e.next=9,this.user._updateTokensIfNecessary(a);case 9:return e.abrupt("return",this.user.reload());case 10:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"unenroll",value:function(){var e=wr(Sr().mark((function e(t){var n,r,i;return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="string"===typeof t?t:t.uid,e.next=3,this.user.getIdToken();case 3:return r=e.sent,e.next=6,cS(this.user,KE(this.user.auth,{idToken:r,mfaEnrollmentId:n}));case 6:return i=e.sent,this.enrolledFactors=this.enrolledFactors.filter((function(e){return e.uid!==n})),e.next=10,this.user._updateTokensIfNecessary(i);case 10:return e.prev=10,e.next=13,this.user.reload();case 13:e.next=19;break;case 15:if(e.prev=15,e.t0=e.catch(10),e.t0.code==="auth/".concat("user-token-expired")){e.next=19;break}throw e.t0;case 19:case"end":return e.stop()}}),e,this,[[10,15]])})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromUser",value:function(t){return new e(t)}}]),e}(),WE=new WeakMap;var YE="__sak",QE=function(){function e(t,n){r(this,e),this.storageRetriever=t,this.type=n}return a(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(YE,"1"),this.storage.removeItem(YE),Promise.resolve(!0)):Promise.resolve(!1)}catch(zg){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}();var $E=function(e){u(n,e);var t=d(n);function n(){var e;return r(this,n),(e=t.call(this,(function(){return window.localStorage}),"LOCAL")).boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=function(){var e=Lr();return NS(e)||MS(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),e.fallbackToPolling=jS(),e._shouldAllowMigration=!0,e}return a(n,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],i=this.storage.getItem(r),a=this.localCache[r];i!==a&&e(r,a,i)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var i=this.storage.getItem(r);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}var a=function(){var e=t.storage.getItem(r);(n||t.localCache[r]!==e)&&t.notifyListeners(r,e)},o=this.storage.getItem(r);FS()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,10):a()}else this.forAllChangedKeys((function(e,n,r){t.notifyListeners(e,r)}))}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t?JSON.parse(t):t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((function(){e.forAllChangedKeys((function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)}))}),1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(){var e=wr(Sr().mark((function e(t,r){return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ta(s(n.prototype),"_set",this).call(this,t,r);case 2:this.localCache[t]=JSON.stringify(r);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=wr(Sr().mark((function e(t){var r;return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ta(s(n.prototype),"_get",this).call(this,t);case 2:return r=e.sent,this.localCache[t]=JSON.stringify(r),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=wr(Sr().mark((function e(t){return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ta(s(n.prototype),"_remove",this).call(this,t);case 2:delete this.localCache[t];case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(QE);$E.type="LOCAL";var XE=$E,JE=function(e){u(n,e);var t=d(n);function n(){return r(this,n),t.call(this,(function(){return window.sessionStorage}),"SESSION")}return a(n,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),n}(QE);JE.type="SESSION";var ZE=JE;function eI(e){return Promise.all(e.map(function(){var e=wr(Sr().mark((function e(t){var n;return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return n=e.sent,e.abrupt("return",{fulfilled:!0,value:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}var tI=function(){function e(t){r(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return a(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(){var e=wr(Sr().mark((function e(t){var n,r,i,a,o,u,s,c;return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=t).data,i=r.eventId,a=r.eventType,o=r.data,null===(u=this.handlersMap[a])||void 0===u?void 0:u.size){e.next=5;break}return e.abrupt("return");case 5:return n.ports[0].postMessage({status:"ack",eventId:i,eventType:a}),s=Array.from(u).map(function(){var e=wr(Sr().mark((function e(t){return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(n.origin,o));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=9,eI(s);case 9:c=e.sent,n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:c});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var n=this.receivers.find((function(e){return e.isListeningto(t)}));if(n)return n;var r=new e(t);return this.receivers.push(r),r}}]),e}();function nI(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}tI.receivers=[];var rI=function(){function e(t){r(this,e),this.target=t,this.handlers=new Set}return a(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(){var e=wr(Sr().mark((function e(t,n){var r,i,a,o,u=this,s=arguments;return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=s.length>2&&void 0!==s[2]?s[2]:50,i="undefined"!==typeof MessageChannel?new MessageChannel:null){e.next=4;break}throw new Error("connection_unavailable");case 4:return e.abrupt("return",new Promise((function(e,s){var c=nI("",20);i.port1.start();var l=setTimeout((function(){s(new Error("unsupported_event"))}),r);o={messageChannel:i,onMessage:function(t){var n=t;if(n.data.eventId===c)switch(n.data.status){case"ack":clearTimeout(l),a=setTimeout((function(){s(new Error("timeout"))}),3e3);break;case"done":clearTimeout(a),e(n.data.response);break;default:clearTimeout(l),clearTimeout(a),s(new Error("invalid_response"))}}},u.handlers.add(o),i.port1.addEventListener("message",o.onMessage),u.target.postMessage({eventType:t,eventId:c,data:n},[i.port2])})).finally((function(){o&&u.removeMessageHandler(o)})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function iI(){return window}function aI(){return"undefined"!==typeof iI().WorkerGlobalScope&&"function"===typeof iI().importScripts}function oI(){return uI.apply(this,arguments)}function uI(){return(uI=wr(Sr().mark((function e(){var t;return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return t=e.sent,e.abrupt("return",t.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function sI(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}var cI="firebaseLocalStorageDb",lI="firebaseLocalStorage",fI="fbase_key",hI=function(){function e(t){r(this,e),this.request=t}return a(e,[{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.request.addEventListener("success",(function(){t(e.request.result)})),e.request.addEventListener("error",(function(){n(e.request.error)}))}))}}]),e}();function dI(e,t){return e.transaction([lI],t?"readwrite":"readonly").objectStore(lI)}function pI(){var e=indexedDB.deleteDatabase(cI);return new hI(e).toPromise()}function vI(){var e=indexedDB.open(cI,1);return new Promise((function(t,n){e.addEventListener("error",(function(){n(e.error)})),e.addEventListener("upgradeneeded",(function(){var t=e.result;try{t.createObjectStore(lI,{keyPath:fI})}catch(r){n(r)}})),e.addEventListener("success",wr(Sr().mark((function n(){var r;return Sr().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((r=e.result).objectStoreNames.contains(lI)){n.next=12;break}return r.close(),n.next=5,pI();case 5:return n.t0=t,n.next=8,vI();case 8:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 12:t(r);case 13:case"end":return n.stop()}}),n)}))))}))}function mI(e,t,n){return yI.apply(this,arguments)}function yI(){return yI=wr(Sr().mark((function e(t,n,r){var i,a;return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=dI(t,!0).put((gt(i={},fI,n),gt(i,"value",r),i)),e.abrupt("return",new hI(a).toPromise());case 2:case"end":return e.stop()}}),e)}))),yI.apply(this,arguments)}function gI(e,t){return kI.apply(this,arguments)}function kI(){return kI=wr(Sr().mark((function e(t,n){var r,i;return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=dI(t,!1).get(n),e.next=3,new hI(r).toPromise();case 3:return i=e.sent,e.abrupt("return",void 0===i?null:i.value);case 5:case"end":return e.stop()}}),e)}))),kI.apply(this,arguments)}function bI(e,t){var n=dI(e,!0).delete(t);return new hI(n).toPromise()}var wI=function(){function e(){r(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}return a(e,[{key:"_openDb",value:function(){var e=wr(Sr().mark((function e(){return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.db){e.next=2;break}return e.abrupt("return",this.db);case 2:return e.next=4,vI();case 4:return this.db=e.sent,e.abrupt("return",this.db);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_withRetries",value:function(){var e=wr(Sr().mark((function e(t){var n,r;return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:return e.prev=2,e.next=5,this._openDb();case 5:return r=e.sent,e.next=8,t(r);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!(n++>3)){e.next=15;break}throw e.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"initializeServiceWorkerMessaging",value:function(){var e=wr(Sr().mark((function e(){return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",aI()?this.initializeReceiver():this.initializeSender());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeReceiver",value:function(){var e=wr(Sr().mark((function e(){var t=this;return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.receiver=tI._getInstance(aI()?self:null),this.receiver._subscribe("keyChanged",function(){var e=wr(Sr().mark((function e(n,r){var i;return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._poll();case 2:return i=e.sent,e.abrupt("return",{keyProcessed:i.includes(r.key)});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var e=wr(Sr().mark((function e(t,n){return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeSender",value:function(){var e=wr(Sr().mark((function e(){var t,n,r;return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,oI();case 2:if(this.activeServiceWorker=e.sent,this.activeServiceWorker){e.next=5;break}return e.abrupt("return");case 5:return this.sender=new rI(this.activeServiceWorker),e.next=8,this.sender._send("ping",{},800);case 8:if(r=e.sent){e.next=11;break}return e.abrupt("return");case 11:(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyServiceWorker",value:function(){var e=wr(Sr().mark((function e(t){return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sender&&this.activeServiceWorker&&sI()===this.activeServiceWorker){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_isAvailable",value:function(){var e=wr(Sr().mark((function e(){var t;return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,vI();case 5:return t=e.sent,e.next=8,mI(t,YE,"1");case 8:return e.next=10,bI(t,YE);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"_withPendingWrite",value:function(){var e=wr(Sr().mark((function e(t){return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,this.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}}),e,this,[[1,,4,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=wr(Sr().mark((function e(t,n){var r=this;return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(wr(Sr().mark((function e(){return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries((function(e){return mI(e,t,n)}));case 2:return r.localCache[t]=n,e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=wr(Sr().mark((function e(t){var n;return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){return gI(e,t)}));case 2:return n=e.sent,this.localCache[t]=n,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=wr(Sr().mark((function e(t){var n=this;return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(wr(Sr().mark((function e(){return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries((function(e){return bI(e,t)}));case 2:return delete n.localCache[t],e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_poll",value:function(){var e=wr(Sr().mark((function e(){var t,n,r,i,a,o,u,s,c,l,f;return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){var t=dI(e,!1).getAll();return new hI(t).toPromise()}));case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===this.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:n=[],r=new Set,i=_r(t);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.fbase_key,s=o.value,r.add(u),JSON.stringify(this.localCache[u])!==JSON.stringify(s)&&(this.notifyListeners(u,s),n.push(u))}catch(h){i.e(h)}finally{i.f()}for(c=0,l=Object.keys(this.localCache);c<l.length;c++)f=l[c],this.localCache[f]&&!r.has(f)&&(this.notifyListeners(f,null),n.push(f));return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval(wr(Sr().mark((function t(){return Sr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}}),t)}))),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),e}();wI.type="LOCAL";var xI=wI;function SI(e,t){return Hx(e,"POST","/v2/accounts/mfaSignIn:start",qx(e,t))}function _I(e){return EI.apply(this,arguments)}function EI(){return EI=wr(Sr().mark((function e(t){return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Hx(t,"GET","/v1/recaptchaParams");case 2:if(e.t0=e.sent.recaptchaSiteKey,e.t0){e.next=5;break}e.t0="";case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}}),e)}))),EI.apply(this,arguments)}function II(e){return new Promise((function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(e){var t=Ix("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function TI(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}var CI=1e12,AI=function(){function e(t){r(this,e),this.auth=t,this.counter=CI,this._widgets=new Map}return a(e,[{key:"render",value:function(e,t){var n=this.counter;return this._widgets.set(n,new NI(e,this.auth.name,t||{})),this.counter++,n}},{key:"reset",value:function(e){var t,n=e||CI;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}},{key:"getResponse",value:function(e){var t,n=e||CI;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}},{key:"execute",value:function(){var e=wr(Sr().mark((function e(t){var n,r;return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t||CI,null===(n=this._widgets.get(r))||void 0===n||n.execute(),e.abrupt("return","");case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),NI=function(){function e(t,n,i){var a=this;r(this,e),this.params=i,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=function(){a.execute()};var o="string"===typeof t?document.getElementById(t):t;Nx(o,"argument-error",{appName:n}),this.container=o,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}return a(e,[{key:"getResponse",value:function(){return this.checkIfDeleted(),this.responseToken}},{key:"delete",value:function(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}},{key:"execute",value:function(){var e=this;this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((function(){e.responseToken=function(e){for(var t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);var t=e.params,n=t.callback,r=t["expired-callback"];if(n)try{n(e.responseToken)}catch(i){}e.timerId=window.setTimeout((function(){if(e.timerId=null,e.responseToken=null,r)try{r()}catch(i){}e.isVisible&&e.execute()}),6e4)}),500))}},{key:"checkIfDeleted",value:function(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}]),e}();var OI=TI("rcb"),PI=new Fx(3e4,6e4),DI="https://www.google.com/recaptcha/api.js?",RI=function(){function e(){r(this,e),this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!iI().grecaptcha}return a(e,[{key:"load",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return Nx(LI(n),e,"argument-error"),this.shouldResolveImmediately(n)?Promise.resolve(iI().grecaptcha):new Promise((function(r,i){var a=iI().setTimeout((function(){i(Ix(e,"network-request-failed"))}),PI.get());iI()[OI]=function(){iI().clearTimeout(a),delete iI()[OI];var o=iI().grecaptcha;if(o){var u=o.render;o.render=function(e,n){var r=u(e,n);return t.counter++,r},t.hostLanguage=n,r(o)}else i(Ix(e,"internal-error"))},II("".concat(DI,"?").concat(Qr({onload:OI,render:"explicit",hl:n}))).catch((function(){clearTimeout(a),i(Ix(e,"internal-error"))}))}))}},{key:"clearedOneInstance",value:function(){this.counter--}},{key:"shouldResolveImmediately",value:function(e){return!!iI().grecaptcha&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}]),e}();function LI(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}var MI=function(){function e(){r(this,e)}return a(e,[{key:"load",value:function(){var e=wr(Sr().mark((function e(t){return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new AI(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearedOneInstance",value:function(){}}]),e}(),UI="recaptcha",FI={theme:"light",type:"image"},jI=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.assign({},FI),i=arguments.length>2?arguments[2]:void 0;r(this,e),this.parameters=n,this.type=UI,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=qS(i),this.isInvisible="invisible"===this.parameters.size,Nx("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");var a="string"===typeof t?document.getElementById(t):t;Nx(a,this.auth,"argument-error"),this.container=a,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new MI:new RI,this.validateStartingState()}return a(e,[{key:"verify",value:function(){var e=wr(Sr().mark((function e(){var t,n,r,i=this;return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertNotDestroyed(),e.next=3,this.render();case 3:if(t=e.sent,n=this.getAssertedRecaptcha(),!(r=n.getResponse(t))){e.next=8;break}return e.abrupt("return",r);case 8:return e.abrupt("return",new Promise((function(e){i.tokenChangeListeners.add((function t(n){n&&(i.tokenChangeListeners.delete(t),e(n))})),i.isInvisible&&n.execute(t)})));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;try{this.assertNotDestroyed()}catch(t){return Promise.reject(t)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((function(t){throw e.renderPromise=null,t}))),this.renderPromise}},{key:"_reset",value:function(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}},{key:"clear",value:function(){var e=this;this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((function(t){e.container.removeChild(t)}))}},{key:"validateStartingState",value:function(){Nx(!this.parameters.sitekey,this.auth,"argument-error"),Nx(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Nx("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}},{key:"makeTokenCallback",value:function(e){var t=this;return function(n){if(t.tokenChangeListeners.forEach((function(e){return e(n)})),"function"===typeof e)e(n);else if("string"===typeof e){var r=iI()[e];"function"===typeof r&&r(n)}}}},{key:"assertNotDestroyed",value:function(){Nx(!this.destroyed,this.auth,"internal-error")}},{key:"makeRenderPromise",value:function(){var e=wr(Sr().mark((function e(){var t,n;return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.init();case 2:return this.widgetId||(t=this.container,this.isInvisible||(n=document.createElement("div"),t.appendChild(n),t=n),this.widgetId=this.getAssertedRecaptcha().render(t,this.parameters)),e.abrupt("return",this.widgetId);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"init",value:function(){var e=wr(Sr().mark((function e(){var t;return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Nx(Mx()&&!aI(),this.auth,"internal-error"),e.next=3,VI();case 3:return e.next=5,this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);case 5:return this.recaptcha=e.sent,e.next=8,_I(this.auth);case 8:Nx(t=e.sent,this.auth,"internal-error"),this.parameters.sitekey=t;case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getAssertedRecaptcha",value:function(){return Nx(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}]),e}();function VI(){var e=null;return new Promise((function(t){"complete"!==document.readyState?(e=function(){return t()},window.addEventListener("load",e)):t()})).catch((function(t){throw e&&window.removeEventListener("load",e),t}))}var BI=function(){function e(t,n){r(this,e),this.verificationId=t,this.onConfirmation=n}return a(e,[{key:"confirm",value:function(e){var t=T_._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}]),e}();function zI(){return zI=wr(Sr().mark((function e(t,n,r){var i,a;return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=qS(t),e.next=3,GI(i,n,ti(r));case 3:return a=e.sent,e.abrupt("return",new BI(a,(function(e){return rE(i,e)})));case 5:case"end":return e.stop()}}),e)}))),zI.apply(this,arguments)}function qI(e,t,n){return HI.apply(this,arguments)}function HI(){return(HI=wr(Sr().mark((function e(t,n,r){var i,a;return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=ti(t),e.next=3,X_(!1,i,"phone");case 3:return e.next=5,GI(i.auth,n,ti(r));case 5:return a=e.sent,e.abrupt("return",new BI(a,(function(e){return aE(i,e)})));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function KI(){return(KI=wr(Sr().mark((function e(t,n,r){var i,a;return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=ti(t),e.next=3,GI(i.auth,n,ti(r));case 3:return a=e.sent,e.abrupt("return",new BI(a,(function(e){return uE(i,e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function GI(e,t,n){return WI.apply(this,arguments)}function WI(){return WI=wr(Sr().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h;return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.verify();case 2:if(a=e.sent,e.prev=3,Nx("string"===typeof a,t,"argument-error"),Nx(r.type===UI,t,"argument-error"),!("session"in(o="string"===typeof n?{phoneNumber:n}:n))){e.next=26;break}if(u=o.session,!("phoneNumber"in o)){e.next=17;break}return Nx("enroll"===u.type,t,"internal-error"),e.next=13,HE(t,{idToken:u.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:a}});case 13:return s=e.sent,e.abrupt("return",s.phoneSessionInfo.sessionInfo);case 17:return Nx("signin"===u.type,t,"internal-error"),Nx(c=(null===(i=o.multiFactorHint)||void 0===i?void 0:i.uid)||o.multiFactorUid,t,"missing-multi-factor-info"),e.next=22,SI(t,{mfaPendingCredential:u.credential,mfaEnrollmentId:c,phoneSignInInfo:{recaptchaToken:a}});case 22:return l=e.sent,e.abrupt("return",l.phoneResponseInfo.sessionInfo);case 24:e.next=31;break;case 26:return e.next=28,w_(t,{phoneNumber:o.phoneNumber,recaptchaToken:a});case 28:return f=e.sent,h=f.sessionInfo,e.abrupt("return",h);case 31:return e.prev=31,r._reset(),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[3,,31,34]])}))),WI.apply(this,arguments)}function YI(){return(YI=wr(Sr().mark((function e(t,n){return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Q_(ti(t),n);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var QI=function(){function e(t){r(this,e),this.providerId=e.PROVIDER_ID,this.auth=qS(t)}return a(e,[{key:"verifyPhoneNumber",value:function(e,t){return GI(this.auth,e,ti(t))}}],[{key:"credential",value:function(e,t){return T_._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var n=t;return e.credentialFromTaggedObject(n)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?T_._fromTokenResponse(n,r):null}}]),e}();function $I(e,t){return t?Rx(t):(Nx(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}QI.PROVIDER_ID="phone",QI.PHONE_SIGN_IN_METHOD="phone";var XI=function(e){u(n,e);var t=d(n);function n(e){var i;return r(this,n),(i=t.call(this,"custom","custom")).params=e,i}return a(n,[{key:"_getIdTokenResponse",value:function(e){return g_(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return g_(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return g_(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),n}(YS);function JI(e){return tE(e.auth,new XI(e),e.bypassAuthState)}function ZI(e){var t=e.auth,n=e.user;return Nx(n,t,"internal-error"),Z_(n,new XI(e),e.bypassAuthState)}function eT(e){return tT.apply(this,arguments)}function tT(){return tT=wr(Sr().mark((function e(t){var n,r;return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.auth,Nx(r=t.user,n,"internal-error"),e.abrupt("return",Q_(r,new XI(t),t.bypassAuthState));case 3:case"end":return e.stop()}}),e)}))),tT.apply(this,arguments)}var nT=function(){function e(t,n,i,a){var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];r(this,e),this.auth=t,this.resolver=i,this.user=a,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return a(e,[{key:"execute",value:function(){var e=this;return new Promise(function(){var t=wr(Sr().mark((function t(n,r){return Sr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.pendingPromise={resolve:n,reject:r},t.prev=1,t.next=4,e.resolver._initialize(e.auth);case 4:return e.eventManager=t.sent,t.next=7,e.onExecution();case 7:e.eventManager.registerConsumer(e),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.reject(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"onAuthEvent",value:function(){var e=wr(Sr().mark((function e(t){var n,r,i,a,o,u,s;return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.urlResponse,r=t.sessionId,i=t.postBody,a=t.tenantId,o=t.error,u=t.type,!o){e.next=4;break}return this.reject(o),e.abrupt("return");case 4:return s={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.prev=5,e.t0=this,e.next=9,this.getIdpTask(u)(s);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(5),this.reject(e.t2);case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return JI;case"linkViaPopup":case"linkViaRedirect":return eT;case"reauthViaPopup":case"reauthViaRedirect":return ZI;default:Ex(this.auth,"internal-error")}}},{key:"resolve",value:function(e){Px(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){Px(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e}(),rT=new Fx(2e3,1e4);function iT(e,t,n){return aT.apply(this,arguments)}function aT(){return aT=wr(Sr().mark((function e(t,n,r){var i,a,o;return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=qS(t),Cx(t,n,N_),a=$I(i,r),o=new cT(i,"signInViaPopup",n,a),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)}))),aT.apply(this,arguments)}function oT(){return(oT=wr(Sr().mark((function e(t,n,r){var i,a,o;return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Cx((i=ti(t)).auth,n,N_),a=$I(i.auth,r),o=new cT(i.auth,"reauthViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function uT(e,t,n){return sT.apply(this,arguments)}function sT(){return(sT=wr(Sr().mark((function e(t,n,r){var i,a,o;return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Cx((i=ti(t)).auth,n,N_),a=$I(i.auth,r),o=new cT(i.auth,"linkViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var cT=function(e){u(n,e);var t=d(n);function n(e,i,a,o,u){var s;return r(this,n),(s=t.call(this,e,i,o,u)).provider=a,s.authWindow=null,s.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=f(s),s}return a(n,[{key:"executeNotNull",value:function(){var e=wr(Sr().mark((function e(){var t;return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.execute();case 2:return Nx(t=e.sent,this.auth,"internal-error"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=wr(Sr().mark((function e(){var t,n=this;return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Px(1===this.filter.length,"Popup operations only handle one event"),t=nI(),e.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],t);case 4:this.authWindow=e.sent,this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((function(e){n.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(function(e){e||n.reject(Ix(n.auth,"web-storage-unsupported"))})),this.pollUserCancellation();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(Ix(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this;!function t(){var n,r;(null===(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)||void 0===r?void 0:r.closed)?e.pollId=window.setTimeout((function(){e.pollId=null,e.reject(Ix(e.auth,"popup-closed-by-user"))}),2e3):e.pollId=window.setTimeout(t,rT.get())}()}}]),n}(nT);cT.currentPopupAction=null;var lT=new Map,fT=function(e){u(n,e);var t=d(n);function n(e,i){var a,o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return r(this,n),(a=t.call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,o)).eventId=null,a}return a(n,[{key:"execute",value:function(){var e=wr(Sr().mark((function e(){var t,r;return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=lT.get(this.auth._key())){e.next=21;break}return e.prev=2,e.next=5,hT(this.resolver,this.auth);case 5:if(!e.sent){e.next=12;break}return e.next=9,Ta(s(n.prototype),"execute",this).call(this);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:r=e.t0,t=function(){return Promise.resolve(r)},e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),t=function(){return Promise.reject(e.t1)};case 20:lT.set(this.auth._key(),t);case 21:return this.bypassAuthState||lT.set(this.auth._key(),(function(){return Promise.resolve(null)})),e.abrupt("return",t());case 23:case"end":return e.stop()}}),e,this,[[2,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"onAuthEvent",value:function(){var e=wr(Sr().mark((function e(t){var r;return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==t.type){e.next=4;break}return e.abrupt("return",Ta(s(n.prototype),"onAuthEvent",this).call(this,t));case 4:if("unknown"!==t.type){e.next=7;break}return this.resolve(null),e.abrupt("return");case 7:if(!t.eventId){e.next=17;break}return e.next=10,this.auth._redirectUserForId(t.eventId);case 10:if(!(r=e.sent)){e.next=16;break}return this.user=r,e.abrupt("return",Ta(s(n.prototype),"onAuthEvent",this).call(this,t));case 16:this.resolve(null);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=wr(Sr().mark((function e(){return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"cleanUp",value:function(){}}]),n}(nT);function hT(e,t){return dT.apply(this,arguments)}function dT(){return dT=wr(Sr().mark((function e(t,n){var r,i,a;return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=gT(n),i=yT(t),e.next=4,i._isAvailable();case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,i._get(r);case 8:return e.t0=e.sent,a="true"===e.t0,e.next=12,i._remove(r);case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)}))),dT.apply(this,arguments)}function pT(e,t){return vT.apply(this,arguments)}function vT(){return vT=wr(Sr().mark((function e(t,n){return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",yT(t)._set(gT(n),"true"));case 1:case"end":return e.stop()}}),e)}))),vT.apply(this,arguments)}function mT(e,t){lT.set(e._key(),t)}function yT(e){return Rx(e._redirectPersistence)}function gT(e){return IS("pendingRedirect",e.config.apiKey,e.name)}function kT(e,t,n){return function(e,t,n){return bT.apply(this,arguments)}(e,t,n)}function bT(){return bT=wr(Sr().mark((function e(t,n,r){var i,a;return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=qS(t),Cx(t,n,N_),a=$I(i,r),e.next=5,pT(a,i);case 5:return e.abrupt("return",a._openRedirect(i,n,"signInViaRedirect"));case 6:case"end":return e.stop()}}),e)}))),bT.apply(this,arguments)}function wT(e,t,n){return function(e,t,n){return xT.apply(this,arguments)}(e,t,n)}function xT(){return(xT=wr(Sr().mark((function e(t,n,r){var i,a,o;return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Cx((i=ti(t)).auth,n,N_),a=$I(i.auth,r),e.next=5,pT(a,i.auth);case 5:return e.next=7,AT(i);case 7:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"reauthViaRedirect",o));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ST(e,t,n){return function(e,t,n){return _T.apply(this,arguments)}(e,t,n)}function _T(){return(_T=wr(Sr().mark((function e(t,n,r){var i,a,o;return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Cx((i=ti(t)).auth,n,N_),a=$I(i.auth,r),e.next=5,X_(!1,i,n.providerId);case 5:return e.next=7,pT(a,i.auth);case 7:return e.next=9,AT(i);case 9:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"linkViaRedirect",o));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ET(e,t){return IT.apply(this,arguments)}function IT(){return IT=wr(Sr().mark((function e(t,n){return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,qS(t)._initializationPromise;case 2:return e.abrupt("return",TT(t,n,!1));case 3:case"end":return e.stop()}}),e)}))),IT.apply(this,arguments)}function TT(e,t){return CT.apply(this,arguments)}function CT(){return CT=wr(Sr().mark((function e(t,n){var r,i,a,o,u,s=arguments;return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]&&s[2],i=qS(t),a=$I(i,n),o=new fT(i,a,r),e.next=6,o.execute();case 6:if(!(u=e.sent)||r){e.next=13;break}return delete u.user._redirectEventId,e.next=11,i._persistUserIfCurrent(u.user);case 11:return e.next=13,i._setRedirectUser(null,n);case 13:return e.abrupt("return",u);case 14:case"end":return e.stop()}}),e)}))),CT.apply(this,arguments)}function AT(e){return NT.apply(this,arguments)}function NT(){return(NT=wr(Sr().mark((function e(t){var n;return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=nI("".concat(t.uid,":::")),t._redirectEventId=n,e.next=4,t.auth._setRedirectUser(t);case 4:return e.next=6,t.auth._persistUserIfCurrent(t);case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var OT=function(){function e(t){r(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return a(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach((function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return DT(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!DT(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(Ix(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(PT(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(PT(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function PT(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((function(e){return e})).join("-")}function DT(e){var t=e.type,n=e.error;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}function RT(e){return LT.apply(this,arguments)}function LT(){return LT=wr(Sr().mark((function e(t){var n,r=arguments;return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",Hx(t,"GET","/v1/projects",n));case 2:case"end":return e.stop()}}),e)}))),LT.apply(this,arguments)}var MT=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,UT=/^https?/;function FT(){return FT=wr(Sr().mark((function e(t){var n,r,i,a,o;return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,RT(t);case 4:n=e.sent,r=n.authorizedDomains,i=_r(r),e.prev=7,i.s();case 9:if((a=i.n()).done){e.next=20;break}if(o=a.value,e.prev=11,!jT(o)){e.next=14;break}return e.abrupt("return");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(11);case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(7),i.e(e.t1);case 25:return e.prev=25,i.f(),e.finish(25);case 28:Ex(t,"unauthorized-domain");case 29:case"end":return e.stop()}}),e,null,[[7,22,25,28],[11,16]])}))),FT.apply(this,arguments)}function jT(e){var t=Lx(),n=new URL(t),r=n.protocol,i=n.hostname;if(e.startsWith("chrome-extension://")){var a=new URL(e);return""===a.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&a.hostname===i}if(!UT.test(r))return!1;if(MT.test(e))return i===e;var o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}var VT=new Fx(3e4,6e4);function BT(){var e=iI().___jsl;if(null===e||void 0===e?void 0:e.H)for(var t=0,n=Object.keys(e.H);t<n.length;t++){var r=n[t];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=Ue(e.H[r].L),e.CP)for(var i=0;i<e.CP.length;i++)e.CP[i]=null}}var zT=null;function qT(e){return zT=zT||function(e){return new Promise((function(t,n){var r,i,a;function o(){BT(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){BT(),n(Ix(e,"network-request-failed"))},timeout:VT.get()})}if(null===(i=null===(r=iI().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=iI().gapi)||void 0===a?void 0:a.load)){var u=TI("iframefcb");return iI()[u]=function(){gapi.load?o():n(Ix(e,"network-request-failed"))},II("https://apis.google.com/js/api.js?onload=".concat(u)).catch((function(e){return n(e)}))}o()}})).catch((function(e){throw zT=null,e}))}(e),zT}var HT=new Fx(5e3,15e3),KT={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},GT=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function WT(e){var t=e.config;Nx(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?jx(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:Qi},i=GT.get(e.config.apiHost);i&&(r.eid=i);var a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat(Qr(r).slice(1))}function YT(e){return QT.apply(this,arguments)}function QT(){return QT=wr(Sr().mark((function e(t){var n,r;return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,qT(t);case 2:return n=e.sent,Nx(r=iI().gapi,t,"internal-error"),e.abrupt("return",n.open({where:document.body,url:WT(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:KT,dontclear:!0},(function(e){return new Promise(function(){var n=wr(Sr().mark((function n(r,i){var a,o,u;return Sr().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return u=function(){iI().clearTimeout(o),r(e)},n.next=3,e.restyle({setHideOnLeave:!1});case 3:a=Ix(t,"network-request-failed"),o=iI().setTimeout((function(){i(a)}),HT.get()),e.ping(u).then(u,(function(){i(a)}));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())})));case 6:case"end":return e.stop()}}),e)}))),QT.apply(this,arguments)}var $T={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},XT="_blank",JT="http://localhost",ZT=function(){function e(t){r(this,e),this.window=t,this.associatedEvent=null}return a(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(e){}}}]),e}();function eC(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600,a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),u="",s=Object.assign(Object.assign({},$T),{width:r.toString(),height:i.toString(),top:a,left:o}),c=Lr().toLowerCase();n&&(u=OS(c)?XT:n),AS(c)&&(t=t||JT,s.scrollbars="yes");var l=Object.entries(s).reduce((function(e,t){var n=Le(t,2),r=n[0],i=n[1];return"".concat(e).concat(r,"=").concat(i,",")}),"");if(US(c)&&"_self"!==u)return tC(t||"",u),new ZT(null);var f=window.open(t||"",u,l);Nx(f,e,"popup-blocked");try{f.focus()}catch(h){}return new ZT(f)}function tC(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var nC="__/auth/handler",rC="emulator/auth/handler";function iC(e,t,n,r,i,a){Nx(e.config.authDomain,e,"auth-domain-config-required"),Nx(e.config.apiKey,e,"invalid-api-key");var o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:Qi,eventId:i};if(t instanceof N_){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(var u=0,s=Object.entries(a||{});u<s.length;u++){var c=Le(s[u],2),l=c[0],f=c[1];o[l]=f}}if(t instanceof O_){var h=t.getScopes().filter((function(e){return""!==e}));h.length>0&&(o.scopes=h.join(","))}e.tenantId&&(o.tid=e.tenantId);for(var d=o,p=0,v=Object.keys(d);p<v.length;p++){var m=v[p];void 0===d[m]&&delete d[m]}return"".concat(function(e){var t=e.config;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(nC);return jx(t,rC)}(e),"?").concat(Qr(d).slice(1))}var aC="webStorageSupport",oC=function(){function e(){r(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ZE,this._completeRedirectFn=TT,this._overrideRedirectResult=mT}return a(e,[{key:"_openPopup",value:function(){var e=wr(Sr().mark((function e(t,n,r,i){var a,o;return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Px(null===(a=this.eventManagers[t._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()"),o=iC(t,n,r,Lx(),i),e.abrupt("return",eC(t,o,nI()));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=wr(Sr().mark((function e(t,n,r,i){return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._originValidation(t);case 2:return a=iC(t,n,r,Lx(),i),iI().location.href=a,e.abrupt("return",new Promise((function(){})));case 4:case"end":return e.stop()}var a}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_initialize",value:function(e){var t=this,n=e._key();if(this.eventManagers[n]){var r=this.eventManagers[n],i=r.manager,a=r.promise;return i?Promise.resolve(i):(Px(a,"If manager is not set, promise should be"),a)}var o=this.initAndGetManager(e);return this.eventManagers[n]={promise:o},o.catch((function(){delete t.eventManagers[n]})),o}},{key:"initAndGetManager",value:function(){var e=wr(Sr().mark((function e(t){var n,r;return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,YT(t);case 2:return n=e.sent,r=new OT(t),n.register("authEvent",(function(e){return Nx(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event"),{status:r.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send(aC,{type:aC},(function(n){var r,i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r.webStorageSupport;void 0!==i&&t(!!i),Ex(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return FT.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return jS()||NS()||MS()}}]),e}(),uC=oC,sC=function(){function e(t){r(this,e),this.factorId=t}return a(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return Ox("unexpected MultiFactorSessionType")}}}]),e}(),cC=function(e){u(n,e);var t=d(n);function n(e){var i;return r(this,n),(i=t.call(this,"phone")).credential=e,i}return a(n,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return Hx(e,"POST","/v2/accounts/mfaEnrollment:finalize",qx(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return Hx(e,"POST","/v2/accounts/mfaSignIn:finalize",qx(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new n(e)}}]),n}(sC),lC=function(){function e(){r(this,e)}return a(e,null,[{key:"assertion",value:function(e){return cC._fromCredential(e)}}]),e}();lC.FACTOR_ID="phone";var fC,hC="@firebase/auth",dC="0.20.1",pC=function(){function e(t){r(this,e),this.auth=t,this.internalListeners=new Map}return a(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(){var e=wr(Sr().mark((function e(t){var n;return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertAuthConfigured(),e.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.auth.currentUser.getIdToken(t);case 7:return n=e.sent,e.abrupt("return",{accessToken:n});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged((function(t){var n;e((null===(n=t)||void 0===n?void 0:n.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){Nx(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e}();function vC(){return window}fC="Browser",zi(new ni("auth",(function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=r.options,o=a.apiKey,u=a.authDomain;return function(e,t){Nx(o&&!o.includes(":"),"invalid-api-key",{appName:e.name}),Nx(!(null===u||void 0===u?void 0:u.includes(":")),"argument-error",{appName:e.name});var r={apiKey:o,authDomain:u,clientPlatform:fC,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:VS(fC)},i=new zS(e,t,r);return function(e,t){var n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Rx);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(i,n),i}(r,i)}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider("auth-internal").initialize()}))),zi(new ni("auth-internal",(function(e){return function(e){return new pC(e)}(qS(e.getProvider("auth").getImmediate()))}),"PRIVATE").setInstantiationMode("EXPLICIT")),ta(hC,dC,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(fC)),ta(hC,dC,"esm2017");function mC(e,t,n){return yC.apply(this,arguments)}function yC(){return yC=wr(Sr().mark((function e(t,n,r){var i,a,o,u,s;return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=vC(),o=a.BuildInfo,Px(n.sessionId,"AuthEvent did not contain a session ID"),e.next=4,SC(n.sessionId);case 4:return u=e.sent,s={},MS()?s.ibi=o.packageName:DS()?s.apn=o.packageName:Ex(t,"operation-not-supported-in-this-environment"),o.displayName&&(s.appDisplayName=o.displayName),s.sessionId=u,e.abrupt("return",iC(t,r,n.type,void 0,null!==(i=n.eventId)&&void 0!==i?i:void 0,s));case 10:case"end":return e.stop()}}),e)}))),yC.apply(this,arguments)}function gC(){return gC=wr(Sr().mark((function e(t){var n,r,i;return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=vC(),r=n.BuildInfo,i={},MS()?i.iosBundleId=r.packageName:DS()?i.androidPackageName=r.packageName:Ex(t,"operation-not-supported-in-this-environment"),e.next=5,RT(t,i);case 5:case"end":return e.stop()}}),e)}))),gC.apply(this,arguments)}function kC(e){var t=vC().cordova;return new Promise((function(n){t.plugins.browsertab.isAvailable((function(r){var i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Lr();return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)}))}))}function bC(e,t,n){return wC.apply(this,arguments)}function wC(){return wC=wr(Sr().mark((function e(t,n,r){var i,a,o;return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=vC(),a=i.cordova,o=function(){},e.prev=2,e.next=5,new Promise((function(e,i){var u=null;function s(){var t;e();var n=null===(t=a.plugins.browsertab)||void 0===t?void 0:t.close;"function"===typeof n&&n(),"function"===typeof(null===r||void 0===r?void 0:r.close)&&r.close()}function c(){u||(u=window.setTimeout((function(){i(Ix(t,"redirect-cancelled-by-user"))}),2e3))}function l(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&c()}n.addPassiveListener(s),document.addEventListener("resume",c,!1),DS()&&document.addEventListener("visibilitychange",l,!1),o=function(){n.removePassiveListener(s),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",l,!1),u&&window.clearTimeout(u)}}));case 5:return e.prev=5,o(),e.finish(5);case 8:case"end":return e.stop()}}),e,null,[[2,,5,8]])}))),wC.apply(this,arguments)}function xC(e){var t,n,r,i,a,o,u,s,c,l,f=vC();Nx("function"===typeof(null===(t=null===f||void 0===f?void 0:f.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Nx("undefined"!==typeof(null===(n=null===f||void 0===f?void 0:f.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Nx("function"===typeof(null===(a=null===(i=null===(r=null===f||void 0===f?void 0:f.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===a?void 0:a.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Nx("function"===typeof(null===(s=null===(u=null===(o=null===f||void 0===f?void 0:f.cordova)||void 0===o?void 0:o.plugins)||void 0===u?void 0:u.browsertab)||void 0===s?void 0:s.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Nx("function"===typeof(null===(l=null===(c=null===f||void 0===f?void 0:f.cordova)||void 0===c?void 0:c.InAppBrowser)||void 0===l?void 0:l.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}function SC(e){return _C.apply(this,arguments)}function _C(){return(_C=wr(Sr().mark((function e(t){var n,r,i;return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=EC(t),e.next=3,crypto.subtle.digest("SHA-256",n);case 3:return r=e.sent,i=Array.from(new Uint8Array(r)),e.abrupt("return",i.map((function(e){return e.toString(16).padStart(2,"0")})).join(""));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function EC(e){if(Px(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!==typeof TextEncoder)return(new TextEncoder).encode(e);for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}var IC=function(e){u(n,e);var t=d(n);function n(){var e;return r(this,n),(e=t.apply(this,arguments)).passiveListeners=new Set,e.initPromise=new Promise((function(t){e.resolveInialized=t})),e}return a(n,[{key:"addPassiveListener",value:function(e){this.passiveListeners.add(e)}},{key:"removePassiveListener",value:function(e){this.passiveListeners.delete(e)}},{key:"resetRedirect",value:function(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}},{key:"onEvent",value:function(e){return this.resolveInialized(),this.passiveListeners.forEach((function(t){return t(e)})),Ta(s(n.prototype),"onEvent",this).call(this,e)}},{key:"initialized",value:function(){var e=wr(Sr().mark((function e(){return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.initPromise;case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(OT);function TC(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:t,eventId:n,urlResponse:null,sessionId:PC(),postBody:null,tenantId:e.tenantId,error:Ix(e,"no-auth-event")}}function CC(e,t){return DC()._set(RC(e),t)}function AC(e){return NC.apply(this,arguments)}function NC(){return NC=wr(Sr().mark((function e(t){var n;return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,DC()._get(RC(t));case 2:if(!(n=e.sent)){e.next=6;break}return e.next=6,DC()._remove(RC(t));case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)}))),NC.apply(this,arguments)}function OC(e,t){var n,r,i=function(e){var t=LC(e),n=t.link?decodeURIComponent(t.link):void 0,r=LC(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return LC(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){var a=LC(i),o=a.firebaseError?function(e){try{return JSON.parse(e)}catch(t){return null}}(decodeURIComponent(a.firebaseError)):null,u=null===(r=null===(n=null===o||void 0===o?void 0:o.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],s=u?Ix(u):null;return s?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:s,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}function PC(){for(var e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",n=0;n<20;n++){var r=Math.floor(Math.random()*t.length);e.push(t.charAt(r))}return e.join("")}function DC(){return Rx(XE)}function RC(e){return IS("authEvent",e.config.apiKey,e.name)}function LC(e){if(!(null===e||void 0===e?void 0:e.includes("?")))return{};var t,n=e.split("?"),r=Oe(t=n)||Me(t)||De(t)||Re();r[0];return $r(r.slice(1).join("?"))}var MC=function(){function e(){r(this,e),this._redirectPersistence=ZE,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=TT,this._overrideRedirectResult=mT}return a(e,[{key:"_initialize",value:function(){var e=wr(Sr().mark((function e(t){var n,r;return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t._key(),(r=this.eventManagers.get(n))||(r=new IC(t),this.eventManagers.set(n,r),this.attachCallbackListeners(t,r)),e.abrupt("return",r);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(e){Ex(e,"operation-not-supported-in-this-environment")}},{key:"_openRedirect",value:function(){var e=wr(Sr().mark((function e(t,n,r,i){var a,o,u,s;return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return xC(t),e.next=3,this._initialize(t);case 3:return a=e.sent,e.next=6,a.initialized();case 6:return a.resetRedirect(),lT.clear(),e.next=10,this._originValidation(t);case 10:return o=TC(t,r,i),e.next=13,CC(t,o);case 13:return e.next=15,mC(t,o,n);case 15:return u=e.sent,e.next=18,kC(u);case 18:return s=e.sent,e.abrupt("return",bC(t,a,s));case 20:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){throw new Error("Method not implemented.")}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return gC.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"attachCallbackListeners",value:function(e,t){var n=vC(),r=n.universalLinks,i=n.handleOpenURL,a=n.BuildInfo,o=setTimeout(wr(Sr().mark((function n(){return Sr().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,AC(e);case 2:t.onEvent(FC());case 3:case"end":return n.stop()}}),n)}))),500),u=function(){var n=wr(Sr().mark((function n(r){var i,a;return Sr().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return clearTimeout(o),n.next=3,AC(e);case 3:i=n.sent,a=null,i&&(null===r||void 0===r?void 0:r.url)&&(a=OC(i,r.url)),t.onEvent(a||FC());case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();"undefined"!==typeof r&&"function"===typeof r.subscribe&&r.subscribe(null,u);var s=i,c="".concat(a.packageName.toLowerCase(),"://");vC().handleOpenURL=function(){var e=wr(Sr().mark((function e(t){return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.toLowerCase().startsWith(c)&&u({url:t}),"function"===typeof s)try{s(t)}catch(n){console.error(n)}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}]),e}(),UC=MC;function FC(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Ix("no-auth-event")}}function jC(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function VC(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Lr();return!("file:"!==jC()&&"ionic:"!==jC()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function BC(){return Vr()&&11===(null===document||void 0===document?void 0:document.documentMode)}function zC(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Lr();return/Edge\/\d+/.test(e)}function qC(){try{var e=self.localStorage,t=nI();if(e)return e.setItem(t,"1"),e.removeItem(t),!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Lr();return BC()||zC(e)}()||Br()}catch(n){return HC()&&Br()}return!1}function HC(){return"undefined"!==typeof n.g&&"WorkerGlobalScope"in n.g&&"importScripts"in n.g}function KC(){return("http:"===jC()||"https:"===jC()||Fr()||VC())&&!(jr()||Ur())&&qC()&&!HC()}function GC(){return VC()&&"undefined"!==typeof document}function WC(){return YC.apply(this,arguments)}function YC(){return(YC=wr(Sr().mark((function e(){return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(GC()){e.next=2;break}return e.abrupt("return",!1);case 2:return e.abrupt("return",new Promise((function(e){var t=setTimeout((function(){e(!1)}),1e3);document.addEventListener("deviceready",(function(){clearTimeout(t),e(!0)}))})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var QC={LOCAL:"local",NONE:"none",SESSION:"session"},$C=Nx,XC="persistence";function JC(e,t){$C(Object.values(QC).includes(t),e,"invalid-persistence-type"),jr()?$C(t!==QC.SESSION,e,"unsupported-persistence-type"):Ur()?$C(t===QC.NONE,e,"unsupported-persistence-type"):HC()?$C(t===QC.NONE||t===QC.LOCAL&&Br(),e,"unsupported-persistence-type"):$C(t===QC.NONE||qC(),e,"unsupported-persistence-type")}function ZC(e){return eA.apply(this,arguments)}function eA(){return eA=wr(Sr().mark((function e(t){var n,r;return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._initializationPromise;case 2:n=tA(),r=IS(XC,t.config.apiKey,t.name),n&&n.setItem(r,t._getPersistence());case 5:case"end":return e.stop()}}),e)}))),eA.apply(this,arguments)}function tA(){var e;try{return(null===(e="undefined"!==typeof window?window:null)||void 0===e?void 0:e.sessionStorage)||null}catch(t){return null}}var nA=Nx,rA=function(){function e(){r(this,e),this.browserResolver=Rx(uC),this.cordovaResolver=Rx(UC),this.underlyingResolver=null,this._redirectPersistence=ZE,this._completeRedirectFn=TT,this._overrideRedirectResult=mT}return a(e,[{key:"_initialize",value:function(){var e=wr(Sr().mark((function e(t){return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._initialize(t));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(){var e=wr(Sr().mark((function e(t,n,r,i){return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openPopup(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=wr(Sr().mark((function e(t,n,r,i){return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openRedirect(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}},{key:"_originValidation",value:function(e){return this.assertedUnderlyingResolver._originValidation(e)}},{key:"_shouldInitProactively",get:function(){return GC()||this.browserResolver._shouldInitProactively}},{key:"assertedUnderlyingResolver",get:function(){return nA(this.underlyingResolver,"internal-error"),this.underlyingResolver}},{key:"selectUnderlyingResolver",value:function(){var e=wr(Sr().mark((function e(){var t;return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.underlyingResolver){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,WC();case 4:t=e.sent,this.underlyingResolver=t?this.cordovaResolver:this.browserResolver;case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function iA(e){return e.unwrap()}function aA(e,t){var n,r=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===t.code)t.resolver=new lA(e,function(e,t){var n,r=ti(e),i=t;return Nx(t.customData.operationType,r,"argument-error"),Nx(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),qE._fromError(r,i)}(e,t));else if(r){var i=oA(t),a=t;i&&(a.credential=i,a.tenantId=r.tenantId||void 0,a.email=r.email||void 0,a.phoneNumber=r.phoneNumber||void 0)}}function oA(e){var t=(e instanceof zr?e.customData:e)._tokenResponse;if(!t)return null;if(!(e instanceof zr)&&"temporaryProof"in t&&"phoneNumber"in t)return QI.credentialFromResult(e);var n,r=t.providerId;if(!r||r===fx)return null;switch(r){case lx:n=R_;break;case sx:n=D_;break;case cx:n=L_;break;case hx:n=F_;break;default:var i=t.oauthIdToken,a=t.oauthAccessToken,o=t.oauthTokenSecret,u=t.pendingToken,s=t.nonce;return a||o||i||u?u?r.startsWith("saml.")?M_._create(r,u):b_._fromParams({providerId:r,signInMethod:r,pendingToken:u,idToken:i,accessToken:a}):new P_(r).credential({idToken:i,accessToken:a,rawNonce:s}):null}return e instanceof zr?n.credentialFromError(e):n.credentialFromResult(e)}function uA(e,t){return t.catch((function(t){throw t instanceof zr&&aA(e,t),t})).then((function(e){var t,n=e.operationType,r=e.user;return{operationType:n,credential:(t=e,oA(t)),additionalUserInfo:BE(e),user:fA.getOrCreate(r)}}))}function sA(e,t){return cA.apply(this,arguments)}function cA(){return cA=wr(Sr().mark((function e(t,n){var r;return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n;case 2:return r=e.sent,e.abrupt("return",{verificationId:r.verificationId,confirm:function(e){return uA(t,r.confirm(e))}});case 4:case"end":return e.stop()}}),e)}))),cA.apply(this,arguments)}var lA=function(){function e(t,n){r(this,e),this.resolver=n,this.auth=function(e){return e.wrapped()}(t)}return a(e,[{key:"session",get:function(){return this.resolver.session}},{key:"hints",get:function(){return this.resolver.hints}},{key:"resolveSignIn",value:function(e){return uA(iA(this.auth),this.resolver.resolveSignIn(e))}}]),e}(),fA=function(){function e(t){r(this,e),this._delegate=t,this.multiFactor=function(e){var t=ti(e);return WE.has(t)||WE.set(t,GE._fromUser(t)),WE.get(t)}(t)}return a(e,[{key:"delete",value:function(){return this._delegate.delete()}},{key:"reload",value:function(){return this._delegate.reload()}},{key:"toJSON",value:function(){return this._delegate.toJSON()}},{key:"getIdTokenResult",value:function(e){return this._delegate.getIdTokenResult(e)}},{key:"getIdToken",value:function(e){return this._delegate.getIdToken(e)}},{key:"linkAndRetrieveDataWithCredential",value:function(e){return this.linkWithCredential(e)}},{key:"linkWithCredential",value:function(){var e=wr(Sr().mark((function e(t){return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",uA(this.auth,aE(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithPhoneNumber",value:function(){var e=wr(Sr().mark((function e(t,n){return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",sA(this.auth,qI(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"linkWithPopup",value:function(){var e=wr(Sr().mark((function e(t){return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",uA(this.auth,uT(this._delegate,t,rA)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithRedirect",value:function(){var e=wr(Sr().mark((function e(t){return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ZC(qS(this.auth));case 2:return e.abrupt("return",ST(this._delegate,t,rA));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateAndRetrieveDataWithCredential",value:function(e){return this.reauthenticateWithCredential(e)}},{key:"reauthenticateWithCredential",value:function(){var e=wr(Sr().mark((function e(t){return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",uA(this.auth,uE(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateWithPhoneNumber",value:function(e,t){return sA(this.auth,function(e,t,n){return KI.apply(this,arguments)}(this._delegate,e,t))}},{key:"reauthenticateWithPopup",value:function(e){return uA(this.auth,function(e,t,n){return oT.apply(this,arguments)}(this._delegate,e,rA))}},{key:"reauthenticateWithRedirect",value:function(){var e=wr(Sr().mark((function e(t){return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ZC(qS(this.auth));case 2:return e.abrupt("return",wT(this._delegate,t,rA));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"sendEmailVerification",value:function(e){return function(e,t){return CE.apply(this,arguments)}(this._delegate,e)}},{key:"unlink",value:function(){var e=wr(Sr().mark((function e(t){return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,W_(this._delegate,t);case 2:return e.abrupt("return",this);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateEmail",value:function(e){return function(e,t){return DE(ti(e),t,null)}(this._delegate,e)}},{key:"updatePassword",value:function(e){return function(e,t){return DE(ti(e),null,t)}(this._delegate,e)}},{key:"updatePhoneNumber",value:function(e){return function(e,t){return YI.apply(this,arguments)}(this._delegate,e)}},{key:"updateProfile",value:function(e){return function(e,t){return PE.apply(this,arguments)}(this._delegate,e)}},{key:"verifyBeforeUpdateEmail",value:function(e,t){return function(e,t,n){return AE.apply(this,arguments)}(this._delegate,e,t)}},{key:"emailVerified",get:function(){return this._delegate.emailVerified}},{key:"isAnonymous",get:function(){return this._delegate.isAnonymous}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"phoneNumber",get:function(){return this._delegate.phoneNumber}},{key:"providerData",get:function(){return this._delegate.providerData}},{key:"refreshToken",get:function(){return this._delegate.refreshToken}},{key:"tenantId",get:function(){return this._delegate.tenantId}},{key:"displayName",get:function(){return this._delegate.displayName}},{key:"email",get:function(){return this._delegate.email}},{key:"photoURL",get:function(){return this._delegate.photoURL}},{key:"providerId",get:function(){return this._delegate.providerId}},{key:"uid",get:function(){return this._delegate.uid}},{key:"auth",get:function(){return this._delegate.auth}}],[{key:"getOrCreate",value:function(t){return e.USER_MAP.has(t)||e.USER_MAP.set(t,new e(t)),e.USER_MAP.get(t)}}]),e}();fA.USER_MAP=new WeakMap;var hA=Nx,dA=function(){function e(t,n){if(r(this,e),this.app=t,n.isInitialized())return this._delegate=n.getImmediate(),void this.linkUnderlyingAuth();var i=t.options.apiKey;hA(i,"invalid-api-key",{appName:t.name}),hA(i,"invalid-api-key",{appName:t.name});var a="undefined"!==typeof window?rA:void 0;this._delegate=n.initialize({options:{persistence:vA(i,t.name),popupRedirectResolver:a}}),this._delegate._updateErrorMap(bx),this.linkUnderlyingAuth()}return a(e,[{key:"emulatorConfig",get:function(){return this._delegate.emulatorConfig}},{key:"currentUser",get:function(){return this._delegate.currentUser?fA.getOrCreate(this._delegate.currentUser):null}},{key:"languageCode",get:function(){return this._delegate.languageCode},set:function(e){this._delegate.languageCode=e}},{key:"settings",get:function(){return this._delegate.settings}},{key:"tenantId",get:function(){return this._delegate.tenantId},set:function(e){this._delegate.tenantId=e}},{key:"useDeviceLanguage",value:function(){this._delegate.useDeviceLanguage()}},{key:"signOut",value:function(){return this._delegate.signOut()}},{key:"useEmulator",value:function(e,t){KS(this._delegate,e,t)}},{key:"applyActionCode",value:function(e){return function(e,t){return yE.apply(this,arguments)}(this._delegate,e)}},{key:"checkActionCode",value:function(e){return gE(this._delegate,e)}},{key:"confirmPasswordReset",value:function(e,t){return function(e,t,n){return mE.apply(this,arguments)}(this._delegate,e,t)}},{key:"createUserWithEmailAndPassword",value:function(){var e=wr(Sr().mark((function e(t,n){return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",uA(this._delegate,wE(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"fetchProvidersForEmail",value:function(e){return this.fetchSignInMethodsForEmail(e)}},{key:"fetchSignInMethodsForEmail",value:function(e){return function(e,t){return TE.apply(this,arguments)}(this._delegate,e)}},{key:"isSignInWithEmailLink",value:function(e){return function(e,t){var n=C_.parseLink(t);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}(this._delegate,e)}},{key:"getRedirectResult",value:function(){var e=wr(Sr().mark((function e(){var t;return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return hA(KC(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,ET(this._delegate,rA);case 3:if(t=e.sent){e.next=6;break}return e.abrupt("return",{credential:null,user:null});case 6:return e.abrupt("return",uA(this._delegate,Promise.resolve(t)));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"addFrameworkForLogging",value:function(e){!function(e,t){qS(e)._logFramework(t)}(this._delegate,e)}},{key:"onAuthStateChanged",value:function(e,t,n){var r=pA(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onAuthStateChanged(i,a,o)}},{key:"onIdTokenChanged",value:function(e,t,n){var r=pA(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onIdTokenChanged(i,a,o)}},{key:"sendSignInLinkToEmail",value:function(e,t){return function(e,t,n){return SE.apply(this,arguments)}(this._delegate,e,t)}},{key:"sendPasswordResetEmail",value:function(e,t){return function(e,t,n){return vE.apply(this,arguments)}(this._delegate,e,t||void 0)}},{key:"setPersistence",value:function(){var e=wr(Sr().mark((function e(t){var n,r;return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:JC(this._delegate,t),e.t0=t,e.next=e.t0===QC.SESSION?4:e.t0===QC.LOCAL?6:e.t0===QC.NONE?11:13;break;case 4:return n=ZE,e.abrupt("break",14);case 6:return e.next=8,Rx(xI)._isAvailable();case 8:return r=e.sent,n=r?xI:XE,e.abrupt("break",14);case 11:return n=ES,e.abrupt("break",14);case 13:return e.abrupt("return",Ex("argument-error",{appName:this._delegate.name}));case 14:return e.abrupt("return",this._delegate.setPersistence(n));case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInAndRetrieveDataWithCredential",value:function(e){return this.signInWithCredential(e)}},{key:"signInAnonymously",value:function(){return uA(this._delegate,function(e){return q_.apply(this,arguments)}(this._delegate))}},{key:"signInWithCredential",value:function(e){return uA(this._delegate,rE(this._delegate,e))}},{key:"signInWithCustomToken",value:function(e){return uA(this._delegate,function(e,t){return fE.apply(this,arguments)}(this._delegate,e))}},{key:"signInWithEmailAndPassword",value:function(e,t){return uA(this._delegate,function(e,t,n){return rE(ti(e),A_.credential(t,n))}(this._delegate,e,t))}},{key:"signInWithEmailLink",value:function(e,t){return uA(this._delegate,function(e,t,n){return _E.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPhoneNumber",value:function(e,t){return sA(this._delegate,function(e,t,n){return zI.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPopup",value:function(){var e=wr(Sr().mark((function e(t){return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return hA(KC(),this._delegate,"operation-not-supported-in-this-environment"),e.abrupt("return",uA(this._delegate,iT(this._delegate,t,rA)));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInWithRedirect",value:function(){var e=wr(Sr().mark((function e(t){return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return hA(KC(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,ZC(this._delegate);case 3:return e.abrupt("return",kT(this._delegate,t,rA));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(e){return this._delegate.updateCurrentUser(e)}},{key:"verifyPasswordResetCode",value:function(e){return function(e,t){return bE.apply(this,arguments)}(this._delegate,e)}},{key:"unwrap",value:function(){return this._delegate}},{key:"_delete",value:function(){return this._delegate._delete()}},{key:"linkUnderlyingAuth",value:function(){var e=this;this._delegate.wrapped=function(){return e}}}]),e}();function pA(e,t,n){var r=e;"function"!==typeof e&&(r=e.next,t=e.error,n=e.complete);var i=r;return{next:function(e){return i(e&&fA.getOrCreate(e))},error:t,complete:n}}function vA(e,t){var n=function(e,t){var n=tA();if(!n)return[];var r=IS(XC,e,t);switch(n.getItem(r)){case QC.NONE:return[ES];case QC.LOCAL:return[xI,ZE];case QC.SESSION:return[ZE];default:return[]}}(e,t);if("undefined"===typeof self||n.includes(xI)||n.push(xI),"undefined"!==typeof window)for(var r=0,i=[XE,ZE];r<i.length;r++){var a=i[r];n.includes(a)||n.push(a)}return n.includes(ES)||n.push(ES),n}dA.Persistence=QC;var mA=function(){function e(){r(this,e),this.providerId="phone",this._delegate=new QI(iA(Ea.auth()))}return a(e,[{key:"verifyPhoneNumber",value:function(e,t){return this._delegate.verifyPhoneNumber(e,t)}},{key:"unwrap",value:function(){return this._delegate}}],[{key:"credential",value:function(e,t){return QI.credential(e,t)}}]),e}();mA.PHONE_SIGN_IN_METHOD=QI.PHONE_SIGN_IN_METHOD,mA.PROVIDER_ID=QI.PROVIDER_ID;var yA=Nx,gA=function(){function e(t,n){var i,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ea.app();r(this,e),yA(null===(i=a.options)||void 0===i?void 0:i.apiKey,"invalid-api-key",{appName:a.name}),this._delegate=new jI(t,n,a.auth()),this.type=this._delegate.type}return a(e,[{key:"clear",value:function(){this._delegate.clear()}},{key:"render",value:function(){return this._delegate.render()}},{key:"verify",value:function(){return this._delegate.verify()}}]),e}();!function(e){e.INTERNAL.registerComponent(new ni("auth-compat",(function(e){var t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new dA(t,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:dx,PASSWORD_RESET:px,RECOVER_EMAIL:vx,REVERT_SECOND_FACTOR_ADDITION:mx,VERIFY_AND_CHANGE_EMAIL:yx,VERIFY_EMAIL:gx}},EmailAuthProvider:A_,FacebookAuthProvider:D_,GithubAuthProvider:L_,GoogleAuthProvider:R_,OAuthProvider:P_,SAMLAuthProvider:U_,PhoneAuthProvider:mA,PhoneMultiFactorGenerator:lC,RecaptchaVerifier:gA,TwitterAuthProvider:F_,Auth:dA,AuthCredential:YS,Error:zr}).setInstantiationMode("LAZY").setMultipleInstances(!1)),e.registerVersion("@firebase/auth-compat","0.2.14")}(Ea);var kA=function(){var e=wr(Sr().mark((function e(t,n){var r,i,a,o;return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return r=_A.doc("users/".concat(t.uid)),e.next=5,r.get();case 5:if(e.sent.exists){e.next=17;break}return i=t.displayName,a=t.email,o=new Date,e.prev=9,e.next=12,r.set(bt({displayName:i,email:a,createdAt:o},n));case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(9),console.log("error creating user",e.t0.message);case 17:return e.abrupt("return",r);case 18:case"end":return e.stop()}}),e,null,[[9,14]])})));return function(t,n){return e.apply(this,arguments)}}(),bA=function(){var e=wr(Sr().mark((function e(){var t,n;return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=_A.collection("users").doc(SA.currentUser.uid),e.prev=1,e.next=4,t.get();case 4:return n=e.sent,e.next=7,n.data().cart.filter((function(e){return 0!==e.quantity}));case 7:return e.abrupt("return",e.sent);case 10:return e.prev=10,e.t0=e.catch(1),console.error("Error getting cart: ",e.t0),e.abrupt("return",null);case 14:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(){return e.apply(this,arguments)}}(),wA=function(){var e=wr(Sr().mark((function e(t){var n,r,i,a,o;return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=t.type){e.next=2;break}return e.abrupt("return");case 2:return console.log("TYPE"),console.log(t.type),n=_A.collection("users").doc(SA.currentUser.uid),e.prev=5,e.next=8,n.get();case 8:r=e.sent,i=r.data().cart||[],a=!1,console.log("!!UPDATES:"),console.log(t),o=0;case 14:if(!(o<i.length)){e.next=23;break}if(i[o].type!==t.type){e.next=20;break}return a=!0,i[o].url=t.url,0===t.quantity?i[o].quantity=0:i[o].quantity+=t.quantity,e.abrupt("break",23);case 20:o++,e.next=14;break;case 23:return a||i.push(t),i=i.filter((function(e){return 0!==e.quantity})),e.next=27,n.update({cart:i});case 27:console.log(i),console.log("CART UPDATED"),e.next=34;break;case 31:e.prev=31,e.t0=e.catch(5),console.error("Error updating document: ",e.t0);case 34:case"end":return e.stop()}}),e,null,[[5,31]])})));return function(t){return e.apply(this,arguments)}}(),xA=function(e){return e.docs.map((function(e){var t=e.data(),n=t.CircuitName,r=t.Country,i=t.Locality,a=t.url,o=t.circuitId,u=t.round,s=t.packages;return{id:e.id,CircuitName:n,Country:r,Locality:i,circuitId:o,url:a,round:u,packages:s}})).reduce((function(e,t){return e[t.circuitId]=t,e}),{})};Ea.initializeApp({apiKey:"AIzaSyCkV4qHipu33BRkxdWDtfNukBULHvdTsB8",authDomain:"ticket-manager-46c6d.firebaseapp.com",projectId:"ticket-manager-46c6d",storageBucket:"ticket-manager-46c6d.appspot.com",messagingSenderId:"564345720934",appId:"1:564345720934:web:10a6d0b290bbcde8265da7",measurementId:"G-SCJ42E57EL"});var SA=Ea.auth(),_A=Ea.firestore(),EA=new Ea.auth.GoogleAuthProvider;EA.setCustomParameters({prompt:"select_account"});var IA=function(e){return{type:kr.FETCH_COLLECTIONS_SUCCESS,payload:e}};function TA(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var CA="function"===typeof Symbol&&Symbol.observable||"@@observable",AA=function(){return Math.random().toString(36).substring(7).split("").join(".")},NA={INIT:"@@redux/INIT"+AA(),REPLACE:"@@redux/REPLACE"+AA(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+AA()}};function OA(e){if("object"!==typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function PA(e,t,n){var r;if("function"===typeof t&&"function"===typeof n||"function"===typeof n&&"function"===typeof arguments[3])throw new Error(TA(0));if("function"===typeof t&&"undefined"===typeof n&&(n=t,t=void 0),"undefined"!==typeof n){if("function"!==typeof n)throw new Error(TA(1));return n(PA)(e,t)}if("function"!==typeof e)throw new Error(TA(2));var i=e,a=t,o=[],u=o,s=!1;function c(){u===o&&(u=o.slice())}function l(){if(s)throw new Error(TA(3));return a}function f(e){if("function"!==typeof e)throw new Error(TA(4));if(s)throw new Error(TA(5));var t=!0;return c(),u.push(e),function(){if(t){if(s)throw new Error(TA(6));t=!1,c();var n=u.indexOf(e);u.splice(n,1),o=null}}}function h(e){if(!OA(e))throw new Error(TA(7));if("undefined"===typeof e.type)throw new Error(TA(8));if(s)throw new Error(TA(9));try{s=!0,a=i(a,e)}finally{s=!1}for(var t=o=u,n=0;n<t.length;n++){(0,t[n])()}return e}function d(e){if("function"!==typeof e)throw new Error(TA(10));i=e,h({type:NA.REPLACE})}function p(){var e,t=f;return(e={subscribe:function(e){if("object"!==typeof e||null===e)throw new Error(TA(11));function n(){e.next&&e.next(l())}return n(),{unsubscribe:t(n)}}})[CA]=function(){return this},e}return h({type:NA.INIT}),(r={dispatch:h,subscribe:f,getState:l,replaceReducer:d})[CA]=p,r}function DA(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var i=t[r];0,"function"===typeof e[i]&&(n[i]=e[i])}var a,o=Object.keys(n);try{!function(e){Object.keys(e).forEach((function(t){var n=e[t];if("undefined"===typeof n(void 0,{type:NA.INIT}))throw new Error(TA(12));if("undefined"===typeof n(void 0,{type:NA.PROBE_UNKNOWN_ACTION()}))throw new Error(TA(13))}))}(n)}catch(u){a=u}return function(e,t){if(void 0===e&&(e={}),a)throw a;for(var r=!1,i={},u=0;u<o.length;u++){var s=o[u],c=n[s],l=e[s],f=c(l,t);if("undefined"===typeof f){t&&t.type;throw new Error(TA(14))}i[s]=f,r=r||f!==l}return(r=r||o.length!==Object.keys(e).length)?i:e}}function RA(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}function LA(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(){var n=e.apply(void 0,arguments),r=function(){throw new Error(TA(15))},i={getState:n.getState,dispatch:function(){return r.apply(void 0,arguments)}},a=t.map((function(e){return e(i)}));return r=RA.apply(void 0,a)(n.dispatch),bt(bt({},n),{},{dispatch:r})}}}var MA,UA,FA,jA,VA,BA,zA=function(e){return e.shop},qA=mt([zA],(function(e){return e.collections})),HA=mt([qA],(function(e){return e?Object.keys(e).map((function(t){return e[t]})):[]})),KA=mt([zA],(function(e){return e.isFetching})),GA=mt([zA],(function(e){return!!e.collections})),WA=tr.div(MA||(MA=It(["\n  height: 60vh;\n  width: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"]))),YA=(tr.div(UA||(UA=It(["\n  display: inline-block;\n  width: 50px;\n  height: 50px;\n  border: 3px solid rgba(195, 195, 195, 0.6);\n  border-radius: 50%;\n  border-top-color: #636767;\n  animation: spin 1s ease-in-out infinite;\n  -webkit-animation: spin 1s ease-in-out infinite;\n  @keyframes spin {\n    to {\n      -webkit-transform: rotate(360deg);\n    }\n  }\n  @-webkit-keyframes spin {\n    to {\n      -webkit-transform: rotate(360deg);\n    }\n  }\n"]))),["isLoading"]),QA=function(e){return function(t){var n=t.isLoading,r=wt(t,YA);return n?(0,St.jsx)(WA,{children:(0,St.jsx)("div",{className:"loader"})}):(0,St.jsx)(e,bt({},r))}},$A=jn(FA||(FA=It(["\n  background-color: black;\n  color: white;\n  border: none;\n\n  &:hover {\n    background-color: white;\n    color: black;\n    border: 1px solid black;\n  }\n"]))),XA=jn(jA||(jA=It(["\n  background-color: white;\n  color: black;\n  border: 1px solid black;\n\n  &:hover {\n    background-color: black;\n    color: white;\n    border: none;\n  }\n"]))),JA=jn(VA||(VA=It(["\n  background-color: #4285f4;\n  color: white;\n  &:hover {\n    background-color: #357ae8;\n    border: none;\n  }\n"]))),ZA=tr.button(BA||(BA=It(["\n  min-width: 165px;\n  width: auto;\n  height: 50px;\n  letter-spacing: 0.5px;\n  line-height: 50px;\n  padding: 0 35px 0 35px;\n  font-size: 15px;\n\n  transition: 0.1s ease-in;\n\n  text-transform: uppercase;\n  font-family: 'Open Sans Condensed';\n  font-weight: bolder;\n\n  cursor: pointer;\n  display: flex;\n  justify-content: center;\n\n  ","\n"])),(function(e){return e.isGoogleSignIn?JA:e.inverted?XA:$A})),eN=["children"],tN=function(e){var t=e.children,n=wt(e,eN);return(0,St.jsx)(ZA,bt(bt({},n),{},{children:t}))},nN=Se(st(null,(function(e){return{}}))((function(e){var t=e.item,n=e.history,r=e.match,i=(t.circuitId,t.url),a=t.round;return(0,St.jsxs)("div",{className:"collection-item",children:[(0,St.jsx)("div",{className:"image",style:{backgroundImage:"url(".concat(i,")")}}),(0,St.jsx)(tN,{className:"custom-button",onClick:function(){return n.push("".concat(r.url,"/").concat(a))},inverted:!0,children:"Browse tickets"})]})}))),rN=function(e){return(0,St.jsxs)("div",{className:"collection-preview",children:[(0,St.jsxs)("h1",{className:"title",children:[e.CircuitName," - ",e.Country]}),(0,St.jsx)("span",{children:"18 - 20 MARCH"}),(0,St.jsx)("div",{className:"preview",children:(0,St.jsx)(nN,{item:e},e.CircuitName)})]})},iN=["id"],aN=st(yt({collections:HA}))((function(e){var t=e.collections;return(0,St.jsx)("div",{className:"collections-overview",children:t.map((function(e){var t=e.id,n=wt(e,iN);return(0,St.jsx)(rN,bt({},n),t)}))})})),oN=RA(st(yt({isLoading:KA})),QA)(aN),uN="TOGGLE_CART_HIDDEN",sN="ADD_ITEM",cN="REMOVE_ITEM",lN="CLEAR_ITEM_FROM_CART",fN="CLEAR_CART",hN="ESTABLISH_CART",dN=function(){return{type:uN}},pN=function(e){return{type:sN,payload:e}},vN=function(e){return{type:hN,payload:e}},mN=st(null,(function(e){return{addItem:function(t){return e(pN(t))}}}))((function(e){for(var t=e.url,n=e.packages,r=e.addItem,i=[],a=0;a<n.length;a++)i.push([n[a].name,n[a].period,t,n[a].price]);return(0,St.jsx)("div",{className:"packages",children:i.map((function(e){return(0,St.jsxs)("div",{className:"package",children:[(0,St.jsxs)("ul",{className:"list-items",children:[(0,St.jsxs)("li",{children:["Ticket name: ",e[0]]},e[0]),(0,St.jsxs)("li",{children:["Interval: ",e[1]]},e[1]),(0,St.jsx)("img",{className:"picture",src:e[2],alt:"Circuit",hidden:!0},e[2]),(0,St.jsxs)("li",{children:["Price: $",e[3]]},e[3])]}),(0,St.jsx)(tN,{className:"custom-button",onClick:function(){return r({type:e[0],interval:e[1],url:e[2],price:e[3]})},children:"Add to cart"},e.className)]})}))})})),yN=st((function(e,t){return{circuit:(n=t.match.params.round,mt([qA],(function(e){return e?e[n-1]:null})))(e)};var n}))((function(e){var t=e.circuit,n=t.CircuitName,r=t.Country;return(0,St.jsxs)("div",{className:"collection-page",children:[(0,St.jsx)("h2",{className:"title",children:n}),(0,St.jsx)("h2",{className:"title",children:r}),(0,St.jsx)(mN,bt({},t))]})})),gN=RA(st(yt({isLoading:function(e){return!GA(e)}})),QA)(yN),kN=function(e){u(n,e);var t=d(n);function n(){return r(this,n),t.apply(this,arguments)}return a(n,[{key:"componentDidMount",value:function(){(0,this.props.fetchCollectionsStart)()}},{key:"render",value:function(){var e=this.props.match;return(0,St.jsxs)("div",{className:"shop-page",children:[(0,St.jsx)(me,{exact:!0,path:"".concat(e.path),component:oN}),(0,St.jsx)(me,{path:"".concat(e.path,"/:round"),component:gN})]})}}]),n}(t.Component),bN=st(null,(function(e){return{fetchCollectionsStart:function(){return e({type:kr.FETCH_COLLECTIONS_START})}}}))(kN),wN=n.p+"static/media/remove.c9905959564083764497.png",xN=st(null,(function(e){return{clearItem:function(t){return e(function(e){return{type:lN,payload:e}}(t))},addItem:function(t){return e(pN(t))},removeItem:function(t){return e(function(e){return{type:cN,payload:e}}(t))}}}))((function(e){var t=e.cartItem,n=e.clearItem,r=e.addItem,i=e.removeItem,a=t.type,o=t.url,u=t.interval,s=t.quantity,c=t.price;return(0,St.jsxs)("div",{className:"checkout-item",children:[(0,St.jsx)("div",{className:"image-container",children:(0,St.jsx)("img",{src:o,alt:"item"})}),(0,St.jsx)("span",{className:"name",children:a}),(0,St.jsxs)("span",{className:"quantity",children:[(0,St.jsx)("div",{className:"arrow",onClick:function(){return i(t)},children:"\u276e"}),(0,St.jsx)("span",{className:"value",children:s}),(0,St.jsx)("div",{className:"arrow",onClick:function(){return r(t)},children:"\u276f"})]}),(0,St.jsxs)("span",{className:"price",children:["$",c]}),(0,St.jsxs)("span",{className:"price",children:["$",s*c]}),(0,St.jsx)("span",{className:"interval",children:u}),(0,St.jsx)("div",{className:"remove-button",onClick:function(){return n(t)},children:(0,St.jsx)("img",{src:wN,alt:"Remove item"})})]})})),SN=n(210);var _N,EN,IN,TN,CN,AN,NN,ON,PN,DN,RN,LN,MN,UN,FN,jN=n.p+"static/media/F1.071f00fcc01d19842d2863342f93dd65.svg",VN=function(e){var t=e.price,n=100*t;return(0,St.jsx)(SN.Z,{label:"Pay Now",name:"F1 Ticket Manager\u2122",billingAddress:!0,shippingAddress:!0,image:jN,description:"Your total is $".concat(t),amount:n,panelLabel:"Pay Now",token:function(e){console.log(e),alert("Payment Successful")},stripeKey:"pk_test_51LBeUlGMNWn8GNGUXZVhagu5gVKdongiHuXJ01vk6b25QhzSk0yc4DpmQQcDvLGKcpyXk79tMYtRWwDGO7hJV26S00nrdpMDiU"})},BN=function(e){return e.cart},zN=mt([BN],(function(e){return e.cartItems})),qN=mt([BN],(function(e){return e.hidden})),HN=mt([zN],(function(e){return e.reduce((function(e,t){return e+t.quantity}),0)})),KN=st(yt({cartItems:zN,total:mt([zN],(function(e){return e.reduce((function(e,t){return e+t.quantity*t.price}),0)}))}))((function(e){var t=e.cartItems,n=e.total;return(0,St.jsxs)("div",{className:"checkout-page",children:[(0,St.jsxs)("div",{className:"checkout-header",children:[(0,St.jsx)("div",{className:"header-block",children:(0,St.jsx)("span",{children:"Circuit"})}),(0,St.jsx)("div",{className:"header-block",children:(0,St.jsx)("span",{children:"Ticket"})}),(0,St.jsx)("div",{className:"header-block",children:(0,St.jsx)("span",{children:"Quantity"})}),(0,St.jsx)("div",{className:"header-block",children:(0,St.jsx)("span",{children:"Price"})}),(0,St.jsx)("div",{className:"header-block",children:(0,St.jsx)("span",{children:"Price Total"})}),(0,St.jsx)("div",{className:"header-block",children:(0,St.jsx)("span",{children:"Interval"})}),(0,St.jsx)("div",{className:"header-block",children:(0,St.jsx)("span",{children:"Remove"})})]}),t.map((function(e){return(0,St.jsx)(xN,{cartItem:e},e.id)})),(0,St.jsx)("div",{className:"total",children:(0,St.jsxs)("span",{children:["Total: $",n]})}),(0,St.jsxs)("div",{className:"test-warning",children:["*Please use the following credit card for payments*",(0,St.jsx)("br",{}),"4242 4242 4242 4242 - Exp: 12/34 - CVV: 123"]}),(0,St.jsx)(VN,{price:n})]})})),GN=["title","titleId"];function WN(){return WN=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},WN.apply(this,arguments)}function YN(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function QN(e,n){var r=e.title,i=e.titleId,a=YN(e,GN);return t.createElement("svg",WN({id:"Capa_1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 407.453 407.453",style:{enableBackground:"new 0 0 407.453 407.453"},xmlSpace:"preserve",ref:n,"aria-labelledby":i},a),r?t.createElement("title",{id:i},r):null,t.createElement("g",null,t.createElement("path",{style:{fill:"#010002"},d:"M255.099,116.515c4.487,0,8.129-3.633,8.129-8.129c0-4.495-3.642-8.129-8.129-8.129H143.486 c-4.487,0-8.129,3.633-8.129,8.129c0,4.495,3.642,8.129,8.129,8.129H255.099z"}),t.createElement("path",{style:{fill:"#010002"},d:"M367.062,100.258H311.69c-4.487,0-8.129,3.633-8.129,8.129c0,4.495,3.642,8.129,8.129,8.129h47.243 v274.681H48.519V116.515h44.536c4.487,0,8.129-3.633,8.129-8.129c0-4.495-3.642-8.129-8.129-8.129H40.391 c-4.487,0-8.129,3.633-8.129,8.129v290.938c0,4.495,3.642,8.129,8.129,8.129h326.671c4.487,0,8.129-3.633,8.129-8.129V108.386 C375.191,103.891,371.557,100.258,367.062,100.258z"}),t.createElement("path",{style:{fill:"#010002"},d:"M282.59,134.796c4.487,0,8.129-3.633,8.129-8.129V67.394C290.718,30.238,250.604,0,201.101,0 c-49.308,0-89.414,30.238-89.414,67.394v59.274c0,4.495,3.642,8.129,8.129,8.129s8.129-3.633,8.129-8.129V67.394 c0-28.198,32.823-51.137,73.36-51.137c40.334,0,73.157,22.939,73.157,51.137v59.274 C274.461,131.163,278.095,134.796,282.59,134.796z"}),t.createElement("path",{style:{fill:"#010002"},d:"M98.892,147.566c0,11.526,9.389,20.907,20.923,20.907c11.534,0,20.923-9.38,20.923-20.907 c0-4.495-3.642-8.129-8.129-8.129s-8.129,3.633-8.129,8.129c0,2.561-2.089,4.65-4.666,4.65c-2.569,0-4.666-2.089-4.666-4.65 c0-4.495-3.642-8.129-8.129-8.129S98.892,143.071,98.892,147.566z"}),t.createElement("path",{style:{fill:"#010002"},d:"M282.59,168.473c11.534,0,20.923-9.38,20.923-20.907c0-4.495-3.642-8.129-8.129-8.129 c-4.487,0-8.129,3.633-8.129,8.129c0,2.561-2.089,4.65-4.666,4.65c-2.577,0-4.666-2.089-4.666-4.65 c0-4.495-3.642-8.129-8.129-8.129c-4.487,0-8.129,3.633-8.129,8.129C261.667,159.092,271.055,168.473,282.59,168.473z"})),_N||(_N=t.createElement("g",null)),EN||(EN=t.createElement("g",null)),IN||(IN=t.createElement("g",null)),TN||(TN=t.createElement("g",null)),CN||(CN=t.createElement("g",null)),AN||(AN=t.createElement("g",null)),NN||(NN=t.createElement("g",null)),ON||(ON=t.createElement("g",null)),PN||(PN=t.createElement("g",null)),DN||(DN=t.createElement("g",null)),RN||(RN=t.createElement("g",null)),LN||(LN=t.createElement("g",null)),MN||(MN=t.createElement("g",null)),UN||(UN=t.createElement("g",null)),FN||(FN=t.createElement("g",null)))}var $N,XN=t.forwardRef(QN),JN=(n.p,st(yt({itemCount:HN}),(function(e){return{toggleCartHidden:function(){return e(dN())}}}))((function(e){var t=e.toggleCartHidden,n=e.itemCount;return(0,St.jsxs)("div",{className:"cart-icon",onClick:t,children:[(0,St.jsx)(XN,{className:"shopping-icon"}),(0,St.jsx)("span",{className:"item-count",children:n})]})}))),ZN=function(e){var t=e.item,n=t.url,r=t.interval,i=t.type,a=t.quantity,o=t.circuit,u=t.price;return(0,St.jsxs)("div",{className:"cart-item",children:[(0,St.jsx)("img",{src:n,alt:"item"}),(0,St.jsxs)("div",{className:"item-details",children:[(0,St.jsx)("span",{className:"name",children:i}),(0,St.jsx)("span",{className:"name",children:r}),(0,St.jsxs)("span",{className:"price",children:[a," x $",u," = $",a*u]})]})]},o)},eO=function(e){u(n,e);var t=d(n);function n(){var e;r(this,n);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).handleClickOutside=function(t){t.target.closest(".cart-dropdown")||t.target.closest(".header")||e.handleClickOutsideCartDropdown()},e}return a(n,[{key:"componentDidMount",value:function(){document.addEventListener("mousedown",this.handleClickOutside)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("mousedown",this.handleClickOutside)}},{key:"handleClickOutsideCartDropdown",value:function(){this.props.dispatch(dN())}},{key:"render",value:function(){var e=this.props,t=e.cartItems,n=e.history,r=e.dispatch;return(0,St.jsxs)("div",{className:"cart-dropdown",children:[(0,St.jsx)("div",{className:"cart-items",children:t.length?t.map((function(e){return(0,St.jsx)(ZN,{item:e},e.id)})):(0,St.jsx)("div",{className:"loader"})}),(0,St.jsx)(tN,{onClick:function(){n.push("/checkout"),r(dN())},children:"GO TO CHECKOUT"})]})}}]),n}(t.Component),tO=Se(st(yt({cartItems:zN}))(eO)),nO=mt([function(e){return e.user}],(function(e){return e.currentUser})),rO={SET_CURRENT_USER:"SET_CURRENT_USER",GOOGLE_SIGN_IN_START:"GOOGLE_SIGN_IN_START",EMAIL_SIGN_IN_START:"EMAIL_SIGN_IN_START",SIGN_IN_SUCCESS:"SIGN_IN_SUCCESS",SIGN_IN_FAILURE:"SIGN_IN_FAILURE",CHECK_USER_SESSION:"CHECK_USER_SESSION",SIGN_OUT_START:"SIGN_OUT_START",SIGN_OUT_SUCCESS:"SIGN_OUT_SUCCESS",SIGN_OUT_FAILURE:"SIGN_OUT_FAILURE",SIGN_UP_START:"SIGN_UP_START",SIGN_UP_SUCCESS:"SIGN_UP_SUCCESS",SIGN_UP_FAILURE:"SIGN_UP_FAILURE"},iO=function(e){return{type:rO.SIGN_IN_FAILURE,payload:e}},aO=function(e){return{type:rO.EMAIL_SIGN_IN_START,payload:e}},oO=["title","titleId"];function uO(){return uO=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},uO.apply(this,arguments)}function sO(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function cO(e,n){var r=e.title,i=e.titleId,a=sO(e,oO);return t.createElement("svg",uO({xmlns:"http://www.w3.org/2000/svg",width:"350.000000px",height:"30.000000px",viewBox:"0 0 1223.000000 104.000000",preserveAspectRatio:"xMidYMid meet",ref:n,"aria-labelledby":i},a),r?t.createElement("title",{id:i},r):null,$N||($N=t.createElement("g",{transform:"translate(0.000000,104.000000) scale(0.100000,-0.100000)",fill:"#000000",stroke:"none"},t.createElement("path",{d:"M3960 910 l0 -60 95 0 95 0 0 60 0 60 -95 0 -95 0 0 -60z"}),t.createElement("path",{d:"M7235 937 c-45 -25 -81 -73 -95 -126 -5 -20 -18 -142 -30 -271 -11 -129 -23 -259 -26 -287 l-6 -53 95 0 96 0 5 33 c5 33 36 464 36 507 0 34 16 58 30 44 5 -5 26 -102 46 -215 40 -235 47 -262 82 -308 52 -69 167 -92 252 -49 78 40 94 79 136 335 55 331 65 329 88 -22 9 -137 19 -267 22 -287 l6 -38 94 0 c52 0 94 2 94 5 0 44 -53 590 -60 616 -14 53 -51 102 -90 121 -48 24 -140 24 -188 -1 -84 -43 -104 -95 -144 -362 -22 -143 -37 -213 -46 -216 -7 -3 -15 -3 -18 0 -3 3 -21 101 -40 218 -33 205 -55 281 -92 323 -50 56 -176 73 -247 33z"}),t.createElement("path",{d:"M995 939 c-97 -11 -148 -25 -219 -61 -100 -50 -139 -85 -543 -480 l-181 -178 209 0 210 0 172 164 c195 186 256 237 310 260 73 30 198 36 743 36 l542 0 138 135 139 134 -725 -1 c-399 0 -756 -4 -795 -9z"}),t.createElement("path",{d:"M2225 585 l-370 -364 225 0 225 0 370 364 370 364 -225 0 -225 0 -370 -364z"}),t.createElement("path",{d:"M3099 943 c-1 -5 -2 -41 -3 -80 l-1 -73 142 0 143 0 0 -295 0 -295 100 0 100 0 0 295 0 295 145 0 145 0 0 80 0 80 -385 0 c-212 0 -386 -3 -386 -7z"}),t.createElement("path",{d:"M4900 575 l0 -375 95 0 95 0 0 115 0 115 28 -6 c36 -9 47 -19 133 -129 l74 -94 114 -1 c108 0 113 1 99 18 -111 130 -226 269 -231 279 -5 7 36 64 100 140 60 70 114 136 122 146 13 16 7 17 -95 16 l-109 0 -80 -102 c-74 -94 -83 -102 -118 -105 l-37 -3 0 180 0 181 -95 0 -95 0 0 -375z"}),t.createElement("path",{d:"M6370 860 l0 -60 -50 0 -50 0 0 -69 0 -70 43 -3 42 -3 5 -165 c3 -113 9 -173 19 -190 42 -77 102 -100 263 -100 l109 0 -3 72 -3 73 -93 5 c-67 4 -95 9 -102 20 -6 8 -9 76 -8 150 l3 135 103 3 102 3 0 69 0 70 -105 0 -105 0 0 60 0 60 -85 0 -85 0 0 -60z"}),t.createElement("path",{d:"M5783 800 c-54 -11 -91 -31 -127 -66 -51 -52 -60 -80 -64 -206 -5 -141 10 -197 66 -250 67 -64 101 -72 335 -76 l208 -4 -3 74 -3 73 -192 5 c-105 3 -193 7 -196 10 -11 13 -27 50 -27 64 0 14 27 16 215 16 l215 0 0 73 c-1 147 -34 218 -124 262 -47 23 -71 28 -158 31 -57 2 -122 -1 -145 -6z m220 -143 c10 -6 20 -29 24 -50 l6 -37 -128 0 -128 0 6 37 c4 21 14 44 24 50 23 17 173 17 196 0z"}),t.createElement("path",{d:"M11273 800 c-54 -11 -91 -31 -127 -66 -51 -52 -60 -80 -64 -206 -6 -180 26 -246 143 -300 46 -21 67 -23 258 -26 l208 -4 -3 74 -3 73 -192 5 c-105 3 -193 7 -196 10 -11 13 -27 50 -27 64 0 14 27 16 215 16 l215 0 0 73 c-1 147 -34 218 -124 262 -47 23 -71 28 -158 31 -57 2 -122 -1 -145 -6z m220 -143 c10 -6 20 -29 24 -50 l6 -37 -128 0 -128 0 6 37 c4 21 14 44 24 50 23 17 173 17 196 0z"}),t.createElement("path",{d:"M3960 500 l0 -300 95 0 95 0 0 300 0 300 -95 0 -95 0 0 -300z"}),t.createElement("path",{d:"M4440 786 c-69 -18 -117 -52 -148 -104 -26 -45 -27 -53 -27 -183 0 -134 0 -136 30 -185 24 -37 45 -56 90 -79 57 -29 62 -30 232 -33 l173 -4 0 76 0 76 -144 0 c-192 0 -191 -1 -191 144 0 94 2 108 21 126 29 30 81 39 207 40 l107 0 0 70 0 70 -152 -1 c-87 0 -173 -6 -198 -13z"}),t.createElement("path",{d:"M8250 730 l0 -70 155 0 c85 0 155 -3 155 -7 -1 -5 -44 -37 -97 -72 -189 -127 -223 -164 -223 -243 0 -43 31 -93 72 -115 29 -16 65 -18 281 -21 l247 -3 0 178 c0 193 -10 258 -50 316 -58 84 -135 107 -372 107 l-168 0 0 -70z m410 -285 l0 -95 -105 0 c-137 0 -137 10 -3 113 55 42 102 77 104 77 2 0 4 -43 4 -95z"}),t.createElement("path",{d:"M8950 500 l0 -300 95 0 95 0 0 226 0 226 101 -4 c144 -6 139 4 139 -249 l0 -199 96 0 96 0 -4 223 c-3 215 -4 223 -28 267 -28 49 -73 84 -129 100 -20 5 -132 10 -248 10 l-213 0 0 -300z"}),t.createElement("path",{d:"M9660 730 l0 -70 155 0 c85 0 155 -3 155 -7 -1 -5 -44 -37 -97 -72 -189 -127 -223 -164 -223 -243 0 -43 31 -93 72 -115 29 -16 65 -18 281 -21 l247 -3 0 178 c0 193 -10 258 -50 316 -58 84 -135 107 -372 107 l-168 0 0 -70z m410 -285 l0 -95 -105 0 c-137 0 -137 10 -3 113 55 42 102 77 104 77 2 0 4 -43 4 -95z"}),t.createElement("path",{d:"M10469 772 c-81 -42 -112 -98 -117 -210 -5 -105 8 -160 51 -209 54 -62 92 -73 255 -73 l142 0 0 -23 c0 -13 -9 -32 -21 -43 -19 -17 -41 -19 -205 -22 l-184 -4 0 -70 0 -70 213 5 c142 3 225 9 251 18 55 19 111 75 125 124 7 25 11 147 11 323 l0 282 -234 0 -234 0 -53 -28z m331 -243 l0 -121 -105 4 c-93 3 -107 6 -127 26 -20 19 -23 33 -23 96 0 109 9 116 147 116 l108 0 0 -121z"}),t.createElement("path",{d:"M11936 785 c-49 -17 -93 -59 -117 -110 -16 -35 -19 -67 -19 -257 l0 -218 95 0 95 0 0 208 c0 114 4 213 9 220 11 18 73 31 149 32 l62 0 0 70 0 70 -117 0 c-74 -1 -133 -6 -157 -15z"}),t.createElement("path",{d:"M1095 624 c-80 -10 -137 -28 -179 -58 -41 -29 -356 -332 -356 -342 0 -2 86 -4 192 -4 l191 0 68 65 c36 35 80 70 95 77 21 9 143 13 430 16 l401 4 124 124 124 124 -530 -1 c-292 -1 -543 -4 -560 -5z"}))))}var lO=t.forwardRef(cO),fO=n.p+"static/media/F1_black.f086b4ab1562c76160ae29c3bd39fe76.svg",hO=function(e){function n(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).history=L(t.props),t}return p(n,e),n.prototype.render=function(){return t.createElement(ue,{history:this.history,children:this.props.children})},n}(t.Component);t.Component;var dO=function(e,t){return"function"===typeof e?e(t):e},pO=function(e,t){return"string"===typeof e?C(e,null,null,t):e},vO=function(e){return e},mO=t.forwardRef;"undefined"===typeof mO&&(mO=vO);var yO=mO((function(e,n){var r=e.innerRef,i=e.navigate,a=e.onClick,o=ee(e,["innerRef","navigate","onClick"]),u=o.target,s=v({},o,{onClick:function(e){try{a&&a(e)}catch(t){throw e.preventDefault(),t}e.defaultPrevented||0!==e.button||u&&"_self"!==u||function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)||(e.preventDefault(),i())}});return s.ref=vO!==mO&&n||r,t.createElement("a",s)}));var gO=mO((function(e,n){var r=e.component,i=void 0===r?yO:r,a=e.replace,o=e.to,u=e.innerRef,s=ee(e,["component","replace","to","innerRef"]);return t.createElement(oe.Consumer,null,(function(e){e||x(!1);var r=e.history,c=pO(dO(o,e.location),e.location),l=c?r.createHref(c):"",f=v({},s,{href:l,navigate:function(){var t=dO(o,e.location);(a?r.replace:r.push)(t)}});return vO!==mO?f.ref=n||u:f.innerRef=u,t.createElement(i,f)}))})),kO=function(e){return e},bO=t.forwardRef;"undefined"===typeof bO&&(bO=kO);bO((function(e,n){var r=e["aria-current"],i=void 0===r?"page":r,a=e.activeClassName,o=void 0===a?"active":a,u=e.activeStyle,s=e.className,c=e.exact,l=e.isActive,f=e.location,h=e.sensitive,d=e.strict,p=e.style,m=e.to,y=e.innerRef,g=ee(e,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","sensitive","strict","style","to","innerRef"]);return t.createElement(oe.Consumer,null,(function(e){e||x(!1);var r=f||e.location,a=pO(dO(m,r),r),k=a.pathname,b=k&&k.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),w=b?ve(r.pathname,{path:b,exact:c,sensitive:h,strict:d}):null,S=!!(l?l(w,r):w),_=S?function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((function(e){return e})).join(" ")}(s,o):s,E=S?v({},p,{},u):p,I=v({"aria-current":S&&i||null,className:_,style:E,to:a},g);return kO!==bO?I.ref=n||y:I.innerRef=y,t.createElement(gO,I)}))})),tr.div(wO||(wO=It(["\n  height: 70px;\n  width: 100%;\n  display: flex;\n  justify-content: space-between;\n  margin-bottom: 25px;\n\n  background-color: white;\n  opacity: 70%;\n"]))),tr(gO)(xO||(xO=It(["\n  height: 100%;\n  width: 70px;\n  padding: 25px;\n"]))),tr.div(SO||(SO=It(["\n  width: 50%;\n  height: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: flex-end;\n\n  // mix-blend-mode: difference;\n"]))),tr(gO)(_O||(_O=It(["\n  padding: 10px 15px;\n  cursor: pointer;\n  font-family: f1_3;\n  font-size: 15px;\n  // mix-blend-mode: difference;\n  color: black;\n\n  &:hover {\n    color: red;\n  }\n"])));var wO,xO,SO,_O,EO=st(yt({currentUser:nO,hidden:qN}),(function(e){return{signOutStart:function(){return e({type:rO.SIGN_OUT_START})},hideDropdown:function(){return e(dN())}}}))((function(e){var n=e.currentUser,r=e.hidden,i=e.signOutStart,a=e.hideDropdown,o=0;return(0,t.useEffect)((function(){window.onscroll=function(){setTimeout((function(){o>=window.scrollY&&window.scrollY>0?document.getElementsByClassName("header")[0].classList.add("sticky"):document.getElementsByClassName("header")[0].classList.remove("sticky"),o=window.scrollY}))}}),[]),(0,St.jsxs)("div",{className:"header",children:[(0,St.jsx)(gO,{className:"logo-container",to:"/",children:(0,St.jsx)(lO,{className:"logo"})}),(0,St.jsxs)("div",{className:"options",children:[(0,St.jsx)(gO,{className:"option",to:"/schedule",onClick:r?null:a,children:"SCHEDULE"}),(0,St.jsx)(gO,{className:"option",to:"/contact",onClick:r?null:a,children:"CONTACT"}),n?(0,St.jsx)(gO,{className:"option",to:"/",as:"div",onClick:function(e){i(),r||a()},children:"SIGN OUT"}):(0,St.jsx)(gO,{className:"option",to:"/signin",children:"SIGN IN"}),n?(0,St.jsx)(JN,{}):null]}),r?null:(0,St.jsx)(tO,{})]})})),IO=["handleChange","label"],TO=function(e){var t=e.handleChange,n=e.label,r=wt(e,IO);return(0,St.jsxs)("div",{className:"group",children:[(0,St.jsx)("input",bt({className:"form-input",onChange:t},r)),n?(0,St.jsx)("label",{className:"".concat(r.value.length?"shrink":""," form-input-label"),children:n}):null]})},CO=function(e){u(n,e);var t=d(n);function n(e){var i;return r(this,n),(i=t.call(this,e)).handleSubmit=function(){var e=wr(Sr().mark((function e(t){var n,r,a,o;return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),n=i.props.emailSignInStart,r=i.state,a=r.email,o=r.password,n(a,o);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),i.handleChange=function(e){var t=e.target,n=t.value,r=t.name;i.setState(gt({},r,n))},i.handleResetSubmit=function(){var e=wr(Sr().mark((function e(t){return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,SA.sendPasswordResetEmail(i.state.reset_email);case 3:alert("Password reset email has been sent to '"+i.state.reset_email+"'\n\nIf the email does not appear in a minute, please check your SPAM");case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),i.state={email:"",password:"",reset_email:""},i}return a(n,[{key:"render",value:function(){var e=this.props.googleSignInStart;return(0,St.jsxs)("div",{className:"sign-in",children:[(0,St.jsx)("h2",{children:"I already have an account"}),(0,St.jsx)("span",{children:"Sign in with your email and password"}),(0,St.jsxs)("form",{onSubmit:this.handleSubmit,children:[(0,St.jsx)(TO,{name:"email",type:"email",handleChange:this.handleChange,value:this.state.email,label:"Email",required:!0}),(0,St.jsx)(TO,{name:"password",type:"password",value:this.state.password,handleChange:this.handleChange,label:"Password",required:!0}),(0,St.jsxs)("div",{className:"buttons",children:[(0,St.jsx)(tN,{type:"submit",children:"Sign In"}),(0,St.jsx)(tN,{type:"button",onClick:e,isGoogleSignIn:!0,children:"Sign in with Google"})]})]}),(0,St.jsx)("form",{onSubmit:this.handleResetSubmit,autoComplete:"off",children:(0,St.jsxs)("div",{className:"resetPassword-main",children:[(0,St.jsx)(TO,{name:"reset_email",type:"email",value:this.state.reset_email,handleChange:this.handleChange,label:"Reset email",required:!0}),(0,St.jsx)(tN,{type:"submit",children:"Forgot Password?"})]})})]})}}]),n}(t.Component),AO=st(null,(function(e){return{googleSignInStart:function(){return e({type:rO.GOOGLE_SIGN_IN_START})},emailSignInStart:function(t,n){return e(aO({email:t,password:n}))}}}))(CO),NO=function(e){u(n,e);var t=d(n);function n(){var e;return r(this,n),(e=t.call(this)).handleSubmit=function(){var t=wr(Sr().mark((function t(n){var r,i,a,o,u,s;return Sr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.preventDefault(),r=e.state,i=r.displayName,a=r.email,o=r.password,u=r.confirmPassword,s=e.props.signUpStart,o===u){t.next=6;break}return alert("passwords do not match!"),t.abrupt("return");case 6:s(i,a,o);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.handleChange=function(t){var n=t.target,r=n.name,i=n.value;e.setState(gt({},r,i))},e.state={displayName:"",email:"",password:"",confirmPassword:""},e}return a(n,[{key:"render",value:function(){var e=this.state,t=e.displayName,n=e.email,r=e.password,i=e.confirmPassword;return(0,St.jsxs)("div",{className:"sign-up",autoComplete:!1,children:[(0,St.jsx)("h2",{className:"title",children:"I do not have an account"}),(0,St.jsx)("span",{children:"Sign up with your email and password"}),(0,St.jsxs)("form",{className:"sign-up-form",onSubmit:this.handleSubmit,children:[(0,St.jsx)(TO,{type:"text",name:"displayName",value:t,onChange:this.handleChange,label:"Display Name",required:!0}),(0,St.jsx)(TO,{type:"email",name:"email",value:n,onChange:this.handleChange,label:"Email",required:!0}),(0,St.jsx)(TO,{type:"password",name:"password",value:r,onChange:this.handleChange,label:"Password",required:!0}),(0,St.jsx)(TO,{type:"password",name:"confirmPassword",value:i,onChange:this.handleChange,label:"Confirm Password",required:!0}),(0,St.jsx)(tN,{type:"submit",children:"SIGN UP"})]})]})}}]),n}(t.Component),OO=st(null,(function(e){return{signUpStart:function(t,n,r){return e({type:rO.SIGN_UP_START,payload:{displayName:t,email:n,password:r}})}}}))(NO),PO=function(){return(0,St.jsxs)("div",{className:"sign-in-and-sign-up",children:[(0,St.jsx)(AO,{}),(0,St.jsx)(OO,{})]})},DO=function(e){u(n,e);var t=d(n);function n(){return r(this,n),t.apply(this,arguments)}return a(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.checkUserSession;e.collectionsArray;t()}},{key:"render",value:function(){var e=this;return(0,St.jsxs)("div",{children:[(0,St.jsx)(EO,{}),(0,St.jsxs)(xe,{children:[(0,St.jsx)(me,{exact:!0,path:"/",component:gr}),(0,St.jsx)(me,{path:"/schedule",component:bN}),(0,St.jsx)(me,{exact:!0,path:"/checkout",component:KN}),(0,St.jsx)(me,{exact:!0,path:"/signin",render:function(){return e.props.currentUser?(0,St.jsx)(he,{to:"/"}):(0,St.jsx)(PO,{})}})]})]})}}]),n}(t.Component),RO=st(yt({currentUser:nO,collectionsArray:HA}),(function(e){return{checkUserSession:function(){return e({type:rO.CHECK_USER_SESSION})}}}))(DO),LO=n(250);function MO(e){return MO="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},MO(e)}function UO(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function FO(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function jO(e,t){return!t||"object"!==MO(t)&&"function"!==typeof t?BO(e):t}function VO(e){return VO=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},VO(e)}function BO(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function zO(e,t){return zO=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},zO(e,t)}function qO(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var HO=function(e){function t(){var e,n;UO(this,t);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return qO(BO(n=jO(this,(e=VO(t)).call.apply(e,[this].concat(i)))),"state",{bootstrapped:!1}),qO(BO(n),"_unsubscribe",void 0),qO(BO(n),"handlePersistorState",(function(){n.props.persistor.getState().bootstrapped&&(n.props.onBeforeLift?Promise.resolve(n.props.onBeforeLift()).finally((function(){return n.setState({bootstrapped:!0})})):n.setState({bootstrapped:!0}),n._unsubscribe&&n._unsubscribe())})),n}var n,r,i;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&zO(e,t)}(t,e),n=t,(r=[{key:"componentDidMount",value:function(){this._unsubscribe=this.props.persistor.subscribe(this.handlePersistorState),this.handlePersistorState()}},{key:"componentWillUnmount",value:function(){this._unsubscribe&&this._unsubscribe()}},{key:"render",value:function(){return"function"===typeof this.props.children?this.props.children(this.state.bootstrapped):this.state.bootstrapped?this.props.children:this.props.loading}}])&&FO(n.prototype,r),i&&FO(n,i),t}(t.PureComponent);function KO(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.map((function(e){return"'"+e+"'"})).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function GO(e){return!!e&&!!e[LP]}function WO(e){var t;return!!e&&(function(e){if(!e||"object"!=typeof e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;var n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object||"function"==typeof n&&Function.toString.call(n)===MP}(e)||Array.isArray(e)||!!e[RP]||!!(null===(t=e.constructor)||void 0===t?void 0:t[RP])||eP(e)||tP(e))}function YO(e,t,n){void 0===n&&(n=!1),0===QO(e)?(n?Object.keys:UP)(e).forEach((function(r){n&&"symbol"==typeof r||t(r,e[r],e)})):e.forEach((function(n,r){return t(r,n,e)}))}function QO(e){var t=e[LP];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:eP(e)?2:tP(e)?3:0}function $O(e,t){return 2===QO(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function XO(e,t){return 2===QO(e)?e.get(t):e[t]}function JO(e,t,n){var r=QO(e);2===r?e.set(t,n):3===r?e.add(n):e[t]=n}function ZO(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}function eP(e){return NP&&e instanceof Map}function tP(e){return OP&&e instanceof Set}function nP(e){return e.o||e.t}function rP(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=FP(e);delete t[LP];for(var n=UP(t),r=0;r<n.length;r++){var i=n[r],a=t[i];!1===a.writable&&(a.writable=!0,a.configurable=!0),(a.get||a.set)&&(t[i]={configurable:!0,writable:!0,enumerable:a.enumerable,value:e[i]})}return Object.create(Object.getPrototypeOf(e),t)}function iP(e,t){return void 0===t&&(t=!1),oP(e)||GO(e)||!WO(e)||(QO(e)>1&&(e.set=e.add=e.clear=e.delete=aP),Object.freeze(e),t&&YO(e,(function(e,t){return iP(t,!0)}),!0)),e}function aP(){KO(2)}function oP(e){return null==e||"object"!=typeof e||Object.isFrozen(e)}function uP(e){var t=jP[e];return t||KO(18,e),t}function sP(e,t){jP[e]||(jP[e]=t)}function cP(){return CP}function lP(e,t){t&&(uP("Patches"),e.u=[],e.s=[],e.v=t)}function fP(e){hP(e),e.p.forEach(pP),e.p=null}function hP(e){e===CP&&(CP=e.l)}function dP(e){return CP={p:[],l:CP,h:e,m:!0,_:0}}function pP(e){var t=e[LP];0===t.i||1===t.i?t.j():t.O=!0}function vP(e,t){t._=t.p.length;var n=t.p[0],r=void 0!==e&&e!==n;return t.h.g||uP("ES5").S(t,e,r),r?(n[LP].P&&(fP(t),KO(4)),WO(e)&&(e=mP(t,e),t.l||gP(t,e)),t.u&&uP("Patches").M(n[LP].t,e,t.u,t.s)):e=mP(t,n,[]),fP(t),t.u&&t.v(t.u,t.s),e!==DP?e:void 0}function mP(e,t,n){if(oP(t))return t;var r=t[LP];if(!r)return YO(t,(function(i,a){return yP(e,r,t,i,a,n)}),!0),t;if(r.A!==e)return t;if(!r.P)return gP(e,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var i=4===r.i||5===r.i?r.o=rP(r.k):r.o,a=i,o=!1;3===r.i&&(a=new Set(i),i.clear(),o=!0),YO(a,(function(t,a){return yP(e,r,i,t,a,n,o)})),gP(e,i,!1),n&&e.u&&uP("Patches").N(r,n,e.u,e.s)}return r.o}function yP(e,t,n,r,i,a,o){if(GO(i)){var u=mP(e,i,a&&t&&3!==t.i&&!$O(t.R,r)?a.concat(r):void 0);if(JO(n,r,u),!GO(u))return;e.m=!1}else o&&n.add(i);if(WO(i)&&!oP(i)){if(!e.h.D&&e._<1)return;mP(e,i),t&&t.A.l||gP(e,i)}}function gP(e,t,n){void 0===n&&(n=!1),e.h.D&&e.m&&iP(t,n)}function kP(e,t){var n=e[LP];return(n?nP(n):e)[t]}function bP(e,t){if(t in e)for(var n=Object.getPrototypeOf(e);n;){var r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Object.getPrototypeOf(n)}}function wP(e){e.P||(e.P=!0,e.l&&wP(e.l))}function xP(e){e.o||(e.o=rP(e.t))}function SP(e,t,n){var r=eP(t)?uP("MapSet").F(t,n):tP(t)?uP("MapSet").T(t,n):e.g?function(e,t){var n=Array.isArray(e),r={i:n?1:0,A:t?t.A:cP(),P:!1,I:!1,R:{},l:t,t:e,k:null,o:null,j:null,C:!1},i=r,a=VP;n&&(i=[r],a=BP);var o=Proxy.revocable(i,a),u=o.revoke,s=o.proxy;return r.k=s,r.j=u,s}(t,n):uP("ES5").J(t,n);return(n?n.A:cP()).p.push(r),r}function _P(e){return GO(e)||KO(22,e),function e(t){if(!WO(t))return t;var n,r=t[LP],i=QO(t);if(r){if(!r.P&&(r.i<4||!uP("ES5").K(r)))return r.t;r.I=!0,n=EP(t,i),r.I=!1}else n=EP(t,i);return YO(n,(function(t,i){r&&XO(r.t,t)===i||JO(n,t,e(i))})),3===i?new Set(n):n}(e)}function EP(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return rP(e)}function IP(){function e(e,t){var n=i[e];return n?n.enumerable=t:i[e]=n={configurable:!0,enumerable:t,get:function(){var t=this[LP];return VP.get(t,e)},set:function(t){var n=this[LP];VP.set(n,e,t)}},n}function t(e){for(var t=e.length-1;t>=0;t--){var i=e[t][LP];if(!i.P)switch(i.i){case 5:r(i)&&wP(i);break;case 4:n(i)&&wP(i)}}}function n(e){for(var t=e.t,n=e.k,r=UP(n),i=r.length-1;i>=0;i--){var a=r[i];if(a!==LP){var o=t[a];if(void 0===o&&!$O(t,a))return!0;var u=n[a],s=u&&u[LP];if(s?s.t!==o:!ZO(u,o))return!0}}var c=!!t[LP];return r.length!==UP(t).length+(c?0:1)}function r(e){var t=e.k;if(t.length!==e.t.length)return!0;var n=Object.getOwnPropertyDescriptor(t,t.length-1);if(n&&!n.get)return!0;for(var r=0;r<t.length;r++)if(!t.hasOwnProperty(r))return!0;return!1}var i={};sP("ES5",{J:function(t,n){var r=Array.isArray(t),i=function(t,n){if(t){for(var r=Array(n.length),i=0;i<n.length;i++)Object.defineProperty(r,""+i,e(i,!0));return r}var a=FP(n);delete a[LP];for(var o=UP(a),u=0;u<o.length;u++){var s=o[u];a[s]=e(s,t||!!a[s].enumerable)}return Object.create(Object.getPrototypeOf(n),a)}(r,t),a={i:r?5:4,A:n?n.A:cP(),P:!1,I:!1,R:{},l:n,t:t,k:i,o:null,O:!1,C:!1};return Object.defineProperty(i,LP,{value:a,writable:!0}),i},S:function(e,n,i){i?GO(n)&&n[LP].A===e&&t(e.p):(e.u&&function e(t){if(t&&"object"==typeof t){var n=t[LP];if(n){var i=n.t,a=n.k,o=n.R,u=n.i;if(4===u)YO(a,(function(t){t!==LP&&(void 0!==i[t]||$O(i,t)?o[t]||e(a[t]):(o[t]=!0,wP(n)))})),YO(i,(function(e){void 0!==a[e]||$O(a,e)||(o[e]=!1,wP(n))}));else if(5===u){if(r(n)&&(wP(n),o.length=!0),a.length<i.length)for(var s=a.length;s<i.length;s++)o[s]=!1;else for(var c=i.length;c<a.length;c++)o[c]=!0;for(var l=Math.min(a.length,i.length),f=0;f<l;f++)a.hasOwnProperty(f)||(o[f]=!0),void 0===o[f]&&e(a[f])}}}}(e.p[0]),t(e.p))},K:function(e){return 4===e.i?n(e):r(e)}})}qO(HO,"defaultProps",{children:null,loading:null});var TP,CP,AP="undefined"!=typeof Symbol&&"symbol"==typeof Symbol("x"),NP="undefined"!=typeof Map,OP="undefined"!=typeof Set,PP="undefined"!=typeof Proxy&&void 0!==Proxy.revocable&&"undefined"!=typeof Reflect,DP=AP?Symbol.for("immer-nothing"):((TP={})["immer-nothing"]=!0,TP),RP=AP?Symbol.for("immer-draftable"):"__$immer_draftable",LP=AP?Symbol.for("immer-state"):"__$immer_state",MP=("undefined"!=typeof Symbol&&Symbol.iterator,""+Object.prototype.constructor),UP="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,FP=Object.getOwnPropertyDescriptors||function(e){var t={};return UP(e).forEach((function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)})),t},jP={},VP={get:function(e,t){if(t===LP)return e;var n=nP(e);if(!$O(n,t))return function(e,t,n){var r,i=bP(t,n);return i?"value"in i?i.value:null===(r=i.get)||void 0===r?void 0:r.call(e.k):void 0}(e,n,t);var r=n[t];return e.I||!WO(r)?r:r===kP(e.t,t)?(xP(e),e.o[t]=SP(e.A.h,r,e)):r},has:function(e,t){return t in nP(e)},ownKeys:function(e){return Reflect.ownKeys(nP(e))},set:function(e,t,n){var r=bP(nP(e),t);if(null==r?void 0:r.set)return r.set.call(e.k,n),!0;if(!e.P){var i=kP(nP(e),t),a=null==i?void 0:i[LP];if(a&&a.t===n)return e.o[t]=n,e.R[t]=!1,!0;if(ZO(n,i)&&(void 0!==n||$O(e.t,t)))return!0;xP(e),wP(e)}return e.o[t]===n&&(void 0!==n||t in e.o)||Number.isNaN(n)&&Number.isNaN(e.o[t])||(e.o[t]=n,e.R[t]=!0),!0},deleteProperty:function(e,t){return void 0!==kP(e.t,t)||t in e.t?(e.R[t]=!1,xP(e),wP(e)):delete e.R[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=nP(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r?{writable:!0,configurable:1!==e.i||"length"!==t,enumerable:r.enumerable,value:n[t]}:r},defineProperty:function(){KO(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){KO(12)}},BP={};YO(VP,(function(e,t){BP[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}})),BP.deleteProperty=function(e,t){return BP.set.call(this,e,t,void 0)},BP.set=function(e,t,n){return VP.set.call(this,e[0],t,n,e[0])};var zP=function(){function e(e){var t=this;this.g=PP,this.D=!0,this.produce=function(e,n,r){if("function"==typeof e&&"function"!=typeof n){var i=n;n=e;var a=t;return function(e){var t=this;void 0===e&&(e=i);for(var r=arguments.length,o=Array(r>1?r-1:0),u=1;u<r;u++)o[u-1]=arguments[u];return a.produce(e,(function(e){var r;return(r=n).call.apply(r,[t,e].concat(o))}))}}var o;if("function"!=typeof n&&KO(6),void 0!==r&&"function"!=typeof r&&KO(7),WO(e)){var u=dP(t),s=SP(t,e,void 0),c=!0;try{o=n(s),c=!1}finally{c?fP(u):hP(u)}return"undefined"!=typeof Promise&&o instanceof Promise?o.then((function(e){return lP(u,r),vP(e,u)}),(function(e){throw fP(u),e})):(lP(u,r),vP(o,u))}if(!e||"object"!=typeof e){if(void 0===(o=n(e))&&(o=e),o===DP&&(o=void 0),t.D&&iP(o,!0),r){var l=[],f=[];uP("Patches").M(e,o,l,f),r(l,f)}return o}KO(21,e)},this.produceWithPatches=function(e,n){if("function"==typeof e)return function(n){for(var r=arguments.length,i=Array(r>1?r-1:0),a=1;a<r;a++)i[a-1]=arguments[a];return t.produceWithPatches(n,(function(t){return e.apply(void 0,[t].concat(i))}))};var r,i,a=t.produce(e,n,(function(e,t){r=e,i=t}));return"undefined"!=typeof Promise&&a instanceof Promise?a.then((function(e){return[e,r,i]})):[a,r,i]},"boolean"==typeof(null==e?void 0:e.useProxies)&&this.setUseProxies(e.useProxies),"boolean"==typeof(null==e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze)}var t=e.prototype;return t.createDraft=function(e){WO(e)||KO(8),GO(e)&&(e=_P(e));var t=dP(this),n=SP(this,e,void 0);return n[LP].C=!0,hP(t),n},t.finishDraft=function(e,t){var n=(e&&e[LP]).A;return lP(n,t),vP(void 0,n)},t.setAutoFreeze=function(e){this.D=e},t.setUseProxies=function(e){e&&!PP&&KO(20),this.g=e},t.applyPatches=function(e,t){var n;for(n=t.length-1;n>=0;n--){var r=t[n];if(0===r.path.length&&"replace"===r.op){e=r.value;break}}n>-1&&(t=t.slice(n+1));var i=uP("Patches").$;return GO(e)?i(e,t):this.produce(e,(function(e){return i(e,t)}))},e}(),qP=new zP;qP.produce,qP.produceWithPatches.bind(qP),qP.setAutoFreeze.bind(qP),qP.setUseProxies.bind(qP),qP.applyPatches.bind(qP),qP.createDraft.bind(qP),qP.finishDraft.bind(qP);function HP(e){return function(t){var n=t.dispatch,r=t.getState;return function(t){return function(i){return"function"===typeof i?i(n,r,e):t(i)}}}}var KP=HP();KP.withExtraArgument=HP;var GP=KP,WP=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),YP=function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:u(0),throw:u(1),return:u(2)},"function"===typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function u(a){return function(u){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(u){a=[6,u],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}},QP=function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e},$P=Object.defineProperty,XP=Object.defineProperties,JP=Object.getOwnPropertyDescriptors,ZP=Object.getOwnPropertySymbols,eD=Object.prototype.hasOwnProperty,tD=Object.prototype.propertyIsEnumerable,nD=function(e,t,n){return t in e?$P(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},rD=function(e,t){for(var n in t||(t={}))eD.call(t,n)&&nD(e,n,t[n]);if(ZP)for(var r=0,i=ZP(t);r<i.length;r++){n=i[r];tD.call(t,n)&&nD(e,n,t[n])}return e},iD=function(e,t){return XP(e,JP(t))},aD=function(e,t,n){return new Promise((function(r,i){var a=function(e){try{u(n.next(e))}catch(t){i(t)}},o=function(e){try{u(n.throw(e))}catch(t){i(t)}},u=function(e){return e.done?r(e.value):Promise.resolve(e.value).then(a,o)};u((n=n.apply(e,t)).next())}))},oD="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(0!==arguments.length)return"object"===typeof arguments[0]?RA:RA.apply(null,arguments)};"undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__;function uD(e){if("object"!==typeof e||null===e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;for(var n=t;null!==Object.getPrototypeOf(n);)n=Object.getPrototypeOf(n);return t===n}var sD=function(e){function t(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=e.apply(this,n)||this;return Object.setPrototypeOf(i,t.prototype),i}return WP(t,e),Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),t.prototype.concat=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.prototype.concat.apply(this,t)},t.prototype.prepend=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return 1===e.length&&Array.isArray(e[0])?new(t.bind.apply(t,QP([void 0],e[0].concat(this)))):new(t.bind.apply(t,QP([void 0],e.concat(this))))},t}(Array);function cD(){return function(e){return function(e){void 0===e&&(e={});var t=e.thunk,n=void 0===t||t,r=(e.immutableCheck,e.serializableCheck,new sD);n&&(!function(e){return"boolean"===typeof e}(n)?r.push(GP.withExtraArgument(n.extraArgument)):r.push(GP));0;return r}(e)}}function lD(e,t){function n(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];if(t){var i=t.apply(void 0,n);if(!i)throw new Error("prepareAction did not return an object");return rD(rD({type:e,payload:i.payload},"meta"in i&&{meta:i.meta}),"error"in i&&{error:i.error})}return{type:e,payload:n[0]}}return n.toString=function(){return""+e},n.type=e,n.match=function(t){return t.type===e},n}var fD=function(e){void 0===e&&(e=21);for(var t="",n=e;n--;)t+="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW"[64*Math.random()|0];return t},hD=["name","message","stack","code"],dD=function(e,t){this.payload=e,this.meta=t},pD=function(e,t){this.payload=e,this.meta=t},vD=function(e){if("object"===typeof e&&null!==e){for(var t={},n=0,r=hD;n<r.length;n++){var i=r[n];"string"===typeof e[i]&&(t[i]=e[i])}return t}return{message:String(e)}};!function(){function e(e,t,n){var r=lD(e+"/fulfilled",(function(e,t,n,r){return{payload:e,meta:iD(rD({},r||{}),{arg:n,requestId:t,requestStatus:"fulfilled"})}})),i=lD(e+"/pending",(function(e,t,n){return{payload:void 0,meta:iD(rD({},n||{}),{arg:t,requestId:e,requestStatus:"pending"})}})),a=lD(e+"/rejected",(function(e,t,r,i,a){return{payload:i,error:(n&&n.serializeError||vD)(e||"Rejected"),meta:iD(rD({},a||{}),{arg:r,requestId:t,rejectedWithValue:!!i,requestStatus:"rejected",aborted:"AbortError"===(null==e?void 0:e.name),condition:"ConditionError"===(null==e?void 0:e.name)})}})),o="undefined"!==typeof AbortController?AbortController:function(){function e(){this.signal={aborted:!1,addEventListener:function(){},dispatchEvent:function(){return!1},onabort:function(){},removeEventListener:function(){},reason:void 0,throwIfAborted:function(){}}}return e.prototype.abort=function(){0},e}();return Object.assign((function(e){return function(u,s,c){var l,f=(null==n?void 0:n.idGenerator)?n.idGenerator(e):fD(),h=new o;function d(e){l=e,h.abort()}var p=function(){return aD(this,null,(function(){var o,p,v,m,y,g;return YP(this,(function(k){switch(k.label){case 0:return k.trys.push([0,4,,5]),m=null==(o=null==n?void 0:n.condition)?void 0:o.call(n,e,{getState:s,extra:c}),null===(b=m)||"object"!==typeof b||"function"!==typeof b.then?[3,2]:[4,m];case 1:m=k.sent(),k.label=2;case 2:if(!1===m||h.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};return!0,y=new Promise((function(e,t){return h.signal.addEventListener("abort",(function(){return t({name:"AbortError",message:l||"Aborted"})}))})),u(i(f,e,null==(p=null==n?void 0:n.getPendingMeta)?void 0:p.call(n,{requestId:f,arg:e},{getState:s,extra:c}))),[4,Promise.race([y,Promise.resolve(t(e,{dispatch:u,getState:s,extra:c,requestId:f,signal:h.signal,abort:d,rejectWithValue:function(e,t){return new dD(e,t)},fulfillWithValue:function(e,t){return new pD(e,t)}})).then((function(t){if(t instanceof dD)throw t;return t instanceof pD?r(t.payload,f,e,t.meta):r(t,f,e)}))])];case 3:return v=k.sent(),[3,5];case 4:return g=k.sent(),v=g instanceof dD?a(null,f,e,g.payload,g.meta):a(g,f,e),[3,5];case 5:return n&&!n.dispatchConditionRejection&&a.match(v)&&v.meta.condition||u(v),[2,v]}var b}))}))}();return Object.assign(p,{abort:d,requestId:f,arg:e,unwrap:function(){return p.then(mD)}})}}),{pending:i,rejected:a,fulfilled:r,typePrefix:e})}e.withTypes=function(){return e}}();function mD(e){if(e.meta&&e.meta.rejectedWithValue)throw e.payload;if(e.error)throw e.error;return e.payload}Object.assign;var yD="listenerMiddleware";lD(yD+"/add"),lD(yD+"/removeAll"),lD(yD+"/remove");"function"===typeof queueMicrotask&&queueMicrotask.bind("undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:globalThis);var gD,kD=function(e){return function(t){setTimeout(t,e)}};"undefined"!==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame:kD(10);IP();var bD="persist:",wD="persist/FLUSH",xD="persist/REHYDRATE",SD="persist/PAUSE",_D="persist/PERSIST",ED="persist/PURGE",ID="persist/REGISTER";function TD(e){return TD="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},TD(e)}function CD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function AD(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ND(e,t,n,r){r.debug;var i=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?CD(n,!0).forEach((function(t){AD(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):CD(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},n);return e&&"object"===TD(e)&&Object.keys(e).forEach((function(r){"_persist"!==r&&t[r]===n[r]&&(i[r]=e[r])})),i}function OD(e){var t,n=e.blacklist||null,r=e.whitelist||null,i=e.transforms||[],a=e.throttle||0,o="".concat(void 0!==e.keyPrefix?e.keyPrefix:bD).concat(e.key),u=e.storage;t=!1===e.serialize?function(e){return e}:"function"===typeof e.serialize?e.serialize:PD;var s=e.writeFailHandler||null,c={},l={},f=[],h=null,d=null;function p(){if(0===f.length)return h&&clearInterval(h),void(h=null);var e=f.shift(),n=i.reduce((function(t,n){return n.in(t,e,c)}),c[e]);if(void 0!==n)try{l[e]=t(n)}catch(r){console.error("redux-persist/createPersistoid: error serializing state",r)}else delete l[e];0===f.length&&(Object.keys(l).forEach((function(e){void 0===c[e]&&delete l[e]})),d=u.setItem(o,t(l)).catch(m))}function v(e){return(!r||-1!==r.indexOf(e)||"_persist"===e)&&(!n||-1===n.indexOf(e))}function m(e){s&&s(e)}return{update:function(e){Object.keys(e).forEach((function(t){v(t)&&c[t]!==e[t]&&-1===f.indexOf(t)&&f.push(t)})),Object.keys(c).forEach((function(t){void 0===e[t]&&v(t)&&-1===f.indexOf(t)&&void 0!==c[t]&&f.push(t)})),null===h&&(h=setInterval(p,a)),c=e},flush:function(){for(;0!==f.length;)p();return d||Promise.resolve()}}}function PD(e){return JSON.stringify(e)}function DD(e){var t,n=e.transforms||[],r="".concat(void 0!==e.keyPrefix?e.keyPrefix:bD).concat(e.key),i=e.storage;e.debug;return t=!1===e.deserialize?function(e){return e}:"function"===typeof e.deserialize?e.deserialize:RD,i.getItem(r).then((function(e){if(e)try{var r={},i=t(e);return Object.keys(i).forEach((function(e){r[e]=n.reduceRight((function(t,n){return n.out(t,e,i)}),t(i[e]))})),r}catch(a){throw a}}))}function RD(e){return JSON.parse(e)}function LD(e){0}function MD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function UD(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?MD(n,!0).forEach((function(t){FD(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):MD(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function FD(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jD(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function VD(e,t){var n=void 0!==e.version?e.version:-1,r=(e.debug,void 0===e.stateReconciler?ND:e.stateReconciler),i=e.getStoredState||DD,a=void 0!==e.timeout?e.timeout:5e3,o=null,u=!1,s=!0,c=function(e){return e._persist.rehydrated&&o&&!s&&o.update(e),e};return function(l,f){var h=l||{},d=h._persist,p=jD(h,["_persist"]);if(f.type===_D){var v=!1,m=function(t,n){v||(f.rehydrate(e.key,t,n),v=!0)};if(a&&setTimeout((function(){!v&&m(void 0,new Error('redux-persist: persist timed out for persist key "'.concat(e.key,'"')))}),a),s=!1,o||(o=OD(e)),d)return UD({},t(p,f),{_persist:d});if("function"!==typeof f.rehydrate||"function"!==typeof f.register)throw new Error("redux-persist: either rehydrate or register is not a function on the PERSIST action. This can happen if the action is being replayed. This is an unexplored use case, please open an issue and we will figure out a resolution.");return f.register(e.key),i(e).then((function(t){(e.migrate||function(e,t){return Promise.resolve(e)})(t,n).then((function(e){m(e)}),(function(e){m(void 0,e)}))}),(function(e){m(void 0,e)})),UD({},t(p,f),{_persist:{version:n,rehydrated:!1}})}if(f.type===ED)return u=!0,f.result(function(e){var t=e.storage,n="".concat(void 0!==e.keyPrefix?e.keyPrefix:bD).concat(e.key);return t.removeItem(n,LD)}(e)),UD({},t(p,f),{_persist:d});if(f.type===wD)return f.result(o&&o.flush()),UD({},t(p,f),{_persist:d});if(f.type===SD)s=!0;else if(f.type===xD){if(u)return UD({},p,{_persist:UD({},d,{rehydrated:!0})});if(f.key===e.key){var y=t(p,f),g=f.payload,k=UD({},!1!==r&&void 0!==g?r(g,l,y,e):y,{_persist:UD({},d,{rehydrated:!0})});return c(k)}}if(!d)return t(l,f);var b=t(p,f);return b===p?l:c(UD({},b,{_persist:d}))}}function BD(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function zD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function qD(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?zD(n,!0).forEach((function(t){HD(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zD(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function HD(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var KD={registry:[],bootstrapped:!1},GD=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:KD,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ID:return qD({},e,{registry:[].concat(BD(e.registry),[t.key])});case xD:var n=e.registry.indexOf(t.key),r=BD(e.registry);return r.splice(n,1),qD({},e,{registry:r,bootstrapped:0===r.length});default:return e}};var WD=n(752),YD=(n(896),function(e){return"@@redux-saga/"+e}),QD=YD("CANCEL_PROMISE"),$D=YD("CHANNEL_END"),XD=YD("IO"),JD=YD("MATCH"),ZD=YD("MULTICAST"),eR=YD("SAGA_ACTION"),tR=YD("SELF_CANCELLATION"),nR=YD("TASK"),rR=YD("TASK_CANCEL"),iR=YD("TERMINATE"),aR=YD("LOCATION");function oR(){return oR=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},oR.apply(this,arguments)}var uR=function(e){return null===e||void 0===e},sR=function(e){return null!==e&&void 0!==e},cR=function(e){return"function"===typeof e},lR=function(e){return"string"===typeof e},fR=Array.isArray,hR=function(e){return e&&cR(e.then)},dR=function(e){return e&&cR(e.next)&&cR(e.throw)},pR=function e(t){return t&&(lR(t)||yR(t)||cR(t)||fR(t)&&t.every(e))},vR=function(e){return e&&cR(e.take)&&cR(e.close)},mR=function(e){return cR(e)&&e.hasOwnProperty("toString")},yR=function(e){return Boolean(e)&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype};var gR=function(e){return function(){return e}},kR=gR(!0),bR=function(){};var wR=function(e){return e};"function"===typeof Symbol&&Symbol.asyncIterator&&Symbol.asyncIterator;var xR=function(e,t){oR(e,t),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(t).forEach((function(n){e[n]=t[n]}))};function SR(e,t){var n=e.indexOf(t);n>=0&&e.splice(n,1)}var _R=function(e){throw e},ER=function(e){return{value:e,done:!0}};function IR(e,t,n){void 0===t&&(t=_R),void 0===n&&(n="iterator");var r={meta:{name:n},next:e,throw:t,return:ER,isSagaIterator:!0};return"undefined"!==typeof Symbol&&(r[Symbol.iterator]=function(){return r}),r}function TR(e,t){var n=t.sagaStack;console.error(e),console.error(n)}var CR=function(e){return Array.apply(null,new Array(e))},AR=function(e){return function(t){return e(Object.defineProperty(t,eR,{value:!0}))}},NR=function(e){return e===iR},OR=function(e){return e===rR},PR=function(e){return NR(e)||OR(e)};function DR(e,t){var n=Object.keys(e),r=n.length;var i,a=0,o=fR(e)?CR(r):{},u={};return n.forEach((function(e){var n=function(n,u){i||(u||PR(n)?(t.cancel(),t(n,u)):(o[e]=n,++a===r&&(i=!0,t(o))))};n.cancel=bR,u[e]=n})),t.cancel=function(){i||(i=!0,n.forEach((function(e){return u[e].cancel()})))},u}function RR(e){return{name:e.name||"anonymous",location:LR(e)}}function LR(e){return e[aR]}function MR(e,t){void 0===e&&(e=10);var n=new Array(e),r=0,i=0,a=0,o=function(t){n[i]=t,i=(i+1)%e,r++},u=function(){if(0!=r){var t=n[a];return n[a]=null,r--,a=(a+1)%e,t}},s=function(){for(var e=[];r;)e.push(u());return e};return{isEmpty:function(){return 0==r},put:function(u){var c;if(r<e)o(u);else switch(t){case 1:throw new Error("Channel's Buffer overflow!");case 3:n[i]=u,a=i=(i+1)%e;break;case 4:c=2*e,n=s(),r=n.length,i=n.length,a=0,n.length=c,e=c,o(u)}},take:u,flush:s}}var UR=function(e){return MR(e,4)},FR="TAKE",jR="PUT",VR="ALL",BR="CALL",zR="FORK",qR="CANCEL",HR=function(e,t){var n;return(n={})[XD]=!0,n.combinator=!1,n.type=e,n.payload=t,n};function KR(e,t){return void 0===e&&(e="*"),pR(e)?HR(FR,{pattern:e}):function(e){return vR(e)&&e[ZD]}(e)&&sR(t)&&pR(t)?HR(FR,{channel:e,pattern:t}):vR(e)?HR(FR,{channel:e}):void 0}function GR(e,t){return uR(t)&&(t=e,e=void 0),HR(jR,{channel:e,action:t})}function WR(e){var t=HR(VR,e);return t.combinator=!0,t}function YR(e,t){var n,r=null;return cR(e)?n=e:(fR(e)?(r=e[0],n=e[1]):(r=e.context,n=e.fn),r&&lR(n)&&cR(r[n])&&(n=r[n])),{context:r,fn:n,args:t}}function QR(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return HR(BR,YR(e,n))}function $R(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return HR(zR,YR(e,n))}function XR(e){return void 0===e&&(e=tR),HR(qR,e)}function JR(){var e={};return e.promise=new Promise((function(t,n){e.resolve=t,e.reject=n})),e}var ZR=JR,eL=[],tL=0;function nL(e){try{aL(),e()}finally{oL()}}function rL(e){eL.push(e),tL||(aL(),uL())}function iL(e){try{return aL(),e()}finally{uL()}}function aL(){tL++}function oL(){tL--}function uL(){var e;for(oL();!tL&&void 0!==(e=eL.shift());)nL(e)}var sL=function(e){return function(t){return e.some((function(e){return dL(e)(t)}))}},cL=function(e){return function(t){return e(t)}},lL=function(e){return function(t){return t.type===String(e)}},fL=function(e){return function(t){return t.type===e}},hL=function(){return kR};function dL(e){var t="*"===e?hL:lR(e)?lL:fR(e)?sL:mR(e)?lL:cR(e)?cL:yR(e)?fL:null;if(null===t)throw new Error("invalid pattern: "+e);return t(e)}var pL={type:$D},vL=function(e){return e&&e.type===$D};function mL(e){void 0===e&&(e=UR());var t=!1,n=[];return{take:function(r){t&&e.isEmpty()?r(pL):e.isEmpty()?(n.push(r),r.cancel=function(){SR(n,r)}):r(e.take())},put:function(r){if(!t){if(0===n.length)return e.put(r);n.shift()(r)}},flush:function(n){t&&e.isEmpty()?n(pL):n(e.flush())},close:function(){if(!t){t=!0;var e=n;n=[];for(var r=0,i=e.length;r<i;r++){(0,e[r])(pL)}}}}}function yL(){var e=function(){var e,t=!1,n=[],r=n,i=function(){r===n&&(r=n.slice())},a=function(){t=!0;var e=n=r;r=[],e.forEach((function(e){e(pL)}))};return(e={})[ZD]=!0,e.put=function(e){if(!t)if(vL(e))a();else for(var i=n=r,o=0,u=i.length;o<u;o++){var s=i[o];s[JD](e)&&(s.cancel(),s(e))}},e.take=function(e,n){void 0===n&&(n=hL),t?e(pL):(e[JD]=n,i(),r.push(e),e.cancel=function(e){var t=!1;return function(){t||(t=!0,e())}}((function(){i(),SR(r,e)})))},e.close=a,e}(),t=e.put;return e.put=function(e){e[eR]?t(e):rL((function(){t(e)}))},e}function gL(e,t){var n=e[QD];cR(n)&&(t.cancel=n),e.then(t,(function(e){t(e,!0)}))}var kL,bL=0,wL=function(){return++bL};function xL(e){e.isRunning()&&e.cancel()}var SL=((kL={}).TAKE=function(e,t,n){var r=t.channel,i=void 0===r?e.channel:r,a=t.pattern,o=t.maybe,u=function(e){e instanceof Error?n(e,!0):!vL(e)||o?n(e):n(iR)};try{i.take(u,sR(a)?dL(a):null)}catch(s){return void n(s,!0)}n.cancel=u.cancel},kL.PUT=function(e,t,n){var r=t.channel,i=t.action,a=t.resolve;rL((function(){var t;try{t=(r?r.put:e.dispatch)(i)}catch(o){return void n(o,!0)}a&&hR(t)?gL(t,n):n(t)}))},kL.ALL=function(e,t,n,r){var i=r.digestEffect,a=bL,o=Object.keys(t);if(0!==o.length){var u=DR(t,n);o.forEach((function(e){i(t[e],a,u[e],e)}))}else n(fR(t)?[]:{})},kL.RACE=function(e,t,n,r){var i=r.digestEffect,a=bL,o=Object.keys(t),u=fR(t)?CR(o.length):{},s={},c=!1;o.forEach((function(e){var t=function(t,r){c||(r||PR(t)?(n.cancel(),n(t,r)):(n.cancel(),c=!0,u[e]=t,n(u)))};t.cancel=bR,s[e]=t})),n.cancel=function(){c||(c=!0,o.forEach((function(e){return s[e].cancel()})))},o.forEach((function(e){c||i(t[e],a,s[e],e)}))},kL.CALL=function(e,t,n,r){var i=t.context,a=t.fn,o=t.args,u=r.task;try{var s=a.apply(i,o);if(hR(s))return void gL(s,n);if(dR(s))return void DL(e,s,u.context,bL,RR(a),!1,n);n(s)}catch(c){n(c,!0)}},kL.CPS=function(e,t,n){var r=t.context,i=t.fn,a=t.args;try{var o=function(e,t){uR(e)?n(t):n(e,!0)};i.apply(r,a.concat(o)),o.cancel&&(n.cancel=o.cancel)}catch(u){n(u,!0)}},kL.FORK=function(e,t,n,r){var i=t.context,a=t.fn,o=t.args,u=t.detached,s=r.task,c=function(e){var t=e.context,n=e.fn,r=e.args;try{var i=n.apply(t,r);if(dR(i))return i;var a=!1;return IR((function(e){return a?{value:e,done:!0}:(a=!0,{value:i,done:!hR(i)})}))}catch(o){return IR((function(){throw o}))}}({context:i,fn:a,args:o}),l=function(e,t){return e.isSagaIterator?{name:e.meta.name}:RR(t)}(c,a);iL((function(){var t=DL(e,c,s.context,bL,l,u,void 0);u?n(t):t.isRunning()?(s.queue.addTask(t),n(t)):t.isAborted()?s.queue.abort(t.error()):n(t)}))},kL.JOIN=function(e,t,n,r){var i=r.task,a=function(e,t){if(e.isRunning()){var n={task:i,cb:t};t.cancel=function(){e.isRunning()&&SR(e.joiners,n)},e.joiners.push(n)}else e.isAborted()?t(e.error(),!0):t(e.result())};if(fR(t)){if(0===t.length)return void n([]);var o=DR(t,n);t.forEach((function(e,t){a(e,o[t])}))}else a(t,n)},kL.CANCEL=function(e,t,n,r){var i=r.task;t===tR?xL(i):fR(t)?t.forEach(xL):xL(t),n()},kL.SELECT=function(e,t,n){var r=t.selector,i=t.args;try{n(r.apply(void 0,[e.getState()].concat(i)))}catch(a){n(a,!0)}},kL.ACTION_CHANNEL=function(e,t,n){var r=t.pattern,i=mL(t.buffer),a=dL(r),o=function t(n){vL(n)||e.channel.take(t,a),i.put(n)},u=i.close;i.close=function(){o.cancel(),u()},e.channel.take(o,a),n(i)},kL.CANCELLED=function(e,t,n,r){n(r.task.isCancelled())},kL.FLUSH=function(e,t,n){t.flush(n)},kL.GET_CONTEXT=function(e,t,n,r){n(r.task.context[t])},kL.SET_CONTEXT=function(e,t,n,r){var i=r.task;xR(i.context,t),n()},kL);function _L(e,t){return e+"?"+t}function EL(e){var t=e.name,n=e.location;return n?t+"  "+_L(n.fileName,n.lineNumber):t}function IL(e){var t=function(e,t){var n;return(n=[]).concat.apply(n,t.map(e))}((function(e){return e.cancelledTasks}),e);return t.length?["Tasks cancelled due to error:"].concat(t).join("\n"):""}var TL=null,CL=[],AL=function(e){e.crashedEffect=TL,CL.push(e)},NL=function(){TL=null,CL.length=0},OL=function(){var e=CL[0],t=CL.slice(1),n=e.crashedEffect?function(e){var t=LR(e);return t?t.code+"  "+_L(t.fileName,t.lineNumber):""}(e.crashedEffect):null;return["The above error occurred in task "+EL(e.meta)+(n?" \n when executing effect "+n:"")].concat(t.map((function(e){return"    created by "+EL(e.meta)})),[IL(CL)]).join("\n")};function PL(e,t,n,r,i,a,o){var u;void 0===o&&(o=bR);var s,c,l=0,f=null,h=[],d=Object.create(n),p=function(e,t,n){var r,i=[],a=!1;function o(e){t(),s(),n(e,!0)}function u(t){i.push(t),t.cont=function(u,s){a||(SR(i,t),t.cont=bR,s?o(u):(t===e&&(r=u),i.length||(a=!0,n(r))))}}function s(){a||(a=!0,i.forEach((function(e){e.cont=bR,e.cancel()})),i=[])}return u(e),{addTask:u,cancelAll:s,abort:o,getTasks:function(){return i}}}(t,(function(){h.push.apply(h,p.getTasks().map((function(e){return e.meta.name})))}),v);function v(t,n){if(n){if(l=2,AL({meta:i,cancelledTasks:h}),m.isRoot){var r=OL();NL(),e.onError(t,{sagaStack:r})}c=t,f&&f.reject(t)}else t===rR?l=1:1!==l&&(l=3),s=t,f&&f.resolve(t);m.cont(t,n),m.joiners.forEach((function(e){e.cb(t,n)})),m.joiners=null}var m=((u={})[nR]=!0,u.id=r,u.meta=i,u.isRoot=a,u.context=d,u.joiners=[],u.queue=p,u.cancel=function(){0===l&&(l=1,p.cancelAll(),v(rR,!1))},u.cont=o,u.end=v,u.setContext=function(e){xR(d,e)},u.toPromise=function(){return f||(f=ZR(),2===l?f.reject(c):0!==l&&f.resolve(s)),f.promise},u.isRunning=function(){return 0===l},u.isCancelled=function(){return 1===l||0===l&&1===t.status},u.isAborted=function(){return 2===l},u.result=function(){return s},u.error=function(){return c},u);return m}function DL(e,t,n,r,i,a,o){var u=e.finalizeRunEffect((function(t,n,r){if(hR(t))gL(t,r);else if(dR(t))DL(e,t,c.context,n,i,!1,r);else if(t&&t[XD]){(0,SL[t.type])(e,t.payload,r,l)}else r(t)}));f.cancel=bR;var s={meta:i,cancel:function(){0===s.status&&(s.status=1,f(rR))},status:0},c=PL(e,s,n,r,i,a,o),l={task:c,digestEffect:h};return o&&(o.cancel=c.cancel),f(),c;function f(e,n){try{var i;n?(i=t.throw(e),NL()):OR(e)?(s.status=1,f.cancel(),i=cR(t.return)?t.return(rR):{done:!0,value:rR}):i=NR(e)?cR(t.return)?t.return():{done:!0}:t.next(e),i.done?(1!==s.status&&(s.status=3),s.cont(i.value)):h(i.value,r,f)}catch(a){if(1===s.status)throw a;s.status=2,s.cont(a,!0)}}function h(t,n,r,i){void 0===i&&(i="");var a,o=wL();function s(n,i){a||(a=!0,r.cancel=bR,e.sagaMonitor&&(i?e.sagaMonitor.effectRejected(o,n):e.sagaMonitor.effectResolved(o,n)),i&&function(e){TL=e}(t),r(n,i))}e.sagaMonitor&&e.sagaMonitor.effectTriggered({effectId:o,parentEffectId:n,label:i,effect:t}),s.cancel=bR,r.cancel=function(){a||(a=!0,s.cancel(),s.cancel=bR,e.sagaMonitor&&e.sagaMonitor.effectCancelled(o))},u(t,o,s)}}function RL(e,t){var n=e.channel,r=void 0===n?yL():n,i=e.dispatch,a=e.getState,o=e.context,u=void 0===o?{}:o,s=e.sagaMonitor,c=e.effectMiddlewares,l=e.onError,f=void 0===l?TR:l;for(var h=arguments.length,d=new Array(h>2?h-2:0),p=2;p<h;p++)d[p-2]=arguments[p];var v=t.apply(void 0,d);var m,y=wL();if(s&&(s.rootSagaStarted=s.rootSagaStarted||bR,s.effectTriggered=s.effectTriggered||bR,s.effectResolved=s.effectResolved||bR,s.effectRejected=s.effectRejected||bR,s.effectCancelled=s.effectCancelled||bR,s.actionDispatched=s.actionDispatched||bR,s.rootSagaStarted({effectId:y,saga:t,args:d})),c){var g=RA.apply(void 0,c);m=function(e){return function(t,n,r){return g((function(t){return e(t,n,r)}))(t)}}}else m=wR;var k={channel:r,dispatch:AR(i),getState:a,sagaMonitor:s,onError:f,finalizeRunEffect:m};return iL((function(){var e=DL(k,v,u,y,RR(t),!0,void 0);return s&&s.effectResolved(y,e),e}))}var LL=function(e){var t,n=void 0===e?{}:e,r=n.context,i=void 0===r?{}:r,a=n.channel,o=void 0===a?yL():a,u=n.sagaMonitor,s=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(n,["context","channel","sagaMonitor"]);function c(e){var n=e.getState,r=e.dispatch;return t=RL.bind(null,oR({},s,{context:i,channel:o,dispatch:r,getState:n,sagaMonitor:u})),function(e){return function(t){u&&u.actionDispatched&&u.actionDispatched(t);var n=e(t);return o.put(t),n}}}return c.run=function(){return t.apply(void 0,arguments)},c.setContext=function(e){xR(i,e)},c},ML=LL,UL=function(e){return{done:!0,value:e}},FL={};function jL(e){return vR(e)?"channel":mR(e)?String(e):cR(e)?e.name:String(e)}function VL(e,t,n){var r,i,a,o=t;function u(t,n){if(o===FL)return UL(t);if(n&&!i)throw o=FL,n;r&&r(t);var u=n?e[i](n):e[o]();return o=u.nextState,a=u.effect,r=u.stateUpdater,i=u.errorState,o===FL?UL(t):a}return IR(u,(function(e){return u(null,e)}),n)}function BL(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];var a,o,u={done:!1,value:KR(e)},s=function(e){return{done:!1,value:$R.apply(void 0,[t].concat(r,[e]))}},c=function(e){return{done:!1,value:XR(e)}},l=function(e){return a=e},f=function(e){return o=e};return VL({q1:function(){return{nextState:"q2",effect:u,stateUpdater:f}},q2:function(){return a?{nextState:"q3",effect:c(a)}:{nextState:"q1",effect:s(o),stateUpdater:l}},q3:function(){return{nextState:"q1",effect:s(o),stateUpdater:l}}},"q1","takeLatest("+jL(e)+", "+t.name+")")}function zL(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];return $R.apply(void 0,[BL,e,t].concat(r))}var qL=Sr().mark(GL),HL=Sr().mark(WL),KL=Sr().mark(YL);function GL(){var e,t,n,r;return Sr().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,console.log("Fetching Circuits from database...");case 2:return i.prev=2,e=_A.collection("Circuits"),i.next=6,e.get();case 6:return t=i.sent,i.next=9,QR(xA,t);case 9:return n=i.sent,(r=Object.values(n)).sort((function(e,t){return e.round>t.round?1:-1})),i.next=14,GR(IA(r));case 14:i.next=20;break;case 16:return i.prev=16,i.t0=i.catch(2),i.next=20,GR((a=i.t0.message,{type:kr.FETCH_COLLECTIONS_FAILURE,payload:a}));case 20:case"end":return i.stop()}var a}),qL,null,[[2,16]])}function WL(){return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,zL(kr.FETCH_COLLECTIONS_START,GL);case 2:case"end":return e.stop()}}),HL)}function YL(){return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,WR([QR(WL)]);case 2:case"end":return e.stop()}}),KL)}var QL=Sr().mark(oM),$L=Sr().mark(uM),XL=Sr().mark(sM),JL=Sr().mark(cM),ZL=Sr().mark(lM),eM=Sr().mark(fM),tM=Sr().mark(hM),nM=Sr().mark(dM),rM=Sr().mark(pM),iM=Sr().mark(vM),aM=Sr().mark(mM);function oM(e){var t,n;return Sr().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,QR(kA,e);case 3:return t=r.sent,r.next=6,t.get();case 6:return n=r.sent,r.next=9,GR((i=bt({id:n.id},n.data()),{type:rO.SIGN_IN_SUCCESS,payload:i}));case 9:r.next=15;break;case 11:return r.prev=11,r.t0=r.catch(0),r.next=15,GR(iO(r.t0));case 15:case"end":return r.stop()}var i}),QL,null,[[0,11]])}function uM(){var e,t;return Sr().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,SA.signInWithPopup(EA);case 3:return e=n.sent,t=e.user,n.next=7,oM(t);case 7:n.next=13;break;case 9:return n.prev=9,n.t0=n.catch(0),n.next=13,GR(iO(n.t0));case 13:case"end":return n.stop()}}),$L,null,[[0,9]])}function sM(e){var t,n,r,i,a;return Sr().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return t=e.payload,n=t.email,r=t.password,o.prev=1,o.next=4,SA.signInWithEmailAndPassword(n,r);case 4:return i=o.sent,a=i.user,o.next=8,oM(a);case 8:o.next=14;break;case 10:return o.prev=10,o.t0=o.catch(1),o.next=14,GR(iO(o.t0));case 14:case"end":return o.stop()}}),XL,null,[[1,10]])}function cM(){var e;return Sr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,new Promise((function(e,t){var n=SA.onAuthStateChanged((function(t){n(),e(t)}),t)}));case 3:if(e=t.sent){t.next=6;break}return t.abrupt("return");case 6:return t.next=8,oM(e);case 8:t.next=14;break;case 10:return t.prev=10,t.t0=t.catch(0),t.next=14,GR(iO(t.t0));case 14:case"end":return t.stop()}}),JL,null,[[0,10]])}function lM(){return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,SA.signOut();case 3:return e.next=5,GR({type:rO.SIGN_OUT_SUCCESS});case 5:e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(0),e.next=11,GR((t=e.t0,{type:rO.SIGN_OUT_SUCCESS,payload:t}));case 11:case"end":return e.stop()}var t}),ZL,null,[[0,7]])}function fM(e){var t,n,r,i,a,o;return Sr().wrap((function(u){for(;;)switch(u.prev=u.next){case 0:return t=e.payload,n=t.displayName,r=t.email,i=t.password,u.prev=1,u.next=4,SA.createUserWithEmailAndPassword(r,i);case 4:return a=u.sent,o=a.user,u.next=8,QR(kA,o,{displayName:n});case 8:return u.next=10,GR(aO({email:r,password:i}));case 10:u.next=16;break;case 12:return u.prev=12,u.t0=u.catch(1),u.next=16,GR((s=u.t0,{type:rO.SIGN_UP_FAILURE,payload:s}));case 16:case"end":return u.stop()}var s}),eM,null,[[1,12]])}function hM(){return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,zL(rO.GOOGLE_SIGN_IN_START,uM);case 2:case"end":return e.stop()}}),tM)}function dM(){return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,zL(rO.EMAIL_SIGN_IN_START,sM);case 2:case"end":return e.stop()}}),nM)}function pM(){return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,zL(rO.SIGN_OUT_START,lM);case 2:case"end":return e.stop()}}),rM)}function vM(){return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,zL(rO.SIGN_UP_START,fM);case 2:case"end":return e.stop()}}),iM)}function mM(){return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,WR([QR(hM),QR(dM),QR(cM),QR(pM),QR(vM)]);case 2:case"end":return e.stop()}}),aM)}var yM=Sr().mark(bM),gM=Sr().mark(wM),kM=Sr().mark(xM);function bM(){return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,GR({type:fN});case 2:case"end":return e.stop()}}),yM)}function wM(){return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,zL(rO.SIGN_OUT_SUCCESS,bM);case 2:case"end":return e.stop()}}),gM)}function xM(){return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,WR([QR(wM)]);case 2:case"end":return e.stop()}}),kM)}var SM=Sr().mark(_M);function _M(){return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,WR([QR(YL),QR(mM),QR(xM)]);case 2:case"end":return e.stop()}}),SM)}var EM={currentUser:null,error:null},IM=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:EM,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case rO.SIGN_IN_SUCCESS:return bA().then((function(e){e?FM.dispatch(vN(e)):console.log("Could not load cart OR is empty!")})),bt(bt({},e),{},{currentUser:t.payload,error:null});case rO.SIGN_OUT_SUCCESS:return bt(bt({},e),{},{currentUser:null,error:null});case rO.SIGN_UP_FAILURE:case rO.SIGN_OUT_FAILURE:case rO.SIGN_IN_FAILURE:return(t.payload.code.includes("user-not-found")||t.payload.code.includes("wrong-password"))&&alert("Wrong Email or Password! Please try again or register!"),bt(bt({},e),{},{error:t.payload});default:return e}},TM=function(e,t){return e.find((function(e){return e.type===t.type}))?e.map((function(e){return e.type===t.type?bt(bt({},e),{},{quantity:e.quantity+1}):e})):[]},CM=function(e,t){return 1===e.find((function(e){return e.type===t.type})).quantity?e.filter((function(e){return e.type!==t.type})):e.map((function(e){return e.type===t.type?bt(bt({},e),{},{quantity:e.quantity-1}):e}))},AM={hidden:!0,cartItems:[]},NM=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:AM,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case hN:return bt(bt({},e),{},{cartItems:t.payload});case uN:return bt(bt({},e),{},{hidden:!e.hidden});case sN:return wA({type:t.payload.type,interval:t.payload.interval,url:t.payload.url,price:t.payload.price,quantity:1}).then((function(){bA().then((function(e){e?FM.dispatch(vN(e)):console.log("Could not load cart OR is empty!")}))})),bt(bt({},e),{},{cartItems:TM(e.cartItems,t.payload)});case lN:return wA({type:t.payload.type,quantity:0}),bt(bt({},e),{},{cartItems:e.cartItems.filter((function(e){return e.type!==t.payload.type}))});case fN:return bt(bt({},e),{},{cartItems:[]});case cN:return wA({type:t.payload.type,interval:t.payload.interval,url:t.payload.url,price:t.payload.price,quantity:-1}),bt(bt({},e),{},{cartItems:CM(e.cartItems,t.payload)});default:return e}},OM={sections:[{title:"TO BE MODIFIED",imageUrl:fO,id:1,linkUrl:"shop/hats"},{title:"TO BE MODIFIED",imageUrl:fO,id:2,linkUrl:"shop/jackets"},{title:"TO BE MODIFIED",imageUrl:fO,id:3,linkUrl:"shop/sneakers"},{title:"TO BE MODIFIED",imageUrl:fO,size:"large",id:4,linkUrl:"shop/womens"},{title:"TO BE MODIFIED",imageUrl:fO,size:"large",id:5,linkUrl:"shop/mens"}]},PM=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:OM,t=arguments.length>1?arguments[1]:void 0;return t.type,e},DM={collections:{circuits:[{circuitId:"albert_park",url:"https://www.formula1.com/content/dam/fom-website/2018-redesign-assets/Circuit%20maps%2016x9/Australia_Circuit.png.transform/7col/image.png",CircuitName:"Albert Park Grand Prix Circuit",Locality:"Melbourne",Country:"Australia",round:3,packages:[{name:"HERO_1",period:"THURSDAY - SUNDAY",price:1},{name:"Champions Club 3-Days - 1",period:"FRIDAY - SUNDAY",price:11}]},{circuitId:"americas",url:"https://www.formula1.com/content/dam/fom-website/2018-redesign-assets/Circuit%20maps%2016x9/USA_Circuit.png.transform/7col/image.png",CircuitName:"Circuit of the Americas",Locality:"Austin",Country:"USA",round:19,packages:[{name:"HERO_2",period:"THURSDAY - SUNDAY",price:2},{name:"Champions Club 3-Days - 2",period:"FRIDAY - SUNDAY",price:12}]},{circuitId:"bahrain",url:"https://www.formula1.com/content/dam/fom-website/2018-redesign-assets/Circuit%20maps%2016x9/Bahrain_Circuit.png.transform/9col/image.png",CircuitName:"Bahrain International Circuit",Locality:"Sakhir",Country:"Bahrain",round:1,packages:[{name:"HERO_3",period:"THURSDAY - SUNDAY",price:3},{name:"Champions Club 3-Days - 3",period:"FRIDAY - SUNDAY",price:13}]},{circuitId:"baku",url:"https://www.formula1.com/content/dam/fom-website/2018-redesign-assets/Circuit%20maps%2016x9/Baku_Circuit.png.transform/7col/image.png",CircuitName:"Baku City Circuit",Locality:"Baku",Country:"Azerbaijan",round:8,packages:[{name:"HERO_4",period:"THURSDAY - SUNDAY",price:4},{name:"Champions Club 3-Days - 4",period:"FRIDAY - SUNDAY",price:14}]},{circuitId:"catalunya",url:"https://www.formula1.com/content/dam/fom-website/2018-redesign-assets/Circuit%20maps%2016x9/Spain_Circuit.png.transform/7col/image.png",CircuitName:"Circuit de Barcelona-Catalunya",Locality:"Montmel\xf3",Country:"Spain",round:6,packages:[{name:"HERO_5",period:"THURSDAY - SUNDAY",price:5},{name:"Champions Club 3-Days - 5",period:"FRIDAY - SUNDAY",price:15}]},{circuitId:"hungaroring",url:"https://www.formula1.com/content/dam/fom-website/2018-redesign-assets/Circuit%20maps%2016x9/Hungary_Circuit.png.transform/7col/image.png",CircuitName:"Hungaroring",Locality:"Budapest",Country:"Hungary",round:13,packages:[{name:"HERO_6",period:"THURSDAY - SUNDAY",price:6},{name:"Champions Club 3-Days - 6",period:"FRIDAY - SUNDAY",price:16}]},{circuitId:"imola",url:"https://www.formula1.com/content/dam/fom-website/2018-redesign-assets/Circuit%20maps%2016x9/Emilia_Romagna_Circuit.png.transform/7col/image.png",CircuitName:"Autodromo Enzo e Dino Ferrari",Locality:"Imola",Country:"Italy",round:4,packages:[{name:"HERO_7",period:"THURSDAY - SUNDAY",price:7},{name:"Champions Club 3-Days - 7",period:"FRIDAY - SUNDAY",price:17}]},{circuitId:"interlagos",url:"https://www.formula1.com/content/dam/fom-website/2018-redesign-assets/Circuit%20maps%2016x9/Brazil_Circuit.png.transform/7col/image.png",CircuitName:"Aut\xf3dromo Jos\xe9 Carlos Pace",Locality:"S\xe3o Paulo",Country:"Brazil",round:21,packages:[{name:"HERO_8",period:"THURSDAY - SUNDAY",price:8},{name:"Champions Club 3-Days - 8",period:"FRIDAY - SUNDAY",price:18}]},{circuitId:"jeddah",url:"https://www.formula1.com/content/dam/fom-website/2018-redesign-assets/Circuit%20maps%2016x9/Saudi_Arabia_Circuit.png.transform/7col/image.png",CircuitName:"Jeddah Corniche Circuit",Locality:"Jeddah",Country:"Saudi Arabia",round:2,packages:[{name:"HERO_9",period:"THURSDAY - SUNDAY",price:9},{name:"Champions Club 3-Days - 9",period:"FRIDAY - SUNDAY",price:19}]},{circuitId:"marina_bay",url:"https://www.formula1.com/content/dam/fom-website/manual/races/Singapore/singapore_track.png.transform/7col/image.png",CircuitName:"Marina Bay Street Circuit",Locality:"Marina Bay",Country:"Singapore",round:17,packages:[{name:"HERO_10",period:"THURSDAY - SUNDAY",price:10},{name:"Champions Club 3-Days - 10",period:"FRIDAY - SUNDAY",price:20}]},{circuitId:"miami",url:"https://www.formula1.com/content/dam/fom-website/2018-redesign-assets/Circuit%20maps%2016x9/Miami_Circuit.png.transform/7col/image.png",CircuitName:"Miami International Autodrome",Locality:"Miami",Country:"USA",round:5,packages:[{name:"HERO_11",period:"THURSDAY - SUNDAY",price:11},{name:"Champions Club 3-Days - 11",period:"FRIDAY - SUNDAY",price:21}]},{circuitId:"monaco",url:"https://www.formula1.com/content/dam/fom-website/2018-redesign-assets/Circuit%20maps%2016x9/Monoco_Circuit.png.transform/7col/image.png",CircuitName:"Circuit de Monaco",Locality:"Monte-Carlo",Country:"Monaco",round:7,packages:[{name:"HERO_12",period:"THURSDAY - SUNDAY",price:12},{name:"Champions Club 3-Days - 12",period:"FRIDAY - SUNDAY",price:22}]},{circuitId:"monza",url:"https://www.formula1.com/content/dam/fom-website/2018-redesign-assets/Circuit%20maps%2016x9/Italy_Circuit.png.transform/7col/image.png",CircuitName:"Autodromo Nazionale di Monza",Locality:"Monza",Country:"Italy",round:16,packages:[{name:"HERO_13",period:"THURSDAY - SUNDAY",price:13},{name:"Champions Club 3-Days - 13",period:"FRIDAY - SUNDAY",price:23}]},{circuitId:"red_bull_ring",url:"https://www.formula1.com/content/dam/fom-website/2018-redesign-assets/Circuit%20maps%2016x9/Austria_Circuit.png.transform/7col/image.png",CircuitName:"Red Bull Ring",Locality:"Spielberg",Country:"Austria",round:11,packages:[{name:"HERO_14",period:"THURSDAY - SUNDAY",price:14},{name:"Champions Club 3-Days - 14",period:"FRIDAY - SUNDAY",price:24}]},{circuitId:"ricard",url:"https://www.formula1.com/content/dam/fom-website/2018-redesign-assets/Circuit%20maps%2016x9/France_Circuit.png.transform/7col/image.png",CircuitName:"Circuit Paul Ricard",Locality:"Le Castellet",Country:"France",round:12,packages:[{name:"HERO_15",period:"THURSDAY - SUNDAY",price:15},{name:"Champions Club 3-Days - 15",period:"FRIDAY - SUNDAY",price:25}]},{circuitId:"rodriguez",url:"https://www.formula1.com/content/dam/fom-website/2018-redesign-assets/Circuit%20maps%2016x9/Mexico_Circuit.png.transform/7col/image.png",CircuitName:"Aut\xf3dromo Hermanos Rodr\xedguez",Locality:"Mexico City",Country:"Mexico",round:20,packages:[{name:"HERO_16",period:"THURSDAY - SUNDAY",price:16},{name:"Champions Club 3-Days - 16",period:"FRIDAY - SUNDAY",price:26}]},{circuitId:"silverstone",url:"https://www.formula1.com/content/dam/fom-website/2018-redesign-assets/Circuit%20maps%2016x9/Great_Britain_Circuit.png.transform/7col/image.png",CircuitName:"Silverstone Circuit",Locality:"Silverstone",Country:"UK",round:10,packages:[{name:"HERO_17",period:"THURSDAY - SUNDAY",price:17},{name:"Champions Club 3-Days - 17",period:"FRIDAY - SUNDAY",price:27}]},{circuitId:"spa",url:"https://www.formula1.com/content/dam/fom-website/2018-redesign-assets/Circuit%20maps%2016x9/Belgium_Circuit.png.transform/7col/image.png",CircuitName:"Circuit de Spa-Francorchamps",Locality:"Spa",Country:"Belgium",round:14,packages:[{name:"HERO_18",period:"THURSDAY - SUNDAY",price:18},{name:"Champions Club 3-Days - 18",period:"FRIDAY - SUNDAY",price:28}]},{circuitId:"suzuka",url:"https://www.formula1.com/content/dam/fom-website/2018-redesign-assets/Circuit%20maps%2016x9/Japan_Circuit.png.transform/7col/image.png",CircuitName:"Suzuka Circuit",Locality:"Suzuka",Country:"Japan",round:18,packages:[{name:"HERO_19",period:"THURSDAY - SUNDAY",price:19},{name:"Champions Club 3-Days - 19",period:"FRIDAY - SUNDAY",price:29}]},{circuitId:"villeneuve",url:"https://www.formula1.com/content/dam/fom-website/2018-redesign-assets/Circuit%20maps%2016x9/Canada_Circuit.png.transform/7col/image.png",CircuitName:"Circuit Gilles Villeneuve",Locality:"Montreal",Country:"Canada",round:9,packages:[{name:"HERO_20",period:"THURSDAY - SUNDAY",price:20},{name:"Champions Club 3-Days - 20",period:"FRIDAY - SUNDAY",price:30}]},{circuitId:"yas_marina",url:"https://www.formula1.com/content/dam/fom-website/2018-redesign-assets/Circuit%20maps%2016x9/Abu_Dhabi_Circuit.png.transform/7col/image.png",CircuitName:"Yas Marina Circuit",Locality:"Abu Dhabi",Country:"UAE",round:22,packages:[{name:"HERO_21",period:"THURSDAY - SUNDAY",price:21},{name:"Champions Club 3-Days - 21",period:"FRIDAY - SUNDAY",price:31}]},{circuitId:"zandvoort",url:"https://www.formula1.com/content/dam/fom-website/2018-redesign-assets/Circuit%20maps%2016x9/Netherlands_Circuit.png.transform/7col/image.png",CircuitName:" Circuit Park Zandvoort",Locality:"Zandvoort",Country:"Netherlands",round:15,packages:[{name:"HERO_22",period:"THURSDAY - SUNDAY",price:22},{name:"Champions Club 3-Days - 22",period:"FRIDAY - SUNDAY",price:32}]}]},isFetching:!1,errorMessage:void 0},RM=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:DM,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case kr.FETCH_COLLECTIONS_START:return bt(bt({},e),{},{isFetching:!0});case kr.FETCH_COLLECTIONS_SUCCESS:return bt(bt({},e),{},{isFetching:!1,collections:t.payload});case kr.FETCH_COLLECTIONS_FAILURE:return bt(bt({},e),{},{isFetching:!1,errorMessage:t.payload});default:return e}},LM=VD({key:"root",storage:WD.Z,whitelist:["cart"]},DA({user:IM,cart:NM,directory:PM,shop:RM})),MM=VD({key:"root",storage:WD.Z},LM),UM=ML();var FM=function(e){var t,n=cD(),r=e||{},i=r.reducer,a=void 0===i?void 0:i,o=r.middleware,u=void 0===o?n():o,s=r.devTools,c=void 0===s||s,l=r.preloadedState,f=void 0===l?void 0:l,h=r.enhancers,d=void 0===h?void 0:h;if("function"===typeof a)t=a;else{if(!uD(a))throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');t=DA(a)}var p=u;"function"===typeof p&&(p=p(n));var v=LA.apply(void 0,p),m=RA;c&&(m=oD(rD({trace:!1},"object"===typeof c&&c)));var y=[v];return Array.isArray(d)?y=QP([v],d):"function"===typeof d&&(y=d(y)),PA(t,f,m.apply(void 0,y))}({reducer:MM,middleware:[UM]});UM.run(_M);var jM=function(e,t,n){var r=n||!1,i=PA(GD,KD,t&&t.enhancer?t.enhancer:void 0),a=function(e){i.dispatch({type:ID,key:e})},o=function(t,n,a){var o={type:xD,payload:n,err:a,key:t};e.dispatch(o),i.dispatch(o),r&&u.getState().bootstrapped&&(r(),r=!1)},u=qD({},i,{purge:function(){var t=[];return e.dispatch({type:ED,result:function(e){t.push(e)}}),Promise.all(t)},flush:function(){var t=[];return e.dispatch({type:wD,result:function(e){t.push(e)}}),Promise.all(t)},pause:function(){e.dispatch({type:SD})},persist:function(){e.dispatch({type:_D,register:a,rehydrate:o})}});return t&&t.manualPersist||u.persist(),u}(FM);LO.s(document.getElementById("root")).render((0,St.jsx)(ct,{store:FM,children:(0,St.jsx)(hO,{basename:"/F1_Ticket_Manager",children:(0,St.jsx)(HO,{persistor:jM,children:(0,St.jsx)(RO,{})})})}))}()}();
//# sourceMappingURL=main.49e154f7.js.map